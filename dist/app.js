(() => {
  var __defProp = Object.defineProperty;
  var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
  var __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);

  // src/data/project-data.json
  var project_data_default = {
    "loreal-final-copy": {
      client: "L'Or\xE9al Paris",
      title: "The Final Copy of Ilon Specht",
      truth: "Women have inherent worth and deserve to be seen, heard, and valued.",
      truthWellTold: "Because You're Worth It",
      description: `Fifty years after "Because I'm Worth It" was written, its meaning had become eroded by time. What began as a statement of rebellion had softened into a tagline \u2014 spoken everywhere but rarely felt. Our idea was not to reinterpret it, but to reclaim it. We did so by going back to where the line began, to Ilon Specht, the young McCann copywriter who fought so hard to bring those words to life. We worked with two-time Oscar-winning filmmaker Ben Proudfoot to capture Specht, now in her senior years and facing a terminal illness, in her New York apartment. She reflects on making the original ad at a time when so many forces were working against her, and, all throughout, her fire and unfiltered voice come to life: sharp, defiant and unapologetic. No brand messaging. No product shots. Just truth. The ultimate embodiment of "I'm worth it." We gave Ilon Specht back her words and her authorship. We didn't modernize her line. We reminded the world of its original power, and the world listened.`,
      impact: "More than 75% of people who saw the film reported that it changed their perception of the brand",
      vimeoId: "1135350579",
      vimeoPreviewId: "1135324224",
      awards: [
        { type: "cannes", label: "Grand Prix (Film), Gold Lion (Entertainment) Silver Lions (Entertainment, PR) Bronze Lion (Film Craft), Brand Content Awards \u2014 Grand Prix" },
        { type: "gerety", label: "Grand Prix" },
        { type: "ciclope", label: "Grand Prix" },
        { type: "clubdesda", label: "Grand Prix" }
      ]
    },
    "mastercard-abracadabra": {
      client: "Mastercard",
      title: "Abracadabra: From Fan to Featured",
      truth: "Music fans want to live their passion, not just listen to it.",
      truthWellTold: "From Fan to Featured",
      description: "Gen Z doesn't just watch culture, they make it. So Mastercard turned Lady Gaga's music video into a fan-powered audition, with choreography by Parris Goebel, creators leading the charge, and Gaga amplifying every step. We partnered with viral dance creators to teach the moves, model participation, and rally their communities. Mastercard and Gaga fueled the movement by liking, reposting, and celebrating fans across platforms. The strategy was rooted in Gen Z's desire for self-expression and social connection \u2014 turning fan behavior into the engine of engagement. The result: 1.4 billion views, TikTok's top branded hashtag, and Mastercard's biggest-ever Gen Z brand lift.",
      impact: "Mastercard's biggest-ever Gen Z brand lift",
      vimeoId: "1130327297",
      vimeoPreviewId: "1135324254",
      awards: [
        { type: "cannes", label: "Gold Lion (Entertainment), Bronze Lion (Social & Creator)" },
        { type: "nyt", label: "Grand (Branded Content) Gold (Collaboration, Branded Content) Silver (Activation & Engagement)" },
        { type: "lia", label: "Silver (Branded Entertainment, Online Film) Bronze (Digital)" }
      ]
    },
    "xbox-everyday-tactician": {
      client: "Xbox",
      title: "The Everyday Tactician",
      truth: "Football Manager gamers don't just play the game, they study it.",
      truthWellTold: "Xbox turned game intelligence into real-world influence",
      description: "Modern football is dominated by a few rich clubs that can afford to hire big teams of coaches and analysts, which means smaller clubs struggle to compete for talent. For the launch of Football Manager 24 \u2014 the most realistic football simulator \u2014 Xbox helped the small club Bromley FC recruit their next tactician from an untapped talent pool: gamers. The announcement made headlines everywhere, and people from around the world applied. Nathan Owolabi, a dedicated Football Manager player, got the job. He used data from the game to help the club win in the real world, developing formations, finding new strategies, and uncovering the opposition's weaknesses. The story of this unusual approach to football was told in a 60+ minute documentary on TNT Sports \u2014 the UK's biggest sports broadcaster. With the help of a gamer, the club achieved its best season in its 132-year history, ultimately gaining promotion to League Two for the first time ever. Xbox saw a dramatic increase in Football Manager players on console, and Football Manager 24 became the most-played game in the history of the franchise.",
      impact: "190% increase in Xbox players for Football Manager 24, which became the most-played game in the history of the franchise",
      vimeoId: "1130327360",
      vimeoPreviewId: "1135324285",
      awards: [
        { type: "cannes", label: "Titanium Lion, Grand Prix (Direct), Silver Lion (Entertainment for Sport), Gold Lion (Creative Effectiveness)" },
        { type: "theoneshow", label: "Best of Discipline (PR, Gaming)" },
        { type: "clios", label: "Grand Clio" },
        { type: "dandad", label: "Yellow Pencil" }
      ]
    },
    "chevrolet-100-years": {
      client: "Chevrolet",
      title: "100 Years of Chevrolet",
      truth: "The future is born out of the past. Every Chevrolet that's carried us along the way continues to drive us forward.",
      truthWellTold: "For 100 years, always driving toward the future",
      description: "Chevrolet celebrated 100 years in Brazil with a 360\xBA campaign that revisited defining moments in the nation's history. In the hero film, from the rise of industry to women's right to vote, from the dream of a new capital to the return of democracy, from World Cup celebrations to reconnection after the pandemic, each scene was chosen to reflect the country's progress and the brand's enduring presence throughout. The story is told through immersive cinematography, 3D transitions, and iconic vehicles that act as portals through time. Every frame was carefully crafted, combining historical accuracy with emotional depth. Narrated by Fernanda Torres, one of Brazil's most celebrated actresses, the film aired nationally on Chevrolet's 100th anniversary. More than a celebration, it became a statement about memory, progress, and connection, reminding Brazilians that Chevrolet has not just been a car brand, but a part of their country's journey.",
      impact: "#1 position in brand consideration \u2014 6 p.p. ahead of 2nd place and 9 p.p. ahead of 3rd. #1 position in engagement across the category, with 44\xD7 more interactions than the brand's overall average. 470,000 real experiences delivered through the Spotify activation. Strongest Brand Power in the industry in Brazil's automotive industry during the period.",
      vimeoId: "1130337601",
      vimeoPreviewId: "1135324304",
      awards: [
        { type: "clios", label: "Silver (Film Craft)" }
      ]
    },
    "mastercard-inclusive-by-design": {
      client: "Mastercard",
      title: "Inclusive by Design",
      truth: "An inclusive global financial system is good for humanity and business.",
      truthWellTold: "Doing well by doing good.",
      description: `When Mastercard and McCann debuted "Priceless" in 1997, the campaign captured people's hearts with a breakthrough idea: in a world of conspicuous consumption, what really matters are the things that money can't buy \u2014 like taking your child to their first game at the ballpark. Mastercard and McCann realized that to continue to deliver on "Priceless," the brand platform could not ignore the 1.4 billion people globally excluded from the financial system due to discrimination, exploitation, and more. With financial inclusion now central to Mastercard's brand purpose, "Priceless" has evolved beyond messaging into groundbreaking product innovations, tools, and platforms. Among them: the "True Name" card, allowing transgender individuals to have their real names inscribed on their credit cards; the "Touch Card" system that lets sight-impaired consumers to distinguish their credit, debit, and pre-paid cards by touch; the "Where to Settle" tool that helps Ukrainian refugees in Poland find the ideal areas to make their new homes; the "Where to Start" tool that helps create a symbiotic financial ecosystem between resettled Ukrainian refugees and their Polish neighbors; and the new "Life Donor Card" and "ATM Voting" projects, which have turned millions of users into organ donors and helped citizens decide how the government uses their money, respectively.`,
      impact: "+89% increase in brand value since 2018",
      vimeoId: "1130338763",
      vimeoPreviewId: "1135324336",
      awards: []
    },
    "puck-recipe-for-change": {
      client: "Puck",
      title: "Recipe for Change",
      truth: "Cultural knowledge is economic power.",
      truthWellTold: "From local kitchens to global restaurant tables",
      description: `As Lebanon faced one of the worst economic and humanitarian crises in modern history, traditional aid models and retail logistics collapsed, leaving displaced women with no income and limited support. Puck, a trusted Middle Eastern dairy brand, saw an opportunity in what remained: the women's family recipes, passed down for generations. "Recipe for Change" transformed these cultural heirlooms into intellectual property by licensing the recipes to Lebanese and fusion restaurants around the world. Each dish sold generated income, with 50% of profits going directly to the women behind them. The strategy reframed these women not as victims, but as business partners, restoring dignity and agency. Launched during Ramadan, a time rooted in generosity, the campaign created a scalable B2B2C model that connected communities across borders. It not only supported displaced women but also drove new revenue for restaurants and redefined how brands can build equity, empathy, and economic impact during crisis.`,
      impact: "+16.67% profit increase, +56% rise in footfall for participating restaurants, +807.12% revenue for the women behind the recipes",
      vimeoId: "1130327170",
      vimeoPreviewId: "1135324532",
      awards: [
        { type: "cannes", label: "Gold Lion (Sustainable Development Goals), Silver Lion (Brand Experience & Activation) Bronze Lion (Creative B2B)" },
        { type: "lia", label: "Grand LIA, Gold (Sustainability) Bronze (Transformative Business Impact, Brand Purpose)" }
      ]
    },
    "kids-help-phone": {
      client: "Kids Help Phone",
      title: "Help",
      truth: 'Adults define "help" as something youth only need in crisis.',
      truthWellTold: "Help means everything",
      description: `"Help" is a powerful film, marking the next chapter of Kids Help Phone's Feel Out Loud platform. The film reimagines The Beatles' "Help!" to explore what "help" truly means to young people today \u2014 from everyday struggles to urgent crises. Blending live action, CGI, and emotional metaphor, it visualizes real youth experiences drawn from over 50 million data points that have been aggregated and anonymized from real conversations with youth.`,
      impact: "In 2023, 49% of youth said that without KHP, they would have ignored their issue entirely \u2014 a major barrier to positive mental health outcomes.",
      vimeoId: "1130327957",
      vimeoPreviewId: "1135324368",
      awards: []
    },
    "aldi-kevin-carrot": {
      client: "ALDI",
      title: "Kevin the Carrot's Christmas Mission",
      truth: "Living well everyday isn't about spending more but enjoying more. Because having the best Christmas possible should be something everyone can afford to have, not just dream about.",
      truthWellTold: "Have a Cracking Christmas with Aldi",
      description: 'In a festive campaign, a snowy Christmas Eve village loses its sparkle when Dr. Humbug and her crew steal the "Christmas Spirit." Santa calls on Kevin the Carrot to save the day, sending him on a daring mission to infiltrate Humbug Headquarters. With clever disguises, his wife Katie, and a few comedic close calls, Kevin works to restore joy to the village. The story ends with the humbugs learning that "Christmas is better when goodwill is returned."',
      impact: `The ad achieved the highest possible 5.9-star rating in System1's analysis for both short and long-term effects (the sixth consecutive year Aldi's Christmas campaign had scored the highest in the rankings). Kevin was also named the UK's favourite Christmas ad of all time, and Aldi's reported a 3.4% increase in total sales in 2024, the brand's "best Christmas ever."`,
      vimeoId: "1130327081",
      vimeoPreviewId: "1135324387",
      awards: []
    },
    "xbox-cheeky-controller": {
      client: "Xbox",
      title: "Cheeky Controller",
      truth: "Irreverence is Deadpool's true superpower.",
      truthWellTold: "Deadpool's greatest asset is his\u2026",
      description: `The highly anticipated theatrical release of Marvel Studios' "Deadpool & Wolverine" was an unmissable pop culture moment, and Xbox aimed to capture the attention of the movie's fanbase alongside other brands vying for consumer engagement. By authentically blending Xbox's technological edge with Deadpool's irreverent humor, we created a culturally iconic retail promotion with a competition at its core. Rather than rely on predictable character assets, we launched The Cheeky Controller \u2014 a limited-edition collectible modeled after Deadpool's most talked-about body part \u2014 as an exclusive prize in a global sweepstakes. This unexpected twist on character merchandising not only ignited fan frenzy and drove massive earned media, it also deepened brand engagement and delivered a 25% sales uplift on the Microsoft Store, proving the power of bold retail ideas to cut through.`,
      impact: "+25% sales increase on the Microsoft Store",
      vimeoId: "000000000",
      vimeoPreviewId: "1135324421",
      awards: [
        { type: "cannes", label: "Bronze Lion (Entertainment)" },
        { type: "andy", label: "Gold (Idea)" },
        { type: "theoneshow", label: "Bronze Pencil" },
        { type: "gerety", label: "Gold (Humour, Entertainment)" },
        { type: "dandad", label: "Wood Pencil" }
      ]
    },
    "mcdonalds-not-first-dates": {
      client: "McDonald's",
      title: "Not for First Dates",
      truth: "While McDonald's may not mark the beginning of love, it often becomes part of love's journey \u2014 for second dates, late-night comfort, and everyday rituals.",
      truthWellTold: "Not for first dates. But for every other one.",
      description: `By embracing a viral moment that its restaurant "wasn't for first dates," McDonald's reignited emotional connection with the audience by celebrating second, fifth, and forever dates through intimate, honest storytelling.`,
      impact: "",
      vimeoId: "4194cb55da",
      vimeoPreviewId: "1135324485",
      awards: [
        { type: "cannes", label: "Bronze Lion, Outdoor" }
      ]
    },
    "just-eat-did-somebody-say": {
      client: "Just Eat",
      title: "Did Somebody Say",
      truth: "Getting what you want, when you want it, is modern life's greatest joy.",
      truthWellTold: "Did Somebody Say",
      description: `Just Eat UK&I and McCann London launched a fresh take on the iconic "Did Somebody Say" campaign, starring UK garage legend Craig David. Celebrating neighbourhoods and community spirit, the new campaign brings a distinctly local "flava" to the platform. Craig David's garage-inspired remix of the famous jingle soundtracks a lively journey through "Impossible Street," showcasing diverse households and the many ways Just Eat serves everyday moments \u2014 from cosy takeaways to last-minute groceries. Directed by Romain Chassaing, the campaign spans TV, cinema, radio, and social, spotlighting Just Eat's deep connection to local culture.`,
      impact: "Since launching, ad recognition is now at 67% (category average is 38%), profits have increased by 56%, and the UK has experienced +24% YOY revenue growth. Best of all, Just Eat has taken its rightful place as number 1 in the food delivery category, all whilst entertaining the world.",
      vimeoId: "1130326849",
      vimeoPreviewId: "1135324443",
      awards: []
    },
    "prada-paradigme": {
      client: "Prada",
      title: "Paradigme",
      truth: "There's no singular version of masculinity. Each individual creates their own paradigm.",
      truthWellTold: "What if there's another way?",
      description: `With a cinematic film starring brand ambassador Tom Holland, Prada Beauty unveiled its new masculine fragrance, Paradigme. Created by McCann Paris and directed by Oscar-winner Thomas Vinterberg, the two-minute spot follows Holland as he reflects on life's possibilities, asking, "What if there's another way?" Through moments of introspection, movement, and creativity, the film captures themes of growth and self-discovery, echoing the fragrance's spirit of redefining one's path. Blending emotional storytelling with striking visuals, Paradigme celebrates authenticity and curiosity. The campaign launched globally across TV, cinema, and social platforms, embodying Prada's call to "create your paradigm."`,
      impact: "",
      vimeoId: "1130327867",
      vimeoPreviewId: "1135324463",
      awards: []
    }
  };

  // src/modules/preloader.js
  console.log("[PRELOADER] Module loaded");
  var preloaderEl = null;
  var signetEl = null;
  var progressEl = null;
  var logEl = null;
  var animationFrameId = null;
  var showDebugLog = true;
  var resizeTimeoutId = null;
  var isResizing = false;
  var resizeFadeDuration = 75;
  var resizeShowDelayTimeoutId = null;
  var resizeHideDelayTimeoutId = null;
  var lastResizeCoverHideTime = 0;
  var resizeShowDelay = 800;
  var eventLeadMs = 100;
  var bodyOverflowBeforePreloader = "";
  var hasStoredBodyOverflow = false;
  var wfIx = window.Webflow && window.Webflow.require ? window.Webflow.require("ix3") || window.Webflow.require("ix2") : null;
  function storeBodyOverflow() {
    if (typeof document === "undefined" || !document.body) return;
    if (!hasStoredBodyOverflow) {
      bodyOverflowBeforePreloader = document.body.style.overflow || "";
      hasStoredBodyOverflow = true;
    }
  }
  function restoreBodyOverflow() {
    if (typeof document === "undefined" || !document.body) return;
    if (hasStoredBodyOverflow) {
      document.body.style.overflow = bodyOverflowBeforePreloader;
    } else {
      document.body.style.overflow = "";
    }
    hasStoredBodyOverflow = false;
  }
  function initPreloader({
    selector = "#preloader",
    videoSelector = "video[data-wf-ignore], video[autoplay], video[data-autoplay]",
    vimeoPreload = "prefetch",
    // 'none', 'prefetch', 'prebuffer'
    vimeoBufferLimit = 5,
    projectData: projectData3 = project_data_default,
    minLoadTime = 1e3,
    showDebugLog: debugLogOption = true,
    pulseDuration = 2400,
    pulseOpacity = 0.35,
    enableResizeCover = true,
    resizeFadeDuration: fadeDuration = 150,
    resizeShowDelay: showDelay = 800,
    eventLeadMs: leadMs = 100
  } = {}) {
    showDebugLog = debugLogOption;
    resizeFadeDuration = fadeDuration;
    resizeShowDelay = showDelay;
    eventLeadMs = leadMs;
    log("Initializing preloader...");
    storeBodyOverflow();
    document.body.classList.add("preloader-active");
    document.body.style.overflow = "hidden";
    preloaderEl = document.querySelector(selector);
    if (!preloaderEl) {
      console.error("[PRELOADER] \u274C Preloader element not found");
      document.body.classList.remove("preloader-active");
      restoreBodyOverflow();
      return;
    }
    preloaderEl.style.display = "flex";
    preloaderEl.style.position = "fixed";
    preloaderEl.style.zIndex = "999999";
    signetEl = preloaderEl.querySelector(".preloader__signet");
    progressEl = preloaderEl.querySelector(".preloader__progress");
    if (!signetEl) {
      console.error("[PRELOADER] \u274C Signet element not found");
      return;
    }
    if (showDebugLog) {
      createLogElement();
    }
    log("\u2713 Elements found", "success");
    log("\u2713 Pulse animation starting", "info");
    animatePulse(pulseDuration, pulseOpacity);
    const startTime = performance.now();
    Promise.all([
      prefetchVideos(videoSelector),
      preloadVimeoVideos(projectData3, vimeoPreload, vimeoBufferLimit)
    ]).then(() => {
      log("\u2713 HTML5 videos and Vimeo preload complete", "success");
      return waitForSlidesBuilt();
    }).then(() => {
      log("\u2713 Slides built", "success");
      return waitForPreviewVideosPlaying();
    }).then(() => {
      const elapsed = performance.now() - startTime;
      const remaining = Math.max(0, minLoadTime - elapsed);
      log(`\u2713 All media loaded and previews playing in ${Math.round(elapsed)}ms`, "success");
      if (remaining > 0) {
        log(`Waiting ${Math.round(remaining)}ms (min display time)...`, "info");
      }
      setTimeout(() => {
        hidePreloader();
      }, remaining);
    }).catch((err) => {
      console.error("[PRELOADER] \u274C Error:", err);
      log(`\u274C Error loading media: ${err.message}`, "error");
      const elapsed = performance.now() - startTime;
      const remaining = Math.max(0, minLoadTime - elapsed);
      setTimeout(() => {
        log("Hiding despite errors (graceful degradation)", "warning");
        hidePreloader();
      }, remaining);
    });
  }
  function hidePreloaderManually() {
    hidePreloader();
  }
  function createLogElement() {
    if (!preloaderEl || logEl) return;
    logEl = document.createElement("div");
    logEl.className = "preloader__log";
    logEl.setAttribute("aria-live", "polite");
    logEl.setAttribute("aria-atomic", "false");
    preloaderEl.appendChild(logEl);
    log("Debug log initialized", "info");
  }
  function log(message, type = "info") {
    const timestamp = (/* @__PURE__ */ new Date()).toLocaleTimeString("en-US", {
      hour12: false,
      hour: "2-digit",
      minute: "2-digit",
      second: "2-digit",
      fractionalSecondDigits: 3
    });
    const consoleMessage = `[PRELOADER] ${message}`;
    switch (type) {
      case "error":
        console.error(consoleMessage);
        break;
      case "warning":
        console.warn(consoleMessage);
        break;
      case "success":
      case "info":
      default:
        console.log(consoleMessage);
    }
    if (!showDebugLog || !logEl) return;
    const entry = document.createElement("div");
    entry.className = `preloader__log-entry preloader__log-entry--${type}`;
    entry.textContent = `${timestamp} ${message}`;
    logEl.appendChild(entry);
    logEl.scrollTop = logEl.scrollHeight;
    const entries = logEl.querySelectorAll(".preloader__log-entry");
    if (entries.length > 20) {
      entries[0].remove();
    }
  }
  async function prefetchVideos(selector) {
    const videos = Array.from(document.querySelectorAll(selector));
    if (videos.length === 0) {
      log("\u26A0 No videos found to prefetch", "warning");
      return;
    }
    log(`\u{1F3AC} Found ${videos.length} video(s) to prefetch`, "info");
    let loadedCount = 0;
    const videoPromises = videos.map(
      (video, index) => prefetchSingleVideo(video, index + 1, videos.length, () => {
        loadedCount++;
        updateProgress(loadedCount, videos.length);
      })
    );
    const results = await Promise.allSettled(videoPromises);
    const successful = results.filter((r) => r.status === "fulfilled").length;
    const failed = results.filter((r) => r.status === "rejected").length;
    if (failed > 0) {
      log(`\u26A0 ${failed} video(s) failed to load`, "warning");
    }
    log(`\u2713 ${successful}/${videos.length} video(s) ready`, "success");
  }
  function prefetchSingleVideo(video, index, total, onProgress) {
    return new Promise((resolve, reject) => {
      if (video.readyState >= 3) {
        log(`\u2713 Video ${index}/${total} already loaded`, "success");
        onProgress();
        resolve(video);
        return;
      }
      const onCanPlay = () => {
        log(`\u2713 Video ${index}/${total} ready`, "success");
        cleanup();
        onProgress();
        resolve(video);
      };
      const onError = (err) => {
        log(`\u26A0 Video ${index}/${total} failed`, "warning");
        cleanup();
        reject(err);
      };
      const onTimeout = () => {
        log(`\u26A0 Video ${index}/${total} timeout (10s)`, "warning");
        cleanup();
        reject(new Error("Video load timeout"));
      };
      const cleanup = () => {
        video.removeEventListener("canplaythrough", onCanPlay);
        video.removeEventListener("canplay", onCanPlay);
        video.removeEventListener("error", onError);
        clearTimeout(timeoutId);
      };
      const timeoutId = setTimeout(onTimeout, 1e4);
      video.addEventListener("canplaythrough", onCanPlay, { once: true });
      video.addEventListener("canplay", onCanPlay, { once: true });
      video.addEventListener("error", onError, { once: true });
      if (video.readyState === 0) {
        log(`Loading video ${index}/${total}...`, "info");
        video.load();
      }
    });
  }
  function updateProgress(current, total) {
    if (!progressEl) return;
    const percentage = Math.round(current / total * 100);
    progressEl.textContent = `${percentage}%`;
    progressEl.setAttribute("aria-valuenow", percentage);
  }
  async function preloadVimeoVideos(projectData3, strategy = "prefetch", bufferLimit = 5) {
    if (strategy === "none") {
      log("\u23ED Vimeo preloading disabled", "info");
      return;
    }
    const vimeoIds = Object.values(projectData3).map((project) => project == null ? void 0 : project.vimeoId).filter((id) => id && id !== "000000000" && id !== "null" && id !== null);
    if (vimeoIds.length === 0) {
      log("\u26A0 No valid Vimeo IDs found in project data", "warning");
      return;
    }
    log(`\u{1F3AC} Found ${vimeoIds.length} Vimeo video(s) in project data`, "info");
    switch (strategy) {
      case "prebuffer":
        return prebufferVimeoIframes(vimeoIds, bufferLimit);
      case "prefetch":
      default:
        return addVimeoPrefetchHints(vimeoIds);
    }
  }
  function addVimeoPrefetchHints(vimeoIds) {
    log(`\u{1F517} Adding prefetch hints for ${vimeoIds.length} Vimeo video(s)`, "info");
    vimeoIds.forEach((id, index) => {
      const link = document.createElement("link");
      link.rel = "prefetch";
      link.href = `https://player.vimeo.com/video/${id}`;
      link.as = "document";
      document.head.appendChild(link);
      log(`\u2713 Vimeo ${index + 1}/${vimeoIds.length} prefetch hint added`, "success");
    });
    log("\u2713 All Vimeo prefetch hints added (lightweight)", "success");
    return Promise.resolve();
  }
  function prebufferVimeoIframes(vimeoIds, bufferLimit = 5) {
    const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
    if (connection && connection.effectiveType !== "4g") {
      log("\u26A0 Skipping Vimeo prebuffer (slow connection detected)", "warning");
      log("\u2713 Falling back to prefetch hints only", "info");
      return addVimeoPrefetchHints(vimeoIds);
    }
    if (isMobile) {
      log("\u26A0 Skipping Vimeo prebuffer (mobile device detected)", "warning");
      log("\u2713 Falling back to prefetch hints only", "info");
      return addVimeoPrefetchHints(vimeoIds);
    }
    const idsToBuffer = vimeoIds.slice(0, bufferLimit);
    if (idsToBuffer.length < vimeoIds.length) {
      log(`\u26A0 Limiting prebuffer to first ${bufferLimit} videos`, "warning");
      const remaining = vimeoIds.slice(bufferLimit);
      remaining.forEach((id) => {
        const link = document.createElement("link");
        link.rel = "prefetch";
        link.href = `https://player.vimeo.com/video/${id}`;
        link.as = "document";
        document.head.appendChild(link);
      });
    }
    log(`\u{1F3AC} Prebuffering ${idsToBuffer.length} Vimeo video(s)`, "info");
    return new Promise((resolve) => {
      const container = document.createElement("div");
      container.id = "vimeo-prebuffer-container";
      container.style.cssText = `
      position: fixed;
      left: -9999px;
      top: -9999px;
      width: 1px;
      height: 1px;
      opacity: 0;
      pointer-events: none;
      z-index: -1;
    `;
      container.setAttribute("aria-hidden", "true");
      let buffered = 0;
      idsToBuffer.forEach((id, index) => {
        const iframe = document.createElement("iframe");
        iframe.src = `https://player.vimeo.com/video/${id}?muted=1&autoplay=1&background=1&quality=360p`;
        iframe.allow = "autoplay";
        iframe.width = "1";
        iframe.height = "1";
        iframe.loading = "eager";
        log(`Loading Vimeo ${index + 1}/${idsToBuffer.length} (ID: ${id})...`, "info");
        setTimeout(() => {
          buffered++;
          log(`\u2713 Vimeo ${index + 1}/${idsToBuffer.length} prebuffered`, "success");
          iframe.remove();
          if (buffered === idsToBuffer.length) {
            container.remove();
            log(`\u2713 All Vimeo videos prebuffered`, "success");
            resolve();
          }
        }, 8e3);
        container.appendChild(iframe);
      });
      document.body.appendChild(container);
    });
  }
  function waitForSlidesBuilt() {
    return new Promise((resolve) => {
      const slides = document.querySelectorAll(".slide");
      if (slides.length > 0) {
        log(`\u2713 Found ${slides.length} existing slides`, "success");
        resolve();
        return;
      }
      const timeout = setTimeout(() => {
        log("\u26A0\uFE0F  Slides build timeout - proceeding anyway", "warning");
        resolve();
      }, 5e3);
      window.addEventListener("slides:built", () => {
        clearTimeout(timeout);
        log("\u2713 Slides built event received", "success");
        resolve();
      }, { once: true });
    });
  }
  function waitForPreviewVideosPlaying() {
    return new Promise((resolve) => {
      requestAnimationFrame(() => {
        requestAnimationFrame(() => {
          const previewContainers = document.querySelectorAll('.slide__preview iframe[src*="vimeo.com"]');
          if (previewContainers.length === 0) {
            log("\u26A0\uFE0F  No preview videos found - proceeding", "warning");
            resolve();
            return;
          }
          log(`\u{1F3AC} Waiting for ${previewContainers.length} preview video(s) to play...`, "info");
          ensureVimeoApi().then(() => {
            const checkPromises = Array.from(previewContainers).map((iframe, index) => {
              return new Promise((resolveVideo) => {
                try {
                  if (!window.Vimeo || !window.Vimeo.Player) {
                    log(`\u26A0\uFE0F  Vimeo API not available for video ${index + 1} - assuming ready`, "warning");
                    resolveVideo();
                    return;
                  }
                  const player = new window.Vimeo.Player(iframe);
                  let isReady = false;
                  let isPlaying = false;
                  const checkComplete = () => {
                    if (isReady && isPlaying) {
                      log(`\u2713 Preview video ${index + 1}/${previewContainers.length} playing`, "success");
                      resolveVideo();
                    }
                  };
                  player.ready().then(() => {
                    isReady = true;
                    checkComplete();
                  }).catch(() => {
                    setTimeout(() => {
                      isReady = true;
                      checkComplete();
                    }, 1e3);
                  });
                  player.on("play", () => {
                    isPlaying = true;
                    checkComplete();
                  });
                  setTimeout(() => {
                    player.getPaused().then((paused) => {
                      if (!paused) {
                        isPlaying = true;
                        checkComplete();
                      }
                    }).catch(() => {
                      isPlaying = true;
                      checkComplete();
                    });
                  }, 1500);
                  setTimeout(() => {
                    if (!isReady || !isPlaying) {
                      log(`\u26A0\uFE0F  Preview video ${index + 1} timeout - proceeding`, "warning");
                      resolveVideo();
                    }
                  }, 4e3);
                } catch (err) {
                  log(`\u26A0\uFE0F  Error checking preview video ${index + 1}: ${err.message}`, "warning");
                  resolveVideo();
                }
              });
            });
            Promise.all(checkPromises).then(() => {
              log("\u2713 All preview videos playing", "success");
              resolve();
            });
          }).catch(() => {
            log("\u26A0\uFE0F  Vimeo API failed to load - proceeding without verification", "warning");
            resolve();
          });
        });
      });
    });
  }
  function ensureVimeoApi() {
    if (window.Vimeo && window.Vimeo.Player) return Promise.resolve();
    return new Promise((resolve) => {
      const existing = document.querySelector('script[src*="player.vimeo.com/api/player.js"]');
      if (existing) {
        existing.addEventListener("load", () => resolve());
        return;
      }
      const s = document.createElement("script");
      s.src = "https://player.vimeo.com/api/player.js";
      s.async = true;
      s.onload = () => resolve();
      s.onerror = () => resolve();
      document.head.appendChild(s);
    });
  }
  function emitLoadCompleted() {
    try {
      if (wfIx == null ? void 0 : wfIx.emit) wfIx.emit("load-completed");
    } catch (_) {
    }
    try {
      window.dispatchEvent(new CustomEvent("load-completed"));
    } catch (_) {
    }
    log('\u{1F3AF} Emitted "load-completed" event', "success");
  }
  function hidePreloader() {
    if (!preloaderEl) {
      document.body.classList.remove("preloader-active");
      restoreBodyOverflow();
      return;
    }
    log("\u{1F3AF} Hiding preloader...", "info");
    stopAnimations();
    const prefersReduced = matchMedia("(prefers-reduced-motion: reduce)").matches;
    if (prefersReduced) {
      emitLoadCompleted();
      document.body.classList.remove("preloader-active");
      restoreBodyOverflow();
      setTimeout(() => {
        if (preloaderEl) {
          preloaderEl.style.display = "none";
          preloaderEl.style.pointerEvents = "none";
        }
        document.body.classList.remove("preloader-active");
        restoreBodyOverflow();
        const wrapper2 = document.querySelector(".perspective-wrapper");
        if (wrapper2) {
          wrapper2.classList.remove("modal-open");
          wrapper2.style.overflow = "";
        }
        window.dispatchEvent(new CustomEvent("preloader:complete"));
        log("\u2713 Preloader complete", "success");
      }, eventLeadMs);
      return;
    }
    preloaderEl.classList.add("is-revealing");
    emitLoadCompleted();
    document.body.classList.remove("preloader-active");
    restoreBodyOverflow();
    setTimeout(() => {
      if (preloaderEl) {
        preloaderEl.style.display = "none";
        preloaderEl.style.pointerEvents = "none";
      }
      document.body.classList.remove("preloader-active");
      restoreBodyOverflow();
      const wrapper2 = document.querySelector(".perspective-wrapper");
      if (wrapper2) {
        wrapper2.classList.remove("modal-open");
        wrapper2.style.overflow = "";
      }
      window.dispatchEvent(new CustomEvent("preloader:complete"));
      log("\u2713 Preloader complete", "success");
    }, 250);
  }
  function animatePulse(duration = 2400, opacityRange = 0.35) {
    if (!signetEl) return;
    const prefersReduced = typeof window !== "undefined" && typeof window.matchMedia === "function" && window.matchMedia("(prefers-reduced-motion: reduce)").matches;
    if (prefersReduced) {
      signetEl.style.setProperty("--pulse-opacity", "1");
      signetEl.style.setProperty("--pulse-scale", "1");
      log("\u26A0\uFE0F Prefers-reduced-motion detected \u2014 pulse disabled", "warning");
      return;
    }
    const normalizedDuration = Math.max(1200, duration);
    const normalizedRange = Math.min(Math.max(opacityRange, 0.15), 0.65);
    const peakOpacity = 1;
    const floorOpacity = Math.max(0.25, peakOpacity - normalizedRange * 1.6);
    const opacitySpan = peakOpacity - floorOpacity;
    const scaleRange = 0.04 + normalizedRange * 0.06;
    const scaleFloor = 1 - scaleRange * 0.45;
    const scalePeak = 1 + scaleRange;
    const segments = [
      { start: 0, end: 0.12, from: 0.35, to: 1, ease: "outCubic" },
      // Snap up
      { start: 0.12, end: 0.2, from: 1, to: 0.75, ease: "inOutQuad" },
      // Mechanical settle
      { start: 0.2, end: 0.32, from: 0.75, to: 0.05, ease: "inCubic" },
      // Hard drop
      { start: 0.32, end: 0.44, from: 0.05, to: 0.3, ease: "outQuad" },
      // Recovery glide
      { start: 0.44, end: 0.5, from: 0.3, to: 0.3, ease: "hold" },
      // Hold low
      { start: 0.5, end: 0.6, from: 0.3, to: 0.85, ease: "outBack" },
      // Secondary pulse
      { start: 0.6, end: 0.68, from: 0.85, to: 0.55, ease: "inQuad" },
      // Step down
      { start: 0.68, end: 0.82, from: 0.55, to: 0.08, ease: "inCubic" },
      // Drop to idle
      { start: 0.82, end: 1, from: 0.08, to: 0.35, ease: "outQuad" }
      // Idle ramp
    ];
    const easingFns = {
      hold: () => 0,
      outCubic: (t) => 1 - Math.pow(1 - t, 3),
      inCubic: (t) => t * t * t,
      inOutQuad: (t) => t < 0.5 ? 2 * t * t : 1 - Math.pow(-2 * t + 2, 2) / 2,
      outQuad: (t) => 1 - (1 - t) * (1 - t),
      inQuad: (t) => t * t,
      outBack: (t) => {
        const c1 = 1.70158;
        const c3 = c1 + 1;
        const x = t - 1;
        return 1 + c3 * x * x * x + c1 * x * x;
      }
    };
    const clamp01 = (value) => Math.max(0, Math.min(1, value));
    const sampleEnergy = (progress) => {
      const segment = segments.find((s) => progress >= s.start && progress < s.end) || segments[segments.length - 1];
      const { start, end, from, to, ease } = segment;
      if (end <= start) return from;
      const localProgress = clamp01((progress - start) / (end - start));
      if (ease === "hold") return from;
      const eased = easingFns[ease] ? easingFns[ease](localProgress) : localProgress;
      return from + (to - from) * eased;
    };
    const startTime = performance.now();
    function loop(currentTime) {
      const elapsed = (currentTime - startTime) % normalizedDuration;
      const progress = elapsed / normalizedDuration;
      const energy = clamp01(sampleEnergy(progress));
      const opacity = floorOpacity + opacitySpan * energy;
      const scale = scaleFloor + (scalePeak - scaleFloor) * energy;
      signetEl.style.setProperty("--pulse-opacity", opacity.toFixed(3));
      signetEl.style.setProperty("--pulse-scale", scale.toFixed(3));
      animationFrameId = requestAnimationFrame(loop);
    }
    animationFrameId = requestAnimationFrame(loop);
    log(`\u2713 Pulse animation started (duration: ${Math.round(normalizedDuration)}ms, opacity: ${floorOpacity.toFixed(2)}-1.00)`, "success");
  }
  function stopAnimations() {
    if (animationFrameId) {
      cancelAnimationFrame(animationFrameId);
      animationFrameId = null;
    }
    if (signetEl) {
      signetEl.style.removeProperty("--pulse-opacity");
      signetEl.style.removeProperty("--pulse-scale");
    }
  }
  function cleanupPreloader() {
    var _a;
    stopAnimations();
    if (resizeTimeoutId) {
      clearTimeout(resizeTimeoutId);
      resizeTimeoutId = null;
    }
    if (resizeShowDelayTimeoutId) {
      clearTimeout(resizeShowDelayTimeoutId);
      resizeShowDelayTimeoutId = null;
    }
    if (resizeHideDelayTimeoutId) {
      clearTimeout(resizeHideDelayTimeoutId);
      resizeHideDelayTimeoutId = null;
    }
    preloaderEl = null;
    signetEl = null;
    progressEl = null;
    logEl = null;
    isResizing = false;
    lastResizeCoverHideTime = 0;
    (_a = document.body) == null ? void 0 : _a.classList.remove("preloader-active");
    restoreBodyOverflow();
    log("Cleaned up", "info");
  }
  if (typeof window !== "undefined") {
    window.App = window.App || {};
    window.App.preloader = {
      cleanup: cleanupPreloader,
      hide: hidePreloaderManually
    };
  }

  // src/modules/accordion.js
  console.log("[ACCORDION] Module loaded");
  function initAccordion(options = {}) {
    const { selector = ".accordeon" } = options;
    const root = document.querySelector(selector);
    if (!root) {
      console.log("[ACCORDION] \u274C Root element not found:", selector);
      return;
    }
    console.log("[ACCORDION] \u2713 Root element found:", selector);
    window._accordionRoot = root;
    window._accordionDebug = true;
    const panelOf = (item) => item == null ? void 0 : item.querySelector(":scope > .acc-list");
    const groupOf = (item) => {
      const parent = item.parentElement;
      return (parent == null ? void 0 : parent.classList.contains("acc-list")) ? parent : root;
    };
    const dbg = (...args) => {
      try {
        console.log("[ACCORDION]", ...args);
      } catch (_) {
      }
    };
    const itemKind = (el) => {
      var _a;
      return ((_a = el == null ? void 0 : el.classList) == null ? void 0 : _a.contains("acc-section")) ? "section" : "item";
    };
    const labelOf = (el) => {
      const t = el == null ? void 0 : el.querySelector(":scope > .acc-trigger");
      return ((t == null ? void 0 : t.textContent) || "").trim().replace(/\s+/g, " ").slice(0, 80);
    };
    const ACTIVE_TRIGGER_CLASS = "acc-trigger--active";
    function markItemsForAnimation(panel, show = true) {
      const items = panel.querySelectorAll(":scope > .acc-item");
      items.forEach((item) => {
        if (show) {
          item.classList.add("acc-animate-target");
        } else {
          item.classList.remove("acc-animate-target");
        }
      });
      dbg(`Marked ${items.length} items for ${show ? "show" : "hide"} animation in panel ${panel.id}`);
    }
    function clearAllAnimationMarkers() {
      root.querySelectorAll(".acc-animate-target").forEach((el) => {
        el.classList.remove("acc-animate-target");
      });
    }
    const wfIx2 = window.Webflow && window.Webflow.require ? window.Webflow.require("ix3") || window.Webflow.require("ix2") : null;
    dbg("Webflow IX available:", !!wfIx2);
    function emitIx(name) {
      try {
        if (wfIx2 && typeof wfIx2.emit === "function") {
          dbg(`\u{1F3AF} EMITTING via wfIx.emit: "${name}"`);
          wfIx2.emit(name);
        }
      } catch (err) {
        dbg("wfIx.emit error", err && err.message);
      }
      try {
        window.dispatchEvent(new CustomEvent(name));
        dbg(`\u{1F4E2} EMITTING via window.dispatchEvent: "${name}"`);
      } catch (err) {
        dbg("window.dispatchEvent error", err && err.message);
      }
    }
    function emitAll(primary) {
      const aliases = [];
      if (primary === "acc-open") aliases.push("accordeon-open");
      if (primary === "acc-close") aliases.push("accordeon-close");
      [primary, ...aliases].forEach((ev) => emitIx(ev));
    }
    const triggers = root.querySelectorAll(".acc-trigger");
    triggers.forEach((t, i) => {
      const item = t.closest(".acc-section, .acc-item");
      const p = panelOf(item);
      if (p) {
        const pid = p.id || `acc-panel-${i}`;
        p.id = pid;
        t.setAttribute("aria-controls", pid);
        t.setAttribute("aria-expanded", "false");
      }
    });
    dbg("bootstrapped", triggers.length, "triggers");
    function expand(p) {
      var _a;
      dbg("expand start", { id: p.id, children: (_a = p.children) == null ? void 0 : _a.length });
      p.classList.add("is-active", "acc-list--expanding");
      p.dataset.state = "opening";
      const onEnd = (e) => {
        if (e.propertyName !== "max-height") return;
        if (p.dataset.state === "opening") {
          p.classList.remove("acc-list--expanding");
          p.classList.add("acc-list--expanded");
          p.dataset.state = "open";
          dbg("expanded", { id: p.id });
        }
      };
      p.addEventListener("transitionend", onEnd, { once: true });
    }
    function collapse(p) {
      dbg("collapse start", { id: p.id });
      p.classList.remove("acc-list--expanding", "acc-list--expanded");
      p.dataset.state = "closing";
      const onEnd = (e) => {
        if (e.propertyName !== "max-height") return;
        if (p.dataset.state === "closing") {
          p.dataset.state = "collapsed";
          p.classList.remove("is-active");
          markItemsForAnimation(p, false);
          dbg("collapsed", { id: p.id });
        }
      };
      p.addEventListener("transitionend", onEnd, { once: true });
    }
    function closeSiblings(item) {
      const group = groupOf(item);
      if (!group) return;
      const want = item.matches(".acc-section") ? "acc-section" : "acc-item";
      Array.from(group.children).forEach((sib) => {
        var _a;
        if (sib === item || !sib.classList.contains(want)) return;
        const p = panelOf(sib);
        if (p && (p.dataset.state === "open" || p.dataset.state === "opening")) {
          dbg("close sibling", { kind: want, label: labelOf(sib), id: p.id });
          clearAllAnimationMarkers();
          markItemsForAnimation(p, true);
          requestAnimationFrame(() => emitAll("acc-close"));
          collapse(p);
          const trig = sib.querySelector(":scope > .acc-trigger");
          trig == null ? void 0 : trig.setAttribute("aria-expanded", "false");
          (_a = trig == null ? void 0 : trig.classList) == null ? void 0 : _a.remove(ACTIVE_TRIGGER_CLASS);
        }
      });
    }
    function resetAllL2Under(container) {
      const scope = container || root;
      scope.querySelectorAll(".acc-item > .acc-list").forEach((p) => {
        var _a;
        if (p.dataset.state === "open" || p.dataset.state === "opening") {
          collapse(p);
          const it = p.closest(".acc-item");
          const t = it == null ? void 0 : it.querySelector(":scope > .acc-trigger");
          t == null ? void 0 : t.setAttribute("aria-expanded", "false");
          (_a = t == null ? void 0 : t.classList) == null ? void 0 : _a.remove(ACTIVE_TRIGGER_CLASS);
        }
      });
    }
    function toggle(item) {
      var _a, _b;
      const p = panelOf(item);
      if (!p) return;
      const trig = item.querySelector(":scope > .acc-trigger");
      const opening = !(p.dataset.state === "open" || p.dataset.state === "opening");
      dbg("toggle", { kind: itemKind(item), opening, label: labelOf(item), id: p.id });
      if (opening) closeSiblings(item);
      if (itemKind(item) === "section") {
        if (opening) resetAllL2Under(root);
        else resetAllL2Under(item);
      }
      if (opening) {
        clearAllAnimationMarkers();
        markItemsForAnimation(p, true);
        requestAnimationFrame(() => {
          dbg("emit acc-open", { id: p.id });
          emitAll("acc-open");
        });
        expand(p);
        trig == null ? void 0 : trig.setAttribute("aria-expanded", "true");
        (_a = trig == null ? void 0 : trig.classList) == null ? void 0 : _a.add(ACTIVE_TRIGGER_CLASS);
      } else {
        clearAllAnimationMarkers();
        markItemsForAnimation(p, true);
        requestAnimationFrame(() => {
          dbg("emit acc-close", { id: p.id });
          emitAll("acc-close");
        });
        collapse(p);
        trig == null ? void 0 : trig.setAttribute("aria-expanded", "false");
        (_b = trig == null ? void 0 : trig.classList) == null ? void 0 : _b.remove(ACTIVE_TRIGGER_CLASS);
      }
    }
    document.body.classList.add("js-prep");
    root.querySelectorAll(".acc-list").forEach((p) => {
      p.dataset.state = "collapsed";
    });
    requestAnimationFrame(() => {
      document.body.classList.remove("js-prep");
    });
    function handleInteraction(e) {
      const t = e.target.closest(".acc-trigger");
      if (!t || !root.contains(t)) return;
      if (e.type === "keydown" && e.key !== "Enter" && e.key !== " ") return;
      e.preventDefault();
      const item = t.closest(".acc-section, .acc-item");
      if (item) {
        dbg(e.type, { label: (t.textContent || "").trim().replace(/\s+/g, " ").slice(0, 80) });
        toggle(item);
      }
    }
    root.addEventListener("click", handleInteraction);
    root.addEventListener("keydown", handleInteraction);
    const ro = new ResizeObserver((entries) => {
      entries.forEach(({ target: p }) => {
        if (p.dataset.state === "open") {
          if (!p.classList.contains("acc-list--expanded")) {
            p.classList.add("acc-list--expanded");
          }
        }
      });
    });
    root.querySelectorAll(".acc-list").forEach((p) => ro.observe(p));
    window._accordionTest = {
      markItems: (panelId) => {
        const panel = document.getElementById(panelId) || root.querySelector(".acc-list");
        if (panel) {
          markItemsForAnimation(panel, true);
          console.log("Marked items in panel:", panel);
        }
      },
      clearMarks: () => {
        clearAllAnimationMarkers();
        console.log("Cleared all marks");
      },
      emitOpen: () => {
        emitAll("acc-open");
        console.log("Emitted acc-open");
      },
      emitClose: () => {
        emitAll("acc-close");
        console.log("Emitted acc-close");
      },
      checkWebflow: () => {
        console.log("Webflow object:", window.Webflow);
        console.log("wfIx:", wfIx2);
      },
      getMarkedItems: () => {
        const items = root.querySelectorAll(".acc-animate-target");
        console.log(`Found ${items.length} items with .acc-animate-target class`);
        return items;
      }
    };
    console.log("[ACCORDION] Debug functions available at window._accordionTest");
  }

  // src/modules/vimeo.js
  console.log("[VIMEO] module loaded");
  function parseVimeoId(input) {
    var _a;
    if (!input) return "";
    const str = String(input).trim();
    if (/^\d+$/.test(str)) return str;
    try {
      const u = new URL(str, "https://example.com");
      const host = u.hostname || "";
      if (host.includes("vimeo.com")) {
        const parts = u.pathname.split("/").filter(Boolean);
        const last = parts[parts.length - 1] || "";
        const id = ((_a = last.match(/\d+/)) == null ? void 0 : _a[0]) || "";
        return id || "";
      }
    } catch {
    }
    return "";
  }
  function mountVimeo(container, inputId, params = {}) {
    if (!container) return;
    const id = parseVimeoId(inputId);
    if (!id) {
      container.innerHTML = "";
      return;
    }
    const query = new URLSearchParams({ dnt: 1, ...params }).toString();
    const src = `https://player.vimeo.com/video/${id}?${query}`;
    const iframe = document.createElement("iframe");
    iframe.src = src;
    iframe.allow = "autoplay; fullscreen; picture-in-picture; encrypted-media";
    iframe.setAttribute("frameborder", "0");
    iframe.setAttribute("allowfullscreen", "");
    iframe.style.cssText = `
    position: absolute;
    top: 50%;
    left: 50%;
    /* Sizes are set dynamically to achieve true cover */
    width: 100%;
    height: 100%;
    transform: translate(-50%, -50%);
    border: 0;
  `;
    container.innerHTML = "";
    container.appendChild(iframe);
    const prevOverflow = container.style.overflow;
    if (!container.style.position || container.style.position === "static") {
      container.style.position = "relative";
    }
    container.style.overflow = "hidden";
    ensureVimeoApi2().then(() => {
      const player = new (window.Vimeo && window.Vimeo.Player ? window.Vimeo.Player : function() {
      })(iframe);
      if (!player || !player.getVideoWidth) {
        fitIframeToCover(container, iframe, 16 / 9, 1.02);
        return;
      }
      Promise.all([player.getVideoWidth(), player.getVideoHeight()]).then(([vw, vh]) => {
        const ratio = vw && vh ? vw / vh : 16 / 9;
        fitIframeToCover(container, iframe, ratio, 1.02);
        const ro = new ResizeObserver(() => fitIframeToCover(container, iframe, ratio, 1.02));
        ro.observe(container);
        window.addEventListener("resize", () => fitIframeToCover(container, iframe, ratio, 1.02), { passive: true });
      }).catch(() => {
        fitIframeToCover(container, iframe, 16 / 9, 1.02);
      });
    });
  }
  function ensureVimeoApi2() {
    if (window.Vimeo && window.Vimeo.Player) return Promise.resolve();
    return new Promise((resolve) => {
      const existing = document.querySelector('script[src*="player.vimeo.com/api/player.js"]');
      if (existing) {
        existing.addEventListener("load", () => resolve());
        return;
      }
      const s = document.createElement("script");
      s.src = "https://player.vimeo.com/api/player.js";
      s.async = true;
      s.onload = () => resolve();
      s.onerror = () => resolve();
      document.head.appendChild(s);
    });
  }
  function fitIframeToCover(container, iframe, videoRatio, overscan = 1) {
    const rect = container.getBoundingClientRect();
    const cw = Math.max(1, rect.width);
    const ch = Math.max(1, rect.height);
    const containerRatio = cw / ch;
    let w, h;
    if (containerRatio > videoRatio) {
      w = cw;
      h = cw / videoRatio;
    } else {
      h = ch;
      w = ch * videoRatio;
    }
    const ow = Math.ceil(w * overscan);
    const oh = Math.ceil(h * overscan);
    iframe.style.width = `${ow}px`;
    iframe.style.height = `${oh}px`;
    iframe.style.top = "50%";
    iframe.style.left = "50%";
    iframe.style.transform = "translate(-50%, -50%)";
  }

  // src/core/events.js
  function emit(name, target = window, detail = {}) {
    try {
      target.dispatchEvent(new CustomEvent(name, { bubbles: true, cancelable: true, detail }));
    } catch {
    }
    try {
      window.dispatchEvent(new CustomEvent(name, { detail }));
    } catch {
    }
  }

  // src/modules/slides.js
  console.log("[SLIDES] Module loaded");
  var projectData = null;
  function initSlides(options = {}) {
    var _a;
    const {
      containerSelector = ".perspective-wrapper",
      replaceExisting = true,
      projectDataOverride = (_a = window.McCANN_PROJECT_DATA) != null ? _a : project_data_default
    } = options;
    projectData = projectDataOverride;
    const projectIds = Object.keys(projectData || {});
    console.log(`[SLIDES] \u2713 Loaded ${projectIds.length} project${projectIds.length !== 1 ? "s" : ""} from JSON`);
    const container = document.querySelector(containerSelector);
    if (!container) {
      console.log("[SLIDES] \u274C Container not found:", containerSelector);
      return;
    }
    const existingSlides = container.querySelectorAll(".slide");
    const template = existingSlides[0] || document.querySelector(".slide");
    if (!template) {
      console.log("[SLIDES] \u274C No .slide template found");
      return;
    }
    let insertBefore = null;
    let sibling = template.nextElementSibling;
    while (sibling) {
      if (!sibling.classList.contains("slide")) {
        insertBefore = sibling;
        break;
      }
      sibling = sibling.nextElementSibling;
    }
    const baseTemplate = template.cloneNode(true);
    stripIds(baseTemplate);
    const fragment = document.createDocumentFragment();
    projectIds.forEach((projectId2) => {
      const project = projectData[projectId2];
      if (!project) {
        console.warn(`[SLIDES] \u26A0\uFE0F  Project "${projectId2}" missing data, skipping`);
        return;
      }
      const slide = baseTemplate.cloneNode(true);
      slide.dataset.project = projectId2;
      slide.setAttribute("role", "button");
      slide.setAttribute("tabindex", "0");
      slide.setAttribute("aria-label", `${project.client || ""} \u2014 ${project.title || ""}`.trim());
      const clientEl = slide.querySelector(".slide__client");
      const titleEl = slide.querySelector(".slide__title");
      if (clientEl) clientEl.textContent = project.client || "";
      if (titleEl) titleEl.textContent = project.title || "";
      const previewContainer = slide.querySelector(".slide__preview");
      if (previewContainer) {
        if (!project.vimeoPreviewId || project.vimeoPreviewId === "000000000") {
          console.warn(`[SLIDES] \u26A0\uFE0F  Missing vimeoPreviewId for "${projectId2}"`);
        } else {
          requestAnimationFrame(() => {
            mountVimeo(previewContainer, project.vimeoPreviewId, {
              autoplay: 1,
              muted: 1,
              autopause: 0,
              controls: 0,
              background: 1,
              playsinline: 1,
              loop: 1,
              dnt: 1
            });
          });
        }
      }
      fragment.appendChild(slide);
    });
    if (replaceExisting) {
      existingSlides.forEach((slide) => slide.remove());
    }
    if (insertBefore && insertBefore.parentNode === container) {
      container.insertBefore(fragment, insertBefore);
    } else {
      container.appendChild(fragment);
    }
    console.log(`[SLIDES] \u2713 Rendered ${projectIds.length} slide${projectIds.length !== 1 ? "s" : ""}`);
    emit("slides:built", container, { count: projectIds.length });
    window.App = window.App || {};
    window.App.slides = {
      rebuild: () => initSlides(options),
      getProjectData: () => projectData
    };
  }
  function stripIds(element) {
    var _a;
    if (element.hasAttribute && element.hasAttribute("id")) {
      element.removeAttribute("id");
    }
    (_a = element.querySelectorAll) == null ? void 0 : _a.call(element, "[id]").forEach((el) => el.removeAttribute("id"));
  }

  // src/core/scrolllock.js
  var isLocked = false;
  var savedY = 0;
  var wrapper = null;
  function lockScroll() {
    if (isLocked) return;
    isLocked = true;
    wrapper = document.querySelector(".perspective-wrapper") || document.body;
    if (wrapper === document.body) {
      savedY = window.scrollY || document.documentElement.scrollTop || 0;
    } else {
      savedY = wrapper.scrollTop || 0;
    }
    if (wrapper === document.body) {
      document.body.style.position = "fixed";
      document.body.style.top = `-${savedY}px`;
      document.body.style.left = "0";
      document.body.style.right = "0";
      document.body.style.width = "100%";
    }
    wrapper.style.overflow = "hidden";
    wrapper.classList.add("modal-open");
  }
  function unlockScroll({ delayMs = 0 } = {}) {
    if (!isLocked) return;
    const unlock = () => {
      if (!wrapper) return;
      wrapper.style.overflow = "";
      wrapper.classList.remove("modal-open");
      if (wrapper === document.body) {
        document.body.style.position = "";
        document.body.style.top = "";
        document.body.style.left = "";
        document.body.style.right = "";
        document.body.style.width = "";
        window.scrollTo(0, savedY);
      } else {
        wrapper.scrollTop = savedY;
      }
      isLocked = false;
      wrapper = null;
    };
    delayMs > 0 ? setTimeout(unlock, delayMs) : unlock();
  }

  // node_modules/lenis/dist/lenis.mjs
  var version = "1.3.14";
  function clamp(min, input, max) {
    return Math.max(min, Math.min(input, max));
  }
  function lerp(x, y, t) {
    return (1 - t) * x + t * y;
  }
  function damp(x, y, lambda, deltaTime) {
    return lerp(x, y, 1 - Math.exp(-lambda * deltaTime));
  }
  function modulo(n, d) {
    return (n % d + d) % d;
  }
  var Animate = class {
    constructor() {
      __publicField(this, "isRunning", false);
      __publicField(this, "value", 0);
      __publicField(this, "from", 0);
      __publicField(this, "to", 0);
      __publicField(this, "currentTime", 0);
      // These are instanciated in the fromTo method
      __publicField(this, "lerp");
      __publicField(this, "duration");
      __publicField(this, "easing");
      __publicField(this, "onUpdate");
    }
    /**
     * Advance the animation by the given delta time
     *
     * @param deltaTime - The time in seconds to advance the animation
     */
    advance(deltaTime) {
      var _a;
      if (!this.isRunning) return;
      let completed = false;
      if (this.duration && this.easing) {
        this.currentTime += deltaTime;
        const linearProgress = clamp(0, this.currentTime / this.duration, 1);
        completed = linearProgress >= 1;
        const easedProgress = completed ? 1 : this.easing(linearProgress);
        this.value = this.from + (this.to - this.from) * easedProgress;
      } else if (this.lerp) {
        this.value = damp(this.value, this.to, this.lerp * 60, deltaTime);
        if (Math.round(this.value) === this.to) {
          this.value = this.to;
          completed = true;
        }
      } else {
        this.value = this.to;
        completed = true;
      }
      if (completed) {
        this.stop();
      }
      (_a = this.onUpdate) == null ? void 0 : _a.call(this, this.value, completed);
    }
    /** Stop the animation */
    stop() {
      this.isRunning = false;
    }
    /**
     * Set up the animation from a starting value to an ending value
     * with optional parameters for lerping, duration, easing, and onUpdate callback
     *
     * @param from - The starting value
     * @param to - The ending value
     * @param options - Options for the animation
     */
    fromTo(from, to, { lerp: lerp2, duration, easing, onStart, onUpdate }) {
      this.from = this.value = from;
      this.to = to;
      this.lerp = lerp2;
      this.duration = duration;
      this.easing = easing;
      this.currentTime = 0;
      this.isRunning = true;
      onStart == null ? void 0 : onStart();
      this.onUpdate = onUpdate;
    }
  };
  function debounce(callback, delay) {
    let timer;
    return function(...args) {
      let context = this;
      clearTimeout(timer);
      timer = setTimeout(() => {
        timer = void 0;
        callback.apply(context, args);
      }, delay);
    };
  }
  var Dimensions = class {
    constructor(wrapper2, content, { autoResize = true, debounce: debounceValue = 250 } = {}) {
      __publicField(this, "width", 0);
      __publicField(this, "height", 0);
      __publicField(this, "scrollHeight", 0);
      __publicField(this, "scrollWidth", 0);
      // These are instanciated in the constructor as they need information from the options
      __publicField(this, "debouncedResize");
      __publicField(this, "wrapperResizeObserver");
      __publicField(this, "contentResizeObserver");
      __publicField(this, "resize", () => {
        this.onWrapperResize();
        this.onContentResize();
      });
      __publicField(this, "onWrapperResize", () => {
        if (this.wrapper instanceof Window) {
          this.width = window.innerWidth;
          this.height = window.innerHeight;
        } else {
          this.width = this.wrapper.clientWidth;
          this.height = this.wrapper.clientHeight;
        }
      });
      __publicField(this, "onContentResize", () => {
        if (this.wrapper instanceof Window) {
          this.scrollHeight = this.content.scrollHeight;
          this.scrollWidth = this.content.scrollWidth;
        } else {
          this.scrollHeight = this.wrapper.scrollHeight;
          this.scrollWidth = this.wrapper.scrollWidth;
        }
      });
      this.wrapper = wrapper2;
      this.content = content;
      if (autoResize) {
        this.debouncedResize = debounce(this.resize, debounceValue);
        if (this.wrapper instanceof Window) {
          window.addEventListener("resize", this.debouncedResize, false);
        } else {
          this.wrapperResizeObserver = new ResizeObserver(this.debouncedResize);
          this.wrapperResizeObserver.observe(this.wrapper);
        }
        this.contentResizeObserver = new ResizeObserver(this.debouncedResize);
        this.contentResizeObserver.observe(this.content);
      }
      this.resize();
    }
    destroy() {
      var _a, _b;
      (_a = this.wrapperResizeObserver) == null ? void 0 : _a.disconnect();
      (_b = this.contentResizeObserver) == null ? void 0 : _b.disconnect();
      if (this.wrapper === window && this.debouncedResize) {
        window.removeEventListener("resize", this.debouncedResize, false);
      }
    }
    get limit() {
      return {
        x: this.scrollWidth - this.width,
        y: this.scrollHeight - this.height
      };
    }
  };
  var Emitter = class {
    constructor() {
      __publicField(this, "events", {});
    }
    /**
     * Emit an event with the given data
     * @param event Event name
     * @param args Data to pass to the event handlers
     */
    emit(event, ...args) {
      var _a;
      let callbacks = this.events[event] || [];
      for (let i = 0, length = callbacks.length; i < length; i++) {
        (_a = callbacks[i]) == null ? void 0 : _a.call(callbacks, ...args);
      }
    }
    /**
     * Add a callback to the event
     * @param event Event name
     * @param cb Callback function
     * @returns Unsubscribe function
     */
    on(event, cb) {
      var _a;
      ((_a = this.events[event]) == null ? void 0 : _a.push(cb)) || (this.events[event] = [cb]);
      return () => {
        var _a2;
        this.events[event] = (_a2 = this.events[event]) == null ? void 0 : _a2.filter((i) => cb !== i);
      };
    }
    /**
     * Remove a callback from the event
     * @param event Event name
     * @param callback Callback function
     */
    off(event, callback) {
      var _a;
      this.events[event] = (_a = this.events[event]) == null ? void 0 : _a.filter((i) => callback !== i);
    }
    /**
     * Remove all event listeners and clean up
     */
    destroy() {
      this.events = {};
    }
  };
  var LINE_HEIGHT = 100 / 6;
  var listenerOptions = { passive: false };
  var VirtualScroll = class {
    constructor(element, options = { wheelMultiplier: 1, touchMultiplier: 1 }) {
      __publicField(this, "touchStart", {
        x: 0,
        y: 0
      });
      __publicField(this, "lastDelta", {
        x: 0,
        y: 0
      });
      __publicField(this, "window", {
        width: 0,
        height: 0
      });
      __publicField(this, "emitter", new Emitter());
      /**
       * Event handler for 'touchstart' event
       *
       * @param event Touch event
       */
      __publicField(this, "onTouchStart", (event) => {
        const { clientX, clientY } = event.targetTouches ? event.targetTouches[0] : event;
        this.touchStart.x = clientX;
        this.touchStart.y = clientY;
        this.lastDelta = {
          x: 0,
          y: 0
        };
        this.emitter.emit("scroll", {
          deltaX: 0,
          deltaY: 0,
          event
        });
      });
      /** Event handler for 'touchmove' event */
      __publicField(this, "onTouchMove", (event) => {
        const { clientX, clientY } = event.targetTouches ? event.targetTouches[0] : event;
        const deltaX = -(clientX - this.touchStart.x) * this.options.touchMultiplier;
        const deltaY = -(clientY - this.touchStart.y) * this.options.touchMultiplier;
        this.touchStart.x = clientX;
        this.touchStart.y = clientY;
        this.lastDelta = {
          x: deltaX,
          y: deltaY
        };
        this.emitter.emit("scroll", {
          deltaX,
          deltaY,
          event
        });
      });
      __publicField(this, "onTouchEnd", (event) => {
        this.emitter.emit("scroll", {
          deltaX: this.lastDelta.x,
          deltaY: this.lastDelta.y,
          event
        });
      });
      /** Event handler for 'wheel' event */
      __publicField(this, "onWheel", (event) => {
        let { deltaX, deltaY, deltaMode } = event;
        const multiplierX = deltaMode === 1 ? LINE_HEIGHT : deltaMode === 2 ? this.window.width : 1;
        const multiplierY = deltaMode === 1 ? LINE_HEIGHT : deltaMode === 2 ? this.window.height : 1;
        deltaX *= multiplierX;
        deltaY *= multiplierY;
        deltaX *= this.options.wheelMultiplier;
        deltaY *= this.options.wheelMultiplier;
        this.emitter.emit("scroll", { deltaX, deltaY, event });
      });
      __publicField(this, "onWindowResize", () => {
        this.window = {
          width: window.innerWidth,
          height: window.innerHeight
        };
      });
      this.element = element;
      this.options = options;
      window.addEventListener("resize", this.onWindowResize, false);
      this.onWindowResize();
      this.element.addEventListener("wheel", this.onWheel, listenerOptions);
      this.element.addEventListener(
        "touchstart",
        this.onTouchStart,
        listenerOptions
      );
      this.element.addEventListener(
        "touchmove",
        this.onTouchMove,
        listenerOptions
      );
      this.element.addEventListener("touchend", this.onTouchEnd, listenerOptions);
    }
    /**
     * Add an event listener for the given event and callback
     *
     * @param event Event name
     * @param callback Callback function
     */
    on(event, callback) {
      return this.emitter.on(event, callback);
    }
    /** Remove all event listeners and clean up */
    destroy() {
      this.emitter.destroy();
      window.removeEventListener("resize", this.onWindowResize, false);
      this.element.removeEventListener("wheel", this.onWheel, listenerOptions);
      this.element.removeEventListener(
        "touchstart",
        this.onTouchStart,
        listenerOptions
      );
      this.element.removeEventListener(
        "touchmove",
        this.onTouchMove,
        listenerOptions
      );
      this.element.removeEventListener(
        "touchend",
        this.onTouchEnd,
        listenerOptions
      );
    }
  };
  var defaultEasing = (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t));
  var Lenis = class {
    constructor({
      wrapper: wrapper2 = window,
      content = document.documentElement,
      eventsTarget = wrapper2,
      smoothWheel = true,
      syncTouch = false,
      syncTouchLerp = 0.075,
      touchInertiaExponent = 1.7,
      duration,
      // in seconds
      easing,
      lerp: lerp2 = 0.1,
      infinite = false,
      orientation = "vertical",
      // vertical, horizontal
      gestureOrientation = orientation === "horizontal" ? "both" : "vertical",
      // vertical, horizontal, both
      touchMultiplier = 1,
      wheelMultiplier = 1,
      autoResize = true,
      prevent,
      virtualScroll,
      overscroll = true,
      autoRaf = false,
      anchors = false,
      autoToggle = false,
      // https://caniuse.com/?search=transition-behavior
      allowNestedScroll = false,
      __experimental__naiveDimensions = false
    } = {}) {
      __publicField(this, "_isScrolling", false);
      // true when scroll is animating
      __publicField(this, "_isStopped", false);
      // true if user should not be able to scroll - enable/disable programmatically
      __publicField(this, "_isLocked", false);
      // same as isStopped but enabled/disabled when scroll reaches target
      __publicField(this, "_preventNextNativeScrollEvent", false);
      __publicField(this, "_resetVelocityTimeout", null);
      __publicField(this, "__rafID", null);
      /**
       * Whether or not the user is touching the screen
       */
      __publicField(this, "isTouching");
      /**
       * The time in ms since the lenis instance was created
       */
      __publicField(this, "time", 0);
      /**
       * User data that will be forwarded through the scroll event
       *
       * @example
       * lenis.scrollTo(100, {
       *   userData: {
       *     foo: 'bar'
       *   }
       * })
       */
      __publicField(this, "userData", {});
      /**
       * The last velocity of the scroll
       */
      __publicField(this, "lastVelocity", 0);
      /**
       * The current velocity of the scroll
       */
      __publicField(this, "velocity", 0);
      /**
       * The direction of the scroll
       */
      __publicField(this, "direction", 0);
      /**
       * The options passed to the lenis instance
       */
      __publicField(this, "options");
      /**
       * The target scroll value
       */
      __publicField(this, "targetScroll");
      /**
       * The animated scroll value
       */
      __publicField(this, "animatedScroll");
      // These are instanciated here as they don't need information from the options
      __publicField(this, "animate", new Animate());
      __publicField(this, "emitter", new Emitter());
      // These are instanciated in the constructor as they need information from the options
      __publicField(this, "dimensions");
      // This is not private because it's used in the Snap class
      __publicField(this, "virtualScroll");
      __publicField(this, "onScrollEnd", (e) => {
        if (!(e instanceof CustomEvent)) {
          if (this.isScrolling === "smooth" || this.isScrolling === false) {
            e.stopPropagation();
          }
        }
      });
      __publicField(this, "dispatchScrollendEvent", () => {
        this.options.wrapper.dispatchEvent(
          new CustomEvent("scrollend", {
            bubbles: this.options.wrapper === window,
            // cancelable: false,
            detail: {
              lenisScrollEnd: true
            }
          })
        );
      });
      __publicField(this, "onTransitionEnd", (event) => {
        if (event.propertyName.includes("overflow")) {
          const property = this.isHorizontal ? "overflow-x" : "overflow-y";
          const overflow = getComputedStyle(this.rootElement)[property];
          if (["hidden", "clip"].includes(overflow)) {
            this.internalStop();
          } else {
            this.internalStart();
          }
        }
      });
      __publicField(this, "onClick", (event) => {
        const path = event.composedPath();
        const anchor = path.find(
          (node) => {
            var _a;
            return node instanceof HTMLAnchorElement && ((_a = node.getAttribute("href")) == null ? void 0 : _a.includes("#"));
          }
        );
        if (anchor) {
          const href = anchor.getAttribute("href");
          if (href) {
            const options = typeof this.options.anchors === "object" && this.options.anchors ? this.options.anchors : void 0;
            const target = `#${href.split("#")[1]}`;
            this.scrollTo(target, options);
          }
        }
      });
      __publicField(this, "onPointerDown", (event) => {
        if (event.button === 1) {
          this.reset();
        }
      });
      __publicField(this, "onVirtualScroll", (data) => {
        if (typeof this.options.virtualScroll === "function" && this.options.virtualScroll(data) === false)
          return;
        const { deltaX, deltaY, event } = data;
        this.emitter.emit("virtual-scroll", { deltaX, deltaY, event });
        if (event.ctrlKey) return;
        if (event.lenisStopPropagation) return;
        const isTouch = event.type.includes("touch");
        const isWheel = event.type.includes("wheel");
        this.isTouching = event.type === "touchstart" || event.type === "touchmove";
        const isClickOrTap = deltaX === 0 && deltaY === 0;
        const isTapToStop = this.options.syncTouch && isTouch && event.type === "touchstart" && isClickOrTap && !this.isStopped && !this.isLocked;
        if (isTapToStop) {
          this.reset();
          return;
        }
        const isUnknownGesture = this.options.gestureOrientation === "vertical" && deltaY === 0 || this.options.gestureOrientation === "horizontal" && deltaX === 0;
        if (isClickOrTap || isUnknownGesture) {
          return;
        }
        let composedPath = event.composedPath();
        composedPath = composedPath.slice(0, composedPath.indexOf(this.rootElement));
        const prevent = this.options.prevent;
        if (!!composedPath.find(
          (node) => {
            var _a, _b, _c;
            return node instanceof HTMLElement && (typeof prevent === "function" && (prevent == null ? void 0 : prevent(node)) || ((_a = node.hasAttribute) == null ? void 0 : _a.call(node, "data-lenis-prevent")) || isTouch && ((_b = node.hasAttribute) == null ? void 0 : _b.call(node, "data-lenis-prevent-touch")) || isWheel && ((_c = node.hasAttribute) == null ? void 0 : _c.call(node, "data-lenis-prevent-wheel")) || this.options.allowNestedScroll && this.checkNestedScroll(node, { deltaX, deltaY }));
          }
        ))
          return;
        if (this.isStopped || this.isLocked) {
          if (event.cancelable) {
            event.preventDefault();
          }
          return;
        }
        const isSmooth = this.options.syncTouch && isTouch || this.options.smoothWheel && isWheel;
        if (!isSmooth) {
          this.isScrolling = "native";
          this.animate.stop();
          event.lenisStopPropagation = true;
          return;
        }
        let delta = deltaY;
        if (this.options.gestureOrientation === "both") {
          delta = Math.abs(deltaY) > Math.abs(deltaX) ? deltaY : deltaX;
        } else if (this.options.gestureOrientation === "horizontal") {
          delta = deltaX;
        }
        if (!this.options.overscroll || this.options.infinite || this.options.wrapper !== window && this.limit > 0 && (this.animatedScroll > 0 && this.animatedScroll < this.limit || this.animatedScroll === 0 && deltaY > 0 || this.animatedScroll === this.limit && deltaY < 0)) {
          event.lenisStopPropagation = true;
        }
        if (event.cancelable) {
          event.preventDefault();
        }
        const isSyncTouch = isTouch && this.options.syncTouch;
        const isTouchEnd = isTouch && event.type === "touchend";
        const hasTouchInertia = isTouchEnd;
        if (hasTouchInertia) {
          delta = Math.sign(this.velocity) * Math.pow(Math.abs(this.velocity), this.options.touchInertiaExponent);
        }
        this.scrollTo(this.targetScroll + delta, {
          programmatic: false,
          ...isSyncTouch ? {
            lerp: hasTouchInertia ? this.options.syncTouchLerp : 1
            // immediate: !hasTouchInertia,
          } : {
            lerp: this.options.lerp,
            duration: this.options.duration,
            easing: this.options.easing
          }
        });
      });
      __publicField(this, "onNativeScroll", () => {
        if (this._resetVelocityTimeout !== null) {
          clearTimeout(this._resetVelocityTimeout);
          this._resetVelocityTimeout = null;
        }
        if (this._preventNextNativeScrollEvent) {
          this._preventNextNativeScrollEvent = false;
          return;
        }
        if (this.isScrolling === false || this.isScrolling === "native") {
          const lastScroll = this.animatedScroll;
          this.animatedScroll = this.targetScroll = this.actualScroll;
          this.lastVelocity = this.velocity;
          this.velocity = this.animatedScroll - lastScroll;
          this.direction = Math.sign(
            this.animatedScroll - lastScroll
          );
          if (!this.isStopped) {
            this.isScrolling = "native";
          }
          this.emit();
          if (this.velocity !== 0) {
            this._resetVelocityTimeout = setTimeout(() => {
              this.lastVelocity = this.velocity;
              this.velocity = 0;
              this.isScrolling = false;
              this.emit();
            }, 400);
          }
        }
      });
      /**
       * RequestAnimationFrame for lenis
       *
       * @param time The time in ms from an external clock like `requestAnimationFrame` or Tempus
       */
      __publicField(this, "raf", (time) => {
        const deltaTime = time - (this.time || time);
        this.time = time;
        this.animate.advance(deltaTime * 1e-3);
        if (this.options.autoRaf) {
          this.__rafID = requestAnimationFrame(this.raf);
        }
      });
      window.lenisVersion = version;
      if (!wrapper2 || wrapper2 === document.documentElement) {
        wrapper2 = window;
      }
      if (typeof duration === "number" && typeof easing !== "function") {
        easing = defaultEasing;
      } else if (typeof easing === "function" && typeof duration !== "number") {
        duration = 1;
      }
      this.options = {
        wrapper: wrapper2,
        content,
        eventsTarget,
        smoothWheel,
        syncTouch,
        syncTouchLerp,
        touchInertiaExponent,
        duration,
        easing,
        lerp: lerp2,
        infinite,
        gestureOrientation,
        orientation,
        touchMultiplier,
        wheelMultiplier,
        autoResize,
        prevent,
        virtualScroll,
        overscroll,
        autoRaf,
        anchors,
        autoToggle,
        allowNestedScroll,
        __experimental__naiveDimensions
      };
      this.dimensions = new Dimensions(wrapper2, content, { autoResize });
      this.updateClassName();
      this.targetScroll = this.animatedScroll = this.actualScroll;
      this.options.wrapper.addEventListener("scroll", this.onNativeScroll, false);
      this.options.wrapper.addEventListener("scrollend", this.onScrollEnd, {
        capture: true
      });
      if (this.options.anchors && this.options.wrapper === window) {
        this.options.wrapper.addEventListener(
          "click",
          this.onClick,
          false
        );
      }
      this.options.wrapper.addEventListener(
        "pointerdown",
        this.onPointerDown,
        false
      );
      this.virtualScroll = new VirtualScroll(eventsTarget, {
        touchMultiplier,
        wheelMultiplier
      });
      this.virtualScroll.on("scroll", this.onVirtualScroll);
      if (this.options.autoToggle) {
        this.rootElement.addEventListener("transitionend", this.onTransitionEnd, {
          passive: true
        });
      }
      if (this.options.autoRaf) {
        this.__rafID = requestAnimationFrame(this.raf);
      }
    }
    /**
     * Destroy the lenis instance, remove all event listeners and clean up the class name
     */
    destroy() {
      this.emitter.destroy();
      this.options.wrapper.removeEventListener(
        "scroll",
        this.onNativeScroll,
        false
      );
      this.options.wrapper.removeEventListener("scrollend", this.onScrollEnd, {
        capture: true
      });
      this.options.wrapper.removeEventListener(
        "pointerdown",
        this.onPointerDown,
        false
      );
      if (this.options.anchors && this.options.wrapper === window) {
        this.options.wrapper.removeEventListener(
          "click",
          this.onClick,
          false
        );
      }
      this.virtualScroll.destroy();
      this.dimensions.destroy();
      this.cleanUpClassName();
      if (this.__rafID) {
        cancelAnimationFrame(this.__rafID);
      }
    }
    on(event, callback) {
      return this.emitter.on(event, callback);
    }
    off(event, callback) {
      return this.emitter.off(event, callback);
    }
    setScroll(scroll) {
      if (this.isHorizontal) {
        this.options.wrapper.scrollTo({ left: scroll, behavior: "instant" });
      } else {
        this.options.wrapper.scrollTo({ top: scroll, behavior: "instant" });
      }
    }
    /**
     * Force lenis to recalculate the dimensions
     */
    resize() {
      this.dimensions.resize();
      this.animatedScroll = this.targetScroll = this.actualScroll;
      this.emit();
    }
    emit() {
      this.emitter.emit("scroll", this);
    }
    reset() {
      this.isLocked = false;
      this.isScrolling = false;
      this.animatedScroll = this.targetScroll = this.actualScroll;
      this.lastVelocity = this.velocity = 0;
      this.animate.stop();
    }
    /**
     * Start lenis scroll after it has been stopped
     */
    start() {
      if (!this.isStopped) return;
      if (this.options.autoToggle) {
        this.rootElement.style.removeProperty("overflow");
        return;
      }
      this.internalStart();
    }
    internalStart() {
      if (!this.isStopped) return;
      this.reset();
      this.isStopped = false;
      this.emit();
    }
    /**
     * Stop lenis scroll
     */
    stop() {
      if (this.isStopped) return;
      if (this.options.autoToggle) {
        this.rootElement.style.setProperty("overflow", "clip");
        return;
      }
      this.internalStop();
    }
    internalStop() {
      if (this.isStopped) return;
      this.reset();
      this.isStopped = true;
      this.emit();
    }
    /**
     * Scroll to a target value
     *
     * @param target The target value to scroll to
     * @param options The options for the scroll
     *
     * @example
     * lenis.scrollTo(100, {
     *   offset: 100,
     *   duration: 1,
     *   easing: (t) => 1 - Math.cos((t * Math.PI) / 2),
     *   lerp: 0.1,
     *   onStart: () => {
     *     console.log('onStart')
     *   },
     *   onComplete: () => {
     *     console.log('onComplete')
     *   },
     * })
     */
    scrollTo(target, {
      offset = 0,
      immediate = false,
      lock = false,
      duration = this.options.duration,
      easing = this.options.easing,
      lerp: lerp2 = this.options.lerp,
      onStart,
      onComplete,
      force = false,
      // scroll even if stopped
      programmatic = true,
      // called from outside of the class
      userData
    } = {}) {
      if ((this.isStopped || this.isLocked) && !force) return;
      if (typeof target === "string" && ["top", "left", "start", "#"].includes(target)) {
        target = 0;
      } else if (typeof target === "string" && ["bottom", "right", "end"].includes(target)) {
        target = this.limit;
      } else {
        let node;
        if (typeof target === "string") {
          node = document.querySelector(target);
          if (!node) {
            if (target === "#top") {
              target = 0;
            } else {
              console.warn("Lenis: Target not found", target);
            }
          }
        } else if (target instanceof HTMLElement && (target == null ? void 0 : target.nodeType)) {
          node = target;
        }
        if (node) {
          if (this.options.wrapper !== window) {
            const wrapperRect = this.rootElement.getBoundingClientRect();
            offset -= this.isHorizontal ? wrapperRect.left : wrapperRect.top;
          }
          const rect = node.getBoundingClientRect();
          target = (this.isHorizontal ? rect.left : rect.top) + this.animatedScroll;
        }
      }
      if (typeof target !== "number") return;
      target += offset;
      target = Math.round(target);
      if (this.options.infinite) {
        if (programmatic) {
          this.targetScroll = this.animatedScroll = this.scroll;
          const distance = target - this.animatedScroll;
          if (distance > this.limit / 2) {
            target = target - this.limit;
          } else if (distance < -this.limit / 2) {
            target = target + this.limit;
          }
        }
      } else {
        target = clamp(0, target, this.limit);
      }
      if (target === this.targetScroll) {
        onStart == null ? void 0 : onStart(this);
        onComplete == null ? void 0 : onComplete(this);
        return;
      }
      this.userData = userData != null ? userData : {};
      if (immediate) {
        this.animatedScroll = this.targetScroll = target;
        this.setScroll(this.scroll);
        this.reset();
        this.preventNextNativeScrollEvent();
        this.emit();
        onComplete == null ? void 0 : onComplete(this);
        this.userData = {};
        requestAnimationFrame(() => {
          this.dispatchScrollendEvent();
        });
        return;
      }
      if (!programmatic) {
        this.targetScroll = target;
      }
      if (typeof duration === "number" && typeof easing !== "function") {
        easing = defaultEasing;
      } else if (typeof easing === "function" && typeof duration !== "number") {
        duration = 1;
      }
      this.animate.fromTo(this.animatedScroll, target, {
        duration,
        easing,
        lerp: lerp2,
        onStart: () => {
          if (lock) this.isLocked = true;
          this.isScrolling = "smooth";
          onStart == null ? void 0 : onStart(this);
        },
        onUpdate: (value, completed) => {
          this.isScrolling = "smooth";
          this.lastVelocity = this.velocity;
          this.velocity = value - this.animatedScroll;
          this.direction = Math.sign(this.velocity);
          this.animatedScroll = value;
          this.setScroll(this.scroll);
          if (programmatic) {
            this.targetScroll = value;
          }
          if (!completed) this.emit();
          if (completed) {
            this.reset();
            this.emit();
            onComplete == null ? void 0 : onComplete(this);
            this.userData = {};
            requestAnimationFrame(() => {
              this.dispatchScrollendEvent();
            });
            this.preventNextNativeScrollEvent();
          }
        }
      });
    }
    preventNextNativeScrollEvent() {
      this._preventNextNativeScrollEvent = true;
      requestAnimationFrame(() => {
        this._preventNextNativeScrollEvent = false;
      });
    }
    checkNestedScroll(node, { deltaX, deltaY }) {
      var _a, _b;
      const time = Date.now();
      const cache = (_a = node._lenis) != null ? _a : node._lenis = {};
      let hasOverflowX, hasOverflowY, isScrollableX, isScrollableY, scrollWidth, scrollHeight, clientWidth, clientHeight;
      const gestureOrientation = this.options.gestureOrientation;
      if (time - ((_b = cache.time) != null ? _b : 0) > 2e3) {
        cache.time = Date.now();
        const computedStyle = window.getComputedStyle(node);
        cache.computedStyle = computedStyle;
        const overflowXString = computedStyle.overflowX;
        const overflowYString = computedStyle.overflowY;
        hasOverflowX = ["auto", "overlay", "scroll"].includes(overflowXString);
        hasOverflowY = ["auto", "overlay", "scroll"].includes(overflowYString);
        cache.hasOverflowX = hasOverflowX;
        cache.hasOverflowY = hasOverflowY;
        if (!hasOverflowX && !hasOverflowY) return false;
        if (gestureOrientation === "vertical" && !hasOverflowY) return false;
        if (gestureOrientation === "horizontal" && !hasOverflowX) return false;
        scrollWidth = node.scrollWidth;
        scrollHeight = node.scrollHeight;
        clientWidth = node.clientWidth;
        clientHeight = node.clientHeight;
        isScrollableX = scrollWidth > clientWidth;
        isScrollableY = scrollHeight > clientHeight;
        cache.isScrollableX = isScrollableX;
        cache.isScrollableY = isScrollableY;
        cache.scrollWidth = scrollWidth;
        cache.scrollHeight = scrollHeight;
        cache.clientWidth = clientWidth;
        cache.clientHeight = clientHeight;
      } else {
        isScrollableX = cache.isScrollableX;
        isScrollableY = cache.isScrollableY;
        hasOverflowX = cache.hasOverflowX;
        hasOverflowY = cache.hasOverflowY;
        scrollWidth = cache.scrollWidth;
        scrollHeight = cache.scrollHeight;
        clientWidth = cache.clientWidth;
        clientHeight = cache.clientHeight;
      }
      if (!hasOverflowX && !hasOverflowY || !isScrollableX && !isScrollableY) {
        return false;
      }
      if (gestureOrientation === "vertical" && (!hasOverflowY || !isScrollableY))
        return false;
      if (gestureOrientation === "horizontal" && (!hasOverflowX || !isScrollableX))
        return false;
      let orientation;
      if (gestureOrientation === "horizontal") {
        orientation = "x";
      } else if (gestureOrientation === "vertical") {
        orientation = "y";
      } else {
        const isScrollingX = deltaX !== 0;
        const isScrollingY = deltaY !== 0;
        if (isScrollingX && hasOverflowX && isScrollableX) {
          orientation = "x";
        }
        if (isScrollingY && hasOverflowY && isScrollableY) {
          orientation = "y";
        }
      }
      if (!orientation) return false;
      let scroll, maxScroll, delta, hasOverflow, isScrollable;
      if (orientation === "x") {
        scroll = node.scrollLeft;
        maxScroll = scrollWidth - clientWidth;
        delta = deltaX;
        hasOverflow = hasOverflowX;
        isScrollable = isScrollableX;
      } else if (orientation === "y") {
        scroll = node.scrollTop;
        maxScroll = scrollHeight - clientHeight;
        delta = deltaY;
        hasOverflow = hasOverflowY;
        isScrollable = isScrollableY;
      } else {
        return false;
      }
      const willScroll = delta > 0 ? scroll < maxScroll : scroll > 0;
      return willScroll && hasOverflow && isScrollable;
    }
    /**
     * The root element on which lenis is instanced
     */
    get rootElement() {
      return this.options.wrapper === window ? document.documentElement : this.options.wrapper;
    }
    /**
     * The limit which is the maximum scroll value
     */
    get limit() {
      if (this.options.__experimental__naiveDimensions) {
        if (this.isHorizontal) {
          return this.rootElement.scrollWidth - this.rootElement.clientWidth;
        } else {
          return this.rootElement.scrollHeight - this.rootElement.clientHeight;
        }
      } else {
        return this.dimensions.limit[this.isHorizontal ? "x" : "y"];
      }
    }
    /**
     * Whether or not the scroll is horizontal
     */
    get isHorizontal() {
      return this.options.orientation === "horizontal";
    }
    /**
     * The actual scroll value
     */
    get actualScroll() {
      var _a, _b;
      const wrapper2 = this.options.wrapper;
      return this.isHorizontal ? (_a = wrapper2.scrollX) != null ? _a : wrapper2.scrollLeft : (_b = wrapper2.scrollY) != null ? _b : wrapper2.scrollTop;
    }
    /**
     * The current scroll value
     */
    get scroll() {
      return this.options.infinite ? modulo(this.animatedScroll, this.limit) : this.animatedScroll;
    }
    /**
     * The progress of the scroll relative to the limit
     */
    get progress() {
      return this.limit === 0 ? 1 : this.scroll / this.limit;
    }
    /**
     * Current scroll state
     */
    get isScrolling() {
      return this._isScrolling;
    }
    set isScrolling(value) {
      if (this._isScrolling !== value) {
        this._isScrolling = value;
        this.updateClassName();
      }
    }
    /**
     * Check if lenis is stopped
     */
    get isStopped() {
      return this._isStopped;
    }
    set isStopped(value) {
      if (this._isStopped !== value) {
        this._isStopped = value;
        this.updateClassName();
      }
    }
    /**
     * Check if lenis is locked
     */
    get isLocked() {
      return this._isLocked;
    }
    set isLocked(value) {
      if (this._isLocked !== value) {
        this._isLocked = value;
        this.updateClassName();
      }
    }
    /**
     * Check if lenis is smooth scrolling
     */
    get isSmooth() {
      return this.isScrolling === "smooth";
    }
    /**
     * The class name applied to the wrapper element
     */
    get className() {
      let className = "lenis";
      if (this.options.autoToggle) className += " lenis-autoToggle";
      if (this.isStopped) className += " lenis-stopped";
      if (this.isLocked) className += " lenis-locked";
      if (this.isScrolling) className += " lenis-scrolling";
      if (this.isScrolling === "smooth") className += " lenis-smooth";
      return className;
    }
    updateClassName() {
      this.cleanUpClassName();
      this.rootElement.className = `${this.rootElement.className} ${this.className}`.trim();
    }
    cleanUpClassName() {
      this.rootElement.className = this.rootElement.className.replace(/lenis(-\w+)?/g, "").trim();
    }
  };

  // src/modules/smooth-scroll.js
  console.log("[SMOOTH-SCROLL] Module loaded");
  var lenisInstance = null;
  function initSmoothScroll(options = {}) {
    var _a, _b;
    if (lenisInstance) {
      console.log("[SMOOTH-SCROLL] Already initialized");
      return lenisInstance;
    }
    const hasSnapContainer = document.querySelector(".perspective-wrapper") !== null;
    if (hasSnapContainer && !options.forceEnableOnSnap) {
      console.log("[SMOOTH-SCROLL] \u26A0\uFE0F Skipped - page has scroll-snap container");
      console.log("[SMOOTH-SCROLL] Using native scrolling for optimal snap behavior");
      return null;
    }
    const defaultLerp = (_a = options.lerp) != null ? _a : 0.08;
    const config = {
      lerp: defaultLerp,
      duration: 1.2,
      orientation: "vertical",
      gestureOrientation: "vertical",
      smoothWheel: true,
      smoothTouch: false,
      wheelMultiplier: 1,
      touchMultiplier: 2,
      infinite: (_b = options.infinite) != null ? _b : false,
      ...options
    };
    try {
      let raf = function(time) {
        lenisInstance.raf(time);
        requestAnimationFrame(raf);
      };
      lenisInstance = new Lenis(config);
      requestAnimationFrame(raf);
      if (window.gsap && window.ScrollTrigger) {
        lenisInstance.on("scroll", ScrollTrigger.update);
        window.gsap.ticker.add((time) => {
          lenisInstance.raf(time * 1e3);
        });
        window.gsap.ticker.lagSmoothing(0);
      }
      window.App = window.App || {};
      window.App.smoothScroll = {
        stop: () => lenisInstance.stop(),
        start: () => lenisInstance.start(),
        instance: lenisInstance
      };
      console.log(`[SMOOTH-SCROLL] \u2713 Initialized with momentum scrolling (lerp: ${defaultLerp})`);
      return lenisInstance;
    } catch (err) {
      console.error("[SMOOTH-SCROLL] \u274C Init error:", err);
      return null;
    }
  }
  function initContainerScroll(container, options = {}) {
    var _a;
    const element = typeof container === "string" ? document.querySelector(container) : container;
    if (!element) {
      console.warn(`[SMOOTH-SCROLL] Container not found: ${container}`);
      return null;
    }
    const defaultLerp = (_a = options.lerp) != null ? _a : 0.08;
    const contentElement = options.content ? typeof options.content === "string" ? element.querySelector(options.content) : options.content : element.children.length > 0 ? element.children[0] : element;
    const config = {
      wrapper: element,
      content: contentElement,
      lerp: defaultLerp,
      duration: 1.2,
      orientation: "vertical",
      gestureOrientation: "vertical",
      smoothWheel: true,
      smoothTouch: false,
      wheelMultiplier: 1,
      touchMultiplier: 2,
      infinite: false,
      ...options
    };
    delete config.wrapper;
    delete config.content;
    try {
      let raf = function(time) {
        instance.raf(time);
        requestAnimationFrame(raf);
      };
      const instance = new Lenis({
        wrapper: element,
        content: contentElement,
        ...config
      });
      requestAnimationFrame(raf);
      if (window.gsap && window.ScrollTrigger) {
        instance.on("scroll", ScrollTrigger.update);
      }
      console.log(`[SMOOTH-SCROLL] \u2713 Container scroll initialized for ${typeof container === "string" ? container : element.className || "element"}`);
      return instance;
    } catch (err) {
      console.error("[SMOOTH-SCROLL] \u274C Container scroll init error:", err);
      return null;
    }
  }

  // src/modules/lightbox.js
  console.log("[LIGHTBOX] Module loaded");
  var STATE = {
    IDLE: "idle",
    OPENING: "opening",
    OPEN: "open",
    CLOSING: "closing"
  };
  var currentState = STATE.IDLE;
  var projectData2 = null;
  var lastFocus = null;
  var overlayLenis = null;
  var detailsOpen = false;
  function initLightbox({
    root = "#lightbox",
    openDuration = 1500,
    closeDuration = 1500
  } = {}) {
    var _a, _b, _c, _d, _e, _f;
    const lb = document.querySelector(root);
    if (!lb) {
      console.log("[LIGHTBOX] \u274C Element not found");
      return;
    }
    const inner = lb.querySelector(".lightbox__inner");
    const videoArea = lb.querySelector(".video-area");
    const overlay = lb.querySelector(".lightbox__overlay");
    const closeBtn = document.querySelector("#close-btn");
    const detailsBtn = document.querySelector("#details-btn");
    const slides = document.querySelectorAll(".slide");
    const prefersReduced = matchMedia("(prefers-reduced-motion: reduce)").matches;
    const clientEl = document.querySelector("#lightbox-client");
    const titleEl = document.querySelector("#lightbox-title");
    const truthEl = document.querySelector("#lightbox-truth");
    const truthWellToldEl = document.querySelector("#lightbox-truthwelltold");
    const descriptionEl = document.querySelector("#lightbox-description");
    const impactEl = document.querySelector("#lightbox-impact");
    const awardsContainer = document.querySelector("#lightbox-awards");
    lb.style.display = "none";
    lb.style.pointerEvents = "none";
    lb.setAttribute("role", lb.getAttribute("role") || "dialog");
    lb.setAttribute("aria-modal", lb.getAttribute("aria-modal") || "true");
    lb.setAttribute("aria-hidden", "true");
    lb.setAttribute("data-state", STATE.IDLE);
    unlockScroll({ delayMs: 0 });
    document.body.classList.remove("modal-open", "preloader-active");
    document.body.style.overflow = "";
    const perspectiveWrapper = document.querySelector(".perspective-wrapper");
    if (perspectiveWrapper) {
      perspectiveWrapper.classList.remove("modal-open");
      perspectiveWrapper.style.overflow = "";
    }
    projectData2 = ((_c = (_b = (_a = window.App) == null ? void 0 : _a.slides) == null ? void 0 : _b.getProjectData) == null ? void 0 : _c.call(_b)) || project_data_default;
    const projectCount = Object.keys(projectData2).length;
    const dataSource = ((_e = (_d = window.App) == null ? void 0 : _d.slides) == null ? void 0 : _e.getProjectData) ? "slides module" : "bundled JSON";
    console.log(`[LIGHTBOX] \u2713 Loaded ${projectCount} project${projectCount !== 1 ? "s" : ""} from ${dataSource}`);
    console.log("\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501");
    console.log("\u{1F50D} LIGHTBOX SETUP VALIDATION");
    console.log("\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n");
    let validationErrors = [];
    let validationWarnings = [];
    console.log("1\uFE0F\u20E3  Main Container & Structure");
    console.log(`   \u2713 Found: ${root}`);
    console.log(`   \u2713 State machine initialized: ${currentState}`);
    console.log(`   \u23F1\uFE0F  Open duration: ${openDuration}ms (must match Webflow 'lb:show' animation)`);
    console.log(`   \u23F1\uFE0F  Close duration: ${closeDuration}ms (must match Webflow 'lb:hide' animation)`);
    if (inner) {
      console.log(`   \u2713 .lightbox__inner found`);
    } else {
      console.log(`   \u274C .lightbox__inner NOT found`);
      validationErrors.push(".lightbox__inner missing");
    }
    if (overlay) {
      console.log(`   \u2713 .lightbox__overlay found (smooth scroll container)`);
    } else {
      console.log(`   \u26A0\uFE0F  .lightbox__overlay NOT found (smooth scroll will be skipped)`);
      validationWarnings.push(".lightbox__overlay missing");
    }
    if (videoArea) {
      console.log(`   \u2713 .video-area found`);
    } else {
      console.log(`   \u274C .video-area NOT found`);
      validationErrors.push(".video-area missing");
    }
    console.log("\n2\uFE0F\u20E3  Content Injection Targets");
    const contentTargets = [
      { el: clientEl, id: "#lightbox-client", required: true },
      { el: titleEl, id: "#lightbox-title", required: true },
      { el: truthEl, id: "#lightbox-truth", required: false },
      { el: truthWellToldEl, id: "#lightbox-truthwelltold", required: false },
      { el: descriptionEl, id: "#lightbox-description", required: true },
      { el: impactEl, id: "#lightbox-impact", required: false },
      { el: awardsContainer, id: "#lightbox-awards", required: true }
    ];
    contentTargets.forEach(({ el, id, required }) => {
      if (el) {
        console.log(`   \u2713 ${id}`);
      } else if (required) {
        console.log(`   \u274C ${id} NOT found (REQUIRED)`);
        validationErrors.push(`${id} missing`);
      } else {
        console.log(`   \u26A0\uFE0F  ${id} NOT found (optional)`);
        validationWarnings.push(`${id} missing`);
      }
    });
    console.log("\n3\uFE0F\u20E3  Interactive Elements");
    if (closeBtn) {
      console.log(`   \u2713 #close-btn found`);
    } else {
      console.log(`   \u274C #close-btn NOT found`);
      validationErrors.push("#close-btn missing");
    }
    console.log(`
4\uFE0F\u20E3  Slide Triggers & Links`);
    console.log(`   ${slides.length > 0 ? "\u2713" : "\u274C"} Found: ${slides.length} .slide element${slides.length !== 1 ? "s" : ""}`);
    if (slides.length === 0) {
      validationErrors.push("No .slide elements found");
    } else {
      let slidesWithLinks = 0;
      let slidesWithoutLinks = [];
      slides.forEach((slide, index) => {
        const link = slide.querySelector(".slide__link");
        if (link) {
          slidesWithLinks++;
        } else {
          slidesWithoutLinks.push(index);
        }
      });
      console.log(`   ${slidesWithLinks === slides.length ? "\u2713" : "\u26A0\uFE0F"} ${slidesWithLinks}/${slides.length} slides have .slide__link`);
      if (slidesWithoutLinks.length > 0) {
        console.log(`   \u26A0\uFE0F  Missing .slide__link in slide indices: ${slidesWithoutLinks.join(", ")}`);
        validationWarnings.push(`${slidesWithoutLinks.length} slides missing .slide__link`);
      }
    }
    validateSlideData();
    console.log("\n5\uFE0F\u20E3  Webflow IX Setup");
    const wfIx2 = window.Webflow && window.Webflow.require ? window.Webflow.require("ix3") || window.Webflow.require("ix2") : null;
    if (wfIx2) {
      const version2 = window.Webflow.require("ix3") ? "IX3" : "IX2";
      console.log(`   \u2713 Webflow ${version2} detected`);
    } else {
      console.log("   \u26A0\uFE0F  Webflow IX NOT detected");
      validationWarnings.push("Webflow IX not detected");
    }
    console.log("\n   \u{1F4CB} Required Custom Events in Webflow:");
    console.log('      \u2022 "lb:show" \u2192 triggers open animation');
    console.log('      \u2022 "lb:hide" \u2192 triggers close animation');
    console.log(`      \u2022 Durations MUST match: open=${openDuration}ms, close=${closeDuration}ms`);
    console.log("\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501");
    if (validationErrors.length > 0) {
      console.log("\u274C VALIDATION FAILED");
      console.log(`   ${validationErrors.length} critical error${validationErrors.length !== 1 ? "s" : ""}:`);
      validationErrors.forEach((err) => console.log(`   \u2022 ${err}`));
    } else {
      console.log("\u2705 VALIDATION COMPLETE - All critical elements found");
    }
    if (validationWarnings.length > 0) {
      console.log(`
\u26A0\uFE0F  ${validationWarnings.length} warning${validationWarnings.length !== 1 ? "s" : ""}:`);
      validationWarnings.forEach((warn) => console.log(`   \u2022 ${warn}`));
    }
    console.log("");
    function validateSlideData() {
      if (!projectData2) return;
      let validSlides = 0;
      let missingData = [];
      slides.forEach((slide, index) => {
        const projectId2 = slide.dataset.project;
        if (!projectId2) {
          missingData.push(`Slide ${index}: missing data-project attribute`);
        } else if (!projectData2[projectId2]) {
          missingData.push(`Slide ${index}: project ID "${projectId2}" not found in JSON`);
        } else {
          const project = projectData2[projectId2];
          if (!project.vimeoId || project.vimeoId === "000000000") {
            missingData.push(`Slide ${index} (${projectId2}): missing or invalid vimeoId`);
          }
          if (!project.vimeoPreviewId || project.vimeoPreviewId === "000000000") {
            missingData.push(`Slide ${index} (${projectId2}): missing or invalid vimeoPreviewId`);
          }
          validSlides++;
        }
      });
      console.log(`[LIGHTBOX] \u2713 Valid slides: ${validSlides}/${slides.length}`);
      if (missingData.length > 0) {
        console.warn("[LIGHTBOX] \u26A0\uFE0F  Issues found:");
        missingData.forEach((msg) => console.warn(`   - ${msg}`));
      }
    }
    function emitWebflowEvent(name) {
      try {
        if (window.Webflow && window.Webflow.require) {
          const wfIx3 = window.Webflow.require("ix3") || window.Webflow.require("ix2");
          if (wfIx3 && typeof wfIx3.emit === "function") {
            wfIx3.emit(name);
            console.log(`\u{1F3AC} [LIGHTBOX] Triggered animation: "${name}"`);
          } else {
            console.warn(`\u26A0\uFE0F  [LIGHTBOX] Cannot emit "${name}" - wfIx.emit not available`);
          }
        } else {
          console.warn(`\u26A0\uFE0F  [LIGHTBOX] Cannot emit "${name}" - Webflow IX not available`);
        }
      } catch (err) {
        console.error(`\u274C [LIGHTBOX] Error emitting "${name}":`, err);
      }
      window.dispatchEvent(new CustomEvent(name));
    }
    function setPageInert(on) {
      const siblings = Array.from(document.body.children).filter((n) => n !== lb);
      siblings.forEach((n) => {
        try {
          if ("inert" in n) n.inert = !!on;
        } catch {
        }
        if (on) n.setAttribute("aria-hidden", "true");
        else n.removeAttribute("aria-hidden");
      });
    }
    function trapFocus(e) {
      if (e.key !== "Tab") return;
      const focusables = lb.querySelectorAll([
        "a[href]",
        "button",
        "input",
        "select",
        "textarea",
        '[tabindex]:not([tabindex="-1"])'
      ].join(","));
      const list = Array.from(focusables).filter(
        (el) => !el.hasAttribute("disabled") && !el.getAttribute("aria-hidden")
      );
      if (list.length === 0) {
        e.preventDefault();
        (inner || lb).focus();
        return;
      }
      const first = list[0];
      const last = list[list.length - 1];
      if (e.shiftKey && document.activeElement === first) {
        e.preventDefault();
        last.focus();
      } else if (!e.shiftKey && document.activeElement === last) {
        e.preventDefault();
        first.focus();
      }
    }
    function getProjectById(id) {
      if (!projectData2[id]) {
        console.error(`[LIGHTBOX] \u274C Project "${id}" not found in JSON`);
        return null;
      }
      return projectData2[id];
    }
    function renderAwards(awardsData) {
      console.log(`[LIGHTBOX] \u{1F3C6} Rendering awards: ${(awardsData == null ? void 0 : awardsData.length) || 0} awards`);
      const allAwards = document.querySelectorAll('[id^="award-"]');
      allAwards.forEach((el) => {
        el.style.display = "none";
      });
      if (!awardsData || awardsData.length === 0) {
        console.log("[LIGHTBOX] No awards to display");
        return;
      }
      awardsData.forEach((award, index) => {
        const awardEl = document.getElementById(`award-${award.type}`);
        if (!awardEl) {
          console.warn(`[LIGHTBOX] \u26A0\uFE0F  Award element #award-${award.type} not found in DOM`);
          return;
        }
        awardEl.style.display = "flex";
        const labelEl = awardEl.querySelector(".award__label");
        if (labelEl) {
          labelEl.textContent = award.label || "";
        } else {
          console.warn(`[LIGHTBOX] \u26A0\uFE0F  Label element not found for #award-${award.type}`);
        }
        console.log(`[LIGHTBOX] \u2713 Award ${index + 1}: ${award.type} displayed`);
      });
    }
    async function waitForImages(imageUrls) {
      if (!imageUrls || imageUrls.length === 0) return;
      console.log(`[LIGHTBOX] \u23F3 Loading ${imageUrls.length} images...`);
      const promises = imageUrls.map((url) => {
        return new Promise((resolve, reject) => {
          const img = new Image();
          img.onload = () => {
            img.decode().then(() => resolve()).catch(() => resolve());
          };
          img.onerror = () => {
            console.warn(`[LIGHTBOX] \u26A0\uFE0F  Failed to load image: ${url}`);
            resolve();
          };
          img.src = url;
        });
      });
      await Promise.all(promises);
      console.log(`[LIGHTBOX] \u2713 All images loaded`);
    }
    async function injectContent(project) {
      console.log(`[LIGHTBOX] \u{1F4DD} Injecting content for: ${project.title}`);
      if (clientEl) clientEl.textContent = project.client || "";
      if (titleEl) titleEl.textContent = project.title || "";
      if (truthEl) truthEl.textContent = project.truth || "";
      if (truthWellToldEl) truthWellToldEl.textContent = project.truthWellTold || "";
      if (descriptionEl) descriptionEl.textContent = project.description || "";
      if (impactEl) impactEl.textContent = project.impact || "";
      renderAwards(project.awards || []);
      if (videoArea) {
        if (!project.vimeoId || project.vimeoId === "000000000") {
          console.error(`[LIGHTBOX] \u274C Missing or invalid vimeoId for project "${projectId}"`);
        } else {
          mountVimeo(videoArea, project.vimeoId, {
            autoplay: 1,
            muted: 1,
            autopause: 0,
            controls: 0,
            background: 1,
            playsinline: 1,
            loop: 1,
            dnt: 1
          });
        }
      }
      console.log(`[LIGHTBOX] \u2713 Content injected`);
    }
    function setState(newState) {
      currentState = newState;
      lb.setAttribute("data-state", newState);
      console.log(`[LIGHTBOX] State: ${newState}`);
    }
    function disableSlideInteractions() {
      slides.forEach((slide) => {
        const link = slide.querySelector(".slide__link");
        if (link) {
          link.classList.add("is-disabled");
          link.setAttribute("aria-disabled", "true");
          link.style.pointerEvents = "none";
        }
      });
      console.log("[LIGHTBOX] \u{1F6AB} Slide links disabled");
    }
    function enableSlideInteractions() {
      slides.forEach((slide) => {
        const link = slide.querySelector(".slide__link");
        if (link) {
          link.classList.remove("is-disabled");
          link.removeAttribute("aria-disabled");
          link.style.pointerEvents = "";
        }
      });
      console.log("[LIGHTBOX] \u2713 Slide links re-enabled");
    }
    async function openFromSlide(slide) {
      var _a2, _b2, _c2;
      if (currentState !== STATE.IDLE) {
        console.log("[LIGHTBOX] \u26A0\uFE0F  Cannot open - already opening/open/closing");
        return;
      }
      const projectId2 = (_a2 = slide == null ? void 0 : slide.dataset) == null ? void 0 : _a2.project;
      if (!projectId2) {
        console.error("[LIGHTBOX] \u274C Slide missing data-project attribute");
        return;
      }
      const project = getProjectById(projectId2);
      if (!project) {
        console.error(`[LIGHTBOX] \u274C Project "${projectId2}" not found in JSON`);
        return;
      }
      setState(STATE.OPENING);
      disableSlideInteractions();
      lastFocus = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      try {
        await injectContent(project);
        setPageInert(true);
        lockScroll();
        if ((_c2 = (_b2 = window.App) == null ? void 0 : _b2.smoothScroll) == null ? void 0 : _c2.stop) {
          window.App.smoothScroll.stop();
        }
        lb.setAttribute("aria-hidden", "false");
        lb.style.pointerEvents = "auto";
        emitWebflowEvent("lb:show");
        setTimeout(() => {
          finishOpen();
        }, openDuration);
        emit("LIGHTBOX_OPEN", lb, project);
      } catch (err) {
        console.error("[LIGHTBOX] \u274C Error opening:", err);
        setState(STATE.IDLE);
        enableSlideInteractions();
      }
    }
    function finishOpen() {
      console.log("[LIGHTBOX] \u2713 Open animation complete");
      setState(STATE.OPEN);
      if (overlay) {
        overlay.style.pointerEvents = detailsOpen ? "auto" : "none";
        overlay.style.overflow = "auto";
        requestAnimationFrame(() => {
          overlayLenis = initContainerScroll(overlay, {
            lerp: 0.08,
            smoothWheel: true,
            smoothTouch: false
          });
        });
      }
      lb.setAttribute("tabindex", "-1");
      requestAnimationFrame(() => {
        (inner || lb).focus();
      });
      emit("LIGHTBOX_OPENED", lb);
    }
    function requestClose() {
      if (currentState !== STATE.OPEN) {
        console.log("[LIGHTBOX] \u26A0\uFE0F  Cannot close - not open");
        return;
      }
      setState(STATE.CLOSING);
      emit("LIGHTBOX_CLOSE", lb);
      emitWebflowEvent("lb:hide");
      const hideDelay = prefersReduced ? 0 : closeDuration;
      setTimeout(() => {
        finishClose();
      }, hideDelay);
    }
    function finishClose() {
      var _a2, _b2;
      console.log("[LIGHTBOX] \u2713 Close animation complete");
      lb.setAttribute("aria-hidden", "true");
      setPageInert(false);
      if (overlayLenis) {
        try {
          overlayLenis.destroy();
          overlayLenis = null;
          console.log("[LIGHTBOX] \u2713 Overlay smooth scroll destroyed");
        } catch (err) {
          console.warn("[LIGHTBOX] Error destroying overlay scroll:", err);
        }
      }
      unlockScroll({ delayMs: 0 });
      console.log("[LIGHTBOX] \u2713 Scroll unlocked");
      if ((_b2 = (_a2 = window.App) == null ? void 0 : _a2.smoothScroll) == null ? void 0 : _b2.start) {
        requestAnimationFrame(() => {
          window.App.smoothScroll.start();
          console.log("[LIGHTBOX] \u2713 Main smooth scroll restarted");
        });
      }
      enableSlideInteractions();
      if (videoArea) videoArea.innerHTML = "";
      renderAwards([]);
      if (clientEl) clientEl.textContent = "";
      if (titleEl) titleEl.textContent = "";
      if (truthEl) truthEl.textContent = "";
      if (truthWellToldEl) truthWellToldEl.textContent = "";
      if (descriptionEl) descriptionEl.textContent = "";
      if (impactEl) impactEl.textContent = "";
      if (detailsOpen) {
        closeDetails({ silent: true });
      }
      lb.style.display = "none";
      lb.style.pointerEvents = "none";
      if (lastFocus && document.body.contains(lastFocus)) {
        lastFocus.focus();
      }
      setState(STATE.IDLE);
      emit("LIGHTBOX_CLOSED", lb);
    }
    const slidesContainer = (_f = slides[0]) == null ? void 0 : _f.parentElement;
    function handleSlideClick(e) {
      const link = e.target.closest(".slide__link");
      if (!link) return;
      if (currentState !== STATE.IDLE) {
        e.preventDefault();
        e.stopPropagation();
        return;
      }
      const slide = link.closest(".slide");
      if (!slide) {
        console.warn("[LIGHTBOX] \u26A0\uFE0F  .slide__link found but parent .slide missing");
        return;
      }
      e.preventDefault();
      e.stopPropagation();
      openFromSlide(slide);
    }
    function handleCloseBtnClick(e) {
      e.preventDefault();
      e.stopPropagation();
      if (currentState === STATE.OPEN) {
        console.log("[LIGHTBOX] \u{1F3AF} Close button clicked");
        requestClose();
      }
    }
    function handleKeydown(e) {
      if (currentState === STATE.OPEN) {
        if (e.key === "Escape") {
          if (detailsOpen) {
            console.log("[LIGHTBOX] \u{1F3AF} Escape key pressed - closing details overlay");
            closeDetails();
          } else {
            console.log("[LIGHTBOX] \u{1F3AF} Escape key pressed - closing lightbox");
            requestClose();
          }
        }
        if (e.key === "Tab") {
          trapFocus(e);
        }
      }
    }
    function openDetails() {
      if (detailsOpen || currentState !== STATE.OPEN) return;
      detailsOpen = true;
      console.log("[LIGHTBOX] \u{1F3AF} Details overlay opening");
      emitWebflowEvent("details:show");
      requestAnimationFrame(() => {
        if (overlay) {
          overlay.style.pointerEvents = "auto";
          overlay.style.overflow = "auto";
        }
        if (lb) {
          lb.style.pointerEvents = "auto";
        }
      });
    }
    function closeDetails({ silent = false } = {}) {
      if (!detailsOpen) return;
      detailsOpen = false;
      console.log("[LIGHTBOX] \u{1F3AF} Details overlay closing");
      if (!silent) {
        emitWebflowEvent("details:hide");
      }
      requestAnimationFrame(() => {
        if (overlay) {
          overlay.style.pointerEvents = "none";
        }
        if (lb) {
          lb.style.pointerEvents = "auto";
        }
      });
    }
    function handleDetailsClick(e) {
      e.preventDefault();
      e.stopPropagation();
      if (currentState !== STATE.OPEN) {
        console.log("[LIGHTBOX] \u26A0\uFE0F  Details button clicked but lightbox not open");
        return;
      }
      if (detailsOpen) {
        closeDetails();
      } else {
        openDetails();
      }
    }
    function handleOverlayClick(e) {
      if (!detailsOpen || currentState !== STATE.OPEN) {
        return;
      }
      console.log("[LIGHTBOX] \u{1F50D} Overlay click while details open:", {
        tag: e.target.tagName,
        id: e.target.id,
        classes: (e.target.className || "").toString().substring(0, 80)
      });
      closeDetails();
    }
    function handleLightboxClick(e) {
      if (!detailsOpen || currentState !== STATE.OPEN) {
        return;
      }
      console.log("[LIGHTBOX] \u{1F50D} Lightbox click while details open");
      closeDetails();
    }
    if (slidesContainer) {
      slidesContainer.addEventListener("click", handleSlideClick, { passive: false });
      console.log(`[LIGHTBOX] \u2713 Delegated click handler attached to container (${slides.length} slides)`);
    } else {
      console.warn("[LIGHTBOX] \u26A0\uFE0F  Could not find slides container for event delegation");
    }
    if (closeBtn) {
      closeBtn.addEventListener("click", handleCloseBtnClick);
    } else {
      console.warn("[LIGHTBOX] \u26A0\uFE0F  #close-btn not found - only Escape key will close");
    }
    if (detailsBtn) {
      detailsBtn.addEventListener("click", handleDetailsClick, { passive: false });
      console.log("[LIGHTBOX] \u2713 Details button handler attached");
    } else {
      console.warn("[LIGHTBOX] \u26A0\uFE0F  Details button (#details-btn) not found");
    }
    if (overlay) {
      overlay.style.pointerEvents = "none";
      overlay.addEventListener("click", handleOverlayClick, { passive: false });
      console.log("[LIGHTBOX] \u2713 Overlay click handler attached (click anywhere to close details)");
    } else {
      console.warn("[LIGHTBOX] \u26A0\uFE0F  Overlay not found - details close-on-click disabled");
    }
    lb.addEventListener("click", handleLightboxClick, { passive: false });
    console.log("[LIGHTBOX] \u2713 Lightbox container click handler attached");
    document.addEventListener("keydown", handleKeydown);
    console.log("[LIGHTBOX] \u2713 Initialized and ready\n");
    function cleanup() {
      if (slidesContainer) {
        slidesContainer.removeEventListener("click", handleSlideClick);
      }
      if (closeBtn) {
        closeBtn.removeEventListener("click", handleCloseBtnClick);
      }
      if (detailsBtn) {
        detailsBtn.removeEventListener("click", handleDetailsClick);
      }
      if (overlay) {
        overlay.removeEventListener("click", handleOverlayClick);
        overlay.style.pointerEvents = "none";
      }
      lb.removeEventListener("click", handleLightboxClick);
      document.removeEventListener("keydown", handleKeydown);
      detailsOpen = false;
      if (overlayLenis) {
        try {
          overlayLenis.destroy();
          overlayLenis = null;
        } catch (err) {
          console.warn("[LIGHTBOX] Error destroying overlay scroll on cleanup:", err);
        }
      }
      unlockScroll({ delayMs: 0 });
      setPageInert(false);
      enableSlideInteractions();
      currentState = STATE.IDLE;
      console.log("[LIGHTBOX] \u2713 Cleanup complete");
    }
    function openProjectById(projectId2) {
      const slide = Array.from(slides).find((s) => s.dataset.project === projectId2);
      if (!slide) {
        console.error(`[LIGHTBOX] \u274C No slide found for project: "${projectId2}"`);
        return false;
      }
      openFromSlide(slide);
      return true;
    }
    function getState() {
      return {
        current: currentState,
        isIdle: currentState === STATE.IDLE,
        isOpen: currentState === STATE.OPEN,
        isTransitioning: currentState === STATE.OPENING || currentState === STATE.CLOSING
      };
    }
    window.App = window.App || {};
    window.App.lightbox = {
      open: openProjectById,
      close: requestClose,
      getState,
      cleanup
    };
  }

  // src/modules/webflow-scrolltrigger.js
  console.log("[WEBFLOW] module loaded");
  function initWebflowScrollTriggers(options = {}) {
    const scrollerSelector = options.scrollerSelector || ".perspective-wrapper";
    const hideEventName = options.hideEventName || options.shrinkEventName || "logo-hide";
    const appearEventName = options.appearEventName || options.growEventName || "logo-appear";
    const markers = !!options.markers;
    function onWindowLoad(cb) {
      if (document.readyState === "complete") {
        setTimeout(cb, 0);
        return;
      }
      window.addEventListener("load", cb, { once: true });
    }
    onWindowLoad(function() {
      const Webflow = window.Webflow || [];
      Webflow.push(function() {
        const wfIx2 = window.Webflow && window.Webflow.require ? window.Webflow.require("ix3") || window.Webflow.require("ix2") : null;
        const ScrollTrigger2 = window.ScrollTrigger;
        if (!wfIx2 || !ScrollTrigger2) {
          return;
        }
        const scroller = document.querySelector(scrollerSelector);
        if (!scroller) {
          return;
        }
        const driver = document.querySelector("#intro-slide");
        if (!driver) {
          console.error("[WEBFLOW] Driver slide (#intro-slide) not found");
          return;
        }
        console.log("[WEBFLOW] Setup complete:", {
          scroller: !!scroller,
          driver: !!driver,
          wfIx: !!wfIx2,
          ScrollTrigger: !!ScrollTrigger2,
          hideEvent: hideEventName,
          appearEvent: appearEventName
        });
        let logoVisible = false;
        ScrollTrigger2.create({
          trigger: driver,
          scroller,
          start: "bottom 20%",
          markers,
          onEnter: () => {
            if (!logoVisible) {
              try {
                console.log("[WEBFLOW] \u2713 emit appear:", appearEventName);
                wfIx2.emit(appearEventName);
                logoVisible = true;
              } catch (err) {
                console.error("[WEBFLOW] Error emitting appear:", err);
              }
            }
          }
        });
        ScrollTrigger2.create({
          trigger: driver,
          scroller,
          start: "bottom 20%",
          markers,
          onLeaveBack: () => {
            if (logoVisible) {
              try {
                console.log("[WEBFLOW] \u2713 emit hide:", hideEventName);
                wfIx2.emit(hideEventName);
                logoVisible = false;
              } catch (err) {
                console.error("[WEBFLOW] Error emitting hide:", err);
              }
            }
          }
        });
        console.log("[WEBFLOW] ScrollTrigger initialized");
        requestAnimationFrame(() => {
          ScrollTrigger2.refresh();
        });
      });
    });
  }

  // src/app.js
  function patchVimeoAllowTokens() {
    const tokens = ["autoplay", "fullscreen", "picture-in-picture", "encrypted-media"];
    const selector = [
      'iframe[src*="vimeo.com"]',
      'iframe[src*="player.vimeo.com"]'
    ].join(",");
    document.querySelectorAll(selector).forEach((ifr) => {
      const current = (ifr.getAttribute("allow") || "").split(";").map((token) => token.trim()).filter(Boolean);
      const updated = Array.from(/* @__PURE__ */ new Set([...current, ...tokens])).join("; ");
      ifr.setAttribute("allow", updated);
    });
  }
  function init(options = {}) {
    const {
      lightboxRoot = "#lightbox",
      lerp: lerp2 = 0.1,
      snapLerp = 0.15,
      smoothScroll = {},
      preloader = {}
    } = options;
    const preloaderConfig = {
      selector: "#preloader",
      videoSelector: "video[data-wf-ignore], video[autoplay], video[data-autoplay]",
      vimeoPreload: "prefetch",
      vimeoBufferLimit: 5,
      minLoadTime: 1e3,
      pulseDuration: 3e3,
      pulseOpacity: 0.2,
      ...preloader
    };
    initPreloader(preloaderConfig);
    initSmoothScroll({
      lerp: lerp2,
      snapLerp,
      ...smoothScroll
    });
    initAccordion({ selector: ".accordeon" });
    initSlides({
      containerSelector: ".perspective-wrapper",
      replaceExisting: true
    });
    initLightbox({
      root: lightboxRoot,
      openDuration: 1500,
      closeDuration: 1500
    });
    try {
      initWebflowScrollTriggers({
        scrollerSelector: ".perspective-wrapper",
        hideEventName: "logo-hide",
        appearEventName: "logo-appear"
      });
    } catch (err) {
    }
  }
  window.App = window.App || {};
  window.App.init = init;
  document.addEventListener("DOMContentLoaded", () => {
    console.log("\n\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557");
    console.log("\u2551     McCann Website - Initialization Starting        \u2551");
    console.log("\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D\n");
    try {
      patchVimeoAllowTokens();
      init();
      console.log("\n\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557");
      console.log("\u2551     \u2705 All Systems Initialized Successfully         \u2551");
      console.log("\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D\n");
    } catch (err) {
      console.error("[APP] \u274C Initialization error:", err);
    }
  });
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL2RhdGEvcHJvamVjdC1kYXRhLmpzb24iLCAiLi4vc3JjL21vZHVsZXMvcHJlbG9hZGVyLmpzIiwgIi4uL3NyYy9tb2R1bGVzL2FjY29yZGlvbi5qcyIsICIuLi9zcmMvbW9kdWxlcy92aW1lby5qcyIsICIuLi9zcmMvY29yZS9ldmVudHMuanMiLCAiLi4vc3JjL21vZHVsZXMvc2xpZGVzLmpzIiwgIi4uL3NyYy9jb3JlL3Njcm9sbGxvY2suanMiLCAiLi4vbm9kZV9tb2R1bGVzL2xlbmlzL3BhY2thZ2UuanNvbiIsICIuLi9ub2RlX21vZHVsZXMvbGVuaXMvcGFja2FnZXMvY29yZS9zcmMvbWF0aHMudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2xlbmlzL3BhY2thZ2VzL2NvcmUvc3JjL2FuaW1hdGUudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2xlbmlzL3BhY2thZ2VzL2NvcmUvc3JjL2RlYm91bmNlLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9sZW5pcy9wYWNrYWdlcy9jb3JlL3NyYy9kaW1lbnNpb25zLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9sZW5pcy9wYWNrYWdlcy9jb3JlL3NyYy9lbWl0dGVyLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9sZW5pcy9wYWNrYWdlcy9jb3JlL3NyYy92aXJ0dWFsLXNjcm9sbC50cyIsICIuLi9ub2RlX21vZHVsZXMvbGVuaXMvcGFja2FnZXMvY29yZS9zcmMvbGVuaXMudHMiLCAiLi4vc3JjL21vZHVsZXMvc21vb3RoLXNjcm9sbC5qcyIsICIuLi9zcmMvbW9kdWxlcy9saWdodGJveC5qcyIsICIuLi9zcmMvbW9kdWxlcy93ZWJmbG93LXNjcm9sbHRyaWdnZXIuanMiLCAiLi4vc3JjL2FwcC5qcyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsie1xuICBcImxvcmVhbC1maW5hbC1jb3B5XCI6IHtcbiAgICBcImNsaWVudFwiOiBcIkwnT3JcdTAwRTlhbCBQYXJpc1wiLFxuICAgIFwidGl0bGVcIjogXCJUaGUgRmluYWwgQ29weSBvZiBJbG9uIFNwZWNodFwiLFxuICAgIFwidHJ1dGhcIjogXCJXb21lbiBoYXZlIGluaGVyZW50IHdvcnRoIGFuZCBkZXNlcnZlIHRvIGJlIHNlZW4sIGhlYXJkLCBhbmQgdmFsdWVkLlwiLFxuICAgIFwidHJ1dGhXZWxsVG9sZFwiOiBcIkJlY2F1c2UgWW91J3JlIFdvcnRoIEl0XCIsXG4gICAgXCJkZXNjcmlwdGlvblwiOiBcIkZpZnR5IHllYXJzIGFmdGVyIFxcXCJCZWNhdXNlIEknbSBXb3J0aCBJdFxcXCIgd2FzIHdyaXR0ZW4sIGl0cyBtZWFuaW5nIGhhZCBiZWNvbWUgZXJvZGVkIGJ5IHRpbWUuIFdoYXQgYmVnYW4gYXMgYSBzdGF0ZW1lbnQgb2YgcmViZWxsaW9uIGhhZCBzb2Z0ZW5lZCBpbnRvIGEgdGFnbGluZSBcdTIwMTQgc3Bva2VuIGV2ZXJ5d2hlcmUgYnV0IHJhcmVseSBmZWx0LiBPdXIgaWRlYSB3YXMgbm90IHRvIHJlaW50ZXJwcmV0IGl0LCBidXQgdG8gcmVjbGFpbSBpdC4gV2UgZGlkIHNvIGJ5IGdvaW5nIGJhY2sgdG8gd2hlcmUgdGhlIGxpbmUgYmVnYW4sIHRvIElsb24gU3BlY2h0LCB0aGUgeW91bmcgTWNDYW5uIGNvcHl3cml0ZXIgd2hvIGZvdWdodCBzbyBoYXJkIHRvIGJyaW5nIHRob3NlIHdvcmRzIHRvIGxpZmUuIFdlIHdvcmtlZCB3aXRoIHR3by10aW1lIE9zY2FyLXdpbm5pbmcgZmlsbW1ha2VyIEJlbiBQcm91ZGZvb3QgdG8gY2FwdHVyZSBTcGVjaHQsIG5vdyBpbiBoZXIgc2VuaW9yIHllYXJzIGFuZCBmYWNpbmcgYSB0ZXJtaW5hbCBpbGxuZXNzLCBpbiBoZXIgTmV3IFlvcmsgYXBhcnRtZW50LiBTaGUgcmVmbGVjdHMgb24gbWFraW5nIHRoZSBvcmlnaW5hbCBhZCBhdCBhIHRpbWUgd2hlbiBzbyBtYW55IGZvcmNlcyB3ZXJlIHdvcmtpbmcgYWdhaW5zdCBoZXIsIGFuZCwgYWxsIHRocm91Z2hvdXQsIGhlciBmaXJlIGFuZCB1bmZpbHRlcmVkIHZvaWNlIGNvbWUgdG8gbGlmZTogc2hhcnAsIGRlZmlhbnQgYW5kIHVuYXBvbG9nZXRpYy4gTm8gYnJhbmQgbWVzc2FnaW5nLiBObyBwcm9kdWN0IHNob3RzLiBKdXN0IHRydXRoLiBUaGUgdWx0aW1hdGUgZW1ib2RpbWVudCBvZiBcXFwiSSdtIHdvcnRoIGl0LlxcXCIgV2UgZ2F2ZSBJbG9uIFNwZWNodCBiYWNrIGhlciB3b3JkcyBhbmQgaGVyIGF1dGhvcnNoaXAuIFdlIGRpZG4ndCBtb2Rlcm5pemUgaGVyIGxpbmUuIFdlIHJlbWluZGVkIHRoZSB3b3JsZCBvZiBpdHMgb3JpZ2luYWwgcG93ZXIsIGFuZCB0aGUgd29ybGQgbGlzdGVuZWQuXCIsXG4gICAgXCJpbXBhY3RcIjogXCJNb3JlIHRoYW4gNzUlIG9mIHBlb3BsZSB3aG8gc2F3IHRoZSBmaWxtIHJlcG9ydGVkIHRoYXQgaXQgY2hhbmdlZCB0aGVpciBwZXJjZXB0aW9uIG9mIHRoZSBicmFuZFwiLFxuICAgIFwidmltZW9JZFwiOiBcIjExMzUzNTA1NzlcIixcbiAgICBcInZpbWVvUHJldmlld0lkXCI6IFwiMTEzNTMyNDIyNFwiLFxuICAgIFwiYXdhcmRzXCI6IFtcbiAgICAgIHsgXCJ0eXBlXCI6IFwiY2FubmVzXCIsIFwibGFiZWxcIjogXCJHcmFuZCBQcml4IChGaWxtKSwgR29sZCBMaW9uIChFbnRlcnRhaW5tZW50KSBTaWx2ZXIgTGlvbnMgKEVudGVydGFpbm1lbnQsIFBSKSBCcm9uemUgTGlvbiAoRmlsbSBDcmFmdCksIEJyYW5kIENvbnRlbnQgQXdhcmRzIFx1MjAxNCBHcmFuZCBQcml4XCIgfSxcbiAgICAgIHsgXCJ0eXBlXCI6IFwiZ2VyZXR5XCIsIFwibGFiZWxcIjogXCJHcmFuZCBQcml4XCIgfSxcbiAgICAgIHsgXCJ0eXBlXCI6IFwiY2ljbG9wZVwiLCBcImxhYmVsXCI6IFwiR3JhbmQgUHJpeFwiIH0sXG4gICAgICB7IFwidHlwZVwiOiBcImNsdWJkZXNkYVwiLCBcImxhYmVsXCI6IFwiR3JhbmQgUHJpeFwiIH1cbiAgICBdXG4gIH0sXG4gIFwibWFzdGVyY2FyZC1hYnJhY2FkYWJyYVwiOiB7XG4gICAgXCJjbGllbnRcIjogXCJNYXN0ZXJjYXJkXCIsXG4gICAgXCJ0aXRsZVwiOiBcIkFicmFjYWRhYnJhOiBGcm9tIEZhbiB0byBGZWF0dXJlZFwiLFxuICAgIFwidHJ1dGhcIjogXCJNdXNpYyBmYW5zIHdhbnQgdG8gbGl2ZSB0aGVpciBwYXNzaW9uLCBub3QganVzdCBsaXN0ZW4gdG8gaXQuXCIsXG4gICAgXCJ0cnV0aFdlbGxUb2xkXCI6IFwiRnJvbSBGYW4gdG8gRmVhdHVyZWRcIixcbiAgICBcImRlc2NyaXB0aW9uXCI6IFwiR2VuIFogZG9lc24ndCBqdXN0IHdhdGNoIGN1bHR1cmUsIHRoZXkgbWFrZSBpdC4gU28gTWFzdGVyY2FyZCB0dXJuZWQgTGFkeSBHYWdhJ3MgbXVzaWMgdmlkZW8gaW50byBhIGZhbi1wb3dlcmVkIGF1ZGl0aW9uLCB3aXRoIGNob3Jlb2dyYXBoeSBieSBQYXJyaXMgR29lYmVsLCBjcmVhdG9ycyBsZWFkaW5nIHRoZSBjaGFyZ2UsIGFuZCBHYWdhIGFtcGxpZnlpbmcgZXZlcnkgc3RlcC4gV2UgcGFydG5lcmVkIHdpdGggdmlyYWwgZGFuY2UgY3JlYXRvcnMgdG8gdGVhY2ggdGhlIG1vdmVzLCBtb2RlbCBwYXJ0aWNpcGF0aW9uLCBhbmQgcmFsbHkgdGhlaXIgY29tbXVuaXRpZXMuIE1hc3RlcmNhcmQgYW5kIEdhZ2EgZnVlbGVkIHRoZSBtb3ZlbWVudCBieSBsaWtpbmcsIHJlcG9zdGluZywgYW5kIGNlbGVicmF0aW5nIGZhbnMgYWNyb3NzIHBsYXRmb3Jtcy4gVGhlIHN0cmF0ZWd5IHdhcyByb290ZWQgaW4gR2VuIFoncyBkZXNpcmUgZm9yIHNlbGYtZXhwcmVzc2lvbiBhbmQgc29jaWFsIGNvbm5lY3Rpb24gXHUyMDE0IHR1cm5pbmcgZmFuIGJlaGF2aW9yIGludG8gdGhlIGVuZ2luZSBvZiBlbmdhZ2VtZW50LiBUaGUgcmVzdWx0OiAxLjQgYmlsbGlvbiB2aWV3cywgVGlrVG9rJ3MgdG9wIGJyYW5kZWQgaGFzaHRhZywgYW5kIE1hc3RlcmNhcmQncyBiaWdnZXN0LWV2ZXIgR2VuIFogYnJhbmQgbGlmdC5cIixcbiAgICBcImltcGFjdFwiOiBcIk1hc3RlcmNhcmQncyBiaWdnZXN0LWV2ZXIgR2VuIFogYnJhbmQgbGlmdFwiLFxuICAgIFwidmltZW9JZFwiOiBcIjExMzAzMjcyOTdcIixcbiAgICBcInZpbWVvUHJldmlld0lkXCI6IFwiMTEzNTMyNDI1NFwiLFxuICAgIFwiYXdhcmRzXCI6IFtcbiAgICAgIHsgXCJ0eXBlXCI6IFwiY2FubmVzXCIsIFwibGFiZWxcIjogXCJHb2xkIExpb24gKEVudGVydGFpbm1lbnQpLCBCcm9uemUgTGlvbiAoU29jaWFsICYgQ3JlYXRvcilcIiB9LFxuICAgICAgeyBcInR5cGVcIjogXCJueXRcIiwgXCJsYWJlbFwiOiBcIkdyYW5kIChCcmFuZGVkIENvbnRlbnQpIEdvbGQgKENvbGxhYm9yYXRpb24sIEJyYW5kZWQgQ29udGVudCkgU2lsdmVyIChBY3RpdmF0aW9uICYgRW5nYWdlbWVudClcIiB9LFxuICAgICAgeyBcInR5cGVcIjogXCJsaWFcIiwgXCJsYWJlbFwiOiBcIlNpbHZlciAoQnJhbmRlZCBFbnRlcnRhaW5tZW50LCBPbmxpbmUgRmlsbSkgQnJvbnplIChEaWdpdGFsKVwiIH1cbiAgICBdXG4gIH0sXG4gIFwieGJveC1ldmVyeWRheS10YWN0aWNpYW5cIjoge1xuICAgIFwiY2xpZW50XCI6IFwiWGJveFwiLFxuICAgIFwidGl0bGVcIjogXCJUaGUgRXZlcnlkYXkgVGFjdGljaWFuXCIsXG4gICAgXCJ0cnV0aFwiOiBcIkZvb3RiYWxsIE1hbmFnZXIgZ2FtZXJzIGRvbid0IGp1c3QgcGxheSB0aGUgZ2FtZSwgdGhleSBzdHVkeSBpdC5cIixcbiAgICBcInRydXRoV2VsbFRvbGRcIjogXCJYYm94IHR1cm5lZCBnYW1lIGludGVsbGlnZW5jZSBpbnRvIHJlYWwtd29ybGQgaW5mbHVlbmNlXCIsXG4gICAgXCJkZXNjcmlwdGlvblwiOiBcIk1vZGVybiBmb290YmFsbCBpcyBkb21pbmF0ZWQgYnkgYSBmZXcgcmljaCBjbHVicyB0aGF0IGNhbiBhZmZvcmQgdG8gaGlyZSBiaWcgdGVhbXMgb2YgY29hY2hlcyBhbmQgYW5hbHlzdHMsIHdoaWNoIG1lYW5zIHNtYWxsZXIgY2x1YnMgc3RydWdnbGUgdG8gY29tcGV0ZSBmb3IgdGFsZW50LiBGb3IgdGhlIGxhdW5jaCBvZiBGb290YmFsbCBNYW5hZ2VyIDI0IFx1MjAxNCB0aGUgbW9zdCByZWFsaXN0aWMgZm9vdGJhbGwgc2ltdWxhdG9yIFx1MjAxNCBYYm94IGhlbHBlZCB0aGUgc21hbGwgY2x1YiBCcm9tbGV5IEZDIHJlY3J1aXQgdGhlaXIgbmV4dCB0YWN0aWNpYW4gZnJvbSBhbiB1bnRhcHBlZCB0YWxlbnQgcG9vbDogZ2FtZXJzLiBUaGUgYW5ub3VuY2VtZW50IG1hZGUgaGVhZGxpbmVzIGV2ZXJ5d2hlcmUsIGFuZCBwZW9wbGUgZnJvbSBhcm91bmQgdGhlIHdvcmxkIGFwcGxpZWQuIE5hdGhhbiBPd29sYWJpLCBhIGRlZGljYXRlZCBGb290YmFsbCBNYW5hZ2VyIHBsYXllciwgZ290IHRoZSBqb2IuIEhlIHVzZWQgZGF0YSBmcm9tIHRoZSBnYW1lIHRvIGhlbHAgdGhlIGNsdWIgd2luIGluIHRoZSByZWFsIHdvcmxkLCBkZXZlbG9waW5nIGZvcm1hdGlvbnMsIGZpbmRpbmcgbmV3IHN0cmF0ZWdpZXMsIGFuZCB1bmNvdmVyaW5nIHRoZSBvcHBvc2l0aW9uJ3Mgd2Vha25lc3Nlcy4gVGhlIHN0b3J5IG9mIHRoaXMgdW51c3VhbCBhcHByb2FjaCB0byBmb290YmFsbCB3YXMgdG9sZCBpbiBhIDYwKyBtaW51dGUgZG9jdW1lbnRhcnkgb24gVE5UIFNwb3J0cyBcdTIwMTQgdGhlIFVLJ3MgYmlnZ2VzdCBzcG9ydHMgYnJvYWRjYXN0ZXIuIFdpdGggdGhlIGhlbHAgb2YgYSBnYW1lciwgdGhlIGNsdWIgYWNoaWV2ZWQgaXRzIGJlc3Qgc2Vhc29uIGluIGl0cyAxMzIteWVhciBoaXN0b3J5LCB1bHRpbWF0ZWx5IGdhaW5pbmcgcHJvbW90aW9uIHRvIExlYWd1ZSBUd28gZm9yIHRoZSBmaXJzdCB0aW1lIGV2ZXIuIFhib3ggc2F3IGEgZHJhbWF0aWMgaW5jcmVhc2UgaW4gRm9vdGJhbGwgTWFuYWdlciBwbGF5ZXJzIG9uIGNvbnNvbGUsIGFuZCBGb290YmFsbCBNYW5hZ2VyIDI0IGJlY2FtZSB0aGUgbW9zdC1wbGF5ZWQgZ2FtZSBpbiB0aGUgaGlzdG9yeSBvZiB0aGUgZnJhbmNoaXNlLlwiLFxuICAgIFwiaW1wYWN0XCI6IFwiMTkwJSBpbmNyZWFzZSBpbiBYYm94IHBsYXllcnMgZm9yIEZvb3RiYWxsIE1hbmFnZXIgMjQsIHdoaWNoIGJlY2FtZSB0aGUgbW9zdC1wbGF5ZWQgZ2FtZSBpbiB0aGUgaGlzdG9yeSBvZiB0aGUgZnJhbmNoaXNlXCIsXG4gICAgXCJ2aW1lb0lkXCI6IFwiMTEzMDMyNzM2MFwiLFxuICAgIFwidmltZW9QcmV2aWV3SWRcIjogXCIxMTM1MzI0Mjg1XCIsXG4gICAgXCJhd2FyZHNcIjogW1xuICAgICAgeyBcInR5cGVcIjogXCJjYW5uZXNcIiwgXCJsYWJlbFwiOiBcIlRpdGFuaXVtIExpb24sIEdyYW5kIFByaXggKERpcmVjdCksIFNpbHZlciBMaW9uIChFbnRlcnRhaW5tZW50IGZvciBTcG9ydCksIEdvbGQgTGlvbiAoQ3JlYXRpdmUgRWZmZWN0aXZlbmVzcylcIiB9LFxuICAgICAgeyBcInR5cGVcIjogXCJ0aGVvbmVzaG93XCIsIFwibGFiZWxcIjogXCJCZXN0IG9mIERpc2NpcGxpbmUgKFBSLCBHYW1pbmcpXCIgfSxcbiAgICAgIHsgXCJ0eXBlXCI6IFwiY2xpb3NcIiwgXCJsYWJlbFwiOiBcIkdyYW5kIENsaW9cIiB9LFxuICAgICAgeyBcInR5cGVcIjogXCJkYW5kYWRcIiwgXCJsYWJlbFwiOiBcIlllbGxvdyBQZW5jaWxcIiB9XG4gICAgXVxuICB9LFxuICBcImNoZXZyb2xldC0xMDAteWVhcnNcIjoge1xuICAgIFwiY2xpZW50XCI6IFwiQ2hldnJvbGV0XCIsXG4gICAgXCJ0aXRsZVwiOiBcIjEwMCBZZWFycyBvZiBDaGV2cm9sZXRcIixcbiAgICBcInRydXRoXCI6IFwiVGhlIGZ1dHVyZSBpcyBib3JuIG91dCBvZiB0aGUgcGFzdC4gRXZlcnkgQ2hldnJvbGV0IHRoYXQncyBjYXJyaWVkIHVzIGFsb25nIHRoZSB3YXkgY29udGludWVzIHRvIGRyaXZlIHVzIGZvcndhcmQuXCIsXG4gICAgXCJ0cnV0aFdlbGxUb2xkXCI6IFwiRm9yIDEwMCB5ZWFycywgYWx3YXlzIGRyaXZpbmcgdG93YXJkIHRoZSBmdXR1cmVcIixcbiAgICBcImRlc2NyaXB0aW9uXCI6IFwiQ2hldnJvbGV0IGNlbGVicmF0ZWQgMTAwIHllYXJzIGluIEJyYXppbCB3aXRoIGEgMzYwXHUwMEJBIGNhbXBhaWduIHRoYXQgcmV2aXNpdGVkIGRlZmluaW5nIG1vbWVudHMgaW4gdGhlIG5hdGlvbidzIGhpc3RvcnkuIEluIHRoZSBoZXJvIGZpbG0sIGZyb20gdGhlIHJpc2Ugb2YgaW5kdXN0cnkgdG8gd29tZW4ncyByaWdodCB0byB2b3RlLCBmcm9tIHRoZSBkcmVhbSBvZiBhIG5ldyBjYXBpdGFsIHRvIHRoZSByZXR1cm4gb2YgZGVtb2NyYWN5LCBmcm9tIFdvcmxkIEN1cCBjZWxlYnJhdGlvbnMgdG8gcmVjb25uZWN0aW9uIGFmdGVyIHRoZSBwYW5kZW1pYywgZWFjaCBzY2VuZSB3YXMgY2hvc2VuIHRvIHJlZmxlY3QgdGhlIGNvdW50cnkncyBwcm9ncmVzcyBhbmQgdGhlIGJyYW5kJ3MgZW5kdXJpbmcgcHJlc2VuY2UgdGhyb3VnaG91dC4gVGhlIHN0b3J5IGlzIHRvbGQgdGhyb3VnaCBpbW1lcnNpdmUgY2luZW1hdG9ncmFwaHksIDNEIHRyYW5zaXRpb25zLCBhbmQgaWNvbmljIHZlaGljbGVzIHRoYXQgYWN0IGFzIHBvcnRhbHMgdGhyb3VnaCB0aW1lLiBFdmVyeSBmcmFtZSB3YXMgY2FyZWZ1bGx5IGNyYWZ0ZWQsIGNvbWJpbmluZyBoaXN0b3JpY2FsIGFjY3VyYWN5IHdpdGggZW1vdGlvbmFsIGRlcHRoLiBOYXJyYXRlZCBieSBGZXJuYW5kYSBUb3JyZXMsIG9uZSBvZiBCcmF6aWwncyBtb3N0IGNlbGVicmF0ZWQgYWN0cmVzc2VzLCB0aGUgZmlsbSBhaXJlZCBuYXRpb25hbGx5IG9uIENoZXZyb2xldCdzIDEwMHRoIGFubml2ZXJzYXJ5LiBNb3JlIHRoYW4gYSBjZWxlYnJhdGlvbiwgaXQgYmVjYW1lIGEgc3RhdGVtZW50IGFib3V0IG1lbW9yeSwgcHJvZ3Jlc3MsIGFuZCBjb25uZWN0aW9uLCByZW1pbmRpbmcgQnJhemlsaWFucyB0aGF0IENoZXZyb2xldCBoYXMgbm90IGp1c3QgYmVlbiBhIGNhciBicmFuZCwgYnV0IGEgcGFydCBvZiB0aGVpciBjb3VudHJ5J3Mgam91cm5leS5cIixcbiAgICBcImltcGFjdFwiOiBcIiMxIHBvc2l0aW9uIGluIGJyYW5kIGNvbnNpZGVyYXRpb24gXHUyMDE0IDYgcC5wLiBhaGVhZCBvZiAybmQgcGxhY2UgYW5kIDkgcC5wLiBhaGVhZCBvZiAzcmQuICMxIHBvc2l0aW9uIGluIGVuZ2FnZW1lbnQgYWNyb3NzIHRoZSBjYXRlZ29yeSwgd2l0aCA0NFx1MDBENyBtb3JlIGludGVyYWN0aW9ucyB0aGFuIHRoZSBicmFuZCdzIG92ZXJhbGwgYXZlcmFnZS4gNDcwLDAwMCByZWFsIGV4cGVyaWVuY2VzIGRlbGl2ZXJlZCB0aHJvdWdoIHRoZSBTcG90aWZ5IGFjdGl2YXRpb24uIFN0cm9uZ2VzdCBCcmFuZCBQb3dlciBpbiB0aGUgaW5kdXN0cnkgaW4gQnJhemlsJ3MgYXV0b21vdGl2ZSBpbmR1c3RyeSBkdXJpbmcgdGhlIHBlcmlvZC5cIixcbiAgICBcInZpbWVvSWRcIjogXCIxMTMwMzM3NjAxXCIsXG4gICAgXCJ2aW1lb1ByZXZpZXdJZFwiOiBcIjExMzUzMjQzMDRcIixcbiAgICBcImF3YXJkc1wiOiBbXG4gICAgICB7IFwidHlwZVwiOiBcImNsaW9zXCIsIFwibGFiZWxcIjogXCJTaWx2ZXIgKEZpbG0gQ3JhZnQpXCIgfVxuICAgIF1cbiAgfSxcbiAgXCJtYXN0ZXJjYXJkLWluY2x1c2l2ZS1ieS1kZXNpZ25cIjoge1xuICAgIFwiY2xpZW50XCI6IFwiTWFzdGVyY2FyZFwiLFxuICAgIFwidGl0bGVcIjogXCJJbmNsdXNpdmUgYnkgRGVzaWduXCIsXG4gICAgXCJ0cnV0aFwiOiBcIkFuIGluY2x1c2l2ZSBnbG9iYWwgZmluYW5jaWFsIHN5c3RlbSBpcyBnb29kIGZvciBodW1hbml0eSBhbmQgYnVzaW5lc3MuXCIsXG4gICAgXCJ0cnV0aFdlbGxUb2xkXCI6IFwiRG9pbmcgd2VsbCBieSBkb2luZyBnb29kLlwiLFxuICAgIFwiZGVzY3JpcHRpb25cIjogXCJXaGVuIE1hc3RlcmNhcmQgYW5kIE1jQ2FubiBkZWJ1dGVkIFxcXCJQcmljZWxlc3NcXFwiIGluIDE5OTcsIHRoZSBjYW1wYWlnbiBjYXB0dXJlZCBwZW9wbGUncyBoZWFydHMgd2l0aCBhIGJyZWFrdGhyb3VnaCBpZGVhOiBpbiBhIHdvcmxkIG9mIGNvbnNwaWN1b3VzIGNvbnN1bXB0aW9uLCB3aGF0IHJlYWxseSBtYXR0ZXJzIGFyZSB0aGUgdGhpbmdzIHRoYXQgbW9uZXkgY2FuJ3QgYnV5IFx1MjAxNCBsaWtlIHRha2luZyB5b3VyIGNoaWxkIHRvIHRoZWlyIGZpcnN0IGdhbWUgYXQgdGhlIGJhbGxwYXJrLiBNYXN0ZXJjYXJkIGFuZCBNY0Nhbm4gcmVhbGl6ZWQgdGhhdCB0byBjb250aW51ZSB0byBkZWxpdmVyIG9uIFxcXCJQcmljZWxlc3MsXFxcIiB0aGUgYnJhbmQgcGxhdGZvcm0gY291bGQgbm90IGlnbm9yZSB0aGUgMS40IGJpbGxpb24gcGVvcGxlIGdsb2JhbGx5IGV4Y2x1ZGVkIGZyb20gdGhlIGZpbmFuY2lhbCBzeXN0ZW0gZHVlIHRvIGRpc2NyaW1pbmF0aW9uLCBleHBsb2l0YXRpb24sIGFuZCBtb3JlLiBXaXRoIGZpbmFuY2lhbCBpbmNsdXNpb24gbm93IGNlbnRyYWwgdG8gTWFzdGVyY2FyZCdzIGJyYW5kIHB1cnBvc2UsIFxcXCJQcmljZWxlc3NcXFwiIGhhcyBldm9sdmVkIGJleW9uZCBtZXNzYWdpbmcgaW50byBncm91bmRicmVha2luZyBwcm9kdWN0IGlubm92YXRpb25zLCB0b29scywgYW5kIHBsYXRmb3Jtcy4gQW1vbmcgdGhlbTogdGhlIFxcXCJUcnVlIE5hbWVcXFwiIGNhcmQsIGFsbG93aW5nIHRyYW5zZ2VuZGVyIGluZGl2aWR1YWxzIHRvIGhhdmUgdGhlaXIgcmVhbCBuYW1lcyBpbnNjcmliZWQgb24gdGhlaXIgY3JlZGl0IGNhcmRzOyB0aGUgXFxcIlRvdWNoIENhcmRcXFwiIHN5c3RlbSB0aGF0IGxldHMgc2lnaHQtaW1wYWlyZWQgY29uc3VtZXJzIHRvIGRpc3Rpbmd1aXNoIHRoZWlyIGNyZWRpdCwgZGViaXQsIGFuZCBwcmUtcGFpZCBjYXJkcyBieSB0b3VjaDsgdGhlIFxcXCJXaGVyZSB0byBTZXR0bGVcXFwiIHRvb2wgdGhhdCBoZWxwcyBVa3JhaW5pYW4gcmVmdWdlZXMgaW4gUG9sYW5kIGZpbmQgdGhlIGlkZWFsIGFyZWFzIHRvIG1ha2UgdGhlaXIgbmV3IGhvbWVzOyB0aGUgXFxcIldoZXJlIHRvIFN0YXJ0XFxcIiB0b29sIHRoYXQgaGVscHMgY3JlYXRlIGEgc3ltYmlvdGljIGZpbmFuY2lhbCBlY29zeXN0ZW0gYmV0d2VlbiByZXNldHRsZWQgVWtyYWluaWFuIHJlZnVnZWVzIGFuZCB0aGVpciBQb2xpc2ggbmVpZ2hib3JzOyBhbmQgdGhlIG5ldyBcXFwiTGlmZSBEb25vciBDYXJkXFxcIiBhbmQgXFxcIkFUTSBWb3RpbmdcXFwiIHByb2plY3RzLCB3aGljaCBoYXZlIHR1cm5lZCBtaWxsaW9ucyBvZiB1c2VycyBpbnRvIG9yZ2FuIGRvbm9ycyBhbmQgaGVscGVkIGNpdGl6ZW5zIGRlY2lkZSBob3cgdGhlIGdvdmVybm1lbnQgdXNlcyB0aGVpciBtb25leSwgcmVzcGVjdGl2ZWx5LlwiLFxuICAgIFwiaW1wYWN0XCI6IFwiKzg5JSBpbmNyZWFzZSBpbiBicmFuZCB2YWx1ZSBzaW5jZSAyMDE4XCIsXG4gICAgXCJ2aW1lb0lkXCI6IFwiMTEzMDMzODc2M1wiLFxuICAgIFwidmltZW9QcmV2aWV3SWRcIjogXCIxMTM1MzI0MzM2XCIsXG4gICAgXCJhd2FyZHNcIjogW11cbiAgfSxcbiAgXCJwdWNrLXJlY2lwZS1mb3ItY2hhbmdlXCI6IHtcbiAgICBcImNsaWVudFwiOiBcIlB1Y2tcIixcbiAgICBcInRpdGxlXCI6IFwiUmVjaXBlIGZvciBDaGFuZ2VcIixcbiAgICBcInRydXRoXCI6IFwiQ3VsdHVyYWwga25vd2xlZGdlIGlzIGVjb25vbWljIHBvd2VyLlwiLFxuICAgIFwidHJ1dGhXZWxsVG9sZFwiOiBcIkZyb20gbG9jYWwga2l0Y2hlbnMgdG8gZ2xvYmFsIHJlc3RhdXJhbnQgdGFibGVzXCIsXG4gICAgXCJkZXNjcmlwdGlvblwiOiBcIkFzIExlYmFub24gZmFjZWQgb25lIG9mIHRoZSB3b3JzdCBlY29ub21pYyBhbmQgaHVtYW5pdGFyaWFuIGNyaXNlcyBpbiBtb2Rlcm4gaGlzdG9yeSwgdHJhZGl0aW9uYWwgYWlkIG1vZGVscyBhbmQgcmV0YWlsIGxvZ2lzdGljcyBjb2xsYXBzZWQsIGxlYXZpbmcgZGlzcGxhY2VkIHdvbWVuIHdpdGggbm8gaW5jb21lIGFuZCBsaW1pdGVkIHN1cHBvcnQuIFB1Y2ssIGEgdHJ1c3RlZCBNaWRkbGUgRWFzdGVybiBkYWlyeSBicmFuZCwgc2F3IGFuIG9wcG9ydHVuaXR5IGluIHdoYXQgcmVtYWluZWQ6IHRoZSB3b21lbidzIGZhbWlseSByZWNpcGVzLCBwYXNzZWQgZG93biBmb3IgZ2VuZXJhdGlvbnMuIFxcXCJSZWNpcGUgZm9yIENoYW5nZVxcXCIgdHJhbnNmb3JtZWQgdGhlc2UgY3VsdHVyYWwgaGVpcmxvb21zIGludG8gaW50ZWxsZWN0dWFsIHByb3BlcnR5IGJ5IGxpY2Vuc2luZyB0aGUgcmVjaXBlcyB0byBMZWJhbmVzZSBhbmQgZnVzaW9uIHJlc3RhdXJhbnRzIGFyb3VuZCB0aGUgd29ybGQuIEVhY2ggZGlzaCBzb2xkIGdlbmVyYXRlZCBpbmNvbWUsIHdpdGggNTAlIG9mIHByb2ZpdHMgZ29pbmcgZGlyZWN0bHkgdG8gdGhlIHdvbWVuIGJlaGluZCB0aGVtLiBUaGUgc3RyYXRlZ3kgcmVmcmFtZWQgdGhlc2Ugd29tZW4gbm90IGFzIHZpY3RpbXMsIGJ1dCBhcyBidXNpbmVzcyBwYXJ0bmVycywgcmVzdG9yaW5nIGRpZ25pdHkgYW5kIGFnZW5jeS4gTGF1bmNoZWQgZHVyaW5nIFJhbWFkYW4sIGEgdGltZSByb290ZWQgaW4gZ2VuZXJvc2l0eSwgdGhlIGNhbXBhaWduIGNyZWF0ZWQgYSBzY2FsYWJsZSBCMkIyQyBtb2RlbCB0aGF0IGNvbm5lY3RlZCBjb21tdW5pdGllcyBhY3Jvc3MgYm9yZGVycy4gSXQgbm90IG9ubHkgc3VwcG9ydGVkIGRpc3BsYWNlZCB3b21lbiBidXQgYWxzbyBkcm92ZSBuZXcgcmV2ZW51ZSBmb3IgcmVzdGF1cmFudHMgYW5kIHJlZGVmaW5lZCBob3cgYnJhbmRzIGNhbiBidWlsZCBlcXVpdHksIGVtcGF0aHksIGFuZCBlY29ub21pYyBpbXBhY3QgZHVyaW5nIGNyaXNpcy5cIixcbiAgICBcImltcGFjdFwiOiBcIisxNi42NyUgcHJvZml0IGluY3JlYXNlLCArNTYlIHJpc2UgaW4gZm9vdGZhbGwgZm9yIHBhcnRpY2lwYXRpbmcgcmVzdGF1cmFudHMsICs4MDcuMTIlIHJldmVudWUgZm9yIHRoZSB3b21lbiBiZWhpbmQgdGhlIHJlY2lwZXNcIixcbiAgICBcInZpbWVvSWRcIjogXCIxMTMwMzI3MTcwXCIsXG4gICAgXCJ2aW1lb1ByZXZpZXdJZFwiOiBcIjExMzUzMjQ1MzJcIixcbiAgICBcImF3YXJkc1wiOiBbXG4gICAgICB7IFwidHlwZVwiOiBcImNhbm5lc1wiLCBcImxhYmVsXCI6IFwiR29sZCBMaW9uIChTdXN0YWluYWJsZSBEZXZlbG9wbWVudCBHb2FscyksIFNpbHZlciBMaW9uIChCcmFuZCBFeHBlcmllbmNlICYgQWN0aXZhdGlvbikgQnJvbnplIExpb24gKENyZWF0aXZlIEIyQilcIiB9LFxuICAgICAgeyBcInR5cGVcIjogXCJsaWFcIiwgXCJsYWJlbFwiOiBcIkdyYW5kIExJQSwgR29sZCAoU3VzdGFpbmFiaWxpdHkpIEJyb256ZSAoVHJhbnNmb3JtYXRpdmUgQnVzaW5lc3MgSW1wYWN0LCBCcmFuZCBQdXJwb3NlKVwiIH1cbiAgICBdXG4gIH0sXG4gIFwia2lkcy1oZWxwLXBob25lXCI6IHtcbiAgICBcImNsaWVudFwiOiBcIktpZHMgSGVscCBQaG9uZVwiLFxuICAgIFwidGl0bGVcIjogXCJIZWxwXCIsXG4gICAgXCJ0cnV0aFwiOiBcIkFkdWx0cyBkZWZpbmUgXFxcImhlbHBcXFwiIGFzIHNvbWV0aGluZyB5b3V0aCBvbmx5IG5lZWQgaW4gY3Jpc2lzLlwiLFxuICAgIFwidHJ1dGhXZWxsVG9sZFwiOiBcIkhlbHAgbWVhbnMgZXZlcnl0aGluZ1wiLFxuICAgIFwiZGVzY3JpcHRpb25cIjogXCJcXFwiSGVscFxcXCIgaXMgYSBwb3dlcmZ1bCBmaWxtLCBtYXJraW5nIHRoZSBuZXh0IGNoYXB0ZXIgb2YgS2lkcyBIZWxwIFBob25lJ3MgRmVlbCBPdXQgTG91ZCBwbGF0Zm9ybS4gVGhlIGZpbG0gcmVpbWFnaW5lcyBUaGUgQmVhdGxlcycgXFxcIkhlbHAhXFxcIiB0byBleHBsb3JlIHdoYXQgXFxcImhlbHBcXFwiIHRydWx5IG1lYW5zIHRvIHlvdW5nIHBlb3BsZSB0b2RheSBcdTIwMTQgZnJvbSBldmVyeWRheSBzdHJ1Z2dsZXMgdG8gdXJnZW50IGNyaXNlcy4gQmxlbmRpbmcgbGl2ZSBhY3Rpb24sIENHSSwgYW5kIGVtb3Rpb25hbCBtZXRhcGhvciwgaXQgdmlzdWFsaXplcyByZWFsIHlvdXRoIGV4cGVyaWVuY2VzIGRyYXduIGZyb20gb3ZlciA1MCBtaWxsaW9uIGRhdGEgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIGFnZ3JlZ2F0ZWQgYW5kIGFub255bWl6ZWQgZnJvbSByZWFsIGNvbnZlcnNhdGlvbnMgd2l0aCB5b3V0aC5cIixcbiAgICBcImltcGFjdFwiOiBcIkluIDIwMjMsIDQ5JSBvZiB5b3V0aCBzYWlkIHRoYXQgd2l0aG91dCBLSFAsIHRoZXkgd291bGQgaGF2ZSBpZ25vcmVkIHRoZWlyIGlzc3VlIGVudGlyZWx5IFx1MjAxNCBhIG1ham9yIGJhcnJpZXIgdG8gcG9zaXRpdmUgbWVudGFsIGhlYWx0aCBvdXRjb21lcy5cIixcbiAgICBcInZpbWVvSWRcIjogXCIxMTMwMzI3OTU3XCIsXG4gICAgXCJ2aW1lb1ByZXZpZXdJZFwiOiBcIjExMzUzMjQzNjhcIixcbiAgICBcImF3YXJkc1wiOiBbXVxuICB9LFxuICBcImFsZGkta2V2aW4tY2Fycm90XCI6IHtcbiAgICBcImNsaWVudFwiOiBcIkFMRElcIixcbiAgICBcInRpdGxlXCI6IFwiS2V2aW4gdGhlIENhcnJvdCdzIENocmlzdG1hcyBNaXNzaW9uXCIsXG4gICAgXCJ0cnV0aFwiOiBcIkxpdmluZyB3ZWxsIGV2ZXJ5ZGF5IGlzbid0IGFib3V0IHNwZW5kaW5nIG1vcmUgYnV0IGVuam95aW5nIG1vcmUuIEJlY2F1c2UgaGF2aW5nIHRoZSBiZXN0IENocmlzdG1hcyBwb3NzaWJsZSBzaG91bGQgYmUgc29tZXRoaW5nIGV2ZXJ5b25lIGNhbiBhZmZvcmQgdG8gaGF2ZSwgbm90IGp1c3QgZHJlYW0gYWJvdXQuXCIsXG4gICAgXCJ0cnV0aFdlbGxUb2xkXCI6IFwiSGF2ZSBhIENyYWNraW5nIENocmlzdG1hcyB3aXRoIEFsZGlcIixcbiAgICBcImRlc2NyaXB0aW9uXCI6IFwiSW4gYSBmZXN0aXZlIGNhbXBhaWduLCBhIHNub3d5IENocmlzdG1hcyBFdmUgdmlsbGFnZSBsb3NlcyBpdHMgc3BhcmtsZSB3aGVuIERyLiBIdW1idWcgYW5kIGhlciBjcmV3IHN0ZWFsIHRoZSBcXFwiQ2hyaXN0bWFzIFNwaXJpdC5cXFwiIFNhbnRhIGNhbGxzIG9uIEtldmluIHRoZSBDYXJyb3QgdG8gc2F2ZSB0aGUgZGF5LCBzZW5kaW5nIGhpbSBvbiBhIGRhcmluZyBtaXNzaW9uIHRvIGluZmlsdHJhdGUgSHVtYnVnIEhlYWRxdWFydGVycy4gV2l0aCBjbGV2ZXIgZGlzZ3Vpc2VzLCBoaXMgd2lmZSBLYXRpZSwgYW5kIGEgZmV3IGNvbWVkaWMgY2xvc2UgY2FsbHMsIEtldmluIHdvcmtzIHRvIHJlc3RvcmUgam95IHRvIHRoZSB2aWxsYWdlLiBUaGUgc3RvcnkgZW5kcyB3aXRoIHRoZSBodW1idWdzIGxlYXJuaW5nIHRoYXQgXFxcIkNocmlzdG1hcyBpcyBiZXR0ZXIgd2hlbiBnb29kd2lsbCBpcyByZXR1cm5lZC5cXFwiXCIsXG4gICAgXCJpbXBhY3RcIjogXCJUaGUgYWQgYWNoaWV2ZWQgdGhlIGhpZ2hlc3QgcG9zc2libGUgNS45LXN0YXIgcmF0aW5nIGluIFN5c3RlbTEncyBhbmFseXNpcyBmb3IgYm90aCBzaG9ydCBhbmQgbG9uZy10ZXJtIGVmZmVjdHMgKHRoZSBzaXh0aCBjb25zZWN1dGl2ZSB5ZWFyIEFsZGkncyBDaHJpc3RtYXMgY2FtcGFpZ24gaGFkIHNjb3JlZCB0aGUgaGlnaGVzdCBpbiB0aGUgcmFua2luZ3MpLiBLZXZpbiB3YXMgYWxzbyBuYW1lZCB0aGUgVUsncyBmYXZvdXJpdGUgQ2hyaXN0bWFzIGFkIG9mIGFsbCB0aW1lLCBhbmQgQWxkaSdzIHJlcG9ydGVkIGEgMy40JSBpbmNyZWFzZSBpbiB0b3RhbCBzYWxlcyBpbiAyMDI0LCB0aGUgYnJhbmQncyBcXFwiYmVzdCBDaHJpc3RtYXMgZXZlci5cXFwiXCIsXG4gICAgXCJ2aW1lb0lkXCI6IFwiMTEzMDMyNzA4MVwiLFxuICAgIFwidmltZW9QcmV2aWV3SWRcIjogXCIxMTM1MzI0Mzg3XCIsXG4gICAgXCJhd2FyZHNcIjogW11cbiAgfSxcbiAgXCJ4Ym94LWNoZWVreS1jb250cm9sbGVyXCI6IHtcbiAgICBcImNsaWVudFwiOiBcIlhib3hcIixcbiAgICBcInRpdGxlXCI6IFwiQ2hlZWt5IENvbnRyb2xsZXJcIixcbiAgICBcInRydXRoXCI6IFwiSXJyZXZlcmVuY2UgaXMgRGVhZHBvb2wncyB0cnVlIHN1cGVycG93ZXIuXCIsXG4gICAgXCJ0cnV0aFdlbGxUb2xkXCI6IFwiRGVhZHBvb2wncyBncmVhdGVzdCBhc3NldCBpcyBoaXNcdTIwMjZcIixcbiAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIGhpZ2hseSBhbnRpY2lwYXRlZCB0aGVhdHJpY2FsIHJlbGVhc2Ugb2YgTWFydmVsIFN0dWRpb3MnIFxcXCJEZWFkcG9vbCAmIFdvbHZlcmluZVxcXCIgd2FzIGFuIHVubWlzc2FibGUgcG9wIGN1bHR1cmUgbW9tZW50LCBhbmQgWGJveCBhaW1lZCB0byBjYXB0dXJlIHRoZSBhdHRlbnRpb24gb2YgdGhlIG1vdmllJ3MgZmFuYmFzZSBhbG9uZ3NpZGUgb3RoZXIgYnJhbmRzIHZ5aW5nIGZvciBjb25zdW1lciBlbmdhZ2VtZW50LiBCeSBhdXRoZW50aWNhbGx5IGJsZW5kaW5nIFhib3gncyB0ZWNobm9sb2dpY2FsIGVkZ2Ugd2l0aCBEZWFkcG9vbCdzIGlycmV2ZXJlbnQgaHVtb3IsIHdlIGNyZWF0ZWQgYSBjdWx0dXJhbGx5IGljb25pYyByZXRhaWwgcHJvbW90aW9uIHdpdGggYSBjb21wZXRpdGlvbiBhdCBpdHMgY29yZS4gUmF0aGVyIHRoYW4gcmVseSBvbiBwcmVkaWN0YWJsZSBjaGFyYWN0ZXIgYXNzZXRzLCB3ZSBsYXVuY2hlZCBUaGUgQ2hlZWt5IENvbnRyb2xsZXIgXHUyMDE0IGEgbGltaXRlZC1lZGl0aW9uIGNvbGxlY3RpYmxlIG1vZGVsZWQgYWZ0ZXIgRGVhZHBvb2wncyBtb3N0IHRhbGtlZC1hYm91dCBib2R5IHBhcnQgXHUyMDE0IGFzIGFuIGV4Y2x1c2l2ZSBwcml6ZSBpbiBhIGdsb2JhbCBzd2VlcHN0YWtlcy4gVGhpcyB1bmV4cGVjdGVkIHR3aXN0IG9uIGNoYXJhY3RlciBtZXJjaGFuZGlzaW5nIG5vdCBvbmx5IGlnbml0ZWQgZmFuIGZyZW56eSBhbmQgZHJvdmUgbWFzc2l2ZSBlYXJuZWQgbWVkaWEsIGl0IGFsc28gZGVlcGVuZWQgYnJhbmQgZW5nYWdlbWVudCBhbmQgZGVsaXZlcmVkIGEgMjUlIHNhbGVzIHVwbGlmdCBvbiB0aGUgTWljcm9zb2Z0IFN0b3JlLCBwcm92aW5nIHRoZSBwb3dlciBvZiBib2xkIHJldGFpbCBpZGVhcyB0byBjdXQgdGhyb3VnaC5cIixcbiAgICBcImltcGFjdFwiOiBcIisyNSUgc2FsZXMgaW5jcmVhc2Ugb24gdGhlIE1pY3Jvc29mdCBTdG9yZVwiLFxuICAgIFwidmltZW9JZFwiOiBcIjAwMDAwMDAwMFwiLFxuICAgIFwidmltZW9QcmV2aWV3SWRcIjogXCIxMTM1MzI0NDIxXCIsXG4gICAgXCJhd2FyZHNcIjogW1xuICAgICAgeyBcInR5cGVcIjogXCJjYW5uZXNcIiwgXCJsYWJlbFwiOiBcIkJyb256ZSBMaW9uIChFbnRlcnRhaW5tZW50KVwiIH0sXG4gICAgICB7IFwidHlwZVwiOiBcImFuZHlcIiwgXCJsYWJlbFwiOiBcIkdvbGQgKElkZWEpXCIgfSxcbiAgICAgIHsgXCJ0eXBlXCI6IFwidGhlb25lc2hvd1wiLCBcImxhYmVsXCI6IFwiQnJvbnplIFBlbmNpbFwiIH0sXG4gICAgICB7IFwidHlwZVwiOiBcImdlcmV0eVwiLCBcImxhYmVsXCI6IFwiR29sZCAoSHVtb3VyLCBFbnRlcnRhaW5tZW50KVwiIH0sXG4gICAgICB7IFwidHlwZVwiOiBcImRhbmRhZFwiLCBcImxhYmVsXCI6IFwiV29vZCBQZW5jaWxcIiB9XG4gICAgXVxuICB9LFxuICBcIm1jZG9uYWxkcy1ub3QtZmlyc3QtZGF0ZXNcIjoge1xuICAgIFwiY2xpZW50XCI6IFwiTWNEb25hbGQnc1wiLFxuICAgIFwidGl0bGVcIjogXCJOb3QgZm9yIEZpcnN0IERhdGVzXCIsXG4gICAgXCJ0cnV0aFwiOiBcIldoaWxlIE1jRG9uYWxkJ3MgbWF5IG5vdCBtYXJrIHRoZSBiZWdpbm5pbmcgb2YgbG92ZSwgaXQgb2Z0ZW4gYmVjb21lcyBwYXJ0IG9mIGxvdmUncyBqb3VybmV5IFx1MjAxNCBmb3Igc2Vjb25kIGRhdGVzLCBsYXRlLW5pZ2h0IGNvbWZvcnQsIGFuZCBldmVyeWRheSByaXR1YWxzLlwiLFxuICAgIFwidHJ1dGhXZWxsVG9sZFwiOiBcIk5vdCBmb3IgZmlyc3QgZGF0ZXMuIEJ1dCBmb3IgZXZlcnkgb3RoZXIgb25lLlwiLFxuICAgIFwiZGVzY3JpcHRpb25cIjogXCJCeSBlbWJyYWNpbmcgYSB2aXJhbCBtb21lbnQgdGhhdCBpdHMgcmVzdGF1cmFudCBcXFwid2Fzbid0IGZvciBmaXJzdCBkYXRlcyxcXFwiIE1jRG9uYWxkJ3MgcmVpZ25pdGVkIGVtb3Rpb25hbCBjb25uZWN0aW9uIHdpdGggdGhlIGF1ZGllbmNlIGJ5IGNlbGVicmF0aW5nIHNlY29uZCwgZmlmdGgsIGFuZCBmb3JldmVyIGRhdGVzIHRocm91Z2ggaW50aW1hdGUsIGhvbmVzdCBzdG9yeXRlbGxpbmcuXCIsXG4gICAgXCJpbXBhY3RcIjogXCJcIixcbiAgICBcInZpbWVvSWRcIjogXCI0MTk0Y2I1NWRhXCIsXG4gICAgXCJ2aW1lb1ByZXZpZXdJZFwiOiBcIjExMzUzMjQ0ODVcIixcbiAgICBcImF3YXJkc1wiOiBbXG4gICAgICB7IFwidHlwZVwiOiBcImNhbm5lc1wiLCBcImxhYmVsXCI6IFwiQnJvbnplIExpb24sIE91dGRvb3JcIiB9XG4gICAgXVxuICB9LFxuICBcImp1c3QtZWF0LWRpZC1zb21lYm9keS1zYXlcIjoge1xuICAgIFwiY2xpZW50XCI6IFwiSnVzdCBFYXRcIixcbiAgICBcInRpdGxlXCI6IFwiRGlkIFNvbWVib2R5IFNheVwiLFxuICAgIFwidHJ1dGhcIjogXCJHZXR0aW5nIHdoYXQgeW91IHdhbnQsIHdoZW4geW91IHdhbnQgaXQsIGlzIG1vZGVybiBsaWZlJ3MgZ3JlYXRlc3Qgam95LlwiLFxuICAgIFwidHJ1dGhXZWxsVG9sZFwiOiBcIkRpZCBTb21lYm9keSBTYXlcIixcbiAgICBcImRlc2NyaXB0aW9uXCI6IFwiSnVzdCBFYXQgVUsmSSBhbmQgTWNDYW5uIExvbmRvbiBsYXVuY2hlZCBhIGZyZXNoIHRha2Ugb24gdGhlIGljb25pYyBcXFwiRGlkIFNvbWVib2R5IFNheVxcXCIgY2FtcGFpZ24sIHN0YXJyaW5nIFVLIGdhcmFnZSBsZWdlbmQgQ3JhaWcgRGF2aWQuIENlbGVicmF0aW5nIG5laWdoYm91cmhvb2RzIGFuZCBjb21tdW5pdHkgc3Bpcml0LCB0aGUgbmV3IGNhbXBhaWduIGJyaW5ncyBhIGRpc3RpbmN0bHkgbG9jYWwgXFxcImZsYXZhXFxcIiB0byB0aGUgcGxhdGZvcm0uIENyYWlnIERhdmlkJ3MgZ2FyYWdlLWluc3BpcmVkIHJlbWl4IG9mIHRoZSBmYW1vdXMgamluZ2xlIHNvdW5kdHJhY2tzIGEgbGl2ZWx5IGpvdXJuZXkgdGhyb3VnaCBcXFwiSW1wb3NzaWJsZSBTdHJlZXQsXFxcIiBzaG93Y2FzaW5nIGRpdmVyc2UgaG91c2Vob2xkcyBhbmQgdGhlIG1hbnkgd2F5cyBKdXN0IEVhdCBzZXJ2ZXMgZXZlcnlkYXkgbW9tZW50cyBcdTIwMTQgZnJvbSBjb3N5IHRha2Vhd2F5cyB0byBsYXN0LW1pbnV0ZSBncm9jZXJpZXMuIERpcmVjdGVkIGJ5IFJvbWFpbiBDaGFzc2FpbmcsIHRoZSBjYW1wYWlnbiBzcGFucyBUViwgY2luZW1hLCByYWRpbywgYW5kIHNvY2lhbCwgc3BvdGxpZ2h0aW5nIEp1c3QgRWF0J3MgZGVlcCBjb25uZWN0aW9uIHRvIGxvY2FsIGN1bHR1cmUuXCIsXG4gICAgXCJpbXBhY3RcIjogXCJTaW5jZSBsYXVuY2hpbmcsIGFkIHJlY29nbml0aW9uIGlzIG5vdyBhdCA2NyUgKGNhdGVnb3J5IGF2ZXJhZ2UgaXMgMzglKSwgcHJvZml0cyBoYXZlIGluY3JlYXNlZCBieSA1NiUsIGFuZCB0aGUgVUsgaGFzIGV4cGVyaWVuY2VkICsyNCUgWU9ZIHJldmVudWUgZ3Jvd3RoLiBCZXN0IG9mIGFsbCwgSnVzdCBFYXQgaGFzIHRha2VuIGl0cyByaWdodGZ1bCBwbGFjZSBhcyBudW1iZXIgMSBpbiB0aGUgZm9vZCBkZWxpdmVyeSBjYXRlZ29yeSwgYWxsIHdoaWxzdCBlbnRlcnRhaW5pbmcgdGhlIHdvcmxkLlwiLFxuICAgIFwidmltZW9JZFwiOiBcIjExMzAzMjY4NDlcIixcbiAgICBcInZpbWVvUHJldmlld0lkXCI6IFwiMTEzNTMyNDQ0M1wiLFxuICAgIFwiYXdhcmRzXCI6IFtdXG4gIH0sXG4gIFwicHJhZGEtcGFyYWRpZ21lXCI6IHtcbiAgICBcImNsaWVudFwiOiBcIlByYWRhXCIsXG4gICAgXCJ0aXRsZVwiOiBcIlBhcmFkaWdtZVwiLFxuICAgIFwidHJ1dGhcIjogXCJUaGVyZSdzIG5vIHNpbmd1bGFyIHZlcnNpb24gb2YgbWFzY3VsaW5pdHkuIEVhY2ggaW5kaXZpZHVhbCBjcmVhdGVzIHRoZWlyIG93biBwYXJhZGlnbS5cIixcbiAgICBcInRydXRoV2VsbFRvbGRcIjogXCJXaGF0IGlmIHRoZXJlJ3MgYW5vdGhlciB3YXk/XCIsXG4gICAgXCJkZXNjcmlwdGlvblwiOiBcIldpdGggYSBjaW5lbWF0aWMgZmlsbSBzdGFycmluZyBicmFuZCBhbWJhc3NhZG9yIFRvbSBIb2xsYW5kLCBQcmFkYSBCZWF1dHkgdW52ZWlsZWQgaXRzIG5ldyBtYXNjdWxpbmUgZnJhZ3JhbmNlLCBQYXJhZGlnbWUuIENyZWF0ZWQgYnkgTWNDYW5uIFBhcmlzIGFuZCBkaXJlY3RlZCBieSBPc2Nhci13aW5uZXIgVGhvbWFzIFZpbnRlcmJlcmcsIHRoZSB0d28tbWludXRlIHNwb3QgZm9sbG93cyBIb2xsYW5kIGFzIGhlIHJlZmxlY3RzIG9uIGxpZmUncyBwb3NzaWJpbGl0aWVzLCBhc2tpbmcsIFxcXCJXaGF0IGlmIHRoZXJlJ3MgYW5vdGhlciB3YXk/XFxcIiBUaHJvdWdoIG1vbWVudHMgb2YgaW50cm9zcGVjdGlvbiwgbW92ZW1lbnQsIGFuZCBjcmVhdGl2aXR5LCB0aGUgZmlsbSBjYXB0dXJlcyB0aGVtZXMgb2YgZ3Jvd3RoIGFuZCBzZWxmLWRpc2NvdmVyeSwgZWNob2luZyB0aGUgZnJhZ3JhbmNlJ3Mgc3Bpcml0IG9mIHJlZGVmaW5pbmcgb25lJ3MgcGF0aC4gQmxlbmRpbmcgZW1vdGlvbmFsIHN0b3J5dGVsbGluZyB3aXRoIHN0cmlraW5nIHZpc3VhbHMsIFBhcmFkaWdtZSBjZWxlYnJhdGVzIGF1dGhlbnRpY2l0eSBhbmQgY3VyaW9zaXR5LiBUaGUgY2FtcGFpZ24gbGF1bmNoZWQgZ2xvYmFsbHkgYWNyb3NzIFRWLCBjaW5lbWEsIGFuZCBzb2NpYWwgcGxhdGZvcm1zLCBlbWJvZHlpbmcgUHJhZGEncyBjYWxsIHRvIFxcXCJjcmVhdGUgeW91ciBwYXJhZGlnbS5cXFwiXCIsXG4gICAgXCJpbXBhY3RcIjogXCJcIixcbiAgICBcInZpbWVvSWRcIjogXCIxMTMwMzI3ODY3XCIsXG4gICAgXCJ2aW1lb1ByZXZpZXdJZFwiOiBcIjExMzUzMjQ0NjNcIixcbiAgICBcImF3YXJkc1wiOiBbXVxuICB9XG59XG5cbiIsICIvKipcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiAgTWNDYW5uIFdlYnNpdGUgXHUyMDE0IFByZWxvYWRlclxuICogIFB1cnBvc2U6IFByZWZldGNoIHZpZGVvcyAoSFRNTDUgKyBWaW1lbyksIHNob3cgVHJ1dGhXZWxsVG9sZCBzaWduZXQgd2l0aCBwdWxzZVxuICogIERhdGU6IDIwMjUtMTEtMDZcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuY29uc29sZS5sb2coJ1tQUkVMT0FERVJdIE1vZHVsZSBsb2FkZWQnKTtcblxuaW1wb3J0IHByb2plY3REYXRhSnNvbiBmcm9tICcuLi9kYXRhL3Byb2plY3QtZGF0YS5qc29uJztcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTVEFURVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmxldCBwcmVsb2FkZXJFbCA9IG51bGw7XG5sZXQgc2lnbmV0RWwgPSBudWxsO1xubGV0IHByb2dyZXNzRWwgPSBudWxsO1xubGV0IGxvZ0VsID0gbnVsbDtcbmxldCBhbmltYXRpb25GcmFtZUlkID0gbnVsbDtcbmxldCBzaG93RGVidWdMb2cgPSB0cnVlOyAvLyBUb2dnbGUgdG8gc2hvdy9oaWRlIHJlYWwtdGltZSBsb2dcbmxldCByZXNpemVUaW1lb3V0SWQgPSBudWxsO1xubGV0IGlzUmVzaXppbmcgPSBmYWxzZTtcbmxldCByZXNpemVGYWRlRHVyYXRpb24gPSA3NTsgLy8gUXVpY2sgZmFkZS1vdXQgKG1zKVxubGV0IHJlc2l6ZUZhZGVJbkR1cmF0aW9uID0gMzAwOyAvLyBTb2Z0LCByZWZpbmVkLCBlbGVnYW50IGZhZGUtaW4gKG1zKVxubGV0IHJlc2l6ZVNob3dEZWxheVRpbWVvdXRJZCA9IG51bGw7XG5sZXQgcmVzaXplSGlkZURlbGF5VGltZW91dElkID0gbnVsbDsgLy8gRGVsYXkgYmVmb3JlIGhpZGluZyBhZnRlciByZXNpemUgc3RvcHNcbmxldCBsYXN0UmVzaXplQ292ZXJIaWRlVGltZSA9IDA7XG5sZXQgcmVzaXplU2hvd0RlbGF5ID0gODAwOyAvLyBEZWxheSBiZWZvcmUgc2hvd2luZyBhZ2FpbiAobXMpXG5sZXQgcmVzaXplSGlkZURlbGF5ID0gMTIwMDsgLy8gRGVsYXkgYmVmb3JlIGhpZGluZyBhZnRlciByZXNpemUgc3RvcHMgKG1zKVxubGV0IGV2ZW50TGVhZE1zID0gMTAwOyAvLyBUaW1lIGJlZm9yZSBoaWRlIHRvIGVtaXQgbG9hZC1jb21wbGV0ZWQgZXZlbnQgKG1zKVxubGV0IGJvZHlPdmVyZmxvd0JlZm9yZVByZWxvYWRlciA9ICcnO1xubGV0IGhhc1N0b3JlZEJvZHlPdmVyZmxvdyA9IGZhbHNlO1xuXG4vLyBXZWJmbG93IElYIGhlbHBlciAoaXgzIG9yIGl4MilcbmNvbnN0IHdmSXggPSAod2luZG93LldlYmZsb3cgJiYgd2luZG93LldlYmZsb3cucmVxdWlyZSlcbiAgPyAod2luZG93LldlYmZsb3cucmVxdWlyZSgnaXgzJykgfHwgd2luZG93LldlYmZsb3cucmVxdWlyZSgnaXgyJykpXG4gIDogbnVsbDtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBIRUxQRVIgRlVOQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZnVuY3Rpb24gc3RvcmVCb2R5T3ZlcmZsb3coKSB7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnIHx8ICFkb2N1bWVudC5ib2R5KSByZXR1cm47XG4gIGlmICghaGFzU3RvcmVkQm9keU92ZXJmbG93KSB7XG4gICAgLy8gUHJlc2VydmUgYXV0aG9yJ3Mgb3ZlcmZsb3cgc2V0dGluZyBzbyB3ZSBjYW4gcmVzdG9yZSBsYXRlciBcdTIxOTIgcHJldmVudHMgcGVybWFuZW50IHNjcm9sbCBsb2NrXG4gICAgYm9keU92ZXJmbG93QmVmb3JlUHJlbG9hZGVyID0gZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyB8fCAnJztcbiAgICBoYXNTdG9yZWRCb2R5T3ZlcmZsb3cgPSB0cnVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlc3RvcmVCb2R5T3ZlcmZsb3coKSB7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnIHx8ICFkb2N1bWVudC5ib2R5KSByZXR1cm47XG4gIGlmIChoYXNTdG9yZWRCb2R5T3ZlcmZsb3cpIHtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gYm9keU92ZXJmbG93QmVmb3JlUHJlbG9hZGVyO1xuICB9IGVsc2Uge1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJztcbiAgfVxuICBoYXNTdG9yZWRCb2R5T3ZlcmZsb3cgPSBmYWxzZTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBJTklUSUFMSVpBVElPTlxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBwcmVsb2FkZXJcbiAqIFByZWZldGNoZXMgYWxsIGF1dG9wbGF5IHZpZGVvcyAoSFRNTDUgKyBWaW1lbykgYmVmb3JlIHNob3dpbmcgY29udGVudFxuICogXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuc2VsZWN0b3IgLSBQcmVsb2FkZXIgY29udGFpbmVyIHNlbGVjdG9yXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy52aWRlb1NlbGVjdG9yIC0gV2ViZmxvdyBiYWNrZ3JvdW5kIHZpZGVvIHNlbGVjdG9yXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy52aW1lb1ByZWxvYWQgLSBWaW1lbyBzdHJhdGVneTogJ25vbmUnLCAncHJlZmV0Y2gnLCAncHJlYnVmZmVyJ1xuICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMudmltZW9CdWZmZXJMaW1pdCAtIE1heCBWaW1lbyB2aWRlb3MgdG8gcHJlYnVmZmVyIChkZWZhdWx0OiA1KVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMucHJvamVjdERhdGEgLSBQcm9qZWN0IGRhdGEgd2l0aCB2aW1lb0lkIGZpZWxkc1xuICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMubWluTG9hZFRpbWUgLSBNaW5pbXVtIHRpbWUgdG8gc2hvdyBwcmVsb2FkZXIgKG1zKVxuICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLnNob3dEZWJ1Z0xvZyAtIFNob3cgcmVhbC10aW1lIGRlYnVnIGxvZyAoZGVmYXVsdDogdHJ1ZSlcbiAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLnB1bHNlRHVyYXRpb24gLSBQdWxzZSBjeWNsZSBkdXJhdGlvbiBpbiBtcyAoZGVmYXVsdDogMjQwMClcbiAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLnB1bHNlT3BhY2l0eSAtIE9wYWNpdHkgdmFyaWF0aW9uIGFtcGxpdHVkZSAoMC0xLCBkZWZhdWx0OiAwLjM1KVxuICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLmVuYWJsZVJlc2l6ZUNvdmVyIC0gU2hvdyBwcmVsb2FkZXIgZHVyaW5nIHJlc2l6ZSAoZGVmYXVsdDogdHJ1ZSlcbiAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLnJlc2l6ZUZhZGVEdXJhdGlvbiAtIEZhZGUgaW4vb3V0IGR1cmF0aW9uIGR1cmluZyByZXNpemUgKG1zLCBkZWZhdWx0OiAxNTApXG4gKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5yZXNpemVTaG93RGVsYXkgLSBEZWxheSBiZWZvcmUgc2hvd2luZyBjb3ZlciBhZ2FpbiBhZnRlciBoaWRpbmcgKG1zLCBkZWZhdWx0OiA4MDApXG4gKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5ldmVudExlYWRNcyAtIFRpbWUgYmVmb3JlIGhpZGUgdG8gZW1pdCBsb2FkLWNvbXBsZXRlZCBldmVudCAobXMsIGRlZmF1bHQ6IDEwMClcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRQcmVsb2FkZXIoe1xuICBzZWxlY3RvciA9ICcjcHJlbG9hZGVyJyxcbiAgdmlkZW9TZWxlY3RvciA9ICd2aWRlb1tkYXRhLXdmLWlnbm9yZV0sIHZpZGVvW2F1dG9wbGF5XSwgdmlkZW9bZGF0YS1hdXRvcGxheV0nLFxuICB2aW1lb1ByZWxvYWQgPSAncHJlZmV0Y2gnLCAvLyAnbm9uZScsICdwcmVmZXRjaCcsICdwcmVidWZmZXInXG4gIHZpbWVvQnVmZmVyTGltaXQgPSA1LFxuICBwcm9qZWN0RGF0YSA9IHByb2plY3REYXRhSnNvbixcbiAgbWluTG9hZFRpbWUgPSAxMDAwLFxuICBzaG93RGVidWdMb2c6IGRlYnVnTG9nT3B0aW9uID0gdHJ1ZSxcbiAgcHVsc2VEdXJhdGlvbiA9IDI0MDAsXG4gIHB1bHNlT3BhY2l0eSA9IDAuMzUsXG4gIGVuYWJsZVJlc2l6ZUNvdmVyID0gdHJ1ZSxcbiAgcmVzaXplRmFkZUR1cmF0aW9uOiBmYWRlRHVyYXRpb24gPSAxNTAsXG4gIHJlc2l6ZVNob3dEZWxheTogc2hvd0RlbGF5ID0gODAwLFxuICBldmVudExlYWRNczogbGVhZE1zID0gMTAwXG59ID0ge30pIHtcblxuICBzaG93RGVidWdMb2cgPSBkZWJ1Z0xvZ09wdGlvbjtcbiAgcmVzaXplRmFkZUR1cmF0aW9uID0gZmFkZUR1cmF0aW9uO1xuICByZXNpemVTaG93RGVsYXkgPSBzaG93RGVsYXk7XG4gIGV2ZW50TGVhZE1zID0gbGVhZE1zO1xuICBcbiAgbG9nKCdJbml0aWFsaXppbmcgcHJlbG9hZGVyLi4uJyk7XG5cbiAgLy8gRW5zdXJlIHByZWxvYWRlciBhcHBlYXJzIGZpcnN0IC0gbG9jayBib2R5IHNjcm9sbCBpbW1lZGlhdGVseVxuICBzdG9yZUJvZHlPdmVyZmxvdygpO1xuICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ3ByZWxvYWRlci1hY3RpdmUnKTtcbiAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuXG4gIC8vIEZpbmQgZWxlbWVudHNcbiAgcHJlbG9hZGVyRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgaWYgKCFwcmVsb2FkZXJFbCkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1tQUkVMT0FERVJdIFx1Mjc0QyBQcmVsb2FkZXIgZWxlbWVudCBub3QgZm91bmQnKTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3ByZWxvYWRlci1hY3RpdmUnKTtcbiAgICByZXN0b3JlQm9keU92ZXJmbG93KCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRW5zdXJlIHByZWxvYWRlciBpcyB2aXNpYmxlIGFuZCBvbiB0b3BcbiAgcHJlbG9hZGVyRWwuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgcHJlbG9hZGVyRWwuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICBwcmVsb2FkZXJFbC5zdHlsZS56SW5kZXggPSAnOTk5OTk5JztcbiAgXG4gIC8vIEluaXRpYWxpemUgcmVzaXplIGNvdmVyIGlmIGVuYWJsZWRcbiAgLy8gVEVNUE9SQVJJTFkgRElTQUJMRUQgRk9SIFRFU1RJTkdcbiAgLy8gaWYgKGVuYWJsZVJlc2l6ZUNvdmVyKSB7XG4gIC8vICAgaW5pdFJlc2l6ZUNvdmVyKCk7XG4gIC8vIH1cblxuICBzaWduZXRFbCA9IHByZWxvYWRlckVsLnF1ZXJ5U2VsZWN0b3IoJy5wcmVsb2FkZXJfX3NpZ25ldCcpO1xuICBwcm9ncmVzc0VsID0gcHJlbG9hZGVyRWwucXVlcnlTZWxlY3RvcignLnByZWxvYWRlcl9fcHJvZ3Jlc3MnKTtcblxuICBpZiAoIXNpZ25ldEVsKSB7XG4gICAgY29uc29sZS5lcnJvcignW1BSRUxPQURFUl0gXHUyNzRDIFNpZ25ldCBlbGVtZW50IG5vdCBmb3VuZCcpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIENyZWF0ZSBkZWJ1ZyBsb2cgZWxlbWVudCBpZiBlbmFibGVkXG4gIGlmIChzaG93RGVidWdMb2cpIHtcbiAgICBjcmVhdGVMb2dFbGVtZW50KCk7XG4gIH1cblxuICBsb2coJ1x1MjcxMyBFbGVtZW50cyBmb3VuZCcsICdzdWNjZXNzJyk7XG4gIGxvZygnXHUyNzEzIFB1bHNlIGFuaW1hdGlvbiBzdGFydGluZycsICdpbmZvJyk7XG5cbiAgLy8gU3RhcnQgcHVsc2UgYW5pbWF0aW9uXG4gIGFuaW1hdGVQdWxzZShwdWxzZUR1cmF0aW9uLCBwdWxzZU9wYWNpdHkpO1xuXG4gIC8vIEJlZ2luIGxvYWRpbmcgcHJvY2Vzc1xuICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgXG4gIC8vIFN0ZXAgMTogTG9hZCBIVE1MNSB2aWRlb3MgYW5kIFZpbWVvIHByZWxvYWQvcHJlZmV0Y2hcbiAgUHJvbWlzZS5hbGwoW1xuICAgIHByZWZldGNoVmlkZW9zKHZpZGVvU2VsZWN0b3IpLFxuICAgIHByZWxvYWRWaW1lb1ZpZGVvcyhwcm9qZWN0RGF0YSwgdmltZW9QcmVsb2FkLCB2aW1lb0J1ZmZlckxpbWl0KVxuICBdKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIGxvZygnXHUyNzEzIEhUTUw1IHZpZGVvcyBhbmQgVmltZW8gcHJlbG9hZCBjb21wbGV0ZScsICdzdWNjZXNzJyk7XG4gICAgICBcbiAgICAgIC8vIFN0ZXAgMjogV2FpdCBmb3Igc2xpZGVzIHRvIGJlIGJ1aWx0IChpZiBzbGlkZXMgbW9kdWxlIGV4aXN0cylcbiAgICAgIHJldHVybiB3YWl0Rm9yU2xpZGVzQnVpbHQoKTtcbiAgICB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIGxvZygnXHUyNzEzIFNsaWRlcyBidWlsdCcsICdzdWNjZXNzJyk7XG4gICAgICBcbiAgICAgIC8vIFN0ZXAgMzogV2FpdCBmb3IgYWxsIHByZXZpZXcgdmlkZW9zIHRvIGJlIHBsYXlpbmdcbiAgICAgIHJldHVybiB3YWl0Rm9yUHJldmlld1ZpZGVvc1BsYXlpbmcoKTtcbiAgICB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIGNvbnN0IGVsYXBzZWQgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICAgIGNvbnN0IHJlbWFpbmluZyA9IE1hdGgubWF4KDAsIG1pbkxvYWRUaW1lIC0gZWxhcHNlZCk7XG4gICAgICBcbiAgICAgIGxvZyhgXHUyNzEzIEFsbCBtZWRpYSBsb2FkZWQgYW5kIHByZXZpZXdzIHBsYXlpbmcgaW4gJHtNYXRoLnJvdW5kKGVsYXBzZWQpfW1zYCwgJ3N1Y2Nlc3MnKTtcbiAgICAgIFxuICAgICAgaWYgKHJlbWFpbmluZyA+IDApIHtcbiAgICAgICAgbG9nKGBXYWl0aW5nICR7TWF0aC5yb3VuZChyZW1haW5pbmcpfW1zIChtaW4gZGlzcGxheSB0aW1lKS4uLmAsICdpbmZvJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBoaWRlUHJlbG9hZGVyKCk7XG4gICAgICB9LCByZW1haW5pbmcpO1xuICAgIH0pXG4gICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbUFJFTE9BREVSXSBcdTI3NEMgRXJyb3I6JywgZXJyKTtcbiAgICAgIGxvZyhgXHUyNzRDIEVycm9yIGxvYWRpbmcgbWVkaWE6ICR7ZXJyLm1lc3NhZ2V9YCwgJ2Vycm9yJyk7XG4gICAgICBcbiAgICAgIC8vIEdyYWNlZnVsIGRlZ3JhZGF0aW9uIC0gc3RpbGwgaGlkZSBhZnRlciBtaW4gdGltZVxuICAgICAgY29uc3QgZWxhcHNlZCA9IHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgY29uc3QgcmVtYWluaW5nID0gTWF0aC5tYXgoMCwgbWluTG9hZFRpbWUgLSBlbGFwc2VkKTtcbiAgICAgIFxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGxvZygnSGlkaW5nIGRlc3BpdGUgZXJyb3JzIChncmFjZWZ1bCBkZWdyYWRhdGlvbiknLCAnd2FybmluZycpO1xuICAgICAgICBoaWRlUHJlbG9hZGVyKCk7XG4gICAgICB9LCByZW1haW5pbmcpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIE1hbnVhbGx5IGhpZGUgcHJlbG9hZGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoaWRlUHJlbG9hZGVyTWFudWFsbHkoKSB7XG4gIGhpZGVQcmVsb2FkZXIoKTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBMT0dHSU5HIChSZWFsLXRpbWUgVUkgZmVlZGJhY2spXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBDcmVhdGUgbG9nIGVsZW1lbnQgaW4gYm90dG9tIGxlZnQgY29ybmVyXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUxvZ0VsZW1lbnQoKSB7XG4gIGlmICghcHJlbG9hZGVyRWwgfHwgbG9nRWwpIHJldHVybjtcblxuICBsb2dFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBsb2dFbC5jbGFzc05hbWUgPSAncHJlbG9hZGVyX19sb2cnO1xuICBsb2dFbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdwb2xpdGUnKTtcbiAgbG9nRWwuc2V0QXR0cmlidXRlKCdhcmlhLWF0b21pYycsICdmYWxzZScpO1xuICBwcmVsb2FkZXJFbC5hcHBlbmRDaGlsZChsb2dFbCk7XG4gIFxuICBsb2coJ0RlYnVnIGxvZyBpbml0aWFsaXplZCcsICdpbmZvJyk7XG59XG5cbi8qKlxuICogQWRkIGxvZyBlbnRyeSB0byBVSSBhbmQgY29uc29sZVxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBMb2cgbWVzc2FnZVxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBMb2cgdHlwZTogJ2luZm8nLCAnc3VjY2VzcycsICd3YXJuaW5nJywgJ2Vycm9yJ1xuICovXG5mdW5jdGlvbiBsb2cobWVzc2FnZSwgdHlwZSA9ICdpbmZvJykge1xuICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygnZW4tVVMnLCB7IFxuICAgIGhvdXIxMjogZmFsc2UsXG4gICAgaG91cjogJzItZGlnaXQnLFxuICAgIG1pbnV0ZTogJzItZGlnaXQnLCBcbiAgICBzZWNvbmQ6ICcyLWRpZ2l0JyxcbiAgICBmcmFjdGlvbmFsU2Vjb25kRGlnaXRzOiAzXG4gIH0pO1xuICBcbiAgY29uc3QgY29uc29sZU1lc3NhZ2UgPSBgW1BSRUxPQURFUl0gJHttZXNzYWdlfWA7XG4gIFxuICAvLyBDb25zb2xlIG91dHB1dFxuICBzd2l0Y2godHlwZSkge1xuICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgIGNvbnNvbGUuZXJyb3IoY29uc29sZU1lc3NhZ2UpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnd2FybmluZyc6XG4gICAgICBjb25zb2xlLndhcm4oY29uc29sZU1lc3NhZ2UpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc3VjY2Vzcyc6XG4gICAgY2FzZSAnaW5mbyc6XG4gICAgZGVmYXVsdDpcbiAgICAgIGNvbnNvbGUubG9nKGNvbnNvbGVNZXNzYWdlKTtcbiAgfVxuICBcbiAgLy8gVUkgb3V0cHV0IChpZiBkZWJ1ZyBsb2cgZW5hYmxlZClcbiAgaWYgKCFzaG93RGVidWdMb2cgfHwgIWxvZ0VsKSByZXR1cm47XG4gIFxuICBjb25zdCBlbnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBlbnRyeS5jbGFzc05hbWUgPSBgcHJlbG9hZGVyX19sb2ctZW50cnkgcHJlbG9hZGVyX19sb2ctZW50cnktLSR7dHlwZX1gO1xuICBlbnRyeS50ZXh0Q29udGVudCA9IGAke3RpbWVzdGFtcH0gJHttZXNzYWdlfWA7XG4gIFxuICBsb2dFbC5hcHBlbmRDaGlsZChlbnRyeSk7XG4gIFxuICAvLyBBdXRvLXNjcm9sbCB0byBib3R0b21cbiAgbG9nRWwuc2Nyb2xsVG9wID0gbG9nRWwuc2Nyb2xsSGVpZ2h0O1xuICBcbiAgLy8gTGltaXQgdG8gbGFzdCAyMCBlbnRyaWVzIChwZXJmb3JtYW5jZSlcbiAgY29uc3QgZW50cmllcyA9IGxvZ0VsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcmVsb2FkZXJfX2xvZy1lbnRyeScpO1xuICBpZiAoZW50cmllcy5sZW5ndGggPiAyMCkge1xuICAgIGVudHJpZXNbMF0ucmVtb3ZlKCk7XG4gIH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBWSURFTyBQUkVGRVRDSElORyAoSFRNTDUpXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBQcmVmZXRjaCBhbGwgYXV0b3BsYXkgSFRNTDUgdmlkZW9zXG4gKiBVc2VzIFByb21pc2UuYWxsU2V0dGxlZCBmb3IgZ3JhY2VmdWwgaGFuZGxpbmcgb2YgZmFpbGVkIHZpZGVvc1xuICovXG5hc3luYyBmdW5jdGlvbiBwcmVmZXRjaFZpZGVvcyhzZWxlY3Rvcikge1xuICBjb25zdCB2aWRlb3MgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTtcbiAgXG4gIGlmICh2aWRlb3MubGVuZ3RoID09PSAwKSB7XG4gICAgbG9nKCdcdTI2QTAgTm8gdmlkZW9zIGZvdW5kIHRvIHByZWZldGNoJywgJ3dhcm5pbmcnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBsb2coYFx1RDgzQ1x1REZBQyBGb3VuZCAke3ZpZGVvcy5sZW5ndGh9IHZpZGVvKHMpIHRvIHByZWZldGNoYCwgJ2luZm8nKTtcblxuICAvLyBUcmFjayBsb2FkZWQgY291bnQgZm9yIHJlYWwtdGltZSB1cGRhdGVzXG4gIGxldCBsb2FkZWRDb3VudCA9IDA7XG5cbiAgLy8gQ3JlYXRlIGFycmF5IG9mIHByb21pc2VzIGZvciBlYWNoIHZpZGVvXG4gIGNvbnN0IHZpZGVvUHJvbWlzZXMgPSB2aWRlb3MubWFwKCh2aWRlbywgaW5kZXgpID0+IFxuICAgIHByZWZldGNoU2luZ2xlVmlkZW8odmlkZW8sIGluZGV4ICsgMSwgdmlkZW9zLmxlbmd0aCwgKCkgPT4ge1xuICAgICAgbG9hZGVkQ291bnQrKztcbiAgICAgIHVwZGF0ZVByb2dyZXNzKGxvYWRlZENvdW50LCB2aWRlb3MubGVuZ3RoKTtcbiAgICB9KVxuICApO1xuXG4gIC8vIFdhaXQgZm9yIGFsbCB2aWRlb3MgKGdyYWNlZnVsIGhhbmRsaW5nIG9mIGZhaWx1cmVzKVxuICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKHZpZGVvUHJvbWlzZXMpO1xuICBcbiAgY29uc3Qgc3VjY2Vzc2Z1bCA9IHJlc3VsdHMuZmlsdGVyKHIgPT4gci5zdGF0dXMgPT09ICdmdWxmaWxsZWQnKS5sZW5ndGg7XG4gIGNvbnN0IGZhaWxlZCA9IHJlc3VsdHMuZmlsdGVyKHIgPT4gci5zdGF0dXMgPT09ICdyZWplY3RlZCcpLmxlbmd0aDtcblxuICBpZiAoZmFpbGVkID4gMCkge1xuICAgIGxvZyhgXHUyNkEwICR7ZmFpbGVkfSB2aWRlbyhzKSBmYWlsZWQgdG8gbG9hZGAsICd3YXJuaW5nJyk7XG4gIH1cbiAgXG4gIGxvZyhgXHUyNzEzICR7c3VjY2Vzc2Z1bH0vJHt2aWRlb3MubGVuZ3RofSB2aWRlbyhzKSByZWFkeWAsICdzdWNjZXNzJyk7XG59XG5cbi8qKlxuICogUHJlZmV0Y2ggYSBzaW5nbGUgdmlkZW9cbiAqIEBwYXJhbSB7SFRNTFZpZGVvRWxlbWVudH0gdmlkZW8gLSBWaWRlbyBlbGVtZW50XG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBWaWRlbyBpbmRleCAoMS1iYXNlZCBmb3IgZGlzcGxheSlcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3RhbCAtIFRvdGFsIG51bWJlciBvZiB2aWRlb3NcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG9uUHJvZ3Jlc3MgLSBQcm9ncmVzcyBjYWxsYmFja1xuICovXG5mdW5jdGlvbiBwcmVmZXRjaFNpbmdsZVZpZGVvKHZpZGVvLCBpbmRleCwgdG90YWwsIG9uUHJvZ3Jlc3MpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBcbiAgICAvLyBJZiB2aWRlbyBhbHJlYWR5IGxvYWRlZC9yZWFkeVxuICAgIGlmICh2aWRlby5yZWFkeVN0YXRlID49IDMpIHsgLy8gSEFWRV9GVVRVUkVfREFUQSBvciBoaWdoZXJcbiAgICAgIGxvZyhgXHUyNzEzIFZpZGVvICR7aW5kZXh9LyR7dG90YWx9IGFscmVhZHkgbG9hZGVkYCwgJ3N1Y2Nlc3MnKTtcbiAgICAgIG9uUHJvZ3Jlc3MoKTtcbiAgICAgIHJlc29sdmUodmlkZW8pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEV2ZW50IGhhbmRsZXJzXG4gICAgY29uc3Qgb25DYW5QbGF5ID0gKCkgPT4ge1xuICAgICAgbG9nKGBcdTI3MTMgVmlkZW8gJHtpbmRleH0vJHt0b3RhbH0gcmVhZHlgLCAnc3VjY2VzcycpO1xuICAgICAgY2xlYW51cCgpO1xuICAgICAgb25Qcm9ncmVzcygpO1xuICAgICAgcmVzb2x2ZSh2aWRlbyk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9uRXJyb3IgPSAoZXJyKSA9PiB7XG4gICAgICBsb2coYFx1MjZBMCBWaWRlbyAke2luZGV4fS8ke3RvdGFsfSBmYWlsZWRgLCAnd2FybmluZycpO1xuICAgICAgY2xlYW51cCgpO1xuICAgICAgcmVqZWN0KGVycik7XG4gICAgfTtcblxuICAgIGNvbnN0IG9uVGltZW91dCA9ICgpID0+IHtcbiAgICAgIGxvZyhgXHUyNkEwIFZpZGVvICR7aW5kZXh9LyR7dG90YWx9IHRpbWVvdXQgKDEwcylgLCAnd2FybmluZycpO1xuICAgICAgY2xlYW51cCgpO1xuICAgICAgcmVqZWN0KG5ldyBFcnJvcignVmlkZW8gbG9hZCB0aW1lb3V0JykpO1xuICAgIH07XG5cbiAgICBjb25zdCBjbGVhbnVwID0gKCkgPT4ge1xuICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCBvbkNhblBsYXkpO1xuICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheScsIG9uQ2FuUGxheSk7XG4gICAgICB2aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIG9uRXJyb3IpO1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgfTtcblxuICAgIC8vIFRpbWVvdXQgc2FmZXR5IG5ldCAoMTBzIHBlciB2aWRlbylcbiAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KG9uVGltZW91dCwgMTAwMDApO1xuXG4gICAgLy8gTGlzdGVuIGZvciByZWFkeSBzdGF0ZXNcbiAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIG9uQ2FuUGxheSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCBvbkNhblBsYXksIHsgb25jZTogdHJ1ZSB9KTtcbiAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIG9uRXJyb3IsIHsgb25jZTogdHJ1ZSB9KTtcblxuICAgIC8vIFRyaWdnZXIgbG9hZCBpZiBub3QgYWxyZWFkeSBsb2FkaW5nXG4gICAgaWYgKHZpZGVvLnJlYWR5U3RhdGUgPT09IDApIHtcbiAgICAgIGxvZyhgTG9hZGluZyB2aWRlbyAke2luZGV4fS8ke3RvdGFsfS4uLmAsICdpbmZvJyk7XG4gICAgICB2aWRlby5sb2FkKCk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBVcGRhdGUgcHJvZ3Jlc3MgZGlzcGxheVxuICovXG5mdW5jdGlvbiB1cGRhdGVQcm9ncmVzcyhjdXJyZW50LCB0b3RhbCkge1xuICBpZiAoIXByb2dyZXNzRWwpIHJldHVybjtcbiAgXG4gIGNvbnN0IHBlcmNlbnRhZ2UgPSBNYXRoLnJvdW5kKChjdXJyZW50IC8gdG90YWwpICogMTAwKTtcbiAgXG4gIHByb2dyZXNzRWwudGV4dENvbnRlbnQgPSBgJHtwZXJjZW50YWdlfSVgO1xuICBwcm9ncmVzc0VsLnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW5vdycsIHBlcmNlbnRhZ2UpO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFZJTUVPIFBSRUZFVENISU5HXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBQcmVsb2FkIFZpbWVvIHZpZGVvcyBmcm9tIHByb2plY3QgZGF0YVxuICogQHBhcmFtIHtPYmplY3R9IHByb2plY3REYXRhIC0gUHJvamVjdCBkYXRhIHdpdGggdmltZW9JZCBmaWVsZHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJhdGVneSAtICdub25lJywgJ3ByZWZldGNoJywgb3IgJ3ByZWJ1ZmZlcidcbiAqIEBwYXJhbSB7bnVtYmVyfSBidWZmZXJMaW1pdCAtIE1heCB2aWRlb3MgdG8gcHJlYnVmZmVyXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHByZWxvYWRWaW1lb1ZpZGVvcyhwcm9qZWN0RGF0YSwgc3RyYXRlZ3kgPSAncHJlZmV0Y2gnLCBidWZmZXJMaW1pdCA9IDUpIHtcbiAgaWYgKHN0cmF0ZWd5ID09PSAnbm9uZScpIHtcbiAgICBsb2coJ1x1MjNFRCBWaW1lbyBwcmVsb2FkaW5nIGRpc2FibGVkJywgJ2luZm8nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBFeHRyYWN0IHZhbGlkIFZpbWVvIElEcyBmcm9tIHByb2plY3QgZGF0YVxuICBjb25zdCB2aW1lb0lkcyA9IE9iamVjdC52YWx1ZXMocHJvamVjdERhdGEpXG4gICAgLm1hcChwcm9qZWN0ID0+IHByb2plY3Q/LnZpbWVvSWQpXG4gICAgLmZpbHRlcihpZCA9PiBpZCAmJiBpZCAhPT0gJzAwMDAwMDAwMCcgJiYgaWQgIT09ICdudWxsJyAmJiBpZCAhPT0gbnVsbCk7XG4gIFxuICBpZiAodmltZW9JZHMubGVuZ3RoID09PSAwKSB7XG4gICAgbG9nKCdcdTI2QTAgTm8gdmFsaWQgVmltZW8gSURzIGZvdW5kIGluIHByb2plY3QgZGF0YScsICd3YXJuaW5nJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbG9nKGBcdUQ4M0NcdURGQUMgRm91bmQgJHt2aW1lb0lkcy5sZW5ndGh9IFZpbWVvIHZpZGVvKHMpIGluIHByb2plY3QgZGF0YWAsICdpbmZvJyk7XG5cbiAgc3dpdGNoKHN0cmF0ZWd5KSB7XG4gICAgY2FzZSAncHJlYnVmZmVyJzpcbiAgICAgIHJldHVybiBwcmVidWZmZXJWaW1lb0lmcmFtZXModmltZW9JZHMsIGJ1ZmZlckxpbWl0KTtcbiAgICBcbiAgICBjYXNlICdwcmVmZXRjaCc6XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBhZGRWaW1lb1ByZWZldGNoSGludHModmltZW9JZHMpO1xuICB9XG59XG5cbi8qKlxuICogQWRkIHByZWZldGNoIGhpbnRzIGZvciBWaW1lbyB2aWRlb3MgKGxpZ2h0d2VpZ2h0KVxuICogQnJvd3NlciBwcmVsb2FkcyBpbiBiYWNrZ3JvdW5kIHdpdGhvdXQgYmxvY2tpbmdcbiAqL1xuZnVuY3Rpb24gYWRkVmltZW9QcmVmZXRjaEhpbnRzKHZpbWVvSWRzKSB7XG4gIGxvZyhgXHVEODNEXHVERDE3IEFkZGluZyBwcmVmZXRjaCBoaW50cyBmb3IgJHt2aW1lb0lkcy5sZW5ndGh9IFZpbWVvIHZpZGVvKHMpYCwgJ2luZm8nKTtcbiAgXG4gIHZpbWVvSWRzLmZvckVhY2goKGlkLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG4gICAgbGluay5yZWwgPSAncHJlZmV0Y2gnO1xuICAgIGxpbmsuaHJlZiA9IGBodHRwczovL3BsYXllci52aW1lby5jb20vdmlkZW8vJHtpZH1gO1xuICAgIGxpbmsuYXMgPSAnZG9jdW1lbnQnO1xuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgXG4gICAgbG9nKGBcdTI3MTMgVmltZW8gJHtpbmRleCArIDF9LyR7dmltZW9JZHMubGVuZ3RofSBwcmVmZXRjaCBoaW50IGFkZGVkYCwgJ3N1Y2Nlc3MnKTtcbiAgfSk7XG4gIFxuICBsb2coJ1x1MjcxMyBBbGwgVmltZW8gcHJlZmV0Y2ggaGludHMgYWRkZWQgKGxpZ2h0d2VpZ2h0KScsICdzdWNjZXNzJyk7XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbn1cblxuLyoqXG4gKiBQcmVidWZmZXIgVmltZW8gdmlkZW9zIHdpdGggaGlkZGVuIGlmcmFtZXMgKGFnZ3Jlc3NpdmUpXG4gKiBPbmx5IHVzZSBvbiBnb29kIGNvbm5lY3Rpb25zIHdpdGggZmV3IHZpZGVvc1xuICovXG5mdW5jdGlvbiBwcmVidWZmZXJWaW1lb0lmcmFtZXModmltZW9JZHMsIGJ1ZmZlckxpbWl0ID0gNSkge1xuICAvLyBDaGVjayBjb25uZWN0aW9uIHF1YWxpdHlcbiAgY29uc3QgY29ubmVjdGlvbiA9IG5hdmlnYXRvci5jb25uZWN0aW9uIHx8IG5hdmlnYXRvci5tb3pDb25uZWN0aW9uIHx8IG5hdmlnYXRvci53ZWJraXRDb25uZWN0aW9uO1xuICBjb25zdCBpc01vYmlsZSA9IC9pUGhvbmV8aVBhZHxpUG9kfEFuZHJvaWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICBcbiAgLy8gU2tpcCBwcmVidWZmZXJpbmcgb24gc2xvdyBjb25uZWN0aW9ucyBvciBtb2JpbGVcbiAgaWYgKGNvbm5lY3Rpb24gJiYgY29ubmVjdGlvbi5lZmZlY3RpdmVUeXBlICE9PSAnNGcnKSB7XG4gICAgbG9nKCdcdTI2QTAgU2tpcHBpbmcgVmltZW8gcHJlYnVmZmVyIChzbG93IGNvbm5lY3Rpb24gZGV0ZWN0ZWQpJywgJ3dhcm5pbmcnKTtcbiAgICBsb2coJ1x1MjcxMyBGYWxsaW5nIGJhY2sgdG8gcHJlZmV0Y2ggaGludHMgb25seScsICdpbmZvJyk7XG4gICAgcmV0dXJuIGFkZFZpbWVvUHJlZmV0Y2hIaW50cyh2aW1lb0lkcyk7XG4gIH1cbiAgXG4gIGlmIChpc01vYmlsZSkge1xuICAgIGxvZygnXHUyNkEwIFNraXBwaW5nIFZpbWVvIHByZWJ1ZmZlciAobW9iaWxlIGRldmljZSBkZXRlY3RlZCknLCAnd2FybmluZycpO1xuICAgIGxvZygnXHUyNzEzIEZhbGxpbmcgYmFjayB0byBwcmVmZXRjaCBoaW50cyBvbmx5JywgJ2luZm8nKTtcbiAgICByZXR1cm4gYWRkVmltZW9QcmVmZXRjaEhpbnRzKHZpbWVvSWRzKTtcbiAgfVxuICBcbiAgLy8gTGltaXQgbnVtYmVyIG9mIHZpZGVvcyB0byBwcmVidWZmZXJcbiAgY29uc3QgaWRzVG9CdWZmZXIgPSB2aW1lb0lkcy5zbGljZSgwLCBidWZmZXJMaW1pdCk7XG4gIFxuICBpZiAoaWRzVG9CdWZmZXIubGVuZ3RoIDwgdmltZW9JZHMubGVuZ3RoKSB7XG4gICAgbG9nKGBcdTI2QTAgTGltaXRpbmcgcHJlYnVmZmVyIHRvIGZpcnN0ICR7YnVmZmVyTGltaXR9IHZpZGVvc2AsICd3YXJuaW5nJyk7XG4gICAgXG4gICAgLy8gQWRkIHByZWZldGNoIGhpbnRzIGZvciByZW1haW5pbmcgdmlkZW9zXG4gICAgY29uc3QgcmVtYWluaW5nID0gdmltZW9JZHMuc2xpY2UoYnVmZmVyTGltaXQpO1xuICAgIHJlbWFpbmluZy5mb3JFYWNoKGlkID0+IHtcbiAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG4gICAgICBsaW5rLnJlbCA9ICdwcmVmZXRjaCc7XG4gICAgICBsaW5rLmhyZWYgPSBgaHR0cHM6Ly9wbGF5ZXIudmltZW8uY29tL3ZpZGVvLyR7aWR9YDtcbiAgICAgIGxpbmsuYXMgPSAnZG9jdW1lbnQnO1xuICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICB9KTtcbiAgfVxuICBcbiAgbG9nKGBcdUQ4M0NcdURGQUMgUHJlYnVmZmVyaW5nICR7aWRzVG9CdWZmZXIubGVuZ3RofSBWaW1lbyB2aWRlbyhzKWAsICdpbmZvJyk7XG4gIFxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb250YWluZXIuaWQgPSAndmltZW8tcHJlYnVmZmVyLWNvbnRhaW5lcic7XG4gICAgY29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICBsZWZ0OiAtOTk5OXB4O1xuICAgICAgdG9wOiAtOTk5OXB4O1xuICAgICAgd2lkdGg6IDFweDtcbiAgICAgIGhlaWdodDogMXB4O1xuICAgICAgb3BhY2l0eTogMDtcbiAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgei1pbmRleDogLTE7XG4gICAgYDtcbiAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgXG4gICAgbGV0IGJ1ZmZlcmVkID0gMDtcbiAgICBcbiAgICBpZHNUb0J1ZmZlci5mb3JFYWNoKChpZCwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgICAgLy8gVXNlIGxvdyBxdWFsaXR5IGZvciBwcmVidWZmZXJpbmcgdG8gc2F2ZSBiYW5kd2lkdGhcbiAgICAgIGlmcmFtZS5zcmMgPSBgaHR0cHM6Ly9wbGF5ZXIudmltZW8uY29tL3ZpZGVvLyR7aWR9P211dGVkPTEmYXV0b3BsYXk9MSZiYWNrZ3JvdW5kPTEmcXVhbGl0eT0zNjBwYDtcbiAgICAgIGlmcmFtZS5hbGxvdyA9ICdhdXRvcGxheSc7XG4gICAgICBpZnJhbWUud2lkdGggPSAnMSc7XG4gICAgICBpZnJhbWUuaGVpZ2h0ID0gJzEnO1xuICAgICAgaWZyYW1lLmxvYWRpbmcgPSAnZWFnZXInO1xuICAgICAgXG4gICAgICBsb2coYExvYWRpbmcgVmltZW8gJHtpbmRleCArIDF9LyR7aWRzVG9CdWZmZXIubGVuZ3RofSAoSUQ6ICR7aWR9KS4uLmAsICdpbmZvJyk7XG4gICAgICBcbiAgICAgIC8vIFJlbW92ZSBpZnJhbWUgYWZ0ZXIgOCBzZWNvbmRzIChzaG91bGQgYmUgYnVmZmVyaW5nIGJ5IHRoZW4pXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgYnVmZmVyZWQrKztcbiAgICAgICAgbG9nKGBcdTI3MTMgVmltZW8gJHtpbmRleCArIDF9LyR7aWRzVG9CdWZmZXIubGVuZ3RofSBwcmVidWZmZXJlZGAsICdzdWNjZXNzJyk7XG4gICAgICAgIGlmcmFtZS5yZW1vdmUoKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChidWZmZXJlZCA9PT0gaWRzVG9CdWZmZXIubGVuZ3RoKSB7XG4gICAgICAgICAgY29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgICAgIGxvZyhgXHUyNzEzIEFsbCBWaW1lbyB2aWRlb3MgcHJlYnVmZmVyZWRgLCAnc3VjY2VzcycpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSwgODAwMCk7XG4gICAgICBcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICAgIH0pO1xuICAgIFxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbiAgfSk7XG59XG5cbi8qKlxuICogV2FpdCBmb3Igc2xpZGVzIG1vZHVsZSB0byBmaW5pc2ggYnVpbGRpbmcgc2xpZGVzXG4gKi9cbmZ1bmN0aW9uIHdhaXRGb3JTbGlkZXNCdWlsdCgpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgLy8gQ2hlY2sgaWYgc2xpZGVzIGFscmVhZHkgYnVpbHQgKHNsaWRlcyBtb2R1bGUgbWlnaHQgaGF2ZSBmaW5pc2hlZCBiZWZvcmUgd2UgY2hlY2spXG4gICAgY29uc3Qgc2xpZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNsaWRlJyk7XG4gICAgaWYgKHNsaWRlcy5sZW5ndGggPiAwKSB7XG4gICAgICBsb2coYFx1MjcxMyBGb3VuZCAke3NsaWRlcy5sZW5ndGh9IGV4aXN0aW5nIHNsaWRlc2AsICdzdWNjZXNzJyk7XG4gICAgICByZXNvbHZlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFdhaXQgZm9yIHNsaWRlczpidWlsdCBldmVudCAod2l0aCB0aW1lb3V0KVxuICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGxvZygnXHUyNkEwXHVGRTBGICBTbGlkZXMgYnVpbGQgdGltZW91dCAtIHByb2NlZWRpbmcgYW55d2F5JywgJ3dhcm5pbmcnKTtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9LCA1MDAwKTsgLy8gNSBzZWNvbmQgdGltZW91dFxuICAgIFxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzbGlkZXM6YnVpbHQnLCAoKSA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICBsb2coJ1x1MjcxMyBTbGlkZXMgYnVpbHQgZXZlbnQgcmVjZWl2ZWQnLCAnc3VjY2VzcycpO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0sIHsgb25jZTogdHJ1ZSB9KTtcbiAgfSk7XG59XG5cbi8qKlxuICogV2FpdCBmb3IgYWxsIFZpbWVvIHByZXZpZXcgdmlkZW9zIHRvIGJlIG1vdW50ZWQgYW5kIHBsYXlpbmdcbiAqL1xuZnVuY3Rpb24gd2FpdEZvclByZXZpZXdWaWRlb3NQbGF5aW5nKCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAvLyBHaXZlIHNsaWRlcyBtb2R1bGUgdGltZSB0byBtb3VudCBwcmV2aWV3IHZpZGVvcyAockFGIGRlbGF5KVxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICBjb25zdCBwcmV2aWV3Q29udGFpbmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZV9fcHJldmlldyBpZnJhbWVbc3JjKj1cInZpbWVvLmNvbVwiXScpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHByZXZpZXdDb250YWluZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGxvZygnXHUyNkEwXHVGRTBGICBObyBwcmV2aWV3IHZpZGVvcyBmb3VuZCAtIHByb2NlZWRpbmcnLCAnd2FybmluZycpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGxvZyhgXHVEODNDXHVERkFDIFdhaXRpbmcgZm9yICR7cHJldmlld0NvbnRhaW5lcnMubGVuZ3RofSBwcmV2aWV3IHZpZGVvKHMpIHRvIHBsYXkuLi5gLCAnaW5mbycpO1xuICAgICAgICBcbiAgICAgICAgLy8gTG9hZCBWaW1lbyBQbGF5ZXIgQVBJIGlmIG5lZWRlZFxuICAgICAgICBlbnN1cmVWaW1lb0FwaSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNoZWNrUHJvbWlzZXMgPSBBcnJheS5mcm9tKHByZXZpZXdDb250YWluZXJzKS5tYXAoKGlmcmFtZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZVZpZGVvKSA9PiB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuVmltZW8gfHwgIXdpbmRvdy5WaW1lby5QbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgIGxvZyhgXHUyNkEwXHVGRTBGICBWaW1lbyBBUEkgbm90IGF2YWlsYWJsZSBmb3IgdmlkZW8gJHtpbmRleCArIDF9IC0gYXNzdW1pbmcgcmVhZHlgLCAnd2FybmluZycpO1xuICAgICAgICAgICAgICAgICAgcmVzb2x2ZVZpZGVvKCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllciA9IG5ldyB3aW5kb3cuVmltZW8uUGxheWVyKGlmcmFtZSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gV2FpdCBmb3IgdmlkZW8gdG8gYmUgcmVhZHkgYW5kIHBsYXlpbmdcbiAgICAgICAgICAgICAgICBsZXQgaXNSZWFkeSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGxldCBpc1BsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCBjaGVja0NvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGlzUmVhZHkgJiYgaXNQbGF5aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZyhgXHUyNzEzIFByZXZpZXcgdmlkZW8gJHtpbmRleCArIDF9LyR7cHJldmlld0NvbnRhaW5lcnMubGVuZ3RofSBwbGF5aW5nYCwgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZVZpZGVvKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBMaXN0ZW4gZm9yIHJlYWR5IGV2ZW50XG4gICAgICAgICAgICAgICAgcGxheWVyLnJlYWR5KCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpc1JlYWR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAvLyBJZiByZWFkeSBmYWlscywgYXNzdW1lIHJlYWR5IGFmdGVyIHNob3J0IGRlbGF5XG4gICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaXNSZWFkeSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIExpc3RlbiBmb3IgcGxheSBldmVudFxuICAgICAgICAgICAgICAgIHBsYXllci5vbigncGxheScsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlzUGxheWluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gRmFsbGJhY2s6IGNoZWNrIHBsYXlpbmcgc3RhdGUgYWZ0ZXIgZGVsYXkgKGF1dG9wbGF5IG1pZ2h0IHdvcmsgaW1tZWRpYXRlbHkpXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBwbGF5ZXIuZ2V0UGF1c2VkKCkudGhlbigocGF1c2VkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcGF1c2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaXNQbGF5aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXNzdW1lIHBsYXlpbmcgaWYgY2hlY2sgZmFpbHMgKGdyYWNlZnVsIGRlZ3JhZGF0aW9uKVxuICAgICAgICAgICAgICAgICAgICBpc1BsYXlpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LCAxNTAwKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBUaW1lb3V0IGZhbGxiYWNrICg0IHNlY29uZHMgcGVyIHZpZGVvKVxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKCFpc1JlYWR5IHx8ICFpc1BsYXlpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nKGBcdTI2QTBcdUZFMEYgIFByZXZpZXcgdmlkZW8gJHtpbmRleCArIDF9IHRpbWVvdXQgLSBwcm9jZWVkaW5nYCwgJ3dhcm5pbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZVZpZGVvKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgNDAwMCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGxvZyhgXHUyNkEwXHVGRTBGICBFcnJvciBjaGVja2luZyBwcmV2aWV3IHZpZGVvICR7aW5kZXggKyAxfTogJHtlcnIubWVzc2FnZX1gLCAnd2FybmluZycpO1xuICAgICAgICAgICAgICAgIHJlc29sdmVWaWRlbygpOyAvLyBSZXNvbHZlIGFueXdheSB0byBub3QgYmxvY2tcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgUHJvbWlzZS5hbGwoY2hlY2tQcm9taXNlcykudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBsb2coJ1x1MjcxMyBBbGwgcHJldmlldyB2aWRlb3MgcGxheWluZycsICdzdWNjZXNzJyk7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICBsb2coJ1x1MjZBMFx1RkUwRiAgVmltZW8gQVBJIGZhaWxlZCB0byBsb2FkIC0gcHJvY2VlZGluZyB3aXRob3V0IHZlcmlmaWNhdGlvbicsICd3YXJuaW5nJyk7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBFbnN1cmUgVmltZW8gUGxheWVyIEFQSSBpcyBhdmFpbGFibGVcbiAqL1xuZnVuY3Rpb24gZW5zdXJlVmltZW9BcGkoKSB7XG4gIGlmICh3aW5kb3cuVmltZW8gJiYgd2luZG93LlZpbWVvLlBsYXllcikgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgY29uc3QgZXhpc3RpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzY3JpcHRbc3JjKj1cInBsYXllci52aW1lby5jb20vYXBpL3BsYXllci5qc1wiXScpO1xuICAgIGlmIChleGlzdGluZykgeyBcbiAgICAgIGV4aXN0aW5nLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiByZXNvbHZlKCkpOyBcbiAgICAgIHJldHVybjsgXG4gICAgfVxuICAgIGNvbnN0IHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICBzLnNyYyA9ICdodHRwczovL3BsYXllci52aW1lby5jb20vYXBpL3BsYXllci5qcyc7XG4gICAgcy5hc3luYyA9IHRydWU7XG4gICAgcy5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKCk7XG4gICAgcy5vbmVycm9yID0gKCkgPT4gcmVzb2x2ZSgpOyAvLyBHcmFjZWZ1bCBmYWxsYmFja1xuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQocyk7XG4gIH0pO1xufVxuXG4vKipcbiAqIEVtaXQgbG9hZC1jb21wbGV0ZWQgZXZlbnQgdmlhIFdlYmZsb3cgSVggYW5kIHdpbmRvd1xuICovXG5mdW5jdGlvbiBlbWl0TG9hZENvbXBsZXRlZCgpIHtcbiAgdHJ5IHsgXG4gICAgaWYgKHdmSXg/LmVtaXQpIHdmSXguZW1pdCgnbG9hZC1jb21wbGV0ZWQnKTsgXG4gIH0gY2F0Y2goXykge31cbiAgXG4gIHRyeSB7IFxuICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnbG9hZC1jb21wbGV0ZWQnKSk7IFxuICB9IGNhdGNoKF8pIHt9XG4gIFxuICBsb2coJ1x1RDgzQ1x1REZBRiBFbWl0dGVkIFwibG9hZC1jb21wbGV0ZWRcIiBldmVudCcsICdzdWNjZXNzJyk7XG59XG5cbi8qKlxuICogSGlkZSBwcmVsb2FkZXIgd2l0aCBmYXN0LCBlbmVyZ2V0aWMgcmV2ZWFsIGFuaW1hdGlvblxuICogQ3JlYXRlcyBvdmVybGFwIGJldHdlZW4gY292ZXIgZGlzYXBwZWFyaW5nIGFuZCBsb2FkZXIgYXBwZWFyaW5nXG4gKiBFbWl0cyBsb2FkLWNvbXBsZXRlZCBCRUZPUkUgZmFkZSBzdGFydHMgc28gV2ViZmxvdyBhbmltYXRpb24gY2FuIGJlZ2luXG4gKi9cbmZ1bmN0aW9uIGhpZGVQcmVsb2FkZXIoKSB7XG4gIGlmICghcHJlbG9hZGVyRWwpIHtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3ByZWxvYWRlci1hY3RpdmUnKTtcbiAgICByZXN0b3JlQm9keU92ZXJmbG93KCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbG9nKCdcdUQ4M0NcdURGQUYgSGlkaW5nIHByZWxvYWRlci4uLicsICdpbmZvJyk7XG4gIHN0b3BBbmltYXRpb25zKCk7XG5cbiAgLy8gQ2hlY2sgZm9yIHByZWZlcnMtcmVkdWNlZC1tb3Rpb25cbiAgY29uc3QgcHJlZmVyc1JlZHVjZWQgPSBtYXRjaE1lZGlhKCcocHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogcmVkdWNlKScpLm1hdGNoZXM7XG5cbiAgaWYgKHByZWZlcnNSZWR1Y2VkKSB7XG4gICAgLy8gRW1pdCBsb2FkLWNvbXBsZXRlZCBmaXJzdCwgdGhlbiBoaWRlIGltbWVkaWF0ZWx5XG4gICAgZW1pdExvYWRDb21wbGV0ZWQoKTtcbiAgICBcbiAgICAvLyBJTU1FRElBVEVMWSB1bmxvY2sgc2Nyb2xsIGZvciByZWR1Y2VkIG1vdGlvblxuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgncHJlbG9hZGVyLWFjdGl2ZScpO1xuICAgIHJlc3RvcmVCb2R5T3ZlcmZsb3coKTtcbiAgICBcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmIChwcmVsb2FkZXJFbCkge1xuICAgICAgICBwcmVsb2FkZXJFbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBwcmVsb2FkZXJFbC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBEb3VibGUtY2hlY2sgdW5sb2NrXG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3ByZWxvYWRlci1hY3RpdmUnKTtcbiAgICAgIHJlc3RvcmVCb2R5T3ZlcmZsb3coKTtcbiAgICAgIFxuICAgICAgLy8gQWxzbyB1bmxvY2sgcGVyc3BlY3RpdmUgd3JhcHBlciBpZiBpdCBleGlzdHNcbiAgICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGVyc3BlY3RpdmUtd3JhcHBlcicpO1xuICAgICAgaWYgKHdyYXBwZXIpIHtcbiAgICAgICAgd3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbC1vcGVuJyk7XG4gICAgICAgIHdyYXBwZXIuc3R5bGUub3ZlcmZsb3cgPSAnJztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdwcmVsb2FkZXI6Y29tcGxldGUnKSk7XG4gICAgICBsb2coJ1x1MjcxMyBQcmVsb2FkZXIgY29tcGxldGUnLCAnc3VjY2VzcycpO1xuICAgIH0sIGV2ZW50TGVhZE1zKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBGYXN0LCBlbmVyZ2V0aWMgcmV2ZWFsOiBzY2FsZSB1cCArIGZhZGUgb3V0ICgyNTBtcyB0b3RhbClcbiAgcHJlbG9hZGVyRWwuY2xhc3NMaXN0LmFkZCgnaXMtcmV2ZWFsaW5nJyk7XG4gIFxuICAvLyBFbWl0IGxvYWQtY29tcGxldGVkIEJFRk9SRSBmYWRlIHN0YXJ0cyAoY3JlYXRlcyBvdmVybGFwKVxuICAvLyBUaGUgV2ViZmxvdyBhbmltYXRpb24gdHJpZ2dlcmVkIGJ5IGxvYWQtY29tcGxldGVkIHdpbGwgc3RhcnQgaW1tZWRpYXRlbHlcbiAgLy8gd2hpbGUgcHJlbG9hZGVyIGlzIHN0aWxsIHZpc2libGUsIGNyZWF0aW5nIHNtb290aCBvdmVybGFwXG4gIGVtaXRMb2FkQ29tcGxldGVkKCk7XG4gIFxuICAvLyBJTU1FRElBVEVMWSB1bmxvY2sgc2Nyb2xsIChkb24ndCB3YWl0IGZvciBhbmltYXRpb24pXG4gIC8vIFRoaXMgcHJldmVudHMgdGhlIHBhZ2UgZnJvbSBzdGF5aW5nIGZyb3plbiBpZiBhbmltYXRpb24gZmFpbHNcbiAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdwcmVsb2FkZXItYWN0aXZlJyk7XG4gIHJlc3RvcmVCb2R5T3ZlcmZsb3coKTtcbiAgXG4gIC8vIFN0YXJ0IGZhZGUtb3V0IGFmdGVyIGEgYnJpZWYgZGVsYXkgdG8gZW5zdXJlIGV2ZW50IGlzIHByb2Nlc3NlZFxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAvLyBDb21wbGV0ZTogUmVtb3ZlIGZyb20gRE9NIGFuZCBlbnN1cmUgY2xlYW51cFxuICAgIGlmIChwcmVsb2FkZXJFbCkge1xuICAgICAgcHJlbG9hZGVyRWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIHByZWxvYWRlckVsLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7IC8vIEV4dHJhIHNhZmV0eVxuICAgIH1cbiAgICBcbiAgICAvLyBEb3VibGUtY2hlY2sgc2Nyb2xsIGlzIHVubG9ja2VkXG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdwcmVsb2FkZXItYWN0aXZlJyk7XG4gICAgcmVzdG9yZUJvZHlPdmVyZmxvdygpO1xuICAgIFxuICAgIC8vIEFsc28gdW5sb2NrIHBlcnNwZWN0aXZlIHdyYXBwZXIgaWYgaXQgZXhpc3RzXG4gICAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wZXJzcGVjdGl2ZS13cmFwcGVyJyk7XG4gICAgaWYgKHdyYXBwZXIpIHtcbiAgICAgIHdyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtb3BlbicpO1xuICAgICAgd3JhcHBlci5zdHlsZS5vdmVyZmxvdyA9ICcnO1xuICAgIH1cbiAgICBcbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3ByZWxvYWRlcjpjb21wbGV0ZScpKTtcbiAgICBsb2coJ1x1MjcxMyBQcmVsb2FkZXIgY29tcGxldGUnLCAnc3VjY2VzcycpO1xuICB9LCAyNTApOyAvLyAyNTBtcyBmYWRlLW91dCBkdXJhdGlvblxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEFOSU1BVElPTlxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogUHVsc2UgYW5pbWF0aW9uIFx1MjAxNCBtZWNoYW5pY2FsIGRvdWJsZS1iZWF0IHdpdGggZGVsaWJlcmF0ZSBob2xkc1xuICogQ3JlYXRlcyBhIHF1aWNrIGhpZ2gtZW5lcmd5IHN0cmlrZSwgYSBzZWNvbmRhcnkgcHVsc2UsIHRoZW4gYSBsb25nIHJlc3QgdG8gZmVlbCBlbmdpbmVlcmVkXG4gKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gLSBDeWNsZSBkdXJhdGlvbiBpbiBtc1xuICogQHBhcmFtIHtudW1iZXJ9IG9wYWNpdHlSYW5nZSAtIFB1bHNlIGFtcGxpdHVkZSBjb250cm9sICgwLTEpXG4gKi9cbmZ1bmN0aW9uIGFuaW1hdGVQdWxzZShkdXJhdGlvbiA9IDI0MDAsIG9wYWNpdHlSYW5nZSA9IDAuMzUpIHtcbiAgaWYgKCFzaWduZXRFbCkgcmV0dXJuO1xuICBcbiAgY29uc3QgcHJlZmVyc1JlZHVjZWQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiB3aW5kb3cubWF0Y2hNZWRpYSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogcmVkdWNlKScpLm1hdGNoZXM7XG5cbiAgaWYgKHByZWZlcnNSZWR1Y2VkKSB7XG4gICAgc2lnbmV0RWwuc3R5bGUuc2V0UHJvcGVydHkoJy0tcHVsc2Utb3BhY2l0eScsICcxJyk7XG4gICAgc2lnbmV0RWwuc3R5bGUuc2V0UHJvcGVydHkoJy0tcHVsc2Utc2NhbGUnLCAnMScpO1xuICAgIGxvZygnXHUyNkEwXHVGRTBGIFByZWZlcnMtcmVkdWNlZC1tb3Rpb24gZGV0ZWN0ZWQgXHUyMDE0IHB1bHNlIGRpc2FibGVkJywgJ3dhcm5pbmcnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBub3JtYWxpemVkRHVyYXRpb24gPSBNYXRoLm1heCgxMjAwLCBkdXJhdGlvbik7XG4gIGNvbnN0IG5vcm1hbGl6ZWRSYW5nZSA9IE1hdGgubWluKE1hdGgubWF4KG9wYWNpdHlSYW5nZSwgMC4xNSksIDAuNjUpO1xuICBjb25zdCBwZWFrT3BhY2l0eSA9IDE7XG4gIGNvbnN0IGZsb29yT3BhY2l0eSA9IE1hdGgubWF4KDAuMjUsIHBlYWtPcGFjaXR5IC0gbm9ybWFsaXplZFJhbmdlICogMS42KTtcbiAgY29uc3Qgb3BhY2l0eVNwYW4gPSBwZWFrT3BhY2l0eSAtIGZsb29yT3BhY2l0eTtcblxuICBjb25zdCBzY2FsZVJhbmdlID0gMC4wNCArIG5vcm1hbGl6ZWRSYW5nZSAqIDAuMDY7XG4gIGNvbnN0IHNjYWxlRmxvb3IgPSAxIC0gc2NhbGVSYW5nZSAqIDAuNDU7XG4gIGNvbnN0IHNjYWxlUGVhayA9IDEgKyBzY2FsZVJhbmdlO1xuXG4gIGNvbnN0IHNlZ21lbnRzID0gW1xuICAgIHsgc3RhcnQ6IDAuMCwgZW5kOiAwLjEyLCBmcm9tOiAwLjM1LCB0bzogMS4wLCBlYXNlOiAnb3V0Q3ViaWMnIH0sICAgLy8gU25hcCB1cFxuICAgIHsgc3RhcnQ6IDAuMTIsIGVuZDogMC4yMCwgZnJvbTogMS4wLCB0bzogMC43NSwgZWFzZTogJ2luT3V0UXVhZCcgfSwgLy8gTWVjaGFuaWNhbCBzZXR0bGVcbiAgICB7IHN0YXJ0OiAwLjIwLCBlbmQ6IDAuMzIsIGZyb206IDAuNzUsIHRvOiAwLjA1LCBlYXNlOiAnaW5DdWJpYycgfSwgIC8vIEhhcmQgZHJvcFxuICAgIHsgc3RhcnQ6IDAuMzIsIGVuZDogMC40NCwgZnJvbTogMC4wNSwgdG86IDAuMzAsIGVhc2U6ICdvdXRRdWFkJyB9LCAgLy8gUmVjb3ZlcnkgZ2xpZGVcbiAgICB7IHN0YXJ0OiAwLjQ0LCBlbmQ6IDAuNTAsIGZyb206IDAuMzAsIHRvOiAwLjMwLCBlYXNlOiAnaG9sZCcgfSwgICAgIC8vIEhvbGQgbG93XG4gICAgeyBzdGFydDogMC41MCwgZW5kOiAwLjYwLCBmcm9tOiAwLjMwLCB0bzogMC44NSwgZWFzZTogJ291dEJhY2snIH0sICAvLyBTZWNvbmRhcnkgcHVsc2VcbiAgICB7IHN0YXJ0OiAwLjYwLCBlbmQ6IDAuNjgsIGZyb206IDAuODUsIHRvOiAwLjU1LCBlYXNlOiAnaW5RdWFkJyB9LCAgIC8vIFN0ZXAgZG93blxuICAgIHsgc3RhcnQ6IDAuNjgsIGVuZDogMC44MiwgZnJvbTogMC41NSwgdG86IDAuMDgsIGVhc2U6ICdpbkN1YmljJyB9LCAgLy8gRHJvcCB0byBpZGxlXG4gICAgeyBzdGFydDogMC44MiwgZW5kOiAxLjAwLCBmcm9tOiAwLjA4LCB0bzogMC4zNSwgZWFzZTogJ291dFF1YWQnIH0gICAvLyBJZGxlIHJhbXBcbiAgXTtcblxuICBjb25zdCBlYXNpbmdGbnMgPSB7XG4gICAgaG9sZDogKCkgPT4gMCxcbiAgICBvdXRDdWJpYzogdCA9PiAxIC0gTWF0aC5wb3coMSAtIHQsIDMpLFxuICAgIGluQ3ViaWM6IHQgPT4gdCAqIHQgKiB0LFxuICAgIGluT3V0UXVhZDogdCA9PiAodCA8IDAuNSkgPyAyICogdCAqIHQgOiAxIC0gTWF0aC5wb3coLTIgKiB0ICsgMiwgMikgLyAyLFxuICAgIG91dFF1YWQ6IHQgPT4gMSAtICgxIC0gdCkgKiAoMSAtIHQpLFxuICAgIGluUXVhZDogdCA9PiB0ICogdCxcbiAgICBvdXRCYWNrOiB0ID0+IHtcbiAgICAgIGNvbnN0IGMxID0gMS43MDE1ODtcbiAgICAgIGNvbnN0IGMzID0gYzEgKyAxO1xuICAgICAgY29uc3QgeCA9IHQgLSAxO1xuICAgICAgcmV0dXJuIDEgKyBjMyAqIHggKiB4ICogeCArIGMxICogeCAqIHg7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGNsYW1wMDEgPSB2YWx1ZSA9PiBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCB2YWx1ZSkpO1xuXG4gIGNvbnN0IHNhbXBsZUVuZXJneSA9IHByb2dyZXNzID0+IHtcbiAgICBjb25zdCBzZWdtZW50ID0gc2VnbWVudHMuZmluZChzID0+IHByb2dyZXNzID49IHMuc3RhcnQgJiYgcHJvZ3Jlc3MgPCBzLmVuZCkgfHwgc2VnbWVudHNbc2VnbWVudHMubGVuZ3RoIC0gMV07XG4gICAgY29uc3QgeyBzdGFydCwgZW5kLCBmcm9tLCB0bywgZWFzZSB9ID0gc2VnbWVudDtcbiAgICBpZiAoZW5kIDw9IHN0YXJ0KSByZXR1cm4gZnJvbTtcbiAgICBjb25zdCBsb2NhbFByb2dyZXNzID0gY2xhbXAwMSgocHJvZ3Jlc3MgLSBzdGFydCkgLyAoZW5kIC0gc3RhcnQpKTtcbiAgICBpZiAoZWFzZSA9PT0gJ2hvbGQnKSByZXR1cm4gZnJvbTtcbiAgICBjb25zdCBlYXNlZCA9IGVhc2luZ0Zuc1tlYXNlXSA/IGVhc2luZ0Zuc1tlYXNlXShsb2NhbFByb2dyZXNzKSA6IGxvY2FsUHJvZ3Jlc3M7XG4gICAgcmV0dXJuIGZyb20gKyAodG8gLSBmcm9tKSAqIGVhc2VkO1xuICB9O1xuXG4gIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gIGZ1bmN0aW9uIGxvb3AoY3VycmVudFRpbWUpIHtcbiAgICBjb25zdCBlbGFwc2VkID0gKGN1cnJlbnRUaW1lIC0gc3RhcnRUaW1lKSAlIG5vcm1hbGl6ZWREdXJhdGlvbjtcbiAgICBjb25zdCBwcm9ncmVzcyA9IGVsYXBzZWQgLyBub3JtYWxpemVkRHVyYXRpb247XG4gICAgY29uc3QgZW5lcmd5ID0gY2xhbXAwMShzYW1wbGVFbmVyZ3kocHJvZ3Jlc3MpKTtcblxuICAgIGNvbnN0IG9wYWNpdHkgPSBmbG9vck9wYWNpdHkgKyBvcGFjaXR5U3BhbiAqIGVuZXJneTtcbiAgICBjb25zdCBzY2FsZSA9IHNjYWxlRmxvb3IgKyAoc2NhbGVQZWFrIC0gc2NhbGVGbG9vcikgKiBlbmVyZ3k7XG5cbiAgICBzaWduZXRFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1wdWxzZS1vcGFjaXR5Jywgb3BhY2l0eS50b0ZpeGVkKDMpKTtcbiAgICBzaWduZXRFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1wdWxzZS1zY2FsZScsIHNjYWxlLnRvRml4ZWQoMykpO1xuXG4gICAgYW5pbWF0aW9uRnJhbWVJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcbiAgfVxuXG4gIGFuaW1hdGlvbkZyYW1lSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XG4gIGxvZyhgXHUyNzEzIFB1bHNlIGFuaW1hdGlvbiBzdGFydGVkIChkdXJhdGlvbjogJHtNYXRoLnJvdW5kKG5vcm1hbGl6ZWREdXJhdGlvbil9bXMsIG9wYWNpdHk6ICR7Zmxvb3JPcGFjaXR5LnRvRml4ZWQoMil9LTEuMDApYCwgJ3N1Y2Nlc3MnKTtcbn1cblxuLyoqXG4gKiBTdG9wIGFuaW1hdGlvblxuICovXG5mdW5jdGlvbiBzdG9wQW5pbWF0aW9ucygpIHtcbiAgaWYgKGFuaW1hdGlvbkZyYW1lSWQpIHtcbiAgICBjYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZUlkKTtcbiAgICBhbmltYXRpb25GcmFtZUlkID0gbnVsbDtcbiAgfVxuXG4gIGlmIChzaWduZXRFbCkge1xuICAgIHNpZ25ldEVsLnN0eWxlLnJlbW92ZVByb3BlcnR5KCctLXB1bHNlLW9wYWNpdHknKTtcbiAgICBzaWduZXRFbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnLS1wdWxzZS1zY2FsZScpO1xuICB9XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gUkVTSVpFIENPVkVSXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBJbml0aWFsaXplIHJlc2l6ZSBjb3ZlciBmdW5jdGlvbmFsaXR5XG4gKiBTaG93cyBwcmVsb2FkZXIgZHVyaW5nIGJyb3dzZXIgcmVzaXplIHRvIHByZXZlbnQgdmlzdWFsIGphbmtcbiAqL1xuZnVuY3Rpb24gaW5pdFJlc2l6ZUNvdmVyKCkge1xuICBpZiAoIXByZWxvYWRlckVsKSByZXR1cm47XG4gIFxuICBsZXQgaXNSZXNpemluZ0FjdGl2ZSA9IGZhbHNlO1xuICBcbiAgZnVuY3Rpb24gaGFuZGxlUmVzaXplU3RhcnQoKSB7XG4gICAgLy8gQ2FuY2VsIGFueSBwZW5kaW5nIGhpZGUgZGVsYXkgdGltZW91dCAocmVzaXplIHN0YXJ0ZWQgYWdhaW4pXG4gICAgaWYgKHJlc2l6ZUhpZGVEZWxheVRpbWVvdXRJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHJlc2l6ZUhpZGVEZWxheVRpbWVvdXRJZCk7XG4gICAgICByZXNpemVIaWRlRGVsYXlUaW1lb3V0SWQgPSBudWxsO1xuICAgIH1cbiAgICBcbiAgICBpZiAoaXNSZXNpemluZ0FjdGl2ZSkgcmV0dXJuOyAvLyBBbHJlYWR5IHNob3dpbmdcbiAgICBcbiAgICBpc1Jlc2l6aW5nQWN0aXZlID0gdHJ1ZTtcbiAgICBpc1Jlc2l6aW5nID0gdHJ1ZTtcbiAgICBcbiAgICAvLyBDaGVjayBpZiB3ZSdyZSB3aXRoaW4gdGhlIGRlbGF5IHdpbmRvdyBzaW5jZSBsYXN0IGhpZGVcbiAgICBjb25zdCB0aW1lU2luY2VMYXN0SGlkZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gbGFzdFJlc2l6ZUNvdmVySGlkZVRpbWU7XG4gICAgY29uc3Qgc2hvdWxkRGVsYXkgPSB0aW1lU2luY2VMYXN0SGlkZSA8IHJlc2l6ZVNob3dEZWxheTtcbiAgICBcbiAgICBpZiAoc2hvdWxkRGVsYXkpIHtcbiAgICAgIC8vIENsZWFyIGFueSBleGlzdGluZyBkZWxheSB0aW1lb3V0XG4gICAgICBpZiAocmVzaXplU2hvd0RlbGF5VGltZW91dElkKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChyZXNpemVTaG93RGVsYXlUaW1lb3V0SWQpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBXYWl0IGZvciB0aGUgcmVtYWluaW5nIGRlbGF5IHRpbWUgYmVmb3JlIHNob3dpbmdcbiAgICAgIGNvbnN0IHJlbWFpbmluZ0RlbGF5ID0gcmVzaXplU2hvd0RlbGF5IC0gdGltZVNpbmNlTGFzdEhpZGU7XG4gICAgICByZXNpemVTaG93RGVsYXlUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgLy8gT25seSBzaG93IGlmIHN0aWxsIHJlc2l6aW5nICh1c2VyIGhhc24ndCBzdG9wcGVkKVxuICAgICAgICBpZiAoaXNSZXNpemluZyAmJiBpc1Jlc2l6aW5nQWN0aXZlKSB7XG4gICAgICAgICAgc2hvd1Jlc2l6ZUNvdmVyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gVXNlciBzdG9wcGVkIHJlc2l6aW5nIGR1cmluZyBkZWxheSwgY2FuY2VsXG4gICAgICAgICAgaXNSZXNpemluZ0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgIGlzUmVzaXppbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSwgcmVtYWluaW5nRGVsYXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTaG93IGltbWVkaWF0ZWx5IGlmIGVub3VnaCB0aW1lIGhhcyBwYXNzZWRcbiAgICAgIHNob3dSZXNpemVDb3ZlcigpO1xuICAgIH1cbiAgfVxuICBcbiAgZnVuY3Rpb24gaGFuZGxlUmVzaXplRW5kKCkge1xuICAgIGlmICghaXNSZXNpemluZ0FjdGl2ZSkgcmV0dXJuOyAvLyBBbHJlYWR5IGhpZGRlblxuICAgIFxuICAgIC8vIENhbmNlbCBhbnkgcGVuZGluZyBkZWxheSB0aW1lb3V0XG4gICAgaWYgKHJlc2l6ZVNob3dEZWxheVRpbWVvdXRJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHJlc2l6ZVNob3dEZWxheVRpbWVvdXRJZCk7XG4gICAgICByZXNpemVTaG93RGVsYXlUaW1lb3V0SWQgPSBudWxsO1xuICAgIH1cbiAgICBcbiAgICAvLyBDYW5jZWwgYW55IGV4aXN0aW5nIGhpZGUgZGVsYXkgdGltZW91dFxuICAgIGlmIChyZXNpemVIaWRlRGVsYXlUaW1lb3V0SWQpIHtcbiAgICAgIGNsZWFyVGltZW91dChyZXNpemVIaWRlRGVsYXlUaW1lb3V0SWQpO1xuICAgICAgcmVzaXplSGlkZURlbGF5VGltZW91dElkID0gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgaXNSZXNpemluZ0FjdGl2ZSA9IGZhbHNlO1xuICAgIGlzUmVzaXppbmcgPSBmYWxzZTtcbiAgICBcbiAgICAvLyBXYWl0IDEyMDBtcyBiZWZvcmUgaGlkaW5nIG92ZXJsYXkgKHN1cGVyIHJvYnVzdCBkZWxheSlcbiAgICByZXNpemVIaWRlRGVsYXlUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vIERvdWJsZS1jaGVjayB3ZSdyZSBzdGlsbCBub3QgcmVzaXppbmcgYmVmb3JlIGhpZGluZ1xuICAgICAgaWYgKCFpc1Jlc2l6aW5nICYmICFpc1Jlc2l6aW5nQWN0aXZlKSB7XG4gICAgICAgIGhpZGVSZXNpemVDb3ZlcigpO1xuICAgICAgfVxuICAgICAgcmVzaXplSGlkZURlbGF5VGltZW91dElkID0gbnVsbDtcbiAgICB9LCByZXNpemVIaWRlRGVsYXkpO1xuICB9XG4gIFxuICAvLyBUaHJvdHRsZWQgcmVzaXplIGhhbmRsZXIgdXNpbmcgUkFGXG4gIGZ1bmN0aW9uIGhhbmRsZVJlc2l6ZSgpIHtcbiAgICBoYW5kbGVSZXNpemVTdGFydCgpO1xuICAgIFxuICAgIC8vIENsZWFyIGV4aXN0aW5nIHRpbWVvdXRcbiAgICBpZiAocmVzaXplVGltZW91dElkKSB7XG4gICAgICBjbGVhclRpbWVvdXQocmVzaXplVGltZW91dElkKTtcbiAgICB9XG4gICAgXG4gICAgLy8gRGVib3VuY2UgZW5kIGRldGVjdGlvblxuICAgIHJlc2l6ZVRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaGFuZGxlUmVzaXplRW5kKCk7XG4gICAgfSwgMTAwKTsgLy8gU21hbGwgZGVsYXkgdG8gZGV0ZWN0IHJlc2l6ZSBlbmRcbiAgfVxuICBcbiAgLy8gVXNlIHBhc3NpdmUgbGlzdGVuZXIgZm9yIHBlcmZvcm1hbmNlXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgXG4gIGxvZyhgXHUyNzEzIFJlc2l6ZSBjb3ZlciBlbmFibGVkIChmYWRlOiAke3Jlc2l6ZUZhZGVEdXJhdGlvbn1tcywgc2hvdyBkZWxheTogJHtyZXNpemVTaG93RGVsYXl9bXMpYCwgJ3N1Y2Nlc3MnKTtcbn1cblxuLyoqXG4gKiBTaG93IHByZWxvYWRlciBjb3ZlciBkdXJpbmcgcmVzaXplXG4gKiBGYWRlcyBpbiBzdXBlciBmYXN0IGFuZCBzdGF5cyB2aXNpYmxlXG4gKi9cbmZ1bmN0aW9uIHNob3dSZXNpemVDb3ZlcigpIHtcbiAgaWYgKCFwcmVsb2FkZXJFbCkgcmV0dXJuO1xuICBcbiAgLy8gQ2hlY2sgZm9yIHByZWZlcnMtcmVkdWNlZC1tb3Rpb25cbiAgY29uc3QgcHJlZmVyc1JlZHVjZWQgPSBtYXRjaE1lZGlhKCcocHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogcmVkdWNlKScpLm1hdGNoZXM7XG4gIFxuICBpZiAocHJlZmVyc1JlZHVjZWQpIHtcbiAgICAvLyBJbnN0YW50IHNob3cgZm9yIHJlZHVjZWQgbW90aW9uXG4gICAgcHJlbG9hZGVyRWwuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICBwcmVsb2FkZXJFbC5jbGFzc0xpc3QuYWRkKCdpcy1yZXNpemluZycsICdpcy1yZXNpemUtdmlzaWJsZScpO1xuICAgIHByZWxvYWRlckVsLnN0eWxlLm9wYWNpdHkgPSAnMSc7XG4gICAgcHJlbG9hZGVyRWwuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICByZXR1cm47XG4gIH1cbiAgXG4gIC8vIFNldCBDU1MgY3VzdG9tIHByb3BlcnRpZXMgZm9yIGZhZGUgZHVyYXRpb25zXG4gIHByZWxvYWRlckVsLnN0eWxlLnNldFByb3BlcnR5KCctLXJlc2l6ZS1mYWRlLWluLWR1cmF0aW9uJywgYCR7cmVzaXplRmFkZUluRHVyYXRpb259bXNgKTtcbiAgcHJlbG9hZGVyRWwuc3R5bGUuc2V0UHJvcGVydHkoJy0tcmVzaXplLWZhZGUtZHVyYXRpb24nLCBgJHtyZXNpemVGYWRlRHVyYXRpb259bXNgKTtcbiAgXG4gIC8vIEVuc3VyZSBwcmVsb2FkZXIgaXMgdmlzaWJsZSBhbmQgb24gdG9wXG4gIHByZWxvYWRlckVsLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gIHByZWxvYWRlckVsLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgcHJlbG9hZGVyRWwuc3R5bGUuekluZGV4ID0gJzk5OTk5OSc7XG4gIFxuICAvLyBSZW1vdmUgYW55IHJldmVhbCBjbGFzcyB0aGF0IG1pZ2h0IGJlIGhpZGluZyBpdFxuICBwcmVsb2FkZXJFbC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1yZXZlYWxpbmcnKTtcbiAgXG4gIC8vIEFkZCByZXNpemUgc3RhdGUgY2xhc3MgKGJ1dCBub3QgdmlzaWJsZSB5ZXQgLSB3aWxsIGZhZGUgaW4pXG4gIHByZWxvYWRlckVsLmNsYXNzTGlzdC5hZGQoJ2lzLXJlc2l6aW5nJyk7XG4gIHByZWxvYWRlckVsLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLXJlc2l6ZS12aXNpYmxlJyk7XG4gIFxuICAvLyBTdGFydCBmcm9tIG9wYWNpdHkgMCBmb3IgZmFkZS1pblxuICBwcmVsb2FkZXJFbC5zdHlsZS5vcGFjaXR5ID0gJzAnO1xuICBwcmVsb2FkZXJFbC5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICBwcmVsb2FkZXJFbC5zdHlsZS50cmFuc2l0aW9uID0gYG9wYWNpdHkgJHtyZXNpemVGYWRlSW5EdXJhdGlvbn1tcyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpYDtcbiAgXG4gIC8vIFRyaWdnZXIgZmFkZS1pbiBhbmltYXRpb25cbiAgLy8gQ2hlY2sgaWYgZWxlbWVudCBzdGlsbCBoYXMgaXMtcmVzaXppbmcgY2xhc3MgKG5vdCBtb2R1bGUgZmxhZykgdG8gYXZvaWQgcmFjZSBjb25kaXRpb25cbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICBpZiAocHJlbG9hZGVyRWwgJiYgcHJlbG9hZGVyRWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1yZXNpemluZycpKSB7XG4gICAgICBwcmVsb2FkZXJFbC5jbGFzc0xpc3QuYWRkKCdpcy1yZXNpemUtdmlzaWJsZScpO1xuICAgICAgcHJlbG9hZGVyRWwuc3R5bGUub3BhY2l0eSA9ICcxJztcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIEhpZGUgcHJlbG9hZGVyIGNvdmVyIGFmdGVyIHJlc2l6ZSBlbmRzXG4gKiBGYWRlcyBvdXQgcXVpY2tseVxuICovXG5mdW5jdGlvbiBoaWRlUmVzaXplQ292ZXIoKSB7XG4gIGlmICghcHJlbG9hZGVyRWwpIHJldHVybjtcbiAgXG4gIC8vIENoZWNrIGlmIGluaXRpYWwgcHJlbG9hZGVyIGlzIHN0aWxsIGFjdGl2ZVxuICBjb25zdCBpc0luaXRpYWxQcmVsb2FkID0gZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3ByZWxvYWRlci1hY3RpdmUnKSAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIXByZWxvYWRlckVsLmNsYXNzTGlzdC5jb250YWlucygnaXMtcmV2ZWFsaW5nJyk7XG4gIFxuICAvLyBDaGVjayBmb3IgcHJlZmVycy1yZWR1Y2VkLW1vdGlvblxuICBjb25zdCBwcmVmZXJzUmVkdWNlZCA9IG1hdGNoTWVkaWEoJyhwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpJykubWF0Y2hlcztcbiAgXG4gIGlmIChwcmVmZXJzUmVkdWNlZCkge1xuICAgIC8vIEluc3RhbnQgaGlkZSBmb3IgcmVkdWNlZCBtb3Rpb25cbiAgICBwcmVsb2FkZXJFbC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1yZXNpemluZycsICdpcy1yZXNpemUtdmlzaWJsZScpO1xuICAgIC8vIE9ubHkgaGlkZSBpZiBub3QgaW4gaW5pdGlhbCBwcmVsb2FkIHN0YXRlXG4gICAgaWYgKCFpc0luaXRpYWxQcmVsb2FkKSB7XG4gICAgICBwcmVsb2FkZXJFbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgXG4gIC8vIFJlbW92ZSB2aXNpYmxlIGNsYXNzIHRvIHRyaWdnZXIgZmFkZSBvdXRcbiAgcHJlbG9hZGVyRWwuY2xhc3NMaXN0LnJlbW92ZSgnaXMtcmVzaXplLXZpc2libGUnKTtcbiAgXG4gIC8vIFNldCB0cmFuc2l0aW9uIGZvciBzbW9vdGggZmFkZS1vdXQgYW5kIHRyaWdnZXIgaXRcbiAgcHJlbG9hZGVyRWwuc3R5bGUudHJhbnNpdGlvbiA9IGBvcGFjaXR5ICR7cmVzaXplRmFkZUR1cmF0aW9ufW1zIGN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSksIHZpc2liaWxpdHkgJHtyZXNpemVGYWRlRHVyYXRpb259bXMgc3RlcC1lbmRgO1xuICBcbiAgLy8gVHJpZ2dlciBmYWRlLW91dCBieSBzZXR0aW5nIG9wYWNpdHkgdG8gMFxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgIGlmIChwcmVsb2FkZXJFbCkge1xuICAgICAgcHJlbG9hZGVyRWwuc3R5bGUub3BhY2l0eSA9ICcwJztcbiAgICB9XG4gIH0pO1xuICBcbiAgLy8gUmVtb3ZlIHJlc2l6ZSBzdGF0ZSBhZnRlciBmYWRlIGNvbXBsZXRlc1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBpZiAocHJlbG9hZGVyRWwgJiYgIWlzUmVzaXppbmcpIHtcbiAgICAgIHByZWxvYWRlckVsLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLXJlc2l6aW5nJyk7XG4gICAgICAvLyBDbGVhbiB1cCBpbmxpbmUgc3R5bGVzXG4gICAgICBwcmVsb2FkZXJFbC5zdHlsZS5vcGFjaXR5ID0gJyc7XG4gICAgICBwcmVsb2FkZXJFbC5zdHlsZS52aXNpYmlsaXR5ID0gJyc7XG4gICAgICBwcmVsb2FkZXJFbC5zdHlsZS50cmFuc2l0aW9uID0gJyc7XG4gICAgICAvLyBPbmx5IGhpZGUgaWYgbm90IGluIGluaXRpYWwgcHJlbG9hZCBzdGF0ZVxuICAgICAgaWYgKCFpc0luaXRpYWxQcmVsb2FkKSB7XG4gICAgICAgIHByZWxvYWRlckVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB9XG4gICAgICAvLyBUcmFjayB3aGVuIGNvdmVyIHdhcyBoaWRkZW4gZm9yIGRlbGF5IGNhbGN1bGF0aW9uXG4gICAgICBsYXN0UmVzaXplQ292ZXJIaWRlVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIH1cbiAgfSwgcmVzaXplRmFkZUR1cmF0aW9uKTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBDTEVBTlVQICYgQVBJXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBDbGVhbnVwIGZ1bmN0aW9uIGZvciB1bm1vdW50aW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhbnVwUHJlbG9hZGVyKCkge1xuICBzdG9wQW5pbWF0aW9ucygpO1xuICBcbiAgLy8gQ2xlYW51cCByZXNpemUgaGFuZGxlcnNcbiAgaWYgKHJlc2l6ZVRpbWVvdXRJZCkge1xuICAgIGNsZWFyVGltZW91dChyZXNpemVUaW1lb3V0SWQpO1xuICAgIHJlc2l6ZVRpbWVvdXRJZCA9IG51bGw7XG4gIH1cbiAgXG4gIGlmIChyZXNpemVTaG93RGVsYXlUaW1lb3V0SWQpIHtcbiAgICBjbGVhclRpbWVvdXQocmVzaXplU2hvd0RlbGF5VGltZW91dElkKTtcbiAgICByZXNpemVTaG93RGVsYXlUaW1lb3V0SWQgPSBudWxsO1xuICB9XG4gIFxuICBpZiAocmVzaXplSGlkZURlbGF5VGltZW91dElkKSB7XG4gICAgY2xlYXJUaW1lb3V0KHJlc2l6ZUhpZGVEZWxheVRpbWVvdXRJZCk7XG4gICAgcmVzaXplSGlkZURlbGF5VGltZW91dElkID0gbnVsbDtcbiAgfVxuICBcbiAgcHJlbG9hZGVyRWwgPSBudWxsO1xuICBzaWduZXRFbCA9IG51bGw7XG4gIHByb2dyZXNzRWwgPSBudWxsO1xuICBsb2dFbCA9IG51bGw7XG4gIGlzUmVzaXppbmcgPSBmYWxzZTtcbiAgbGFzdFJlc2l6ZUNvdmVySGlkZVRpbWUgPSAwO1xuICBcbiAgZG9jdW1lbnQuYm9keT8uY2xhc3NMaXN0LnJlbW92ZSgncHJlbG9hZGVyLWFjdGl2ZScpO1xuICByZXN0b3JlQm9keU92ZXJmbG93KCk7XG4gIGxvZygnQ2xlYW5lZCB1cCcsICdpbmZvJyk7XG59XG5cbi8vIEV4cG9zZSBtaW5pbWFsIEFQSVxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIHdpbmRvdy5BcHAgPSB3aW5kb3cuQXBwIHx8IHt9O1xuICB3aW5kb3cuQXBwLnByZWxvYWRlciA9IHtcbiAgICBjbGVhbnVwOiBjbGVhbnVwUHJlbG9hZGVyLFxuICAgIGhpZGU6IGhpZGVQcmVsb2FkZXJNYW51YWxseVxuICB9O1xufVxuIiwgIi8qKlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqICBNY0Nhbm4gV2Vic2l0ZSBcdTIwMTQgQWNjb3JkaW9uIE1vZHVsZVxuICogIFB1cnBvc2U6IEFSSUEtY29tcGxpYW50IG5lc3RlZCBhY2NvcmRpb24gd2l0aCBHU0FQIGFuaW1hdGlvbnNcbiAqICBEYXRlOiAyMDI1LTExLTA2XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmNvbnNvbGUubG9nKCdbQUNDT1JESU9OXSBNb2R1bGUgbG9hZGVkJyk7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gRVhQT1JUU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0QWNjb3JkaW9uKG9wdGlvbnMgPSB7fSl7XG4gIGNvbnN0IHsgc2VsZWN0b3IgPSAnLmFjY29yZGVvbicgfSA9IG9wdGlvbnM7XG4gIFxuICBjb25zdCByb290ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gIGlmICghcm9vdCl7IFxuICAgIGNvbnNvbGUubG9nKCdbQUNDT1JESU9OXSBcdTI3NEMgUm9vdCBlbGVtZW50IG5vdCBmb3VuZDonLCBzZWxlY3Rvcik7IFxuICAgIHJldHVybjsgXG4gIH1cbiAgY29uc29sZS5sb2coJ1tBQ0NPUkRJT05dIFx1MjcxMyBSb290IGVsZW1lbnQgZm91bmQ6Jywgc2VsZWN0b3IpO1xuICBcbiAgd2luZG93Ll9hY2NvcmRpb25Sb290ID0gcm9vdDtcbiAgd2luZG93Ll9hY2NvcmRpb25EZWJ1ZyA9IHRydWU7XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIEhFTFBFUlNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgY29uc3QgcGFuZWxPZiA9IGl0ZW0gPT4gaXRlbT8ucXVlcnlTZWxlY3RvcignOnNjb3BlID4gLmFjYy1saXN0Jyk7XG4gIGNvbnN0IGdyb3VwT2YgPSBpdGVtID0+IHtcbiAgICBjb25zdCBwYXJlbnQgPSBpdGVtLnBhcmVudEVsZW1lbnQ7XG4gICAgcmV0dXJuIHBhcmVudD8uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2MtbGlzdCcpID8gcGFyZW50IDogcm9vdDtcbiAgfTtcbiAgY29uc3QgZGJnID0gKC4uLmFyZ3MpID0+IHsgdHJ5IHsgY29uc29sZS5sb2coJ1tBQ0NPUkRJT05dJywgLi4uYXJncyk7IH0gY2F0Y2goXykge30gfTtcbiAgY29uc3QgaXRlbUtpbmQgPSAoZWwpID0+IGVsPy5jbGFzc0xpc3Q/LmNvbnRhaW5zKCdhY2Mtc2VjdGlvbicpID8gJ3NlY3Rpb24nIDogJ2l0ZW0nO1xuICBjb25zdCBsYWJlbE9mID0gKGVsKSA9PiB7XG4gICAgY29uc3QgdCA9IGVsPy5xdWVyeVNlbGVjdG9yKCc6c2NvcGUgPiAuYWNjLXRyaWdnZXInKTtcbiAgICByZXR1cm4gKHQ/LnRleHRDb250ZW50IHx8ICcnKS50cmltKCkucmVwbGFjZSgvXFxzKy9nLCcgJykuc2xpY2UoMCw4MCk7XG4gIH07XG4gIGNvbnN0IEFDVElWRV9UUklHR0VSX0NMQVNTID0gJ2FjYy10cmlnZ2VyLS1hY3RpdmUnO1xuICBcbiAgZnVuY3Rpb24gbWFya0l0ZW1zRm9yQW5pbWF0aW9uKHBhbmVsLCBzaG93ID0gdHJ1ZSkge1xuICAgIGNvbnN0IGl0ZW1zID0gcGFuZWwucXVlcnlTZWxlY3RvckFsbCgnOnNjb3BlID4gLmFjYy1pdGVtJyk7XG4gICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIGlmIChzaG93KSB7XG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnYWNjLWFuaW1hdGUtdGFyZ2V0Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjYy1hbmltYXRlLXRhcmdldCcpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGRiZyhgTWFya2VkICR7aXRlbXMubGVuZ3RofSBpdGVtcyBmb3IgJHtzaG93ID8gJ3Nob3cnIDogJ2hpZGUnfSBhbmltYXRpb24gaW4gcGFuZWwgJHtwYW5lbC5pZH1gKTtcbiAgfVxuICBcbiAgZnVuY3Rpb24gY2xlYXJBbGxBbmltYXRpb25NYXJrZXJzKCkge1xuICAgIHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLmFjYy1hbmltYXRlLXRhcmdldCcpLmZvckVhY2goZWwgPT4ge1xuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWNjLWFuaW1hdGUtdGFyZ2V0Jyk7XG4gICAgfSk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gV0VCRkxPVyBJWCBJTlRFR1JBVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBjb25zdCB3Zkl4ID0gKHdpbmRvdy5XZWJmbG93ICYmIHdpbmRvdy5XZWJmbG93LnJlcXVpcmUpXG4gICAgPyAod2luZG93LldlYmZsb3cucmVxdWlyZSgnaXgzJykgfHwgd2luZG93LldlYmZsb3cucmVxdWlyZSgnaXgyJykpXG4gICAgOiBudWxsO1xuICBkYmcoJ1dlYmZsb3cgSVggYXZhaWxhYmxlOicsICEhd2ZJeCk7XG5cbiAgZnVuY3Rpb24gZW1pdEl4KG5hbWUpe1xuICAgIHRyeSB7XG4gICAgICBpZiAod2ZJeCAmJiB0eXBlb2Ygd2ZJeC5lbWl0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGRiZyhgXHVEODNDXHVERkFGIEVNSVRUSU5HIHZpYSB3Zkl4LmVtaXQ6IFwiJHtuYW1lfVwiYCk7XG4gICAgICAgIHdmSXguZW1pdChuYW1lKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoKGVycikge1xuICAgICAgZGJnKCd3Zkl4LmVtaXQgZXJyb3InLCBlcnIgJiYgZXJyLm1lc3NhZ2UpO1xuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KG5hbWUpKTtcbiAgICAgIGRiZyhgXHVEODNEXHVEQ0UyIEVNSVRUSU5HIHZpYSB3aW5kb3cuZGlzcGF0Y2hFdmVudDogXCIke25hbWV9XCJgKTtcbiAgICB9IGNhdGNoKGVycikgeyBcbiAgICAgIGRiZygnd2luZG93LmRpc3BhdGNoRXZlbnQgZXJyb3InLCBlcnIgJiYgZXJyLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGVtaXRBbGwocHJpbWFyeSl7XG4gICAgY29uc3QgYWxpYXNlcyA9IFtdO1xuICAgIGlmIChwcmltYXJ5ID09PSAnYWNjLW9wZW4nKSBhbGlhc2VzLnB1c2goJ2FjY29yZGVvbi1vcGVuJyk7XG4gICAgaWYgKHByaW1hcnkgPT09ICdhY2MtY2xvc2UnKSBhbGlhc2VzLnB1c2goJ2FjY29yZGVvbi1jbG9zZScpO1xuICAgIFtwcmltYXJ5LCAuLi5hbGlhc2VzXS5mb3JFYWNoKGV2ID0+IGVtaXRJeChldikpO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIEFSSUEgU0VUVVBcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgY29uc3QgdHJpZ2dlcnMgPSByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2MtdHJpZ2dlcicpO1xuICB0cmlnZ2Vycy5mb3JFYWNoKCh0LCBpKSA9PiB7XG4gICAgY29uc3QgaXRlbSA9IHQuY2xvc2VzdCgnLmFjYy1zZWN0aW9uLCAuYWNjLWl0ZW0nKTtcbiAgICBjb25zdCBwID0gcGFuZWxPZihpdGVtKTtcbiAgICBpZiAocCl7XG4gICAgICBjb25zdCBwaWQgPSBwLmlkIHx8IGBhY2MtcGFuZWwtJHtpfWA7XG4gICAgICBwLmlkID0gcGlkO1xuICAgICAgdC5zZXRBdHRyaWJ1dGUoJ2FyaWEtY29udHJvbHMnLCBwaWQpO1xuICAgICAgdC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICB9XG4gIH0pO1xuICBkYmcoJ2Jvb3RzdHJhcHBlZCcsIHRyaWdnZXJzLmxlbmd0aCwgJ3RyaWdnZXJzJyk7XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIENPUkUgRlVOQ1RJT05TXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIGV4cGFuZChwKXtcbiAgICBkYmcoJ2V4cGFuZCBzdGFydCcsIHsgaWQ6IHAuaWQsIGNoaWxkcmVuOiBwLmNoaWxkcmVuPy5sZW5ndGggfSk7XG4gICAgcC5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnLCAnYWNjLWxpc3QtLWV4cGFuZGluZycpO1xuICAgIHAuZGF0YXNldC5zdGF0ZSA9ICdvcGVuaW5nJztcbiAgICBcbiAgICBjb25zdCBvbkVuZCA9IChlKSA9PiB7XG4gICAgICBpZiAoZS5wcm9wZXJ0eU5hbWUgIT09ICdtYXgtaGVpZ2h0JykgcmV0dXJuO1xuICAgICAgaWYgKHAuZGF0YXNldC5zdGF0ZSA9PT0gJ29wZW5pbmcnKXtcbiAgICAgICAgcC5jbGFzc0xpc3QucmVtb3ZlKCdhY2MtbGlzdC0tZXhwYW5kaW5nJyk7XG4gICAgICAgIHAuY2xhc3NMaXN0LmFkZCgnYWNjLWxpc3QtLWV4cGFuZGVkJyk7XG4gICAgICAgIHAuZGF0YXNldC5zdGF0ZSA9ICdvcGVuJztcbiAgICAgICAgZGJnKCdleHBhbmRlZCcsIHsgaWQ6IHAuaWQgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBwLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBvbkVuZCwgeyBvbmNlOiB0cnVlIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gY29sbGFwc2UocCl7XG4gICAgZGJnKCdjb2xsYXBzZSBzdGFydCcsIHsgaWQ6IHAuaWQgfSk7XG4gICAgcC5jbGFzc0xpc3QucmVtb3ZlKCdhY2MtbGlzdC0tZXhwYW5kaW5nJywgJ2FjYy1saXN0LS1leHBhbmRlZCcpO1xuICAgIHAuZGF0YXNldC5zdGF0ZSA9ICdjbG9zaW5nJztcbiAgICBcbiAgICBjb25zdCBvbkVuZCA9IChlKSA9PiB7XG4gICAgICBpZiAoZS5wcm9wZXJ0eU5hbWUgIT09ICdtYXgtaGVpZ2h0JykgcmV0dXJuO1xuICAgICAgaWYgKHAuZGF0YXNldC5zdGF0ZSA9PT0gJ2Nsb3NpbmcnKXtcbiAgICAgICAgcC5kYXRhc2V0LnN0YXRlID0gJ2NvbGxhcHNlZCc7XG4gICAgICAgIHAuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICAgIG1hcmtJdGVtc0ZvckFuaW1hdGlvbihwLCBmYWxzZSk7XG4gICAgICAgIGRiZygnY29sbGFwc2VkJywgeyBpZDogcC5pZCB9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHAuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIG9uRW5kLCB7IG9uY2U6IHRydWUgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVNpYmxpbmdzKGl0ZW0pe1xuICAgIGNvbnN0IGdyb3VwID0gZ3JvdXBPZihpdGVtKTtcbiAgICBpZiAoIWdyb3VwKSByZXR1cm47XG4gICAgY29uc3Qgd2FudCA9IGl0ZW0ubWF0Y2hlcygnLmFjYy1zZWN0aW9uJykgPyAnYWNjLXNlY3Rpb24nIDogJ2FjYy1pdGVtJztcbiAgICBBcnJheS5mcm9tKGdyb3VwLmNoaWxkcmVuKS5mb3JFYWNoKHNpYiA9PiB7XG4gICAgICBpZiAoc2liID09PSBpdGVtIHx8ICFzaWIuY2xhc3NMaXN0LmNvbnRhaW5zKHdhbnQpKSByZXR1cm47XG4gICAgICBjb25zdCBwID0gcGFuZWxPZihzaWIpO1xuICAgICAgaWYgKHAgJiYgKHAuZGF0YXNldC5zdGF0ZSA9PT0gJ29wZW4nIHx8IHAuZGF0YXNldC5zdGF0ZSA9PT0gJ29wZW5pbmcnKSl7XG4gICAgICAgIGRiZygnY2xvc2Ugc2libGluZycsIHsga2luZDogd2FudCwgbGFiZWw6IGxhYmVsT2Yoc2liKSwgaWQ6IHAuaWQgfSk7XG4gICAgICAgIGNsZWFyQWxsQW5pbWF0aW9uTWFya2VycygpO1xuICAgICAgICBtYXJrSXRlbXNGb3JBbmltYXRpb24ocCwgdHJ1ZSk7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBlbWl0QWxsKCdhY2MtY2xvc2UnKSk7XG4gICAgICAgIGNvbGxhcHNlKHApO1xuICAgICAgICBjb25zdCB0cmlnID0gc2liLnF1ZXJ5U2VsZWN0b3IoJzpzY29wZSA+IC5hY2MtdHJpZ2dlcicpO1xuICAgICAgICB0cmlnPy5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICAgICAgdHJpZz8uY2xhc3NMaXN0Py5yZW1vdmUoQUNUSVZFX1RSSUdHRVJfQ0xBU1MpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRBbGxMMlVuZGVyKGNvbnRhaW5lcil7XG4gICAgY29uc3Qgc2NvcGUgPSBjb250YWluZXIgfHwgcm9vdDtcbiAgICBzY29wZS5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjLWl0ZW0gPiAuYWNjLWxpc3QnKS5mb3JFYWNoKHAgPT4ge1xuICAgICAgaWYgKHAuZGF0YXNldC5zdGF0ZSA9PT0gJ29wZW4nIHx8IHAuZGF0YXNldC5zdGF0ZSA9PT0gJ29wZW5pbmcnKXtcbiAgICAgICAgY29sbGFwc2UocCk7XG4gICAgICAgIGNvbnN0IGl0ID0gcC5jbG9zZXN0KCcuYWNjLWl0ZW0nKTtcbiAgICAgICAgY29uc3QgdCA9IGl0Py5xdWVyeVNlbGVjdG9yKCc6c2NvcGUgPiAuYWNjLXRyaWdnZXInKTtcbiAgICAgICAgdD8uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgICAgIHQ/LmNsYXNzTGlzdD8ucmVtb3ZlKEFDVElWRV9UUklHR0VSX0NMQVNTKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRvZ2dsZShpdGVtKXtcbiAgICBjb25zdCBwID0gcGFuZWxPZihpdGVtKTtcbiAgICBpZiAoIXApIHJldHVybjtcbiAgICBjb25zdCB0cmlnID0gaXRlbS5xdWVyeVNlbGVjdG9yKCc6c2NvcGUgPiAuYWNjLXRyaWdnZXInKTtcbiAgICBjb25zdCBvcGVuaW5nID0gIShwLmRhdGFzZXQuc3RhdGUgPT09ICdvcGVuJyB8fCBwLmRhdGFzZXQuc3RhdGUgPT09ICdvcGVuaW5nJyk7XG4gICAgZGJnKCd0b2dnbGUnLCB7IGtpbmQ6IGl0ZW1LaW5kKGl0ZW0pLCBvcGVuaW5nLCBsYWJlbDogbGFiZWxPZihpdGVtKSwgaWQ6IHAuaWQgfSk7XG4gICAgXG4gICAgaWYgKG9wZW5pbmcpIGNsb3NlU2libGluZ3MoaXRlbSk7XG5cbiAgICBpZiAoaXRlbUtpbmQoaXRlbSkgPT09ICdzZWN0aW9uJyl7XG4gICAgICBpZiAob3BlbmluZykgcmVzZXRBbGxMMlVuZGVyKHJvb3QpO1xuICAgICAgZWxzZSByZXNldEFsbEwyVW5kZXIoaXRlbSk7XG4gICAgfVxuXG4gICAgaWYgKG9wZW5pbmcpe1xuICAgICAgY2xlYXJBbGxBbmltYXRpb25NYXJrZXJzKCk7XG4gICAgICBtYXJrSXRlbXNGb3JBbmltYXRpb24ocCwgdHJ1ZSk7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICBkYmcoJ2VtaXQgYWNjLW9wZW4nLCB7IGlkOiBwLmlkIH0pO1xuICAgICAgICBlbWl0QWxsKCdhY2Mtb3BlbicpO1xuICAgICAgfSk7XG4gICAgICBleHBhbmQocCk7XG4gICAgICB0cmlnPy5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xuICAgICAgdHJpZz8uY2xhc3NMaXN0Py5hZGQoQUNUSVZFX1RSSUdHRVJfQ0xBU1MpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbGVhckFsbEFuaW1hdGlvbk1hcmtlcnMoKTtcbiAgICAgIG1hcmtJdGVtc0ZvckFuaW1hdGlvbihwLCB0cnVlKTtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIGRiZygnZW1pdCBhY2MtY2xvc2UnLCB7IGlkOiBwLmlkIH0pO1xuICAgICAgICBlbWl0QWxsKCdhY2MtY2xvc2UnKTtcbiAgICAgIH0pO1xuICAgICAgY29sbGFwc2UocCk7XG4gICAgICB0cmlnPy5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICAgIHRyaWc/LmNsYXNzTGlzdD8ucmVtb3ZlKEFDVElWRV9UUklHR0VSX0NMQVNTKTtcbiAgICB9XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gSU5JVElBTElaQVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdqcy1wcmVwJyk7XG4gIHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLmFjYy1saXN0JykuZm9yRWFjaChwID0+IHsgXG4gICAgcC5kYXRhc2V0LnN0YXRlID0gJ2NvbGxhcHNlZCc7IFxuICB9KTtcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2pzLXByZXAnKTtcbiAgfSk7XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIEVWRU5UIExJU1RFTkVSU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBoYW5kbGVJbnRlcmFjdGlvbihlKSB7XG4gICAgY29uc3QgdCA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5hY2MtdHJpZ2dlcicpO1xuICAgIGlmICghdCB8fCAhcm9vdC5jb250YWlucyh0KSkgcmV0dXJuO1xuICAgIFxuICAgIGlmIChlLnR5cGUgPT09ICdrZXlkb3duJyAmJiBlLmtleSAhPT0gJ0VudGVyJyAmJiBlLmtleSAhPT0gJyAnKSByZXR1cm47XG4gICAgXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGl0ZW0gPSB0LmNsb3Nlc3QoJy5hY2Mtc2VjdGlvbiwgLmFjYy1pdGVtJyk7XG4gICAgaWYgKGl0ZW0pIHtcbiAgICAgIGRiZyhlLnR5cGUsIHsgbGFiZWw6ICh0LnRleHRDb250ZW50IHx8ICcnKS50cmltKCkucmVwbGFjZSgvXFxzKy9nLCcgJykuc2xpY2UoMCw4MCkgfSk7XG4gICAgICB0b2dnbGUoaXRlbSk7XG4gICAgfVxuICB9XG4gIFxuICByb290LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlSW50ZXJhY3Rpb24pO1xuICByb290LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVJbnRlcmFjdGlvbik7XG5cbiAgY29uc3Qgcm8gPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZW50cmllcyA9PiB7XG4gICAgZW50cmllcy5mb3JFYWNoKCh7IHRhcmdldDogcCB9KSA9PiB7XG4gICAgICBpZiAocC5kYXRhc2V0LnN0YXRlID09PSAnb3BlbicpeyBcbiAgICAgICAgaWYgKCFwLmNsYXNzTGlzdC5jb250YWlucygnYWNjLWxpc3QtLWV4cGFuZGVkJykpIHtcbiAgICAgICAgICBwLmNsYXNzTGlzdC5hZGQoJ2FjYy1saXN0LS1leHBhbmRlZCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2MtbGlzdCcpLmZvckVhY2gocCA9PiByby5vYnNlcnZlKHApKTtcbiAgXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBERUJVRyBBUElcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgd2luZG93Ll9hY2NvcmRpb25UZXN0ID0ge1xuICAgIG1hcmtJdGVtczogKHBhbmVsSWQpID0+IHtcbiAgICAgIGNvbnN0IHBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGFuZWxJZCkgfHwgcm9vdC5xdWVyeVNlbGVjdG9yKCcuYWNjLWxpc3QnKTtcbiAgICAgIGlmIChwYW5lbCkge1xuICAgICAgICBtYXJrSXRlbXNGb3JBbmltYXRpb24ocGFuZWwsIHRydWUpO1xuICAgICAgICBjb25zb2xlLmxvZygnTWFya2VkIGl0ZW1zIGluIHBhbmVsOicsIHBhbmVsKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNsZWFyTWFya3M6ICgpID0+IHtcbiAgICAgIGNsZWFyQWxsQW5pbWF0aW9uTWFya2VycygpO1xuICAgICAgY29uc29sZS5sb2coJ0NsZWFyZWQgYWxsIG1hcmtzJyk7XG4gICAgfSxcbiAgICBlbWl0T3BlbjogKCkgPT4ge1xuICAgICAgZW1pdEFsbCgnYWNjLW9wZW4nKTtcbiAgICAgIGNvbnNvbGUubG9nKCdFbWl0dGVkIGFjYy1vcGVuJyk7XG4gICAgfSxcbiAgICBlbWl0Q2xvc2U6ICgpID0+IHtcbiAgICAgIGVtaXRBbGwoJ2FjYy1jbG9zZScpO1xuICAgICAgY29uc29sZS5sb2coJ0VtaXR0ZWQgYWNjLWNsb3NlJyk7XG4gICAgfSxcbiAgICBjaGVja1dlYmZsb3c6ICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdXZWJmbG93IG9iamVjdDonLCB3aW5kb3cuV2ViZmxvdyk7XG4gICAgICBjb25zb2xlLmxvZygnd2ZJeDonLCB3Zkl4KTtcbiAgICB9LFxuICAgIGdldE1hcmtlZEl0ZW1zOiAoKSA9PiB7XG4gICAgICBjb25zdCBpdGVtcyA9IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLmFjYy1hbmltYXRlLXRhcmdldCcpO1xuICAgICAgY29uc29sZS5sb2coYEZvdW5kICR7aXRlbXMubGVuZ3RofSBpdGVtcyB3aXRoIC5hY2MtYW5pbWF0ZS10YXJnZXQgY2xhc3NgKTtcbiAgICAgIHJldHVybiBpdGVtcztcbiAgICB9XG4gIH07XG4gIFxuICBjb25zb2xlLmxvZygnW0FDQ09SRElPTl0gRGVidWcgZnVuY3Rpb25zIGF2YWlsYWJsZSBhdCB3aW5kb3cuX2FjY29yZGlvblRlc3QnKTtcbn1cbiIsICIvKipcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiAgTWNDYW5uIFdlYnNpdGUgXHUyMDE0IFZpbWVvIEhlbHBlclxuICogIFB1cnBvc2U6IE1vdW50IFZpbWVvIGlmcmFtZSB3aXRoIHByaXZhY3kgb3B0aW9uc1xuICogIERhdGU6IDIwMjUtMTEtMDZcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuY29uc29sZS5sb2coJ1tWSU1FT10gbW9kdWxlIGxvYWRlZCcpO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEhFTFBFUlNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5mdW5jdGlvbiBwYXJzZVZpbWVvSWQoaW5wdXQpe1xuICBpZiAoIWlucHV0KSByZXR1cm4gJyc7XG4gIGNvbnN0IHN0ciA9IFN0cmluZyhpbnB1dCkudHJpbSgpO1xuICBpZiAoL15cXGQrJC8udGVzdChzdHIpKSByZXR1cm4gc3RyO1xuICB0cnkge1xuICAgIGNvbnN0IHUgPSBuZXcgVVJMKHN0ciwgJ2h0dHBzOi8vZXhhbXBsZS5jb20nKTtcbiAgICBjb25zdCBob3N0ID0gdS5ob3N0bmFtZSB8fCAnJztcbiAgICBpZiAoaG9zdC5pbmNsdWRlcygndmltZW8uY29tJykpe1xuICAgICAgY29uc3QgcGFydHMgPSB1LnBhdGhuYW1lLnNwbGl0KCcvJykuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgY29uc3QgbGFzdCA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdIHx8ICcnO1xuICAgICAgY29uc3QgaWQgPSBsYXN0Lm1hdGNoKC9cXGQrLyk/LlswXSB8fCAnJztcbiAgICAgIHJldHVybiBpZCB8fCAnJztcbiAgICB9XG4gIH0gY2F0Y2gge31cbiAgcmV0dXJuICcnO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEVYUE9SVFNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgZnVuY3Rpb24gbW91bnRWaW1lbyhjb250YWluZXIsIGlucHV0SWQsIHBhcmFtcyA9IHt9KXtcbiAgaWYgKCFjb250YWluZXIpIHJldHVybjtcbiAgY29uc3QgaWQgPSBwYXJzZVZpbWVvSWQoaW5wdXRJZCk7XG4gIGlmICghaWQpeyBjb250YWluZXIuaW5uZXJIVE1MID0gJyc7IHJldHVybjsgfVxuICBjb25zdCBxdWVyeSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoeyBkbnQ6IDEsIC4uLnBhcmFtcyB9KS50b1N0cmluZygpO1xuICBjb25zdCBzcmMgPSBgaHR0cHM6Ly9wbGF5ZXIudmltZW8uY29tL3ZpZGVvLyR7aWR9PyR7cXVlcnl9YDtcbiAgY29uc3QgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gIGlmcmFtZS5zcmMgPSBzcmM7XG4gIGlmcmFtZS5hbGxvdyA9ICdhdXRvcGxheTsgZnVsbHNjcmVlbjsgcGljdHVyZS1pbi1waWN0dXJlOyBlbmNyeXB0ZWQtbWVkaWEnO1xuICBpZnJhbWUuc2V0QXR0cmlidXRlKCdmcmFtZWJvcmRlcicsICcwJyk7XG4gIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ2FsbG93ZnVsbHNjcmVlbicsICcnKTtcbiAgaWZyYW1lLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogNTAlO1xuICAgIGxlZnQ6IDUwJTtcbiAgICAvKiBTaXplcyBhcmUgc2V0IGR5bmFtaWNhbGx5IHRvIGFjaGlldmUgdHJ1ZSBjb3ZlciAqL1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgICBib3JkZXI6IDA7XG4gIGA7XG4gIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGlmcmFtZSk7XG5cbiAgLy8gRW5zdXJlIGNvbnRhaW5lciBjYW4gY3JvcCBvdmVyZmxvd1xuICBjb25zdCBwcmV2T3ZlcmZsb3cgPSBjb250YWluZXIuc3R5bGUub3ZlcmZsb3c7XG4gIGlmICghY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uIHx8IGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpIHtcbiAgICBjb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICB9XG4gIGNvbnRhaW5lci5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuXG4gIC8vIFRyeSB0byB1c2UgVmltZW8gUGxheWVyIEFQSSB0byBnZXQgZXhhY3QgdmlkZW8gYXNwZWN0IHJhdGlvXG4gIGVuc3VyZVZpbWVvQXBpKCkudGhlbigoKSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgY29uc3QgcGxheWVyID0gbmV3ICh3aW5kb3cuVmltZW8gJiYgd2luZG93LlZpbWVvLlBsYXllciA/IHdpbmRvdy5WaW1lby5QbGF5ZXIgOiBmdW5jdGlvbigpe30pIChpZnJhbWUpO1xuICAgIGlmICghcGxheWVyIHx8ICFwbGF5ZXIuZ2V0VmlkZW9XaWR0aCkge1xuICAgICAgLy8gRmFsbGJhY2sgdG8gMTY6OSBpZiBBUEkgbm90IGF2YWlsYWJsZVxuICAgICAgZml0SWZyYW1lVG9Db3Zlcihjb250YWluZXIsIGlmcmFtZSwgMTYgLyA5LCAxLjAyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBQcm9taXNlLmFsbChbcGxheWVyLmdldFZpZGVvV2lkdGgoKSwgcGxheWVyLmdldFZpZGVvSGVpZ2h0KCldKVxuICAgICAgLnRoZW4oKFt2dywgdmhdKSA9PiB7XG4gICAgICAgIGNvbnN0IHJhdGlvID0gdncgJiYgdmggPyB2dyAvIHZoIDogMTYgLyA5O1xuICAgICAgICBmaXRJZnJhbWVUb0NvdmVyKGNvbnRhaW5lciwgaWZyYW1lLCByYXRpbywgMS4wMik7XG4gICAgICAgIC8vIFJlZml0IG9uIGNvbnRhaW5lciByZXNpemVcbiAgICAgICAgY29uc3Qgcm8gPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4gZml0SWZyYW1lVG9Db3Zlcihjb250YWluZXIsIGlmcmFtZSwgcmF0aW8sIDEuMDIpKTtcbiAgICAgICAgcm8ub2JzZXJ2ZShjb250YWluZXIpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4gZml0SWZyYW1lVG9Db3Zlcihjb250YWluZXIsIGlmcmFtZSwgcmF0aW8sIDEuMDIpLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKCgpID0+IHtcbiAgICAgICAgZml0SWZyYW1lVG9Db3Zlcihjb250YWluZXIsIGlmcmFtZSwgMTYgLyA5LCAxLjAyKTtcbiAgICAgIH0pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBFbnN1cmUgVmltZW8gUGxheWVyIEFQSSBpcyBhdmFpbGFibGUgKGxvYWRzIHNjcmlwdCBvbmNlKVxuICovXG5mdW5jdGlvbiBlbnN1cmVWaW1lb0FwaSgpe1xuICBpZiAod2luZG93LlZpbWVvICYmIHdpbmRvdy5WaW1lby5QbGF5ZXIpIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIGNvbnN0IGV4aXN0aW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2NyaXB0W3NyYyo9XCJwbGF5ZXIudmltZW8uY29tL2FwaS9wbGF5ZXIuanNcIl0nKTtcbiAgICBpZiAoZXhpc3RpbmcpIHsgZXhpc3RpbmcuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHJlc29sdmUoKSk7IHJldHVybjsgfVxuICAgIGNvbnN0IHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICBzLnNyYyA9ICdodHRwczovL3BsYXllci52aW1lby5jb20vYXBpL3BsYXllci5qcyc7XG4gICAgcy5hc3luYyA9IHRydWU7XG4gICAgcy5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKCk7XG4gICAgcy5vbmVycm9yID0gKCkgPT4gcmVzb2x2ZSgpOyAvLyBHcmFjZWZ1bCBmYWxsYmFja1xuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQocyk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFNpemUgYW5kIGNlbnRlciB0aGUgaWZyYW1lIHNvIHRoZSB2aWRlbyBjb3ZlcnMgdGhlIGNvbnRhaW5lciAobGlrZSBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyKVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY29udGFpbmVyXG4gKiBAcGFyYW0ge0hUTUxJRnJhbWVFbGVtZW50fSBpZnJhbWVcbiAqIEBwYXJhbSB7bnVtYmVyfSB2aWRlb1JhdGlvIC0gd2lkdGgvaGVpZ2h0IG9mIHRoZSB2aWRlb1xuICovXG5mdW5jdGlvbiBmaXRJZnJhbWVUb0NvdmVyKGNvbnRhaW5lciwgaWZyYW1lLCB2aWRlb1JhdGlvLCBvdmVyc2NhbiA9IDEuMCl7XG4gIGNvbnN0IHJlY3QgPSBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IGN3ID0gTWF0aC5tYXgoMSwgcmVjdC53aWR0aCk7XG4gIGNvbnN0IGNoID0gTWF0aC5tYXgoMSwgcmVjdC5oZWlnaHQpO1xuICBjb25zdCBjb250YWluZXJSYXRpbyA9IGN3IC8gY2g7XG5cbiAgbGV0IHcsIGg7XG4gIGlmIChjb250YWluZXJSYXRpbyA+IHZpZGVvUmF0aW8pIHtcbiAgICAvLyBDb250YWluZXIgaXMgd2lkZXIgXHUyMTkyIG1hdGNoIHdpZHRoLCBncm93IGhlaWdodFxuICAgIHcgPSBjdztcbiAgICBoID0gY3cgLyB2aWRlb1JhdGlvO1xuICB9IGVsc2Uge1xuICAgIC8vIENvbnRhaW5lciBpcyB0YWxsZXIgXHUyMTkyIG1hdGNoIGhlaWdodCwgZ3JvdyB3aWR0aFxuICAgIGggPSBjaDtcbiAgICB3ID0gY2ggKiB2aWRlb1JhdGlvO1xuICB9XG5cbiAgLy8gQXBwbHkgc2xpZ2h0IG92ZXJzY2FuIHRvIGF2b2lkIHN1YnBpeGVsIGd1dHRlcmluZyBhdCBleHRyZW1lIHJhdGlvc1xuICBjb25zdCBvdyA9IE1hdGguY2VpbCh3ICogb3ZlcnNjYW4pO1xuICBjb25zdCBvaCA9IE1hdGguY2VpbChoICogb3ZlcnNjYW4pO1xuXG4gIGlmcmFtZS5zdHlsZS53aWR0aCA9IGAke293fXB4YDtcbiAgaWZyYW1lLnN0eWxlLmhlaWdodCA9IGAke29ofXB4YDtcbiAgaWZyYW1lLnN0eWxlLnRvcCA9ICc1MCUnO1xuICBpZnJhbWUuc3R5bGUubGVmdCA9ICc1MCUnO1xuICBpZnJhbWUuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKSc7XG59XG4iLCAiLyoqXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogIE1jQ2FubiBXZWJzaXRlIFx1MjAxNCBFdmVudHMgVXRpbGl0eVxuICogIFB1cnBvc2U6IEVtaXQgYnViYmxpbmcgQ3VzdG9tRXZlbnRzXG4gKiAgRGF0ZTogMjAyNS0xMS0wNlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZW1pdChuYW1lLCB0YXJnZXQgPSB3aW5kb3csIGRldGFpbCA9IHt9KXtcbiAgdHJ5IHsgdGFyZ2V0LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KG5hbWUsIHsgYnViYmxlczogdHJ1ZSwgY2FuY2VsYWJsZTogdHJ1ZSwgZGV0YWlsIH0pKTsgfSBjYXRjaCB7fVxuICB0cnkgeyB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQobmFtZSwgeyBkZXRhaWwgfSkpOyB9IGNhdGNoIHt9XG59XG4iLCAiLyoqXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogIE1jQ2FubiBXZWJzaXRlIFx1MjAxNCBTbGlkZXMgTW9kdWxlXG4gKiAgUHVycG9zZTogQnVpbGQgLnNsaWRlIGVsZW1lbnRzIGZyb20gSlNPTiwgcG9wdWxhdGUgdGV4dC9wcmV2aWV3XG4gKiAgRGF0ZTogMjAyNS0xMS0xMFxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQgcHJvamVjdERhdGFKc29uIGZyb20gJy4uL2RhdGEvcHJvamVjdC1kYXRhLmpzb24nO1xuaW1wb3J0IHsgbW91bnRWaW1lbyB9IGZyb20gJy4vdmltZW8uanMnO1xuaW1wb3J0IHsgZW1pdCB9IGZyb20gJy4uL2NvcmUvZXZlbnRzLmpzJztcblxuY29uc29sZS5sb2coJ1tTTElERVNdIE1vZHVsZSBsb2FkZWQnKTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTVEFURVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmxldCBwcm9qZWN0RGF0YSA9IG51bGw7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSU5JVElBTElaQVRJT05cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdFNsaWRlcyhvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGNvbnRhaW5lclNlbGVjdG9yID0gJy5wZXJzcGVjdGl2ZS13cmFwcGVyJyxcbiAgICByZXBsYWNlRXhpc3RpbmcgPSB0cnVlLFxuICAgIHByb2plY3REYXRhT3ZlcnJpZGUgPSAod2luZG93Lk1jQ0FOTl9QUk9KRUNUX0RBVEEgPz8gcHJvamVjdERhdGFKc29uKVxuICB9ID0gb3B0aW9ucztcblxuICBwcm9qZWN0RGF0YSA9IHByb2plY3REYXRhT3ZlcnJpZGU7XG4gIGNvbnN0IHByb2plY3RJZHMgPSBPYmplY3Qua2V5cyhwcm9qZWN0RGF0YSB8fCB7fSk7XG4gIGNvbnNvbGUubG9nKGBbU0xJREVTXSBcdTI3MTMgTG9hZGVkICR7cHJvamVjdElkcy5sZW5ndGh9IHByb2plY3Qke3Byb2plY3RJZHMubGVuZ3RoICE9PSAxID8gJ3MnIDogJyd9IGZyb20gSlNPTmApO1xuXG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICBpZiAoIWNvbnRhaW5lcikge1xuICAgIGNvbnNvbGUubG9nKCdbU0xJREVTXSBcdTI3NEMgQ29udGFpbmVyIG5vdCBmb3VuZDonLCBjb250YWluZXJTZWxlY3Rvcik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRmluZCB0ZW1wbGF0ZTogZmlyc3QgLnNsaWRlIGluIGNvbnRhaW5lciAob3IgYW55d2hlcmUgaWYgbm90IGZvdW5kKVxuICBjb25zdCBleGlzdGluZ1NsaWRlcyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGUnKTtcbiAgY29uc3QgdGVtcGxhdGUgPSBleGlzdGluZ1NsaWRlc1swXSB8fCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGUnKTtcbiAgXG4gIGlmICghdGVtcGxhdGUpIHtcbiAgICBjb25zb2xlLmxvZygnW1NMSURFU10gXHUyNzRDIE5vIC5zbGlkZSB0ZW1wbGF0ZSBmb3VuZCcpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFN0b3JlIGluc2VydGlvbiBwb2ludDogZmluZCBuZXh0IG5vbi1zbGlkZSBlbGVtZW50IHNpYmxpbmcgKHRvIHByZXNlcnZlIERPTSBvcmRlcilcbiAgLy8gVGhpcyBlbnN1cmVzIHdlIGluc2VydCBhdCB0aGUgb3JpZ2luYWwgcG9zaXRpb24gZXZlbiBhZnRlciByZW1vdmluZyBzbGlkZXNcbiAgbGV0IGluc2VydEJlZm9yZSA9IG51bGw7XG4gIGxldCBzaWJsaW5nID0gdGVtcGxhdGUubmV4dEVsZW1lbnRTaWJsaW5nO1xuICB3aGlsZSAoc2libGluZykge1xuICAgIGlmICghc2libGluZy5jbGFzc0xpc3QuY29udGFpbnMoJ3NsaWRlJykpIHtcbiAgICAgIGluc2VydEJlZm9yZSA9IHNpYmxpbmc7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgc2libGluZyA9IHNpYmxpbmcubmV4dEVsZW1lbnRTaWJsaW5nO1xuICB9XG4gIC8vIElmIG5vIG5vbi1zbGlkZSBzaWJsaW5nIGZvdW5kLCBpbnNlcnRCZWZvcmUgcmVtYWlucyBudWxsICh3aWxsIGFwcGVuZClcblxuICAvLyBDbG9uZSB0ZW1wbGF0ZSBhbmQgc3RyaXAgSURzIHRvIGF2b2lkIGR1cGxpY2F0ZXNcbiAgY29uc3QgYmFzZVRlbXBsYXRlID0gdGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpO1xuICBzdHJpcElkcyhiYXNlVGVtcGxhdGUpO1xuXG4gIC8vIEJ1aWxkIGZyYWdtZW50IGZvciBiYXRjaCBET00gdXBkYXRlXG4gIGNvbnN0IGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuXG4gIHByb2plY3RJZHMuZm9yRWFjaCgocHJvamVjdElkKSA9PiB7XG4gICAgY29uc3QgcHJvamVjdCA9IHByb2plY3REYXRhW3Byb2plY3RJZF07XG4gICAgaWYgKCFwcm9qZWN0KSB7XG4gICAgICBjb25zb2xlLndhcm4oYFtTTElERVNdIFx1MjZBMFx1RkUwRiAgUHJvamVjdCBcIiR7cHJvamVjdElkfVwiIG1pc3NpbmcgZGF0YSwgc2tpcHBpbmdgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDbG9uZSB0ZW1wbGF0ZSBmb3IgdGhpcyBzbGlkZVxuICAgIGNvbnN0IHNsaWRlID0gYmFzZVRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcbiAgICBcbiAgICAvLyBTZXQgZGF0YS1wcm9qZWN0IGF0dHJpYnV0ZSAobGlnaHRib3ggcmVhZHMgdGhpcylcbiAgICBzbGlkZS5kYXRhc2V0LnByb2plY3QgPSBwcm9qZWN0SWQ7XG4gICAgc2xpZGUuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpO1xuICAgIHNsaWRlLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xuICAgIHNsaWRlLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGAke3Byb2plY3QuY2xpZW50IHx8ICcnfSBcdTIwMTQgJHtwcm9qZWN0LnRpdGxlIHx8ICcnfWAudHJpbSgpKTtcblxuICAgIC8vIFBvcHVsYXRlIHRleHQgY29udGVudFxuICAgIGNvbnN0IGNsaWVudEVsID0gc2xpZGUucXVlcnlTZWxlY3RvcignLnNsaWRlX19jbGllbnQnKTtcbiAgICBjb25zdCB0aXRsZUVsID0gc2xpZGUucXVlcnlTZWxlY3RvcignLnNsaWRlX190aXRsZScpO1xuICAgIGlmIChjbGllbnRFbCkgY2xpZW50RWwudGV4dENvbnRlbnQgPSBwcm9qZWN0LmNsaWVudCB8fCAnJztcbiAgICBpZiAodGl0bGVFbCkgdGl0bGVFbC50ZXh0Q29udGVudCA9IHByb2plY3QudGl0bGUgfHwgJyc7XG5cbiAgICAvLyBNb3VudCBwcmV2aWV3IHZpZGVvIChhbHdheXMpXG4gICAgY29uc3QgcHJldmlld0NvbnRhaW5lciA9IHNsaWRlLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZV9fcHJldmlldycpO1xuICAgIGlmIChwcmV2aWV3Q29udGFpbmVyKSB7XG4gICAgICBpZiAoIXByb2plY3QudmltZW9QcmV2aWV3SWQgfHwgcHJvamVjdC52aW1lb1ByZXZpZXdJZCA9PT0gJzAwMDAwMDAwMCcpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBbU0xJREVTXSBcdTI2QTBcdUZFMEYgIE1pc3NpbmcgdmltZW9QcmV2aWV3SWQgZm9yIFwiJHtwcm9qZWN0SWR9XCJgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFVzZSByQUYgdG8gYmF0Y2ggRE9NIHdyaXRlc1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIG1vdW50VmltZW8ocHJldmlld0NvbnRhaW5lciwgcHJvamVjdC52aW1lb1ByZXZpZXdJZCwge1xuICAgICAgICAgICAgYXV0b3BsYXk6IDEsXG4gICAgICAgICAgICBtdXRlZDogMSxcbiAgICAgICAgICAgIGF1dG9wYXVzZTogMCxcbiAgICAgICAgICAgIGNvbnRyb2xzOiAwLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogMSxcbiAgICAgICAgICAgIHBsYXlzaW5saW5lOiAxLFxuICAgICAgICAgICAgbG9vcDogMSxcbiAgICAgICAgICAgIGRudDogMVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChzbGlkZSk7XG4gIH0pO1xuXG4gIC8vIFJlcGxhY2UgZXhpc3Rpbmcgc2xpZGVzIHdpdGggSlNPTi1kcml2ZW4gb25lc1xuICBpZiAocmVwbGFjZUV4aXN0aW5nKSB7XG4gICAgLy8gUmVtb3ZlIGFsbCBleGlzdGluZyAuc2xpZGUgZWxlbWVudHMgaW4gY29udGFpbmVyXG4gICAgZXhpc3RpbmdTbGlkZXMuZm9yRWFjaChzbGlkZSA9PiBzbGlkZS5yZW1vdmUoKSk7XG4gIH1cblxuICAvLyBJbnNlcnQgYWxsIG5ldyBzbGlkZXMgYXQgb3JpZ2luYWwgcG9zaXRpb24gKHByZXNlcnZlIERPTSBvcmRlcilcbiAgaWYgKGluc2VydEJlZm9yZSAmJiBpbnNlcnRCZWZvcmUucGFyZW50Tm9kZSA9PT0gY29udGFpbmVyKSB7XG4gICAgY29udGFpbmVyLmluc2VydEJlZm9yZShmcmFnbWVudCwgaW5zZXJ0QmVmb3JlKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBGYWxsYmFjazogYXBwZW5kIGlmIG5vIG5leHQgc2libGluZyBvciBzaWJsaW5nIGlzIGluIGRpZmZlcmVudCBwYXJlbnRcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuICB9XG5cbiAgY29uc29sZS5sb2coYFtTTElERVNdIFx1MjcxMyBSZW5kZXJlZCAke3Byb2plY3RJZHMubGVuZ3RofSBzbGlkZSR7cHJvamVjdElkcy5sZW5ndGggIT09IDEgPyAncycgOiAnJ31gKTtcbiAgZW1pdCgnc2xpZGVzOmJ1aWx0JywgY29udGFpbmVyLCB7IGNvdW50OiBwcm9qZWN0SWRzLmxlbmd0aCB9KTtcblxuICAvLyBFeHBvc2UgQVBJXG4gIHdpbmRvdy5BcHAgPSB3aW5kb3cuQXBwIHx8IHt9O1xuICB3aW5kb3cuQXBwLnNsaWRlcyA9IHtcbiAgICByZWJ1aWxkOiAoKSA9PiBpbml0U2xpZGVzKG9wdGlvbnMpLFxuICAgIGdldFByb2plY3REYXRhOiAoKSA9PiBwcm9qZWN0RGF0YVxuICB9O1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEhFTFBFUiBGVU5DVElPTlNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5mdW5jdGlvbiBzdHJpcElkcyhlbGVtZW50KSB7XG4gIGlmIChlbGVtZW50Lmhhc0F0dHJpYnV0ZSAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnaWQnKSkge1xuICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdpZCcpO1xuICB9XG4gIGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbD8uKCdbaWRdJykuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmVBdHRyaWJ1dGUoJ2lkJykpO1xufVxuXG4iLCAiLyoqXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogIE1jQ2FubiBXZWJzaXRlIFx1MjAxNCBTY3JvbGwgTG9ja1xuICogIFB1cnBvc2U6IExvY2svdW5sb2NrIHNjcm9sbCBvbiAucGVyc3BlY3RpdmUtd3JhcHBlclxuICogIERhdGU6IDIwMjUtMTEtMDZcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxubGV0IGlzTG9ja2VkID0gZmFsc2U7XG5sZXQgc2F2ZWRZID0gMDtcbmxldCB3cmFwcGVyID0gbnVsbDtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBFWFBPUlRTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvY2tTY3JvbGwoKXtcbiAgaWYgKGlzTG9ja2VkKSByZXR1cm47XG4gIGlzTG9ja2VkID0gdHJ1ZTtcbiAgXG4gIHdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGVyc3BlY3RpdmUtd3JhcHBlcicpIHx8IGRvY3VtZW50LmJvZHk7XG4gIFxuICBpZiAod3JhcHBlciA9PT0gZG9jdW1lbnQuYm9keSkge1xuICAgIHNhdmVkWSA9IHdpbmRvdy5zY3JvbGxZIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgMDtcbiAgfSBlbHNlIHtcbiAgICBzYXZlZFkgPSB3cmFwcGVyLnNjcm9sbFRvcCB8fCAwO1xuICB9XG4gIFxuICBpZiAod3JhcHBlciA9PT0gZG9jdW1lbnQuYm9keSkge1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudG9wID0gYC0ke3NhdmVkWX1weGA7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5sZWZ0ID0gJzAnO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucmlnaHQgPSAnMCc7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgfVxuICBcbiAgd3JhcHBlci5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICB3cmFwcGVyLmNsYXNzTGlzdC5hZGQoJ21vZGFsLW9wZW4nKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVubG9ja1Njcm9sbCh7IGRlbGF5TXMgPSAwIH0gPSB7fSl7XG4gIGlmICghaXNMb2NrZWQpIHJldHVybjtcbiAgXG4gIGNvbnN0IHVubG9jayA9ICgpID0+IHtcbiAgICBpZiAoIXdyYXBwZXIpIHJldHVybjtcbiAgICBcbiAgICB3cmFwcGVyLnN0eWxlLm92ZXJmbG93ID0gJyc7XG4gICAgd3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbC1vcGVuJyk7XG4gICAgXG4gICAgaWYgKHdyYXBwZXIgPT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucG9zaXRpb24gPSAnJztcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudG9wID0gJyc7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmxlZnQgPSAnJztcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucmlnaHQgPSAnJztcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUud2lkdGggPSAnJztcbiAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCBzYXZlZFkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3cmFwcGVyLnNjcm9sbFRvcCA9IHNhdmVkWTtcbiAgICB9XG4gICAgXG4gICAgaXNMb2NrZWQgPSBmYWxzZTtcbiAgICB3cmFwcGVyID0gbnVsbDtcbiAgfTtcbiAgXG4gIGRlbGF5TXMgPiAwID8gc2V0VGltZW91dCh1bmxvY2ssIGRlbGF5TXMpIDogdW5sb2NrKCk7XG59XG4iLCAie1xuICBcIm5hbWVcIjogXCJsZW5pc1wiLFxuICBcInZlcnNpb25cIjogXCIxLjMuMTRcIixcbiAgXCJkZXNjcmlwdGlvblwiOiBcIkhvdyBzbW9vdGggc2Nyb2xsIHNob3VsZCBiZVwiLFxuICBcInR5cGVcIjogXCJtb2R1bGVcIixcbiAgXCJzaWRlRWZmZWN0c1wiOiBmYWxzZSxcbiAgXCJhdXRob3JcIjogXCJkYXJrcm9vbS5lbmdpbmVlcmluZ1wiLFxuICBcImxpY2Vuc2VcIjogXCJNSVRcIixcbiAgXCJyZXBvc2l0b3J5XCI6IHtcbiAgICBcInR5cGVcIjogXCJnaXRcIixcbiAgICBcInVybFwiOiBcImdpdCtodHRwczovL2dpdGh1Yi5jb20vZGFya3Jvb21lbmdpbmVlcmluZy9sZW5pcy5naXRcIlxuICB9LFxuICBcImJ1Z3NcIjoge1xuICAgIFwidXJsXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL2Rhcmtyb29tZW5naW5lZXJpbmcvbGVuaXMvaXNzdWVzXCJcbiAgfSxcbiAgXCJob21lcGFnZVwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9kYXJrcm9vbWVuZ2luZWVyaW5nL2xlbmlzXCIsXG4gIFwiZnVuZGluZ1wiOiB7XG4gICAgXCJ0eXBlXCI6IFwiZ2l0aHViXCIsXG4gICAgXCJ1cmxcIjogXCJodHRwczovL2dpdGh1Yi5jb20vc3BvbnNvcnMvZGFya3Jvb21lbmdpbmVlcmluZ1wiXG4gIH0sXG4gIFwia2V5d29yZHNcIjogW1xuICAgIFwic2Nyb2xsXCIsXG4gICAgXCJzbW9vdGhcIixcbiAgICBcImxlbmlzXCIsXG4gICAgXCJyZWFjdFwiLFxuICAgIFwidnVlXCJcbiAgXSxcbiAgXCJzY3JpcHRzXCI6IHtcbiAgICBcImJ1aWxkXCI6IFwicG5wbSBidWlsZDpjb3JlICYmIHBucG0gYnVpbGQ6YWxsXCIsXG4gICAgXCJidWlsZDpjb3JlXCI6IFwidHN1cCAtLWNvbmZpZyB0c3VwLmNvcmUudHNcIixcbiAgICBcImJ1aWxkOmFsbFwiOiBcInRzdXBcIixcbiAgICBcImRldlwiOiBcInBucG0gcnVuIC13IC0tcGFyYWxsZWwgL15kZXY6LiovXCIsXG4gICAgXCJkZXY6YnVpbGRcIjogXCJ0c3VwIC0td2F0Y2hcIixcbiAgICBcImRldjpwbGF5Z3JvdW5kXCI6IFwicG5wbSAtLWZpbHRlciBwbGF5Z3JvdW5kIGRldlwiLFxuICAgIFwiZGV2Om51eHRcIjogXCJwbnBtIC0tZmlsdGVyIHBsYXlncm91bmQtbnV4dCBkZXZcIixcbiAgICBcInJlYWRtZVwiOiBcIm5vZGUgLi9zY3JpcHRzL3VwZGF0ZS1yZWFkbWUuanNcIixcbiAgICBcInZlcnNpb246ZGV2XCI6IFwibnBtIHZlcnNpb24gcHJlcmVsZWFzZSAtLXByZWlkIGRldiAtLWZvcmNlIC0tbm8tZ2l0LXRhZy12ZXJzaW9uXCIsXG4gICAgXCJ2ZXJzaW9uOnBhdGNoXCI6IFwibnBtIHZlcnNpb24gcGF0Y2ggLS1mb3JjZSAtLW5vLWdpdC10YWctdmVyc2lvblwiLFxuICAgIFwidmVyc2lvbjptaW5vclwiOiBcIm5wbSB2ZXJzaW9uIG1pbm9yIC0tZm9yY2UgLS1uby1naXQtdGFnLXZlcnNpb25cIixcbiAgICBcInZlcnNpb246bWFqb3JcIjogXCJucG0gdmVyc2lvbiBtYWpvciAtLWZvcmNlIC0tbm8tZ2l0LXRhZy12ZXJzaW9uXCIsXG4gICAgXCJwb3N0dmVyc2lvblwiOiBcInBucG0gYnVpbGQgJiYgcG5wbSByZWFkbWVcIixcbiAgICBcInB1Ymxpc2g6ZGV2XCI6IFwibnBtIHB1Ymxpc2ggLS10YWcgZGV2XCIsXG4gICAgXCJwdWJsaXNoOm1haW5cIjogXCJucG0gcHVibGlzaFwiXG4gIH0sXG4gIFwiZmlsZXNcIjogW1xuICAgIFwiZGlzdFwiXG4gIF0sXG4gIFwiZGV2RGVwZW5kZW5jaWVzXCI6IHtcbiAgICBcInRlcnNlclwiOiBcIl41LjM3LjBcIixcbiAgICBcInRzdXBcIjogXCJeOC4zLjVcIixcbiAgICBcInR5cGVzY3JpcHRcIjogXCJeNS43LjNcIlxuICB9LFxuICBcInBlZXJEZXBlbmRlbmNpZXNcIjoge1xuICAgIFwicmVhY3RcIjogXCI+PTE3LjAuMFwiLFxuICAgIFwidnVlXCI6IFwiPj0zLjAuMFwiLFxuICAgIFwiQG51eHQva2l0XCI6IFwiPj0zLjAuMFwiXG4gIH0sXG4gIFwicGVlckRlcGVuZGVuY2llc01ldGFcIjoge1xuICAgIFwicmVhY3RcIjoge1xuICAgICAgXCJvcHRpb25hbFwiOiB0cnVlXG4gICAgfSxcbiAgICBcInZ1ZVwiOiB7XG4gICAgICBcIm9wdGlvbmFsXCI6IHRydWVcbiAgICB9LFxuICAgIFwiQG51eHQva2l0XCI6IHtcbiAgICAgIFwib3B0aW9uYWxcIjogdHJ1ZVxuICAgIH1cbiAgfSxcbiAgXCJ1bnBrZ1wiOiBcIi4vZGlzdC9sZW5pcy5tanNcIixcbiAgXCJtYWluXCI6IFwiLi9kaXN0L2xlbmlzLm1qc1wiLFxuICBcIm1vZHVsZVwiOiBcIi4vZGlzdC9sZW5pcy5tanNcIixcbiAgXCJ0eXBlc1wiOiBcIi4vZGlzdC9sZW5pcy5kLnRzXCIsXG4gIFwiZXhwb3J0c1wiOiB7XG4gICAgXCIuXCI6IHtcbiAgICAgIFwidHlwZXNcIjogXCIuL2Rpc3QvbGVuaXMuZC50c1wiLFxuICAgICAgXCJkZWZhdWx0XCI6IFwiLi9kaXN0L2xlbmlzLm1qc1wiXG4gICAgfSxcbiAgICBcIi4vcmVhY3RcIjoge1xuICAgICAgXCJ0eXBlc1wiOiBcIi4vZGlzdC9sZW5pcy1yZWFjdC5kLnRzXCIsXG4gICAgICBcImRlZmF1bHRcIjogXCIuL2Rpc3QvbGVuaXMtcmVhY3QubWpzXCJcbiAgICB9LFxuICAgIFwiLi9zbmFwXCI6IHtcbiAgICAgIFwidHlwZXNcIjogXCIuL2Rpc3QvbGVuaXMtc25hcC5kLnRzXCIsXG4gICAgICBcImRlZmF1bHRcIjogXCIuL2Rpc3QvbGVuaXMtc25hcC5tanNcIlxuICAgIH0sXG4gICAgXCIuL3Z1ZVwiOiB7XG4gICAgICBcInR5cGVzXCI6IFwiLi9kaXN0L2xlbmlzLXZ1ZS5kLnRzXCIsXG4gICAgICBcImRlZmF1bHRcIjogXCIuL2Rpc3QvbGVuaXMtdnVlLm1qc1wiXG4gICAgfSxcbiAgICBcIi4vbnV4dFwiOiB7XG4gICAgICBcImRlZmF1bHRcIjogXCIuL2Rpc3QvbGVuaXMtdnVlLW51eHQubWpzXCJcbiAgICB9LFxuICAgIFwiLi9udXh0L3J1bnRpbWUvKlwiOiB7XG4gICAgICBcImRlZmF1bHRcIjogXCIuL2Rpc3QvbnV4dC9ydW50aW1lLyoubWpzXCJcbiAgICB9LFxuICAgIFwiLi9kaXN0LypcIjogXCIuL2Rpc3QvKlwiXG4gIH1cbn1cbiIsICIvKipcclxuICogQ2xhbXAgYSB2YWx1ZSBiZXR3ZWVuIGEgbWluaW11bSBhbmQgbWF4aW11bSB2YWx1ZVxyXG4gKlxyXG4gKiBAcGFyYW0gbWluIE1pbmltdW0gdmFsdWVcclxuICogQHBhcmFtIGlucHV0IFZhbHVlIHRvIGNsYW1wXHJcbiAqIEBwYXJhbSBtYXggTWF4aW11bSB2YWx1ZVxyXG4gKiBAcmV0dXJucyBDbGFtcGVkIHZhbHVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY2xhbXAobWluOiBudW1iZXIsIGlucHV0OiBudW1iZXIsIG1heDogbnVtYmVyKSB7XHJcbiAgcmV0dXJuIE1hdGgubWF4KG1pbiwgTWF0aC5taW4oaW5wdXQsIG1heCkpXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUcnVuY2F0ZSBhIGZsb2F0aW5nLXBvaW50IG51bWJlciB0byBhIHNwZWNpZmllZCBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXNcclxuICpcclxuICogQHBhcmFtIHZhbHVlIFZhbHVlIHRvIHRydW5jYXRlXHJcbiAqIEBwYXJhbSBkZWNpbWFscyBOdW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgdG8gdHJ1bmNhdGUgdG9cclxuICogQHJldHVybnMgVHJ1bmNhdGVkIHZhbHVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdHJ1bmNhdGUodmFsdWU6IG51bWJlciwgZGVjaW1hbHMgPSAwKSB7XHJcbiAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUudG9GaXhlZChkZWNpbWFscykpXHJcbn1cclxuXHJcbi8qKlxyXG4gKiAgTGluZWFybHkgaW50ZXJwb2xhdGUgYmV0d2VlbiB0d28gdmFsdWVzIHVzaW5nIGFuIGFtb3VudCAoMCA8PSB0IDw9IDEpXHJcbiAqXHJcbiAqIEBwYXJhbSB4IEZpcnN0IHZhbHVlXHJcbiAqIEBwYXJhbSB5IFNlY29uZCB2YWx1ZVxyXG4gKiBAcGFyYW0gdCBBbW91bnQgdG8gaW50ZXJwb2xhdGUgKDAgPD0gdCA8PSAxKVxyXG4gKiBAcmV0dXJucyBJbnRlcnBvbGF0ZWQgdmFsdWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBsZXJwKHg6IG51bWJlciwgeTogbnVtYmVyLCB0OiBudW1iZXIpIHtcclxuICByZXR1cm4gKDEgLSB0KSAqIHggKyB0ICogeVxyXG59XHJcblxyXG4vKipcclxuICogRGFtcCBhIHZhbHVlIG92ZXIgdGltZSB1c2luZyBhIGRhbXBpbmcgZmFjdG9yXHJcbiAqIHtAbGluayBodHRwOi8vd3d3LnJvcnlkcmlzY29sbC5jb20vMjAxNi8wMy8wNy9mcmFtZS1yYXRlLWluZGVwZW5kZW50LWRhbXBpbmctdXNpbmctbGVycC99XHJcbiAqXHJcbiAqIEBwYXJhbSB4IEluaXRpYWwgdmFsdWVcclxuICogQHBhcmFtIHkgVGFyZ2V0IHZhbHVlXHJcbiAqIEBwYXJhbSBsYW1iZGEgRGFtcGluZyBmYWN0b3JcclxuICogQHBhcmFtIGR0IFRpbWUgZWxhcHNlZCBzaW5jZSB0aGUgbGFzdCB1cGRhdGVcclxuICogQHJldHVybnMgRGFtcGVkIHZhbHVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZGFtcCh4OiBudW1iZXIsIHk6IG51bWJlciwgbGFtYmRhOiBudW1iZXIsIGRlbHRhVGltZTogbnVtYmVyKSB7XHJcbiAgcmV0dXJuIGxlcnAoeCwgeSwgMSAtIE1hdGguZXhwKC1sYW1iZGEgKiBkZWx0YVRpbWUpKVxyXG59XHJcblxyXG4vKipcclxuICogQ2FsY3VsYXRlIHRoZSBtb2R1bG8gb2YgdGhlIGRpdmlkZW5kIGFuZCBkaXZpc29yIHdoaWxlIGtlZXBpbmcgdGhlIHJlc3VsdCB3aXRoaW4gdGhlIHNhbWUgc2lnbiBhcyB0aGUgZGl2aXNvclxyXG4gKiB7QGxpbmsgaHR0cHM6Ly9hbmd1c2Nyb2xsLmNvbS9qdXN0L2p1c3QtbW9kdWxvfVxyXG4gKlxyXG4gKiBAcGFyYW0gbiBEaXZpZGVuZFxyXG4gKiBAcGFyYW0gZCBEaXZpc29yXHJcbiAqIEByZXR1cm5zIE1vZHVsb1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIG1vZHVsbyhuOiBudW1iZXIsIGQ6IG51bWJlcikge1xyXG4gIHJldHVybiAoKG4gJSBkKSArIGQpICUgZFxyXG59XHJcbiIsICJpbXBvcnQgeyBjbGFtcCwgZGFtcCB9IGZyb20gJy4vbWF0aHMnXHJcbmltcG9ydCB0eXBlIHsgRWFzaW5nRnVuY3Rpb24sIEZyb21Ub09wdGlvbnMsIE9uVXBkYXRlQ2FsbGJhY2sgfSBmcm9tICcuL3R5cGVzJ1xyXG5cclxuLyoqXHJcbiAqIEFuaW1hdGUgY2xhc3MgdG8gaGFuZGxlIHZhbHVlIGFuaW1hdGlvbnMgd2l0aCBsZXJwaW5nIG9yIGVhc2luZ1xyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBjb25zdCBhbmltYXRlID0gbmV3IEFuaW1hdGUoKVxyXG4gKiBhbmltYXRlLmZyb21UbygwLCAxMDAsIHsgZHVyYXRpb246IDEsIGVhc2luZzogKHQpID0+IHQgfSlcclxuICogYW5pbWF0ZS5hZHZhbmNlKDAuNSkgLy8gNTBcclxuICovXHJcbmV4cG9ydCBjbGFzcyBBbmltYXRlIHtcclxuICBpc1J1bm5pbmcgPSBmYWxzZVxyXG4gIHZhbHVlID0gMFxyXG4gIGZyb20gPSAwXHJcbiAgdG8gPSAwXHJcbiAgY3VycmVudFRpbWUgPSAwXHJcblxyXG4gIC8vIFRoZXNlIGFyZSBpbnN0YW5jaWF0ZWQgaW4gdGhlIGZyb21UbyBtZXRob2RcclxuICBsZXJwPzogbnVtYmVyXHJcbiAgZHVyYXRpb24/OiBudW1iZXJcclxuICBlYXNpbmc/OiBFYXNpbmdGdW5jdGlvblxyXG4gIG9uVXBkYXRlPzogT25VcGRhdGVDYWxsYmFja1xyXG5cclxuICAvKipcclxuICAgKiBBZHZhbmNlIHRoZSBhbmltYXRpb24gYnkgdGhlIGdpdmVuIGRlbHRhIHRpbWVcclxuICAgKlxyXG4gICAqIEBwYXJhbSBkZWx0YVRpbWUgLSBUaGUgdGltZSBpbiBzZWNvbmRzIHRvIGFkdmFuY2UgdGhlIGFuaW1hdGlvblxyXG4gICAqL1xyXG4gIGFkdmFuY2UoZGVsdGFUaW1lOiBudW1iZXIpIHtcclxuICAgIGlmICghdGhpcy5pc1J1bm5pbmcpIHJldHVyblxyXG5cclxuICAgIGxldCBjb21wbGV0ZWQgPSBmYWxzZVxyXG5cclxuICAgIGlmICh0aGlzLmR1cmF0aW9uICYmIHRoaXMuZWFzaW5nKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudFRpbWUgKz0gZGVsdGFUaW1lXHJcbiAgICAgIGNvbnN0IGxpbmVhclByb2dyZXNzID0gY2xhbXAoMCwgdGhpcy5jdXJyZW50VGltZSAvIHRoaXMuZHVyYXRpb24sIDEpXHJcblxyXG4gICAgICBjb21wbGV0ZWQgPSBsaW5lYXJQcm9ncmVzcyA+PSAxXHJcbiAgICAgIGNvbnN0IGVhc2VkUHJvZ3Jlc3MgPSBjb21wbGV0ZWQgPyAxIDogdGhpcy5lYXNpbmcobGluZWFyUHJvZ3Jlc3MpXHJcbiAgICAgIHRoaXMudmFsdWUgPSB0aGlzLmZyb20gKyAodGhpcy50byAtIHRoaXMuZnJvbSkgKiBlYXNlZFByb2dyZXNzXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMubGVycCkge1xyXG4gICAgICB0aGlzLnZhbHVlID0gZGFtcCh0aGlzLnZhbHVlLCB0aGlzLnRvLCB0aGlzLmxlcnAgKiA2MCwgZGVsdGFUaW1lKVxyXG4gICAgICBpZiAoTWF0aC5yb3VuZCh0aGlzLnZhbHVlKSA9PT0gdGhpcy50bykge1xyXG4gICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnRvXHJcbiAgICAgICAgY29tcGxldGVkID0gdHJ1ZVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBJZiBubyBlYXNpbmcgb3IgbGVycCwganVzdCBqdW1wIHRvIHRoZSBlbmQgdmFsdWVcclxuICAgICAgdGhpcy52YWx1ZSA9IHRoaXMudG9cclxuICAgICAgY29tcGxldGVkID0gdHJ1ZVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChjb21wbGV0ZWQpIHtcclxuICAgICAgdGhpcy5zdG9wKClcclxuICAgIH1cclxuXHJcbiAgICAvLyBDYWxsIHRoZSBvblVwZGF0ZSBjYWxsYmFjayB3aXRoIHRoZSBjdXJyZW50IHZhbHVlIGFuZCBjb21wbGV0ZWQgc3RhdHVzXHJcbiAgICB0aGlzLm9uVXBkYXRlPy4odGhpcy52YWx1ZSwgY29tcGxldGVkKVxyXG4gIH1cclxuXHJcbiAgLyoqIFN0b3AgdGhlIGFuaW1hdGlvbiAqL1xyXG4gIHN0b3AoKSB7XHJcbiAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgdXAgdGhlIGFuaW1hdGlvbiBmcm9tIGEgc3RhcnRpbmcgdmFsdWUgdG8gYW4gZW5kaW5nIHZhbHVlXHJcbiAgICogd2l0aCBvcHRpb25hbCBwYXJhbWV0ZXJzIGZvciBsZXJwaW5nLCBkdXJhdGlvbiwgZWFzaW5nLCBhbmQgb25VcGRhdGUgY2FsbGJhY2tcclxuICAgKlxyXG4gICAqIEBwYXJhbSBmcm9tIC0gVGhlIHN0YXJ0aW5nIHZhbHVlXHJcbiAgICogQHBhcmFtIHRvIC0gVGhlIGVuZGluZyB2YWx1ZVxyXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgdGhlIGFuaW1hdGlvblxyXG4gICAqL1xyXG4gIGZyb21UbyhcclxuICAgIGZyb206IG51bWJlcixcclxuICAgIHRvOiBudW1iZXIsXHJcbiAgICB7IGxlcnAsIGR1cmF0aW9uLCBlYXNpbmcsIG9uU3RhcnQsIG9uVXBkYXRlIH06IEZyb21Ub09wdGlvbnNcclxuICApIHtcclxuICAgIHRoaXMuZnJvbSA9IHRoaXMudmFsdWUgPSBmcm9tXHJcbiAgICB0aGlzLnRvID0gdG9cclxuICAgIHRoaXMubGVycCA9IGxlcnBcclxuICAgIHRoaXMuZHVyYXRpb24gPSBkdXJhdGlvblxyXG4gICAgdGhpcy5lYXNpbmcgPSBlYXNpbmdcclxuICAgIHRoaXMuY3VycmVudFRpbWUgPSAwXHJcbiAgICB0aGlzLmlzUnVubmluZyA9IHRydWVcclxuXHJcbiAgICBvblN0YXJ0Py4oKVxyXG4gICAgdGhpcy5vblVwZGF0ZSA9IG9uVXBkYXRlXHJcbiAgfVxyXG59XHJcbiIsICJleHBvcnQgZnVuY3Rpb24gZGVib3VuY2U8Q0IgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IHZvaWQ+KFxyXG4gIGNhbGxiYWNrOiBDQixcclxuICBkZWxheTogbnVtYmVyXHJcbikge1xyXG4gIGxldCB0aW1lcjogbnVtYmVyIHwgdW5kZWZpbmVkXHJcbiAgcmV0dXJuIGZ1bmN0aW9uIDxUPih0aGlzOiBULCAuLi5hcmdzOiBQYXJhbWV0ZXJzPHR5cGVvZiBjYWxsYmFjaz4pIHtcclxuICAgIGxldCBjb250ZXh0ID0gdGhpc1xyXG4gICAgY2xlYXJUaW1lb3V0KHRpbWVyKVxyXG4gICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdGltZXIgPSB1bmRlZmluZWRcclxuICAgICAgY2FsbGJhY2suYXBwbHkoY29udGV4dCwgYXJncylcclxuICAgIH0sIGRlbGF5KVxyXG4gIH1cclxufVxyXG4iLCAiaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tICcuL2RlYm91bmNlJ1xyXG5cclxuLyoqXHJcbiAqIERpbWVuc2lvbnMgY2xhc3MgdG8gaGFuZGxlIHRoZSBzaXplIG9mIHRoZSBjb250ZW50IGFuZCB3cmFwcGVyXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGNvbnN0IGRpbWVuc2lvbnMgPSBuZXcgRGltZW5zaW9ucyh3cmFwcGVyLCBjb250ZW50KVxyXG4gKiBkaW1lbnNpb25zLm9uKCdyZXNpemUnLCAoZSkgPT4ge1xyXG4gKiAgIGNvbnNvbGUubG9nKGUud2lkdGgsIGUuaGVpZ2h0KVxyXG4gKiB9KVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIERpbWVuc2lvbnMge1xyXG4gIHdpZHRoID0gMFxyXG4gIGhlaWdodCA9IDBcclxuICBzY3JvbGxIZWlnaHQgPSAwXHJcbiAgc2Nyb2xsV2lkdGggPSAwXHJcblxyXG4gIC8vIFRoZXNlIGFyZSBpbnN0YW5jaWF0ZWQgaW4gdGhlIGNvbnN0cnVjdG9yIGFzIHRoZXkgbmVlZCBpbmZvcm1hdGlvbiBmcm9tIHRoZSBvcHRpb25zXHJcbiAgcHJpdmF0ZSBkZWJvdW5jZWRSZXNpemU/OiAoLi4uYXJnczogdW5rbm93bltdKSA9PiB2b2lkXHJcbiAgcHJpdmF0ZSB3cmFwcGVyUmVzaXplT2JzZXJ2ZXI/OiBSZXNpemVPYnNlcnZlclxyXG4gIHByaXZhdGUgY29udGVudFJlc2l6ZU9ic2VydmVyPzogUmVzaXplT2JzZXJ2ZXJcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIHdyYXBwZXI6IEhUTUxFbGVtZW50IHwgV2luZG93IHwgRWxlbWVudCxcclxuICAgIHByaXZhdGUgY29udGVudDogSFRNTEVsZW1lbnQgfCBFbGVtZW50LFxyXG4gICAgeyBhdXRvUmVzaXplID0gdHJ1ZSwgZGVib3VuY2U6IGRlYm91bmNlVmFsdWUgPSAyNTAgfSA9IHt9XHJcbiAgKSB7XHJcbiAgICBpZiAoYXV0b1Jlc2l6ZSkge1xyXG4gICAgICB0aGlzLmRlYm91bmNlZFJlc2l6ZSA9IGRlYm91bmNlKHRoaXMucmVzaXplLCBkZWJvdW5jZVZhbHVlKVxyXG5cclxuICAgICAgaWYgKHRoaXMud3JhcHBlciBpbnN0YW5jZW9mIFdpbmRvdykge1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmRlYm91bmNlZFJlc2l6ZSwgZmFsc2UpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy53cmFwcGVyUmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIodGhpcy5kZWJvdW5jZWRSZXNpemUpXHJcbiAgICAgICAgdGhpcy53cmFwcGVyUmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLndyYXBwZXIpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuY29udGVudFJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKHRoaXMuZGVib3VuY2VkUmVzaXplKVxyXG4gICAgICB0aGlzLmNvbnRlbnRSZXNpemVPYnNlcnZlci5vYnNlcnZlKHRoaXMuY29udGVudClcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnJlc2l6ZSgpXHJcbiAgfVxyXG5cclxuICBkZXN0cm95KCkge1xyXG4gICAgdGhpcy53cmFwcGVyUmVzaXplT2JzZXJ2ZXI/LmRpc2Nvbm5lY3QoKVxyXG4gICAgdGhpcy5jb250ZW50UmVzaXplT2JzZXJ2ZXI/LmRpc2Nvbm5lY3QoKVxyXG5cclxuICAgIGlmICh0aGlzLndyYXBwZXIgPT09IHdpbmRvdyAmJiB0aGlzLmRlYm91bmNlZFJlc2l6ZSkge1xyXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5kZWJvdW5jZWRSZXNpemUsIGZhbHNlKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVzaXplID0gKCkgPT4ge1xyXG4gICAgdGhpcy5vbldyYXBwZXJSZXNpemUoKVxyXG4gICAgdGhpcy5vbkNvbnRlbnRSZXNpemUoKVxyXG4gIH1cclxuXHJcbiAgb25XcmFwcGVyUmVzaXplID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMud3JhcHBlciBpbnN0YW5jZW9mIFdpbmRvdykge1xyXG4gICAgICB0aGlzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGhcclxuICAgICAgdGhpcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHRcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMud2lkdGggPSB0aGlzLndyYXBwZXIuY2xpZW50V2lkdGhcclxuICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLndyYXBwZXIuY2xpZW50SGVpZ2h0XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvbkNvbnRlbnRSZXNpemUgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy53cmFwcGVyIGluc3RhbmNlb2YgV2luZG93KSB7XHJcbiAgICAgIHRoaXMuc2Nyb2xsSGVpZ2h0ID0gdGhpcy5jb250ZW50LnNjcm9sbEhlaWdodFxyXG4gICAgICB0aGlzLnNjcm9sbFdpZHRoID0gdGhpcy5jb250ZW50LnNjcm9sbFdpZHRoXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNjcm9sbEhlaWdodCA9IHRoaXMud3JhcHBlci5zY3JvbGxIZWlnaHRcclxuICAgICAgdGhpcy5zY3JvbGxXaWR0aCA9IHRoaXMud3JhcHBlci5zY3JvbGxXaWR0aFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0IGxpbWl0KCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgeDogdGhpcy5zY3JvbGxXaWR0aCAtIHRoaXMud2lkdGgsXHJcbiAgICAgIHk6IHRoaXMuc2Nyb2xsSGVpZ2h0IC0gdGhpcy5oZWlnaHQsXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsICIvKipcclxuICogRW1pdHRlciBjbGFzcyB0byBoYW5kbGUgZXZlbnRzXHJcbiAqIEBleGFtcGxlXHJcbiAqIGNvbnN0IGVtaXR0ZXIgPSBuZXcgRW1pdHRlcigpXHJcbiAqIGVtaXR0ZXIub24oJ2V2ZW50JywgKGRhdGEpID0+IHtcclxuICogICBjb25zb2xlLmxvZyhkYXRhKVxyXG4gKiB9KVxyXG4gKiBlbWl0dGVyLmVtaXQoJ2V2ZW50JywgJ2RhdGEnKVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEVtaXR0ZXIge1xyXG4gIHByaXZhdGUgZXZlbnRzOiBSZWNvcmQ8XHJcbiAgICBzdHJpbmcsXHJcbiAgICBBcnJheTwoLi4uYXJnczogdW5rbm93bltdKSA9PiB2b2lkPiB8IHVuZGVmaW5lZFxyXG4gID4gPSB7fVxyXG5cclxuICAvKipcclxuICAgKiBFbWl0IGFuIGV2ZW50IHdpdGggdGhlIGdpdmVuIGRhdGFcclxuICAgKiBAcGFyYW0gZXZlbnQgRXZlbnQgbmFtZVxyXG4gICAqIEBwYXJhbSBhcmdzIERhdGEgdG8gcGFzcyB0byB0aGUgZXZlbnQgaGFuZGxlcnNcclxuICAgKi9cclxuICBlbWl0KGV2ZW50OiBzdHJpbmcsIC4uLmFyZ3M6IHVua25vd25bXSkge1xyXG4gICAgbGV0IGNhbGxiYWNrcyA9IHRoaXMuZXZlbnRzW2V2ZW50XSB8fCBbXVxyXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IGNhbGxiYWNrcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICBjYWxsYmFja3NbaV0/LiguLi5hcmdzKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIGEgY2FsbGJhY2sgdG8gdGhlIGV2ZW50XHJcbiAgICogQHBhcmFtIGV2ZW50IEV2ZW50IG5hbWVcclxuICAgKiBAcGFyYW0gY2IgQ2FsbGJhY2sgZnVuY3Rpb25cclxuICAgKiBAcmV0dXJucyBVbnN1YnNjcmliZSBmdW5jdGlvblxyXG4gICAqL1xyXG4gIG9uPENCIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkPihldmVudDogc3RyaW5nLCBjYjogQ0IpIHtcclxuICAgIC8vIEFkZCB0aGUgY2FsbGJhY2sgdG8gdGhlIGV2ZW50J3MgY2FsbGJhY2sgbGlzdCwgb3IgY3JlYXRlIGEgbmV3IGxpc3Qgd2l0aCB0aGUgY2FsbGJhY2tcclxuICAgIHRoaXMuZXZlbnRzW2V2ZW50XT8ucHVzaChjYikgfHwgKHRoaXMuZXZlbnRzW2V2ZW50XSA9IFtjYl0pXHJcblxyXG4gICAgLy8gUmV0dXJuIGFuIHVuc3Vic2NyaWJlIGZ1bmN0aW9uXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICB0aGlzLmV2ZW50c1tldmVudF0gPSB0aGlzLmV2ZW50c1tldmVudF0/LmZpbHRlcigoaSkgPT4gY2IgIT09IGkpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZW1vdmUgYSBjYWxsYmFjayBmcm9tIHRoZSBldmVudFxyXG4gICAqIEBwYXJhbSBldmVudCBFdmVudCBuYW1lXHJcbiAgICogQHBhcmFtIGNhbGxiYWNrIENhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgICovXHJcbiAgb2ZmPENCIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkPihldmVudDogc3RyaW5nLCBjYWxsYmFjazogQ0IpIHtcclxuICAgIHRoaXMuZXZlbnRzW2V2ZW50XSA9IHRoaXMuZXZlbnRzW2V2ZW50XT8uZmlsdGVyKChpKSA9PiBjYWxsYmFjayAhPT0gaSlcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbW92ZSBhbGwgZXZlbnQgbGlzdGVuZXJzIGFuZCBjbGVhbiB1cFxyXG4gICAqL1xyXG4gIGRlc3Ryb3koKSB7XHJcbiAgICB0aGlzLmV2ZW50cyA9IHt9XHJcbiAgfVxyXG59XHJcbiIsICJpbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSAnLi9lbWl0dGVyJ1xyXG5pbXBvcnQgdHlwZSB7IFZpcnR1YWxTY3JvbGxDYWxsYmFjayB9IGZyb20gJy4vdHlwZXMnXHJcblxyXG5jb25zdCBMSU5FX0hFSUdIVCA9IDEwMCAvIDZcclxuY29uc3QgbGlzdGVuZXJPcHRpb25zOiBBZGRFdmVudExpc3RlbmVyT3B0aW9ucyA9IHsgcGFzc2l2ZTogZmFsc2UgfVxyXG5cclxuZXhwb3J0IGNsYXNzIFZpcnR1YWxTY3JvbGwge1xyXG4gIHRvdWNoU3RhcnQgPSB7XHJcbiAgICB4OiAwLFxyXG4gICAgeTogMCxcclxuICB9XHJcbiAgbGFzdERlbHRhID0ge1xyXG4gICAgeDogMCxcclxuICAgIHk6IDAsXHJcbiAgfVxyXG4gIHdpbmRvdyA9IHtcclxuICAgIHdpZHRoOiAwLFxyXG4gICAgaGVpZ2h0OiAwLFxyXG4gIH1cclxuICBwcml2YXRlIGVtaXR0ZXIgPSBuZXcgRW1pdHRlcigpXHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSBlbGVtZW50OiBIVE1MRWxlbWVudCxcclxuICAgIHByaXZhdGUgb3B0aW9ucyA9IHsgd2hlZWxNdWx0aXBsaWVyOiAxLCB0b3VjaE11bHRpcGxpZXI6IDEgfVxyXG4gICkge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25XaW5kb3dSZXNpemUsIGZhbHNlKVxyXG4gICAgdGhpcy5vbldpbmRvd1Jlc2l6ZSgpXHJcblxyXG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdGhpcy5vbldoZWVsLCBsaXN0ZW5lck9wdGlvbnMpXHJcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgJ3RvdWNoc3RhcnQnLFxyXG4gICAgICB0aGlzLm9uVG91Y2hTdGFydCxcclxuICAgICAgbGlzdGVuZXJPcHRpb25zXHJcbiAgICApXHJcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgJ3RvdWNobW92ZScsXHJcbiAgICAgIHRoaXMub25Ub3VjaE1vdmUsXHJcbiAgICAgIGxpc3RlbmVyT3B0aW9uc1xyXG4gICAgKVxyXG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblRvdWNoRW5kLCBsaXN0ZW5lck9wdGlvbnMpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIHRoZSBnaXZlbiBldmVudCBhbmQgY2FsbGJhY2tcclxuICAgKlxyXG4gICAqIEBwYXJhbSBldmVudCBFdmVudCBuYW1lXHJcbiAgICogQHBhcmFtIGNhbGxiYWNrIENhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgICovXHJcbiAgb24oZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IFZpcnR1YWxTY3JvbGxDYWxsYmFjaykge1xyXG4gICAgcmV0dXJuIHRoaXMuZW1pdHRlci5vbihldmVudCwgY2FsbGJhY2spXHJcbiAgfVxyXG5cclxuICAvKiogUmVtb3ZlIGFsbCBldmVudCBsaXN0ZW5lcnMgYW5kIGNsZWFuIHVwICovXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIHRoaXMuZW1pdHRlci5kZXN0cm95KClcclxuXHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vbldpbmRvd1Jlc2l6ZSwgZmFsc2UpXHJcblxyXG4gICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdGhpcy5vbldoZWVsLCBsaXN0ZW5lck9wdGlvbnMpXHJcbiAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcclxuICAgICAgJ3RvdWNoc3RhcnQnLFxyXG4gICAgICB0aGlzLm9uVG91Y2hTdGFydCxcclxuICAgICAgbGlzdGVuZXJPcHRpb25zXHJcbiAgICApXHJcbiAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcclxuICAgICAgJ3RvdWNobW92ZScsXHJcbiAgICAgIHRoaXMub25Ub3VjaE1vdmUsXHJcbiAgICAgIGxpc3RlbmVyT3B0aW9uc1xyXG4gICAgKVxyXG4gICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICd0b3VjaGVuZCcsXHJcbiAgICAgIHRoaXMub25Ub3VjaEVuZCxcclxuICAgICAgbGlzdGVuZXJPcHRpb25zXHJcbiAgICApXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFdmVudCBoYW5kbGVyIGZvciAndG91Y2hzdGFydCcgZXZlbnRcclxuICAgKlxyXG4gICAqIEBwYXJhbSBldmVudCBUb3VjaCBldmVudFxyXG4gICAqL1xyXG4gIG9uVG91Y2hTdGFydCA9IChldmVudDogVG91Y2hFdmVudCkgPT4ge1xyXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIGV2ZW50LnRhcmdldFRvdWNoZXMgaXMgbm90IGRlZmluZWRcclxuICAgIGNvbnN0IHsgY2xpZW50WCwgY2xpZW50WSB9ID0gZXZlbnQudGFyZ2V0VG91Y2hlc1xyXG4gICAgICA/IGV2ZW50LnRhcmdldFRvdWNoZXNbMF1cclxuICAgICAgOiBldmVudFxyXG5cclxuICAgIHRoaXMudG91Y2hTdGFydC54ID0gY2xpZW50WFxyXG4gICAgdGhpcy50b3VjaFN0YXJ0LnkgPSBjbGllbnRZXHJcblxyXG4gICAgdGhpcy5sYXN0RGVsdGEgPSB7XHJcbiAgICAgIHg6IDAsXHJcbiAgICAgIHk6IDAsXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5lbWl0dGVyLmVtaXQoJ3Njcm9sbCcsIHtcclxuICAgICAgZGVsdGFYOiAwLFxyXG4gICAgICBkZWx0YVk6IDAsXHJcbiAgICAgIGV2ZW50LFxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIC8qKiBFdmVudCBoYW5kbGVyIGZvciAndG91Y2htb3ZlJyBldmVudCAqL1xyXG4gIG9uVG91Y2hNb3ZlID0gKGV2ZW50OiBUb3VjaEV2ZW50KSA9PiB7XHJcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gZXZlbnQudGFyZ2V0VG91Y2hlcyBpcyBub3QgZGVmaW5lZFxyXG4gICAgY29uc3QgeyBjbGllbnRYLCBjbGllbnRZIH0gPSBldmVudC50YXJnZXRUb3VjaGVzXHJcbiAgICAgID8gZXZlbnQudGFyZ2V0VG91Y2hlc1swXVxyXG4gICAgICA6IGV2ZW50XHJcblxyXG4gICAgY29uc3QgZGVsdGFYID0gLShjbGllbnRYIC0gdGhpcy50b3VjaFN0YXJ0LngpICogdGhpcy5vcHRpb25zLnRvdWNoTXVsdGlwbGllclxyXG4gICAgY29uc3QgZGVsdGFZID0gLShjbGllbnRZIC0gdGhpcy50b3VjaFN0YXJ0LnkpICogdGhpcy5vcHRpb25zLnRvdWNoTXVsdGlwbGllclxyXG5cclxuICAgIHRoaXMudG91Y2hTdGFydC54ID0gY2xpZW50WFxyXG4gICAgdGhpcy50b3VjaFN0YXJ0LnkgPSBjbGllbnRZXHJcblxyXG4gICAgdGhpcy5sYXN0RGVsdGEgPSB7XHJcbiAgICAgIHg6IGRlbHRhWCxcclxuICAgICAgeTogZGVsdGFZLFxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZW1pdHRlci5lbWl0KCdzY3JvbGwnLCB7XHJcbiAgICAgIGRlbHRhWCxcclxuICAgICAgZGVsdGFZLFxyXG4gICAgICBldmVudCxcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBvblRvdWNoRW5kID0gKGV2ZW50OiBUb3VjaEV2ZW50KSA9PiB7XHJcbiAgICB0aGlzLmVtaXR0ZXIuZW1pdCgnc2Nyb2xsJywge1xyXG4gICAgICBkZWx0YVg6IHRoaXMubGFzdERlbHRhLngsXHJcbiAgICAgIGRlbHRhWTogdGhpcy5sYXN0RGVsdGEueSxcclxuICAgICAgZXZlbnQsXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgLyoqIEV2ZW50IGhhbmRsZXIgZm9yICd3aGVlbCcgZXZlbnQgKi9cclxuICBvbldoZWVsID0gKGV2ZW50OiBXaGVlbEV2ZW50KSA9PiB7XHJcbiAgICBsZXQgeyBkZWx0YVgsIGRlbHRhWSwgZGVsdGFNb2RlIH0gPSBldmVudFxyXG5cclxuICAgIGNvbnN0IG11bHRpcGxpZXJYID1cclxuICAgICAgZGVsdGFNb2RlID09PSAxID8gTElORV9IRUlHSFQgOiBkZWx0YU1vZGUgPT09IDIgPyB0aGlzLndpbmRvdy53aWR0aCA6IDFcclxuICAgIGNvbnN0IG11bHRpcGxpZXJZID1cclxuICAgICAgZGVsdGFNb2RlID09PSAxID8gTElORV9IRUlHSFQgOiBkZWx0YU1vZGUgPT09IDIgPyB0aGlzLndpbmRvdy5oZWlnaHQgOiAxXHJcblxyXG4gICAgZGVsdGFYICo9IG11bHRpcGxpZXJYXHJcbiAgICBkZWx0YVkgKj0gbXVsdGlwbGllcllcclxuXHJcbiAgICBkZWx0YVggKj0gdGhpcy5vcHRpb25zLndoZWVsTXVsdGlwbGllclxyXG4gICAgZGVsdGFZICo9IHRoaXMub3B0aW9ucy53aGVlbE11bHRpcGxpZXJcclxuXHJcbiAgICB0aGlzLmVtaXR0ZXIuZW1pdCgnc2Nyb2xsJywgeyBkZWx0YVgsIGRlbHRhWSwgZXZlbnQgfSlcclxuICB9XHJcblxyXG4gIG9uV2luZG93UmVzaXplID0gKCkgPT4ge1xyXG4gICAgdGhpcy53aW5kb3cgPSB7XHJcbiAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcclxuICAgICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQsXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsICJpbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZS5qc29uJ1xuaW1wb3J0IHsgQW5pbWF0ZSB9IGZyb20gJy4vYW5pbWF0ZSdcbmltcG9ydCB7IERpbWVuc2lvbnMgfSBmcm9tICcuL2RpbWVuc2lvbnMnXG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSAnLi9lbWl0dGVyJ1xuaW1wb3J0IHsgY2xhbXAsIG1vZHVsbyB9IGZyb20gJy4vbWF0aHMnXG5pbXBvcnQgdHlwZSB7XG4gIExlbmlzRXZlbnQsXG4gIExlbmlzT3B0aW9ucyxcbiAgU2Nyb2xsQ2FsbGJhY2ssXG4gIFNjcm9sbGluZyxcbiAgU2Nyb2xsVG9PcHRpb25zLFxuICBVc2VyRGF0YSxcbiAgVmlydHVhbFNjcm9sbENhbGxiYWNrLFxuICBWaXJ0dWFsU2Nyb2xsRGF0YSxcbn0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB7IFZpcnR1YWxTY3JvbGwgfSBmcm9tICcuL3ZpcnR1YWwtc2Nyb2xsJ1xuXG4vLyBUZWNobmljYWwgZXhwbGFuYXRpb25cbi8vIC0gbGlzdGVuIHRvICd3aGVlbCcgZXZlbnRzXG4vLyAtIHByZXZlbnQgJ3doZWVsJyBldmVudCB0byBwcmV2ZW50IHNjcm9sbFxuLy8gLSBub3JtYWxpemUgd2hlZWwgZGVsdGFcbi8vIC0gYWRkIGRlbHRhIHRvIHRhcmdldFNjcm9sbFxuLy8gLSBhbmltYXRlIHNjcm9sbCB0byB0YXJnZXRTY3JvbGwgKHNtb290aCBjb250ZXh0KVxuLy8gLSBpZiBhbmltYXRpb24gaXMgbm90IHJ1bm5pbmcsIGxpc3RlbiB0byAnc2Nyb2xsJyBldmVudHMgKG5hdGl2ZSBjb250ZXh0KVxuXG50eXBlIE9wdGlvbmFsUGljazxULCBGIGV4dGVuZHMga2V5b2YgVD4gPSBPbWl0PFQsIEY+ICYgUGFydGlhbDxQaWNrPFQsIEY+PlxuXG5jb25zdCBkZWZhdWx0RWFzaW5nID0gKHQ6IG51bWJlcikgPT4gTWF0aC5taW4oMSwgMS4wMDEgLSBNYXRoLnBvdygyLCAtMTAgKiB0KSlcblxuZXhwb3J0IGNsYXNzIExlbmlzIHtcbiAgcHJpdmF0ZSBfaXNTY3JvbGxpbmc6IFNjcm9sbGluZyA9IGZhbHNlIC8vIHRydWUgd2hlbiBzY3JvbGwgaXMgYW5pbWF0aW5nXG4gIHByaXZhdGUgX2lzU3RvcHBlZCA9IGZhbHNlIC8vIHRydWUgaWYgdXNlciBzaG91bGQgbm90IGJlIGFibGUgdG8gc2Nyb2xsIC0gZW5hYmxlL2Rpc2FibGUgcHJvZ3JhbW1hdGljYWxseVxuICBwcml2YXRlIF9pc0xvY2tlZCA9IGZhbHNlIC8vIHNhbWUgYXMgaXNTdG9wcGVkIGJ1dCBlbmFibGVkL2Rpc2FibGVkIHdoZW4gc2Nyb2xsIHJlYWNoZXMgdGFyZ2V0XG4gIHByaXZhdGUgX3ByZXZlbnROZXh0TmF0aXZlU2Nyb2xsRXZlbnQgPSBmYWxzZVxuICBwcml2YXRlIF9yZXNldFZlbG9jaXR5VGltZW91dDogUmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4gfCBudWxsID0gbnVsbFxuICBwcml2YXRlIF9fcmFmSUQ6IG51bWJlciB8IG51bGwgPSBudWxsXG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgb3Igbm90IHRoZSB1c2VyIGlzIHRvdWNoaW5nIHRoZSBzY3JlZW5cbiAgICovXG4gIGlzVG91Y2hpbmc/OiBib29sZWFuXG4gIC8qKlxuICAgKiBUaGUgdGltZSBpbiBtcyBzaW5jZSB0aGUgbGVuaXMgaW5zdGFuY2Ugd2FzIGNyZWF0ZWRcbiAgICovXG4gIHRpbWUgPSAwXG4gIC8qKlxuICAgKiBVc2VyIGRhdGEgdGhhdCB3aWxsIGJlIGZvcndhcmRlZCB0aHJvdWdoIHRoZSBzY3JvbGwgZXZlbnRcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogbGVuaXMuc2Nyb2xsVG8oMTAwLCB7XG4gICAqICAgdXNlckRhdGE6IHtcbiAgICogICAgIGZvbzogJ2JhcidcbiAgICogICB9XG4gICAqIH0pXG4gICAqL1xuICB1c2VyRGF0YTogVXNlckRhdGEgPSB7fVxuICAvKipcbiAgICogVGhlIGxhc3QgdmVsb2NpdHkgb2YgdGhlIHNjcm9sbFxuICAgKi9cbiAgbGFzdFZlbG9jaXR5ID0gMFxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgdmVsb2NpdHkgb2YgdGhlIHNjcm9sbFxuICAgKi9cbiAgdmVsb2NpdHkgPSAwXG4gIC8qKlxuICAgKiBUaGUgZGlyZWN0aW9uIG9mIHRoZSBzY3JvbGxcbiAgICovXG4gIGRpcmVjdGlvbjogMSB8IC0xIHwgMCA9IDBcbiAgLyoqXG4gICAqIFRoZSBvcHRpb25zIHBhc3NlZCB0byB0aGUgbGVuaXMgaW5zdGFuY2VcbiAgICovXG4gIG9wdGlvbnM6IE9wdGlvbmFsUGljazxcbiAgICBSZXF1aXJlZDxMZW5pc09wdGlvbnM+LFxuICAgICdkdXJhdGlvbicgfCAnZWFzaW5nJyB8ICdwcmV2ZW50JyB8ICd2aXJ0dWFsU2Nyb2xsJ1xuICA+XG4gIC8qKlxuICAgKiBUaGUgdGFyZ2V0IHNjcm9sbCB2YWx1ZVxuICAgKi9cbiAgdGFyZ2V0U2Nyb2xsOiBudW1iZXJcbiAgLyoqXG4gICAqIFRoZSBhbmltYXRlZCBzY3JvbGwgdmFsdWVcbiAgICovXG4gIGFuaW1hdGVkU2Nyb2xsOiBudW1iZXJcblxuICAvLyBUaGVzZSBhcmUgaW5zdGFuY2lhdGVkIGhlcmUgYXMgdGhleSBkb24ndCBuZWVkIGluZm9ybWF0aW9uIGZyb20gdGhlIG9wdGlvbnNcbiAgcHJpdmF0ZSByZWFkb25seSBhbmltYXRlID0gbmV3IEFuaW1hdGUoKVxuICBwcml2YXRlIHJlYWRvbmx5IGVtaXR0ZXIgPSBuZXcgRW1pdHRlcigpXG4gIC8vIFRoZXNlIGFyZSBpbnN0YW5jaWF0ZWQgaW4gdGhlIGNvbnN0cnVjdG9yIGFzIHRoZXkgbmVlZCBpbmZvcm1hdGlvbiBmcm9tIHRoZSBvcHRpb25zXG4gIHJlYWRvbmx5IGRpbWVuc2lvbnM6IERpbWVuc2lvbnMgLy8gVGhpcyBpcyBub3QgcHJpdmF0ZSBiZWNhdXNlIGl0J3MgdXNlZCBpbiB0aGUgU25hcCBjbGFzc1xuICBwcml2YXRlIHJlYWRvbmx5IHZpcnR1YWxTY3JvbGw6IFZpcnR1YWxTY3JvbGxcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgd3JhcHBlciA9IHdpbmRvdyxcbiAgICBjb250ZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LFxuICAgIGV2ZW50c1RhcmdldCA9IHdyYXBwZXIsXG4gICAgc21vb3RoV2hlZWwgPSB0cnVlLFxuICAgIHN5bmNUb3VjaCA9IGZhbHNlLFxuICAgIHN5bmNUb3VjaExlcnAgPSAwLjA3NSxcbiAgICB0b3VjaEluZXJ0aWFFeHBvbmVudCA9IDEuNyxcbiAgICBkdXJhdGlvbiwgLy8gaW4gc2Vjb25kc1xuICAgIGVhc2luZyxcbiAgICBsZXJwID0gMC4xLFxuICAgIGluZmluaXRlID0gZmFsc2UsXG4gICAgb3JpZW50YXRpb24gPSAndmVydGljYWwnLCAvLyB2ZXJ0aWNhbCwgaG9yaXpvbnRhbFxuICAgIGdlc3R1cmVPcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcgPyAnYm90aCcgOiAndmVydGljYWwnLCAvLyB2ZXJ0aWNhbCwgaG9yaXpvbnRhbCwgYm90aFxuICAgIHRvdWNoTXVsdGlwbGllciA9IDEsXG4gICAgd2hlZWxNdWx0aXBsaWVyID0gMSxcbiAgICBhdXRvUmVzaXplID0gdHJ1ZSxcbiAgICBwcmV2ZW50LFxuICAgIHZpcnR1YWxTY3JvbGwsXG4gICAgb3ZlcnNjcm9sbCA9IHRydWUsXG4gICAgYXV0b1JhZiA9IGZhbHNlLFxuICAgIGFuY2hvcnMgPSBmYWxzZSxcbiAgICBhdXRvVG9nZ2xlID0gZmFsc2UsIC8vIGh0dHBzOi8vY2FuaXVzZS5jb20vP3NlYXJjaD10cmFuc2l0aW9uLWJlaGF2aW9yXG4gICAgYWxsb3dOZXN0ZWRTY3JvbGwgPSBmYWxzZSxcbiAgICBfX2V4cGVyaW1lbnRhbF9fbmFpdmVEaW1lbnNpb25zID0gZmFsc2UsXG4gIH06IExlbmlzT3B0aW9ucyA9IHt9KSB7XG4gICAgLy8gU2V0IHZlcnNpb25cbiAgICB3aW5kb3cubGVuaXNWZXJzaW9uID0gdmVyc2lvblxuXG4gICAgLy8gQ2hlY2sgaWYgd3JhcHBlciBpcyA8aHRtbD4sIGZhbGxiYWNrIHRvIHdpbmRvd1xuICAgIGlmICghd3JhcHBlciB8fCB3cmFwcGVyID09PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICAgIHdyYXBwZXIgPSB3aW5kb3dcbiAgICB9XG5cbiAgICAvLyBmbGlwIHRvIGVhc2luZy90aW1lIGJhc2VkIGFuaW1hdGlvbiBpZiBhdCBsZWFzdCBvbmUgb2YgdGhlbSBpcyBwcm92aWRlZFxuICAgIGlmICh0eXBlb2YgZHVyYXRpb24gPT09ICdudW1iZXInICYmIHR5cGVvZiBlYXNpbmcgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGVhc2luZyA9IGRlZmF1bHRFYXNpbmdcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlYXNpbmcgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGR1cmF0aW9uICE9PSAnbnVtYmVyJykge1xuICAgICAgZHVyYXRpb24gPSAxXG4gICAgfVxuXG4gICAgLy8gU2V0dXAgb3B0aW9uc1xuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIHdyYXBwZXIsXG4gICAgICBjb250ZW50LFxuICAgICAgZXZlbnRzVGFyZ2V0LFxuICAgICAgc21vb3RoV2hlZWwsXG4gICAgICBzeW5jVG91Y2gsXG4gICAgICBzeW5jVG91Y2hMZXJwLFxuICAgICAgdG91Y2hJbmVydGlhRXhwb25lbnQsXG4gICAgICBkdXJhdGlvbixcbiAgICAgIGVhc2luZyxcbiAgICAgIGxlcnAsXG4gICAgICBpbmZpbml0ZSxcbiAgICAgIGdlc3R1cmVPcmllbnRhdGlvbixcbiAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgdG91Y2hNdWx0aXBsaWVyLFxuICAgICAgd2hlZWxNdWx0aXBsaWVyLFxuICAgICAgYXV0b1Jlc2l6ZSxcbiAgICAgIHByZXZlbnQsXG4gICAgICB2aXJ0dWFsU2Nyb2xsLFxuICAgICAgb3ZlcnNjcm9sbCxcbiAgICAgIGF1dG9SYWYsXG4gICAgICBhbmNob3JzLFxuICAgICAgYXV0b1RvZ2dsZSxcbiAgICAgIGFsbG93TmVzdGVkU2Nyb2xsLFxuICAgICAgX19leHBlcmltZW50YWxfX25haXZlRGltZW5zaW9ucyxcbiAgICB9XG5cbiAgICAvLyBTZXR1cCBkaW1lbnNpb25zIGluc3RhbmNlXG4gICAgdGhpcy5kaW1lbnNpb25zID0gbmV3IERpbWVuc2lvbnMod3JhcHBlciwgY29udGVudCwgeyBhdXRvUmVzaXplIH0pXG5cbiAgICAvLyBTZXR1cCBjbGFzcyBuYW1lXG4gICAgdGhpcy51cGRhdGVDbGFzc05hbWUoKVxuXG4gICAgLy8gU2V0IHRoZSBpbml0aWFsIHNjcm9sbCB2YWx1ZSBmb3IgYWxsIHNjcm9sbCBpbmZvcm1hdGlvblxuICAgIHRoaXMudGFyZ2V0U2Nyb2xsID0gdGhpcy5hbmltYXRlZFNjcm9sbCA9IHRoaXMuYWN0dWFsU2Nyb2xsXG5cbiAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzXG4gICAgdGhpcy5vcHRpb25zLndyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5vbk5hdGl2ZVNjcm9sbCwgZmFsc2UpXG5cbiAgICB0aGlzLm9wdGlvbnMud3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGxlbmQnLCB0aGlzLm9uU2Nyb2xsRW5kLCB7XG4gICAgICBjYXB0dXJlOiB0cnVlLFxuICAgIH0pXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmFuY2hvcnMgJiYgdGhpcy5vcHRpb25zLndyYXBwZXIgPT09IHdpbmRvdykge1xuICAgICAgdGhpcy5vcHRpb25zLndyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ2NsaWNrJyxcbiAgICAgICAgdGhpcy5vbkNsaWNrIGFzIEV2ZW50TGlzdGVuZXIsXG4gICAgICAgIGZhbHNlXG4gICAgICApXG4gICAgfVxuXG4gICAgdGhpcy5vcHRpb25zLndyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICdwb2ludGVyZG93bicsXG4gICAgICB0aGlzLm9uUG9pbnRlckRvd24gYXMgRXZlbnRMaXN0ZW5lcixcbiAgICAgIGZhbHNlXG4gICAgKVxuXG4gICAgLy8gU2V0dXAgdmlydHVhbCBzY3JvbGwgaW5zdGFuY2VcbiAgICB0aGlzLnZpcnR1YWxTY3JvbGwgPSBuZXcgVmlydHVhbFNjcm9sbChldmVudHNUYXJnZXQgYXMgSFRNTEVsZW1lbnQsIHtcbiAgICAgIHRvdWNoTXVsdGlwbGllcixcbiAgICAgIHdoZWVsTXVsdGlwbGllcixcbiAgICB9KVxuICAgIHRoaXMudmlydHVhbFNjcm9sbC5vbignc2Nyb2xsJywgdGhpcy5vblZpcnR1YWxTY3JvbGwpXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmF1dG9Ub2dnbGUpIHtcbiAgICAgIHRoaXMucm9vdEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHRoaXMub25UcmFuc2l0aW9uRW5kLCB7XG4gICAgICAgIHBhc3NpdmU6IHRydWUsXG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b1JhZikge1xuICAgICAgdGhpcy5fX3JhZklEID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucmFmKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IHRoZSBsZW5pcyBpbnN0YW5jZSwgcmVtb3ZlIGFsbCBldmVudCBsaXN0ZW5lcnMgYW5kIGNsZWFuIHVwIHRoZSBjbGFzcyBuYW1lXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuZW1pdHRlci5kZXN0cm95KClcblxuICAgIHRoaXMub3B0aW9ucy53cmFwcGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAnc2Nyb2xsJyxcbiAgICAgIHRoaXMub25OYXRpdmVTY3JvbGwsXG4gICAgICBmYWxzZVxuICAgIClcblxuICAgIHRoaXMub3B0aW9ucy53cmFwcGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbGVuZCcsIHRoaXMub25TY3JvbGxFbmQsIHtcbiAgICAgIGNhcHR1cmU6IHRydWUsXG4gICAgfSlcblxuICAgIHRoaXMub3B0aW9ucy53cmFwcGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAncG9pbnRlcmRvd24nLFxuICAgICAgdGhpcy5vblBvaW50ZXJEb3duIGFzIEV2ZW50TGlzdGVuZXIsXG4gICAgICBmYWxzZVxuICAgIClcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuYW5jaG9ycyAmJiB0aGlzLm9wdGlvbnMud3JhcHBlciA9PT0gd2luZG93KSB7XG4gICAgICB0aGlzLm9wdGlvbnMud3JhcHBlci5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAnY2xpY2snLFxuICAgICAgICB0aGlzLm9uQ2xpY2sgYXMgRXZlbnRMaXN0ZW5lcixcbiAgICAgICAgZmFsc2VcbiAgICAgIClcbiAgICB9XG5cbiAgICB0aGlzLnZpcnR1YWxTY3JvbGwuZGVzdHJveSgpXG4gICAgdGhpcy5kaW1lbnNpb25zLmRlc3Ryb3koKVxuXG4gICAgdGhpcy5jbGVhblVwQ2xhc3NOYW1lKClcblxuICAgIGlmICh0aGlzLl9fcmFmSUQpIHtcbiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX19yYWZJRClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGFuIGV2ZW50IGxpc3RlbmVyIGZvciB0aGUgZ2l2ZW4gZXZlbnQgYW5kIGNhbGxiYWNrXG4gICAqXG4gICAqIEBwYXJhbSBldmVudCBFdmVudCBuYW1lXG4gICAqIEBwYXJhbSBjYWxsYmFjayBDYWxsYmFjayBmdW5jdGlvblxuICAgKiBAcmV0dXJucyBVbnN1YnNjcmliZSBmdW5jdGlvblxuICAgKi9cbiAgb24oZXZlbnQ6ICdzY3JvbGwnLCBjYWxsYmFjazogU2Nyb2xsQ2FsbGJhY2spOiAoKSA9PiB2b2lkXG4gIG9uKGV2ZW50OiAndmlydHVhbC1zY3JvbGwnLCBjYWxsYmFjazogVmlydHVhbFNjcm9sbENhbGxiYWNrKTogKCkgPT4gdm9pZFxuICBvbihldmVudDogTGVuaXNFdmVudCwgY2FsbGJhY2s6IGFueSkge1xuICAgIHJldHVybiB0aGlzLmVtaXR0ZXIub24oZXZlbnQsIGNhbGxiYWNrKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbiBldmVudCBsaXN0ZW5lciBmb3IgdGhlIGdpdmVuIGV2ZW50IGFuZCBjYWxsYmFja1xuICAgKlxuICAgKiBAcGFyYW0gZXZlbnQgRXZlbnQgbmFtZVxuICAgKiBAcGFyYW0gY2FsbGJhY2sgQ2FsbGJhY2sgZnVuY3Rpb25cbiAgICovXG4gIG9mZihldmVudDogJ3Njcm9sbCcsIGNhbGxiYWNrOiBTY3JvbGxDYWxsYmFjayk6IHZvaWRcbiAgb2ZmKGV2ZW50OiAndmlydHVhbC1zY3JvbGwnLCBjYWxsYmFjazogVmlydHVhbFNjcm9sbENhbGxiYWNrKTogdm9pZFxuICBvZmYoZXZlbnQ6IExlbmlzRXZlbnQsIGNhbGxiYWNrOiBhbnkpIHtcbiAgICByZXR1cm4gdGhpcy5lbWl0dGVyLm9mZihldmVudCwgY2FsbGJhY2spXG4gIH1cblxuICBwcml2YXRlIG9uU2Nyb2xsRW5kID0gKGU6IEV2ZW50IHwgQ3VzdG9tRXZlbnQpID0+IHtcbiAgICBpZiAoIShlIGluc3RhbmNlb2YgQ3VzdG9tRXZlbnQpKSB7XG4gICAgICBpZiAodGhpcy5pc1Njcm9sbGluZyA9PT0gJ3Ntb290aCcgfHwgdGhpcy5pc1Njcm9sbGluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZGlzcGF0Y2hTY3JvbGxlbmRFdmVudCA9ICgpID0+IHtcbiAgICB0aGlzLm9wdGlvbnMud3JhcHBlci5kaXNwYXRjaEV2ZW50KFxuICAgICAgbmV3IEN1c3RvbUV2ZW50KCdzY3JvbGxlbmQnLCB7XG4gICAgICAgIGJ1YmJsZXM6IHRoaXMub3B0aW9ucy53cmFwcGVyID09PSB3aW5kb3csXG4gICAgICAgIC8vIGNhbmNlbGFibGU6IGZhbHNlLFxuICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICBsZW5pc1Njcm9sbEVuZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgKVxuICB9XG5cbiAgcHJpdmF0ZSBvblRyYW5zaXRpb25FbmQgPSAoZXZlbnQ6IFRyYW5zaXRpb25FdmVudCkgPT4ge1xuICAgIGlmIChldmVudC5wcm9wZXJ0eU5hbWUuaW5jbHVkZXMoJ292ZXJmbG93JykpIHtcbiAgICAgIGNvbnN0IHByb3BlcnR5ID0gdGhpcy5pc0hvcml6b250YWwgPyAnb3ZlcmZsb3cteCcgOiAnb3ZlcmZsb3cteSdcblxuICAgICAgY29uc3Qgb3ZlcmZsb3cgPSBnZXRDb21wdXRlZFN0eWxlKHRoaXMucm9vdEVsZW1lbnQpW1xuICAgICAgICBwcm9wZXJ0eSBhcyBrZXlvZiBDU1NTdHlsZURlY2xhcmF0aW9uXG4gICAgICBdIGFzIHN0cmluZ1xuXG4gICAgICBpZiAoWydoaWRkZW4nLCAnY2xpcCddLmluY2x1ZGVzKG92ZXJmbG93KSkge1xuICAgICAgICB0aGlzLmludGVybmFsU3RvcCgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmludGVybmFsU3RhcnQoKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2V0U2Nyb2xsKHNjcm9sbDogbnVtYmVyKSB7XG4gICAgLy8gYmVoYXZpb3I6ICdpbnN0YW50JyBieXBhc3NlcyB0aGUgc2Nyb2xsLWJlaGF2aW9yIENTUyBwcm9wZXJ0eVxuXG4gICAgaWYgKHRoaXMuaXNIb3Jpem9udGFsKSB7XG4gICAgICB0aGlzLm9wdGlvbnMud3JhcHBlci5zY3JvbGxUbyh7IGxlZnQ6IHNjcm9sbCwgYmVoYXZpb3I6ICdpbnN0YW50JyB9KVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9wdGlvbnMud3JhcHBlci5zY3JvbGxUbyh7IHRvcDogc2Nyb2xsLCBiZWhhdmlvcjogJ2luc3RhbnQnIH0pXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBvbkNsaWNrID0gKGV2ZW50OiBQb2ludGVyRXZlbnQgfCBNb3VzZUV2ZW50KSA9PiB7XG4gICAgY29uc3QgcGF0aCA9IGV2ZW50LmNvbXBvc2VkUGF0aCgpXG4gICAgY29uc3QgYW5jaG9yID0gcGF0aC5maW5kKFxuICAgICAgKG5vZGUpID0+XG4gICAgICAgIG5vZGUgaW5zdGFuY2VvZiBIVE1MQW5jaG9yRWxlbWVudCAmJlxuICAgICAgICBub2RlLmdldEF0dHJpYnV0ZSgnaHJlZicpPy5pbmNsdWRlcygnIycpXG4gICAgKSBhcyBIVE1MQW5jaG9yRWxlbWVudCB8IHVuZGVmaW5lZFxuICAgIGlmIChhbmNob3IpIHtcbiAgICAgIGNvbnN0IGhyZWYgPSBhbmNob3IuZ2V0QXR0cmlidXRlKCdocmVmJylcblxuICAgICAgaWYgKGhyZWYpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9XG4gICAgICAgICAgdHlwZW9mIHRoaXMub3B0aW9ucy5hbmNob3JzID09PSAnb2JqZWN0JyAmJiB0aGlzLm9wdGlvbnMuYW5jaG9yc1xuICAgICAgICAgICAgPyB0aGlzLm9wdGlvbnMuYW5jaG9yc1xuICAgICAgICAgICAgOiB1bmRlZmluZWRcblxuICAgICAgICBjb25zdCB0YXJnZXQgPSBgIyR7aHJlZi5zcGxpdCgnIycpWzFdfWBcblxuICAgICAgICB0aGlzLnNjcm9sbFRvKHRhcmdldCwgb3B0aW9ucylcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIG9uUG9pbnRlckRvd24gPSAoZXZlbnQ6IFBvaW50ZXJFdmVudCB8IE1vdXNlRXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQuYnV0dG9uID09PSAxKSB7XG4gICAgICB0aGlzLnJlc2V0KClcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIG9uVmlydHVhbFNjcm9sbCA9IChkYXRhOiBWaXJ0dWFsU2Nyb2xsRGF0YSkgPT4ge1xuICAgIGlmIChcbiAgICAgIHR5cGVvZiB0aGlzLm9wdGlvbnMudmlydHVhbFNjcm9sbCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgdGhpcy5vcHRpb25zLnZpcnR1YWxTY3JvbGwoZGF0YSkgPT09IGZhbHNlXG4gICAgKVxuICAgICAgcmV0dXJuXG5cbiAgICBjb25zdCB7IGRlbHRhWCwgZGVsdGFZLCBldmVudCB9ID0gZGF0YVxuXG4gICAgdGhpcy5lbWl0dGVyLmVtaXQoJ3ZpcnR1YWwtc2Nyb2xsJywgeyBkZWx0YVgsIGRlbHRhWSwgZXZlbnQgfSlcblxuICAgIC8vIGtlZXAgem9vbSBmZWF0dXJlXG4gICAgaWYgKGV2ZW50LmN0cmxLZXkpIHJldHVyblxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBpZiAoZXZlbnQubGVuaXNTdG9wUHJvcGFnYXRpb24pIHJldHVyblxuXG4gICAgY29uc3QgaXNUb3VjaCA9IGV2ZW50LnR5cGUuaW5jbHVkZXMoJ3RvdWNoJylcbiAgICBjb25zdCBpc1doZWVsID0gZXZlbnQudHlwZS5pbmNsdWRlcygnd2hlZWwnKVxuXG4gICAgdGhpcy5pc1RvdWNoaW5nID0gZXZlbnQudHlwZSA9PT0gJ3RvdWNoc3RhcnQnIHx8IGV2ZW50LnR5cGUgPT09ICd0b3VjaG1vdmUnXG4gICAgLy8gaWYgKGV2ZW50LnR5cGUgPT09ICd0b3VjaGVuZCcpIHtcbiAgICAvLyAgIGNvbnNvbGUubG9nKCd0b3VjaGVuZCcsIHRoaXMuc2Nyb2xsKVxuICAgIC8vICAgLy8gdGhpcy5sYXN0VmVsb2NpdHkgPSB0aGlzLnZlbG9jaXR5XG4gICAgLy8gICAvLyB0aGlzLnZlbG9jaXR5ID0gMFxuICAgIC8vICAgLy8gdGhpcy5pc1Njcm9sbGluZyA9IGZhbHNlXG4gICAgLy8gICB0aGlzLmVtaXQoeyB0eXBlOiAndG91Y2hlbmQnIH0pXG4gICAgLy8gICAvLyBhbGVydCgndG91Y2hlbmQnKVxuICAgIC8vICAgcmV0dXJuXG4gICAgLy8gfVxuXG4gICAgY29uc3QgaXNDbGlja09yVGFwID0gZGVsdGFYID09PSAwICYmIGRlbHRhWSA9PT0gMFxuXG4gICAgY29uc3QgaXNUYXBUb1N0b3AgPVxuICAgICAgdGhpcy5vcHRpb25zLnN5bmNUb3VjaCAmJlxuICAgICAgaXNUb3VjaCAmJlxuICAgICAgZXZlbnQudHlwZSA9PT0gJ3RvdWNoc3RhcnQnICYmXG4gICAgICBpc0NsaWNrT3JUYXAgJiZcbiAgICAgICF0aGlzLmlzU3RvcHBlZCAmJlxuICAgICAgIXRoaXMuaXNMb2NrZWRcblxuICAgIGlmIChpc1RhcFRvU3RvcCkge1xuICAgICAgdGhpcy5yZXNldCgpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBjb25zdCBpc1B1bGxUb1JlZnJlc2ggPVxuICAgIC8vICAgdGhpcy5vcHRpb25zLmdlc3R1cmVPcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJyAmJlxuICAgIC8vICAgdGhpcy5zY3JvbGwgPT09IDAgJiZcbiAgICAvLyAgICF0aGlzLm9wdGlvbnMuaW5maW5pdGUgJiZcbiAgICAvLyAgIGRlbHRhWSA8PSA1IC8vIHRvdWNoIHB1bGwgdG8gcmVmcmVzaCwgbm90IHJlbGlhYmxlIHlldFxuXG4gICAgY29uc3QgaXNVbmtub3duR2VzdHVyZSA9XG4gICAgICAodGhpcy5vcHRpb25zLmdlc3R1cmVPcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJyAmJiBkZWx0YVkgPT09IDApIHx8XG4gICAgICAodGhpcy5vcHRpb25zLmdlc3R1cmVPcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnICYmIGRlbHRhWCA9PT0gMClcblxuICAgIGlmIChpc0NsaWNrT3JUYXAgfHwgaXNVbmtub3duR2VzdHVyZSkge1xuICAgICAgLy8gY29uc29sZS5sb2coJ3ByZXZlbnQnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gY2F0Y2ggaWYgc2Nyb2xsaW5nIG9uIG5lc3RlZCBzY3JvbGwgZWxlbWVudHNcbiAgICBsZXQgY29tcG9zZWRQYXRoID0gZXZlbnQuY29tcG9zZWRQYXRoKClcbiAgICBjb21wb3NlZFBhdGggPSBjb21wb3NlZFBhdGguc2xpY2UoMCwgY29tcG9zZWRQYXRoLmluZGV4T2YodGhpcy5yb290RWxlbWVudCkpIC8vIHJlbW92ZSBwYXJlbnRzIGVsZW1lbnRzXG5cbiAgICBjb25zdCBwcmV2ZW50ID0gdGhpcy5vcHRpb25zLnByZXZlbnRcblxuICAgIGlmIChcbiAgICAgICEhY29tcG9zZWRQYXRoLmZpbmQoXG4gICAgICAgIChub2RlKSA9PlxuICAgICAgICAgIG5vZGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJlxuICAgICAgICAgICgodHlwZW9mIHByZXZlbnQgPT09ICdmdW5jdGlvbicgJiYgcHJldmVudD8uKG5vZGUpKSB8fFxuICAgICAgICAgICAgbm9kZS5oYXNBdHRyaWJ1dGU/LignZGF0YS1sZW5pcy1wcmV2ZW50JykgfHxcbiAgICAgICAgICAgIChpc1RvdWNoICYmIG5vZGUuaGFzQXR0cmlidXRlPy4oJ2RhdGEtbGVuaXMtcHJldmVudC10b3VjaCcpKSB8fFxuICAgICAgICAgICAgKGlzV2hlZWwgJiYgbm9kZS5oYXNBdHRyaWJ1dGU/LignZGF0YS1sZW5pcy1wcmV2ZW50LXdoZWVsJykpIHx8XG4gICAgICAgICAgICAodGhpcy5vcHRpb25zLmFsbG93TmVzdGVkU2Nyb2xsICYmXG4gICAgICAgICAgICAgIHRoaXMuY2hlY2tOZXN0ZWRTY3JvbGwobm9kZSwgeyBkZWx0YVgsIGRlbHRhWSB9KSkpXG4gICAgICApXG4gICAgKVxuICAgICAgcmV0dXJuXG5cbiAgICBpZiAodGhpcy5pc1N0b3BwZWQgfHwgdGhpcy5pc0xvY2tlZCkge1xuICAgICAgaWYgKGV2ZW50LmNhbmNlbGFibGUpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKSAvLyB0aGlzIHdpbGwgc3RvcCBmb3J3YXJkaW5nIHRoZSBldmVudCB0byB0aGUgcGFyZW50LCB0aGlzIGlzIHByb2JsZW1hdGljXG4gICAgICB9XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBpc1Ntb290aCA9XG4gICAgICAodGhpcy5vcHRpb25zLnN5bmNUb3VjaCAmJiBpc1RvdWNoKSB8fFxuICAgICAgKHRoaXMub3B0aW9ucy5zbW9vdGhXaGVlbCAmJiBpc1doZWVsKVxuXG4gICAgaWYgKCFpc1Ntb290aCkge1xuICAgICAgdGhpcy5pc1Njcm9sbGluZyA9ICduYXRpdmUnXG4gICAgICB0aGlzLmFuaW1hdGUuc3RvcCgpXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBldmVudC5sZW5pc1N0b3BQcm9wYWdhdGlvbiA9IHRydWVcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGxldCBkZWx0YSA9IGRlbHRhWVxuICAgIGlmICh0aGlzLm9wdGlvbnMuZ2VzdHVyZU9yaWVudGF0aW9uID09PSAnYm90aCcpIHtcbiAgICAgIGRlbHRhID0gTWF0aC5hYnMoZGVsdGFZKSA+IE1hdGguYWJzKGRlbHRhWCkgPyBkZWx0YVkgOiBkZWx0YVhcbiAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5nZXN0dXJlT3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJykge1xuICAgICAgZGVsdGEgPSBkZWx0YVhcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAhdGhpcy5vcHRpb25zLm92ZXJzY3JvbGwgfHxcbiAgICAgIHRoaXMub3B0aW9ucy5pbmZpbml0ZSB8fFxuICAgICAgKHRoaXMub3B0aW9ucy53cmFwcGVyICE9PSB3aW5kb3cgJiZcbiAgICAgICAgdGhpcy5saW1pdCA+IDAgJiZcbiAgICAgICAgKCh0aGlzLmFuaW1hdGVkU2Nyb2xsID4gMCAmJiB0aGlzLmFuaW1hdGVkU2Nyb2xsIDwgdGhpcy5saW1pdCkgfHxcbiAgICAgICAgICAodGhpcy5hbmltYXRlZFNjcm9sbCA9PT0gMCAmJiBkZWx0YVkgPiAwKSB8fFxuICAgICAgICAgICh0aGlzLmFuaW1hdGVkU2Nyb2xsID09PSB0aGlzLmxpbWl0ICYmIGRlbHRhWSA8IDApKSlcbiAgICApIHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGV2ZW50LmxlbmlzU3RvcFByb3BhZ2F0aW9uID0gdHJ1ZVxuICAgICAgLy8gZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICB9XG5cbiAgICBpZiAoZXZlbnQuY2FuY2VsYWJsZSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIH1cblxuICAgIGNvbnN0IGlzU3luY1RvdWNoID0gaXNUb3VjaCAmJiB0aGlzLm9wdGlvbnMuc3luY1RvdWNoXG4gICAgY29uc3QgaXNUb3VjaEVuZCA9IGlzVG91Y2ggJiYgZXZlbnQudHlwZSA9PT0gJ3RvdWNoZW5kJ1xuXG4gICAgY29uc3QgaGFzVG91Y2hJbmVydGlhID0gaXNUb3VjaEVuZFxuXG4gICAgaWYgKGhhc1RvdWNoSW5lcnRpYSkge1xuICAgICAgLy8gZGVsdGEgPSB0aGlzLnZlbG9jaXR5ICogdGhpcy5vcHRpb25zLnRvdWNoSW5lcnRpYU11bHRpcGxpZXJcbiAgICAgIGRlbHRhID1cbiAgICAgICAgTWF0aC5zaWduKHRoaXMudmVsb2NpdHkpICpcbiAgICAgICAgTWF0aC5wb3coTWF0aC5hYnModGhpcy52ZWxvY2l0eSksIHRoaXMub3B0aW9ucy50b3VjaEluZXJ0aWFFeHBvbmVudClcbiAgICB9XG5cbiAgICB0aGlzLnNjcm9sbFRvKHRoaXMudGFyZ2V0U2Nyb2xsICsgZGVsdGEsIHtcbiAgICAgIHByb2dyYW1tYXRpYzogZmFsc2UsXG4gICAgICAuLi4oaXNTeW5jVG91Y2hcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBsZXJwOiBoYXNUb3VjaEluZXJ0aWEgPyB0aGlzLm9wdGlvbnMuc3luY1RvdWNoTGVycCA6IDEsXG4gICAgICAgICAgICAvLyBpbW1lZGlhdGU6ICFoYXNUb3VjaEluZXJ0aWEsXG4gICAgICAgICAgfVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIGxlcnA6IHRoaXMub3B0aW9ucy5sZXJwLFxuICAgICAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5kdXJhdGlvbixcbiAgICAgICAgICAgIGVhc2luZzogdGhpcy5vcHRpb25zLmVhc2luZyxcbiAgICAgICAgICB9KSxcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEZvcmNlIGxlbmlzIHRvIHJlY2FsY3VsYXRlIHRoZSBkaW1lbnNpb25zXG4gICAqL1xuICByZXNpemUoKSB7XG4gICAgdGhpcy5kaW1lbnNpb25zLnJlc2l6ZSgpXG4gICAgdGhpcy5hbmltYXRlZFNjcm9sbCA9IHRoaXMudGFyZ2V0U2Nyb2xsID0gdGhpcy5hY3R1YWxTY3JvbGxcbiAgICB0aGlzLmVtaXQoKVxuICB9XG5cbiAgcHJpdmF0ZSBlbWl0KCkge1xuICAgIHRoaXMuZW1pdHRlci5lbWl0KCdzY3JvbGwnLCB0aGlzKVxuICB9XG5cbiAgcHJpdmF0ZSBvbk5hdGl2ZVNjcm9sbCA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5fcmVzZXRWZWxvY2l0eVRpbWVvdXQgIT09IG51bGwpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9yZXNldFZlbG9jaXR5VGltZW91dClcbiAgICAgIHRoaXMuX3Jlc2V0VmVsb2NpdHlUaW1lb3V0ID0gbnVsbFxuICAgIH1cblxuICAgIGlmICh0aGlzLl9wcmV2ZW50TmV4dE5hdGl2ZVNjcm9sbEV2ZW50KSB7XG4gICAgICB0aGlzLl9wcmV2ZW50TmV4dE5hdGl2ZVNjcm9sbEV2ZW50ID0gZmFsc2VcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICh0aGlzLmlzU2Nyb2xsaW5nID09PSBmYWxzZSB8fCB0aGlzLmlzU2Nyb2xsaW5nID09PSAnbmF0aXZlJykge1xuICAgICAgY29uc3QgbGFzdFNjcm9sbCA9IHRoaXMuYW5pbWF0ZWRTY3JvbGxcbiAgICAgIHRoaXMuYW5pbWF0ZWRTY3JvbGwgPSB0aGlzLnRhcmdldFNjcm9sbCA9IHRoaXMuYWN0dWFsU2Nyb2xsXG4gICAgICB0aGlzLmxhc3RWZWxvY2l0eSA9IHRoaXMudmVsb2NpdHlcbiAgICAgIHRoaXMudmVsb2NpdHkgPSB0aGlzLmFuaW1hdGVkU2Nyb2xsIC0gbGFzdFNjcm9sbFxuICAgICAgdGhpcy5kaXJlY3Rpb24gPSBNYXRoLnNpZ24oXG4gICAgICAgIHRoaXMuYW5pbWF0ZWRTY3JvbGwgLSBsYXN0U2Nyb2xsXG4gICAgICApIGFzIExlbmlzWydkaXJlY3Rpb24nXVxuXG4gICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgIHRoaXMuaXNTY3JvbGxpbmcgPSAnbmF0aXZlJ1xuICAgICAgfVxuXG4gICAgICB0aGlzLmVtaXQoKVxuXG4gICAgICBpZiAodGhpcy52ZWxvY2l0eSAhPT0gMCkge1xuICAgICAgICB0aGlzLl9yZXNldFZlbG9jaXR5VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMubGFzdFZlbG9jaXR5ID0gdGhpcy52ZWxvY2l0eVxuICAgICAgICAgIHRoaXMudmVsb2NpdHkgPSAwXG4gICAgICAgICAgdGhpcy5pc1Njcm9sbGluZyA9IGZhbHNlXG4gICAgICAgICAgdGhpcy5lbWl0KClcbiAgICAgICAgfSwgNDAwKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVzZXQoKSB7XG4gICAgdGhpcy5pc0xvY2tlZCA9IGZhbHNlXG4gICAgdGhpcy5pc1Njcm9sbGluZyA9IGZhbHNlXG4gICAgdGhpcy5hbmltYXRlZFNjcm9sbCA9IHRoaXMudGFyZ2V0U2Nyb2xsID0gdGhpcy5hY3R1YWxTY3JvbGxcbiAgICB0aGlzLmxhc3RWZWxvY2l0eSA9IHRoaXMudmVsb2NpdHkgPSAwXG4gICAgdGhpcy5hbmltYXRlLnN0b3AoKVxuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IGxlbmlzIHNjcm9sbCBhZnRlciBpdCBoYXMgYmVlbiBzdG9wcGVkXG4gICAqL1xuICBzdGFydCgpIHtcbiAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSByZXR1cm5cblxuICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b1RvZ2dsZSkge1xuICAgICAgdGhpcy5yb290RWxlbWVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnb3ZlcmZsb3cnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdGhpcy5pbnRlcm5hbFN0YXJ0KClcbiAgfVxuXG4gIHByaXZhdGUgaW50ZXJuYWxTdGFydCgpIHtcbiAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSByZXR1cm5cblxuICAgIHRoaXMucmVzZXQoKVxuICAgIHRoaXMuaXNTdG9wcGVkID0gZmFsc2VcbiAgICB0aGlzLmVtaXQoKVxuICB9XG5cbiAgLyoqXG4gICAqIFN0b3AgbGVuaXMgc2Nyb2xsXG4gICAqL1xuICBzdG9wKCkge1xuICAgIGlmICh0aGlzLmlzU3RvcHBlZCkgcmV0dXJuXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmF1dG9Ub2dnbGUpIHtcbiAgICAgIHRoaXMucm9vdEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJ292ZXJmbG93JywgJ2NsaXAnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdGhpcy5pbnRlcm5hbFN0b3AoKVxuICB9XG5cbiAgcHJpdmF0ZSBpbnRlcm5hbFN0b3AoKSB7XG4gICAgaWYgKHRoaXMuaXNTdG9wcGVkKSByZXR1cm5cblxuICAgIHRoaXMucmVzZXQoKVxuICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZVxuICAgIHRoaXMuZW1pdCgpXG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdEFuaW1hdGlvbkZyYW1lIGZvciBsZW5pc1xuICAgKlxuICAgKiBAcGFyYW0gdGltZSBUaGUgdGltZSBpbiBtcyBmcm9tIGFuIGV4dGVybmFsIGNsb2NrIGxpa2UgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAgb3IgVGVtcHVzXG4gICAqL1xuICByYWYgPSAodGltZTogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgZGVsdGFUaW1lID0gdGltZSAtICh0aGlzLnRpbWUgfHwgdGltZSlcbiAgICB0aGlzLnRpbWUgPSB0aW1lXG5cbiAgICB0aGlzLmFuaW1hdGUuYWR2YW5jZShkZWx0YVRpbWUgKiAwLjAwMSlcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b1JhZikge1xuICAgICAgdGhpcy5fX3JhZklEID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucmFmKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTY3JvbGwgdG8gYSB0YXJnZXQgdmFsdWVcbiAgICpcbiAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IHZhbHVlIHRvIHNjcm9sbCB0b1xuICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgb3B0aW9ucyBmb3IgdGhlIHNjcm9sbFxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBsZW5pcy5zY3JvbGxUbygxMDAsIHtcbiAgICogICBvZmZzZXQ6IDEwMCxcbiAgICogICBkdXJhdGlvbjogMSxcbiAgICogICBlYXNpbmc6ICh0KSA9PiAxIC0gTWF0aC5jb3MoKHQgKiBNYXRoLlBJKSAvIDIpLFxuICAgKiAgIGxlcnA6IDAuMSxcbiAgICogICBvblN0YXJ0OiAoKSA9PiB7XG4gICAqICAgICBjb25zb2xlLmxvZygnb25TdGFydCcpXG4gICAqICAgfSxcbiAgICogICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAqICAgICBjb25zb2xlLmxvZygnb25Db21wbGV0ZScpXG4gICAqICAgfSxcbiAgICogfSlcbiAgICovXG4gIHNjcm9sbFRvKFxuICAgIHRhcmdldDogbnVtYmVyIHwgc3RyaW5nIHwgSFRNTEVsZW1lbnQsXG4gICAge1xuICAgICAgb2Zmc2V0ID0gMCxcbiAgICAgIGltbWVkaWF0ZSA9IGZhbHNlLFxuICAgICAgbG9jayA9IGZhbHNlLFxuICAgICAgZHVyYXRpb24gPSB0aGlzLm9wdGlvbnMuZHVyYXRpb24sXG4gICAgICBlYXNpbmcgPSB0aGlzLm9wdGlvbnMuZWFzaW5nLFxuICAgICAgbGVycCA9IHRoaXMub3B0aW9ucy5sZXJwLFxuICAgICAgb25TdGFydCxcbiAgICAgIG9uQ29tcGxldGUsXG4gICAgICBmb3JjZSA9IGZhbHNlLCAvLyBzY3JvbGwgZXZlbiBpZiBzdG9wcGVkXG4gICAgICBwcm9ncmFtbWF0aWMgPSB0cnVlLCAvLyBjYWxsZWQgZnJvbSBvdXRzaWRlIG9mIHRoZSBjbGFzc1xuICAgICAgdXNlckRhdGEsXG4gICAgfTogU2Nyb2xsVG9PcHRpb25zID0ge31cbiAgKSB7XG4gICAgaWYgKCh0aGlzLmlzU3RvcHBlZCB8fCB0aGlzLmlzTG9ja2VkKSAmJiAhZm9yY2UpIHJldHVyblxuXG4gICAgLy8ga2V5d29yZHNcbiAgICBpZiAoXG4gICAgICB0eXBlb2YgdGFyZ2V0ID09PSAnc3RyaW5nJyAmJlxuICAgICAgWyd0b3AnLCAnbGVmdCcsICdzdGFydCcsICcjJ10uaW5jbHVkZXModGFyZ2V0KVxuICAgICkge1xuICAgICAgdGFyZ2V0ID0gMFxuICAgIH0gZWxzZSBpZiAoXG4gICAgICB0eXBlb2YgdGFyZ2V0ID09PSAnc3RyaW5nJyAmJlxuICAgICAgWydib3R0b20nLCAncmlnaHQnLCAnZW5kJ10uaW5jbHVkZXModGFyZ2V0KVxuICAgICkge1xuICAgICAgdGFyZ2V0ID0gdGhpcy5saW1pdFxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbm9kZVxuXG4gICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gQ1NTIHNlbGVjdG9yXG4gICAgICAgIG5vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldClcblxuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICBpZiAodGFyZ2V0ID09PSAnI3RvcCcpIHtcbiAgICAgICAgICAgIHRhcmdldCA9IDBcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdMZW5pczogVGFyZ2V0IG5vdCBmb3VuZCcsIHRhcmdldClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgdGFyZ2V0Py5ub2RlVHlwZSkge1xuICAgICAgICAvLyBOb2RlIGVsZW1lbnRcbiAgICAgICAgbm9kZSA9IHRhcmdldFxuICAgICAgfVxuXG4gICAgICBpZiAobm9kZSkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLndyYXBwZXIgIT09IHdpbmRvdykge1xuICAgICAgICAgIC8vIG5lc3RlZCBzY3JvbGwgb2Zmc2V0IGNvcnJlY3Rpb25cbiAgICAgICAgICBjb25zdCB3cmFwcGVyUmVjdCA9IHRoaXMucm9vdEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgICAgICBvZmZzZXQgLT0gdGhpcy5pc0hvcml6b250YWwgPyB3cmFwcGVyUmVjdC5sZWZ0IDogd3JhcHBlclJlY3QudG9wXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZWN0ID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuXG4gICAgICAgIHRhcmdldCA9XG4gICAgICAgICAgKHRoaXMuaXNIb3Jpem9udGFsID8gcmVjdC5sZWZ0IDogcmVjdC50b3ApICsgdGhpcy5hbmltYXRlZFNjcm9sbFxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdGFyZ2V0ICE9PSAnbnVtYmVyJykgcmV0dXJuXG5cbiAgICB0YXJnZXQgKz0gb2Zmc2V0XG4gICAgdGFyZ2V0ID0gTWF0aC5yb3VuZCh0YXJnZXQpXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmluZmluaXRlKSB7XG4gICAgICBpZiAocHJvZ3JhbW1hdGljKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0U2Nyb2xsID0gdGhpcy5hbmltYXRlZFNjcm9sbCA9IHRoaXMuc2Nyb2xsXG5cbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSB0YXJnZXQgLSB0aGlzLmFuaW1hdGVkU2Nyb2xsXG5cbiAgICAgICAgaWYgKGRpc3RhbmNlID4gdGhpcy5saW1pdCAvIDIpIHtcbiAgICAgICAgICB0YXJnZXQgPSB0YXJnZXQgLSB0aGlzLmxpbWl0XG4gICAgICAgIH0gZWxzZSBpZiAoZGlzdGFuY2UgPCAtdGhpcy5saW1pdCAvIDIpIHtcbiAgICAgICAgICB0YXJnZXQgPSB0YXJnZXQgKyB0aGlzLmxpbWl0XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0ID0gY2xhbXAoMCwgdGFyZ2V0LCB0aGlzLmxpbWl0KVxuICAgIH1cblxuICAgIGlmICh0YXJnZXQgPT09IHRoaXMudGFyZ2V0U2Nyb2xsKSB7XG4gICAgICBvblN0YXJ0Py4odGhpcylcbiAgICAgIG9uQ29tcGxldGU/Lih0aGlzKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdGhpcy51c2VyRGF0YSA9IHVzZXJEYXRhID8/IHt9XG5cbiAgICBpZiAoaW1tZWRpYXRlKSB7XG4gICAgICB0aGlzLmFuaW1hdGVkU2Nyb2xsID0gdGhpcy50YXJnZXRTY3JvbGwgPSB0YXJnZXRcbiAgICAgIHRoaXMuc2V0U2Nyb2xsKHRoaXMuc2Nyb2xsKVxuICAgICAgdGhpcy5yZXNldCgpXG4gICAgICB0aGlzLnByZXZlbnROZXh0TmF0aXZlU2Nyb2xsRXZlbnQoKVxuICAgICAgdGhpcy5lbWl0KClcbiAgICAgIG9uQ29tcGxldGU/Lih0aGlzKVxuICAgICAgdGhpcy51c2VyRGF0YSA9IHt9XG5cbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hTY3JvbGxlbmRFdmVudCgpXG4gICAgICB9KVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKCFwcm9ncmFtbWF0aWMpIHtcbiAgICAgIHRoaXMudGFyZ2V0U2Nyb2xsID0gdGFyZ2V0XG4gICAgfVxuXG4gICAgLy8gZmxpcCB0byBlYXNpbmcvdGltZSBiYXNlZCBhbmltYXRpb24gaWYgYXQgbGVhc3Qgb25lIG9mIHRoZW0gaXMgcHJvdmlkZWRcbiAgICBpZiAodHlwZW9mIGR1cmF0aW9uID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgZWFzaW5nICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBlYXNpbmcgPSBkZWZhdWx0RWFzaW5nXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZWFzaW5nID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkdXJhdGlvbiAhPT0gJ251bWJlcicpIHtcbiAgICAgIGR1cmF0aW9uID0gMVxuICAgIH1cblxuICAgIHRoaXMuYW5pbWF0ZS5mcm9tVG8odGhpcy5hbmltYXRlZFNjcm9sbCwgdGFyZ2V0LCB7XG4gICAgICBkdXJhdGlvbixcbiAgICAgIGVhc2luZyxcbiAgICAgIGxlcnAsXG4gICAgICBvblN0YXJ0OiAoKSA9PiB7XG4gICAgICAgIC8vIHN0YXJ0ZWRcbiAgICAgICAgaWYgKGxvY2spIHRoaXMuaXNMb2NrZWQgPSB0cnVlXG4gICAgICAgIHRoaXMuaXNTY3JvbGxpbmcgPSAnc21vb3RoJ1xuICAgICAgICBvblN0YXJ0Py4odGhpcylcbiAgICAgIH0sXG4gICAgICBvblVwZGF0ZTogKHZhbHVlOiBudW1iZXIsIGNvbXBsZXRlZDogYm9vbGVhbikgPT4ge1xuICAgICAgICB0aGlzLmlzU2Nyb2xsaW5nID0gJ3Ntb290aCdcblxuICAgICAgICAvLyB1cGRhdGVkXG4gICAgICAgIHRoaXMubGFzdFZlbG9jaXR5ID0gdGhpcy52ZWxvY2l0eVxuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gdmFsdWUgLSB0aGlzLmFuaW1hdGVkU2Nyb2xsXG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gTWF0aC5zaWduKHRoaXMudmVsb2NpdHkpIGFzIExlbmlzWydkaXJlY3Rpb24nXVxuXG4gICAgICAgIHRoaXMuYW5pbWF0ZWRTY3JvbGwgPSB2YWx1ZVxuICAgICAgICB0aGlzLnNldFNjcm9sbCh0aGlzLnNjcm9sbClcblxuICAgICAgICBpZiAocHJvZ3JhbW1hdGljKSB7XG4gICAgICAgICAgLy8gd2hlZWwgZHVyaW5nIHByb2dyYW1tYXRpYyBzaG91bGQgc3RvcCBpdFxuICAgICAgICAgIHRoaXMudGFyZ2V0U2Nyb2xsID0gdmFsdWVcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY29tcGxldGVkKSB0aGlzLmVtaXQoKVxuXG4gICAgICAgIGlmIChjb21wbGV0ZWQpIHtcbiAgICAgICAgICB0aGlzLnJlc2V0KClcbiAgICAgICAgICB0aGlzLmVtaXQoKVxuICAgICAgICAgIG9uQ29tcGxldGU/Lih0aGlzKVxuICAgICAgICAgIHRoaXMudXNlckRhdGEgPSB7fVxuXG4gICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hTY3JvbGxlbmRFdmVudCgpXG4gICAgICAgICAgfSlcblxuICAgICAgICAgIC8vIGF2b2lkIGVtaXR0aW5nIGV2ZW50IHR3aWNlXG4gICAgICAgICAgdGhpcy5wcmV2ZW50TmV4dE5hdGl2ZVNjcm9sbEV2ZW50KClcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9KVxuICB9XG5cbiAgcHJpdmF0ZSBwcmV2ZW50TmV4dE5hdGl2ZVNjcm9sbEV2ZW50KCkge1xuICAgIHRoaXMuX3ByZXZlbnROZXh0TmF0aXZlU2Nyb2xsRXZlbnQgPSB0cnVlXG5cbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgdGhpcy5fcHJldmVudE5leHROYXRpdmVTY3JvbGxFdmVudCA9IGZhbHNlXG4gICAgfSlcbiAgfVxuXG4gIHByaXZhdGUgY2hlY2tOZXN0ZWRTY3JvbGwoXG4gICAgbm9kZTogSFRNTEVsZW1lbnQsXG4gICAgeyBkZWx0YVgsIGRlbHRhWSB9OiB7IGRlbHRhWDogbnVtYmVyOyBkZWx0YVk6IG51bWJlciB9XG4gICkge1xuICAgIGNvbnN0IHRpbWUgPSBEYXRlLm5vdygpXG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgY29uc3QgY2FjaGUgPSAobm9kZS5fbGVuaXMgPz89IHt9KVxuXG4gICAgbGV0IGhhc092ZXJmbG93WCxcbiAgICAgIGhhc092ZXJmbG93WSxcbiAgICAgIGlzU2Nyb2xsYWJsZVgsXG4gICAgICBpc1Njcm9sbGFibGVZLFxuICAgICAgc2Nyb2xsV2lkdGgsXG4gICAgICBzY3JvbGxIZWlnaHQsXG4gICAgICBjbGllbnRXaWR0aCxcbiAgICAgIGNsaWVudEhlaWdodFxuXG4gICAgY29uc3QgZ2VzdHVyZU9yaWVudGF0aW9uID0gdGhpcy5vcHRpb25zLmdlc3R1cmVPcmllbnRhdGlvblxuXG4gICAgaWYgKHRpbWUgLSAoY2FjaGUudGltZSA/PyAwKSA+IDIwMDApIHtcbiAgICAgIGNhY2hlLnRpbWUgPSBEYXRlLm5vdygpXG5cbiAgICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlKVxuICAgICAgY2FjaGUuY29tcHV0ZWRTdHlsZSA9IGNvbXB1dGVkU3R5bGVcblxuICAgICAgY29uc3Qgb3ZlcmZsb3dYU3RyaW5nID0gY29tcHV0ZWRTdHlsZS5vdmVyZmxvd1hcbiAgICAgIGNvbnN0IG92ZXJmbG93WVN0cmluZyA9IGNvbXB1dGVkU3R5bGUub3ZlcmZsb3dZXG5cbiAgICAgIGhhc092ZXJmbG93WCA9IFsnYXV0bycsICdvdmVybGF5JywgJ3Njcm9sbCddLmluY2x1ZGVzKG92ZXJmbG93WFN0cmluZylcbiAgICAgIGhhc092ZXJmbG93WSA9IFsnYXV0bycsICdvdmVybGF5JywgJ3Njcm9sbCddLmluY2x1ZGVzKG92ZXJmbG93WVN0cmluZylcbiAgICAgIGNhY2hlLmhhc092ZXJmbG93WCA9IGhhc092ZXJmbG93WFxuICAgICAgY2FjaGUuaGFzT3ZlcmZsb3dZID0gaGFzT3ZlcmZsb3dZXG5cbiAgICAgIGlmICghaGFzT3ZlcmZsb3dYICYmICFoYXNPdmVyZmxvd1kpIHJldHVybiBmYWxzZSAvLyBpZiBubyBvdmVyZmxvdywgaXQncyBub3Qgc2Nyb2xsYWJsZSBubyBtYXR0ZXIgd2hhdCwgZWFybHkgcmV0dXJuIHNhdmVzIHNvbWUgY29tcHV0YXRpb25zXG4gICAgICBpZiAoZ2VzdHVyZU9yaWVudGF0aW9uID09PSAndmVydGljYWwnICYmICFoYXNPdmVyZmxvd1kpIHJldHVybiBmYWxzZVxuICAgICAgaWYgKGdlc3R1cmVPcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnICYmICFoYXNPdmVyZmxvd1gpIHJldHVybiBmYWxzZVxuXG4gICAgICBzY3JvbGxXaWR0aCA9IG5vZGUuc2Nyb2xsV2lkdGhcbiAgICAgIHNjcm9sbEhlaWdodCA9IG5vZGUuc2Nyb2xsSGVpZ2h0XG5cbiAgICAgIGNsaWVudFdpZHRoID0gbm9kZS5jbGllbnRXaWR0aFxuICAgICAgY2xpZW50SGVpZ2h0ID0gbm9kZS5jbGllbnRIZWlnaHRcblxuICAgICAgaXNTY3JvbGxhYmxlWCA9IHNjcm9sbFdpZHRoID4gY2xpZW50V2lkdGhcbiAgICAgIGlzU2Nyb2xsYWJsZVkgPSBzY3JvbGxIZWlnaHQgPiBjbGllbnRIZWlnaHRcblxuICAgICAgY2FjaGUuaXNTY3JvbGxhYmxlWCA9IGlzU2Nyb2xsYWJsZVhcbiAgICAgIGNhY2hlLmlzU2Nyb2xsYWJsZVkgPSBpc1Njcm9sbGFibGVZXG4gICAgICBjYWNoZS5zY3JvbGxXaWR0aCA9IHNjcm9sbFdpZHRoXG4gICAgICBjYWNoZS5zY3JvbGxIZWlnaHQgPSBzY3JvbGxIZWlnaHRcbiAgICAgIGNhY2hlLmNsaWVudFdpZHRoID0gY2xpZW50V2lkdGhcbiAgICAgIGNhY2hlLmNsaWVudEhlaWdodCA9IGNsaWVudEhlaWdodFxuICAgIH0gZWxzZSB7XG4gICAgICBpc1Njcm9sbGFibGVYID0gY2FjaGUuaXNTY3JvbGxhYmxlWFxuICAgICAgaXNTY3JvbGxhYmxlWSA9IGNhY2hlLmlzU2Nyb2xsYWJsZVlcbiAgICAgIGhhc092ZXJmbG93WCA9IGNhY2hlLmhhc092ZXJmbG93WFxuICAgICAgaGFzT3ZlcmZsb3dZID0gY2FjaGUuaGFzT3ZlcmZsb3dZXG4gICAgICBzY3JvbGxXaWR0aCA9IGNhY2hlLnNjcm9sbFdpZHRoXG4gICAgICBzY3JvbGxIZWlnaHQgPSBjYWNoZS5zY3JvbGxIZWlnaHRcbiAgICAgIGNsaWVudFdpZHRoID0gY2FjaGUuY2xpZW50V2lkdGhcbiAgICAgIGNsaWVudEhlaWdodCA9IGNhY2hlLmNsaWVudEhlaWdodFxuICAgIH1cblxuICAgIGlmIChcbiAgICAgICghaGFzT3ZlcmZsb3dYICYmICFoYXNPdmVyZmxvd1kpIHx8XG4gICAgICAoIWlzU2Nyb2xsYWJsZVggJiYgIWlzU2Nyb2xsYWJsZVkpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoZ2VzdHVyZU9yaWVudGF0aW9uID09PSAndmVydGljYWwnICYmICghaGFzT3ZlcmZsb3dZIHx8ICFpc1Njcm9sbGFibGVZKSlcbiAgICAgIHJldHVybiBmYWxzZVxuXG4gICAgaWYgKFxuICAgICAgZ2VzdHVyZU9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcgJiZcbiAgICAgICghaGFzT3ZlcmZsb3dYIHx8ICFpc1Njcm9sbGFibGVYKVxuICAgIClcbiAgICAgIHJldHVybiBmYWxzZVxuXG4gICAgbGV0IG9yaWVudGF0aW9uOiAneCcgfCAneScgfCB1bmRlZmluZWRcblxuICAgIGlmIChnZXN0dXJlT3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJykge1xuICAgICAgb3JpZW50YXRpb24gPSAneCdcbiAgICB9IGVsc2UgaWYgKGdlc3R1cmVPcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJykge1xuICAgICAgb3JpZW50YXRpb24gPSAneSdcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaXNTY3JvbGxpbmdYID0gZGVsdGFYICE9PSAwXG4gICAgICBjb25zdCBpc1Njcm9sbGluZ1kgPSBkZWx0YVkgIT09IDBcblxuICAgICAgaWYgKGlzU2Nyb2xsaW5nWCAmJiBoYXNPdmVyZmxvd1ggJiYgaXNTY3JvbGxhYmxlWCkge1xuICAgICAgICBvcmllbnRhdGlvbiA9ICd4J1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNTY3JvbGxpbmdZICYmIGhhc092ZXJmbG93WSAmJiBpc1Njcm9sbGFibGVZKSB7XG4gICAgICAgIG9yaWVudGF0aW9uID0gJ3knXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFvcmllbnRhdGlvbikgcmV0dXJuIGZhbHNlXG5cbiAgICBsZXQgc2Nyb2xsLCBtYXhTY3JvbGwsIGRlbHRhLCBoYXNPdmVyZmxvdywgaXNTY3JvbGxhYmxlXG5cbiAgICBpZiAob3JpZW50YXRpb24gPT09ICd4Jykge1xuICAgICAgc2Nyb2xsID0gbm9kZS5zY3JvbGxMZWZ0XG4gICAgICBtYXhTY3JvbGwgPSBzY3JvbGxXaWR0aCAtIGNsaWVudFdpZHRoXG4gICAgICBkZWx0YSA9IGRlbHRhWFxuXG4gICAgICBoYXNPdmVyZmxvdyA9IGhhc092ZXJmbG93WFxuICAgICAgaXNTY3JvbGxhYmxlID0gaXNTY3JvbGxhYmxlWFxuICAgIH0gZWxzZSBpZiAob3JpZW50YXRpb24gPT09ICd5Jykge1xuICAgICAgc2Nyb2xsID0gbm9kZS5zY3JvbGxUb3BcbiAgICAgIG1heFNjcm9sbCA9IHNjcm9sbEhlaWdodCAtIGNsaWVudEhlaWdodFxuICAgICAgZGVsdGEgPSBkZWx0YVlcblxuICAgICAgaGFzT3ZlcmZsb3cgPSBoYXNPdmVyZmxvd1lcbiAgICAgIGlzU2Nyb2xsYWJsZSA9IGlzU2Nyb2xsYWJsZVlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3Qgd2lsbFNjcm9sbCA9IGRlbHRhID4gMCA/IHNjcm9sbCA8IG1heFNjcm9sbCA6IHNjcm9sbCA+IDBcblxuICAgIHJldHVybiB3aWxsU2Nyb2xsICYmIGhhc092ZXJmbG93ICYmIGlzU2Nyb2xsYWJsZVxuICB9XG5cbiAgLyoqXG4gICAqIFRoZSByb290IGVsZW1lbnQgb24gd2hpY2ggbGVuaXMgaXMgaW5zdGFuY2VkXG4gICAqL1xuICBnZXQgcm9vdEVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMub3B0aW9ucy53cmFwcGVyID09PSB3aW5kb3dcbiAgICAgICAgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcbiAgICAgICAgOiB0aGlzLm9wdGlvbnMud3JhcHBlclxuICAgICkgYXMgSFRNTEVsZW1lbnRcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgbGltaXQgd2hpY2ggaXMgdGhlIG1heGltdW0gc2Nyb2xsIHZhbHVlXG4gICAqL1xuICBnZXQgbGltaXQoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5fX2V4cGVyaW1lbnRhbF9fbmFpdmVEaW1lbnNpb25zKSB7XG4gICAgICBpZiAodGhpcy5pc0hvcml6b250YWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdEVsZW1lbnQuc2Nyb2xsV2lkdGggLSB0aGlzLnJvb3RFbGVtZW50LmNsaWVudFdpZHRoXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5yb290RWxlbWVudC5zY3JvbGxIZWlnaHQgLSB0aGlzLnJvb3RFbGVtZW50LmNsaWVudEhlaWdodFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5kaW1lbnNpb25zLmxpbWl0W3RoaXMuaXNIb3Jpem9udGFsID8gJ3gnIDogJ3knXVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgc2Nyb2xsIGlzIGhvcml6b250YWxcbiAgICovXG4gIGdldCBpc0hvcml6b250YWwoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5vcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnXG4gIH1cblxuICAvKipcbiAgICogVGhlIGFjdHVhbCBzY3JvbGwgdmFsdWVcbiAgICovXG4gIGdldCBhY3R1YWxTY3JvbGwoKSB7XG4gICAgLy8gdmFsdWUgYnJvd3NlciB0YWtlcyBpbnRvIGFjY291bnRcbiAgICAvLyBpdCBoYXMgdG8gYmUgdGhpcyB3YXkgYmVjYXVzZSBvZiBET0NUWVBFIGRlY2xhcmF0aW9uXG4gICAgY29uc3Qgd3JhcHBlciA9IHRoaXMub3B0aW9ucy53cmFwcGVyIGFzIFdpbmRvdyB8IEhUTUxFbGVtZW50XG5cbiAgICByZXR1cm4gdGhpcy5pc0hvcml6b250YWxcbiAgICAgID8gKHdyYXBwZXIgYXMgV2luZG93KS5zY3JvbGxYID8/ICh3cmFwcGVyIGFzIEhUTUxFbGVtZW50KS5zY3JvbGxMZWZ0XG4gICAgICA6ICh3cmFwcGVyIGFzIFdpbmRvdykuc2Nyb2xsWSA/PyAod3JhcHBlciBhcyBIVE1MRWxlbWVudCkuc2Nyb2xsVG9wXG4gIH1cblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgc2Nyb2xsIHZhbHVlXG4gICAqL1xuICBnZXQgc2Nyb2xsKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaW5maW5pdGVcbiAgICAgID8gbW9kdWxvKHRoaXMuYW5pbWF0ZWRTY3JvbGwsIHRoaXMubGltaXQpXG4gICAgICA6IHRoaXMuYW5pbWF0ZWRTY3JvbGxcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgcHJvZ3Jlc3Mgb2YgdGhlIHNjcm9sbCByZWxhdGl2ZSB0byB0aGUgbGltaXRcbiAgICovXG4gIGdldCBwcm9ncmVzcygpIHtcbiAgICAvLyBhdm9pZCBwcm9ncmVzcyB0byBiZSBOYU5cbiAgICByZXR1cm4gdGhpcy5saW1pdCA9PT0gMCA/IDEgOiB0aGlzLnNjcm9sbCAvIHRoaXMubGltaXRcbiAgfVxuXG4gIC8qKlxuICAgKiBDdXJyZW50IHNjcm9sbCBzdGF0ZVxuICAgKi9cbiAgZ2V0IGlzU2Nyb2xsaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9pc1Njcm9sbGluZ1xuICB9XG5cbiAgcHJpdmF0ZSBzZXQgaXNTY3JvbGxpbmcodmFsdWU6IFNjcm9sbGluZykge1xuICAgIGlmICh0aGlzLl9pc1Njcm9sbGluZyAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuX2lzU2Nyb2xsaW5nID0gdmFsdWVcbiAgICAgIHRoaXMudXBkYXRlQ2xhc3NOYW1lKClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgbGVuaXMgaXMgc3RvcHBlZFxuICAgKi9cbiAgZ2V0IGlzU3RvcHBlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNTdG9wcGVkXG4gIH1cblxuICBwcml2YXRlIHNldCBpc1N0b3BwZWQodmFsdWU6IGJvb2xlYW4pIHtcbiAgICBpZiAodGhpcy5faXNTdG9wcGVkICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5faXNTdG9wcGVkID0gdmFsdWVcbiAgICAgIHRoaXMudXBkYXRlQ2xhc3NOYW1lKClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgbGVuaXMgaXMgbG9ja2VkXG4gICAqL1xuICBnZXQgaXNMb2NrZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzTG9ja2VkXG4gIH1cblxuICBwcml2YXRlIHNldCBpc0xvY2tlZCh2YWx1ZTogYm9vbGVhbikge1xuICAgIGlmICh0aGlzLl9pc0xvY2tlZCAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuX2lzTG9ja2VkID0gdmFsdWVcbiAgICAgIHRoaXMudXBkYXRlQ2xhc3NOYW1lKClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgbGVuaXMgaXMgc21vb3RoIHNjcm9sbGluZ1xuICAgKi9cbiAgZ2V0IGlzU21vb3RoKCkge1xuICAgIHJldHVybiB0aGlzLmlzU2Nyb2xsaW5nID09PSAnc21vb3RoJ1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjbGFzcyBuYW1lIGFwcGxpZWQgdG8gdGhlIHdyYXBwZXIgZWxlbWVudFxuICAgKi9cbiAgZ2V0IGNsYXNzTmFtZSgpIHtcbiAgICBsZXQgY2xhc3NOYW1lID0gJ2xlbmlzJ1xuICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b1RvZ2dsZSkgY2xhc3NOYW1lICs9ICcgbGVuaXMtYXV0b1RvZ2dsZSdcbiAgICBpZiAodGhpcy5pc1N0b3BwZWQpIGNsYXNzTmFtZSArPSAnIGxlbmlzLXN0b3BwZWQnXG4gICAgaWYgKHRoaXMuaXNMb2NrZWQpIGNsYXNzTmFtZSArPSAnIGxlbmlzLWxvY2tlZCdcbiAgICBpZiAodGhpcy5pc1Njcm9sbGluZykgY2xhc3NOYW1lICs9ICcgbGVuaXMtc2Nyb2xsaW5nJ1xuICAgIGlmICh0aGlzLmlzU2Nyb2xsaW5nID09PSAnc21vb3RoJykgY2xhc3NOYW1lICs9ICcgbGVuaXMtc21vb3RoJ1xuICAgIHJldHVybiBjbGFzc05hbWVcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlQ2xhc3NOYW1lKCkge1xuICAgIHRoaXMuY2xlYW5VcENsYXNzTmFtZSgpXG5cbiAgICB0aGlzLnJvb3RFbGVtZW50LmNsYXNzTmFtZSA9XG4gICAgICBgJHt0aGlzLnJvb3RFbGVtZW50LmNsYXNzTmFtZX0gJHt0aGlzLmNsYXNzTmFtZX1gLnRyaW0oKVxuICB9XG5cbiAgcHJpdmF0ZSBjbGVhblVwQ2xhc3NOYW1lKCkge1xuICAgIHRoaXMucm9vdEVsZW1lbnQuY2xhc3NOYW1lID0gdGhpcy5yb290RWxlbWVudC5jbGFzc05hbWVcbiAgICAgIC5yZXBsYWNlKC9sZW5pcygtXFx3Kyk/L2csICcnKVxuICAgICAgLnRyaW0oKVxuICB9XG59XG4iLCAiLyoqXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogIE1jQ2FubiBXZWJzaXRlIFx1MjAxNCBTbW9vdGggU2Nyb2xsIChMZW5pcylcbiAqICBQdXJwb3NlOiBXZWlnaHRlZCBtb21lbnR1bSBzY3JvbGxpbmdcbiAqICBEYXRlOiAyMDI1LTExLTA2XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCBMZW5pcyBmcm9tICdsZW5pcyc7XG5cbmNvbnNvbGUubG9nKCdbU01PT1RILVNDUk9MTF0gTW9kdWxlIGxvYWRlZCcpO1xuXG5sZXQgbGVuaXNJbnN0YW5jZSA9IG51bGw7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSU5JVElBTElaQVRJT05cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdFNtb290aFNjcm9sbChvcHRpb25zID0ge30pIHtcbiAgaWYgKGxlbmlzSW5zdGFuY2UpIHtcbiAgICBjb25zb2xlLmxvZygnW1NNT09USC1TQ1JPTExdIEFscmVhZHkgaW5pdGlhbGl6ZWQnKTtcbiAgICByZXR1cm4gbGVuaXNJbnN0YW5jZTtcbiAgfVxuXG4gIGNvbnN0IGhhc1NuYXBDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGVyc3BlY3RpdmUtd3JhcHBlcicpICE9PSBudWxsO1xuICBcbiAgaWYgKGhhc1NuYXBDb250YWluZXIgJiYgIW9wdGlvbnMuZm9yY2VFbmFibGVPblNuYXApIHtcbiAgICBjb25zb2xlLmxvZygnW1NNT09USC1TQ1JPTExdIFx1MjZBMFx1RkUwRiBTa2lwcGVkIC0gcGFnZSBoYXMgc2Nyb2xsLXNuYXAgY29udGFpbmVyJyk7XG4gICAgY29uc29sZS5sb2coJ1tTTU9PVEgtU0NST0xMXSBVc2luZyBuYXRpdmUgc2Nyb2xsaW5nIGZvciBvcHRpbWFsIHNuYXAgYmVoYXZpb3InKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBcbiAgY29uc3QgZGVmYXVsdExlcnAgPSBvcHRpb25zLmxlcnAgPz8gMC4wODtcbiAgXG4gIGNvbnN0IGNvbmZpZyA9IHtcbiAgICBsZXJwOiBkZWZhdWx0TGVycCxcbiAgICBkdXJhdGlvbjogMS4yLFxuICAgIG9yaWVudGF0aW9uOiAndmVydGljYWwnLFxuICAgIGdlc3R1cmVPcmllbnRhdGlvbjogJ3ZlcnRpY2FsJyxcbiAgICBzbW9vdGhXaGVlbDogdHJ1ZSxcbiAgICBzbW9vdGhUb3VjaDogZmFsc2UsXG4gICAgd2hlZWxNdWx0aXBsaWVyOiAxLjAsXG4gICAgdG91Y2hNdWx0aXBsaWVyOiAyLjAsXG4gICAgaW5maW5pdGU6IG9wdGlvbnMuaW5maW5pdGUgPz8gZmFsc2UsXG4gICAgLi4ub3B0aW9uc1xuICB9O1xuXG4gIHRyeSB7XG4gICAgbGVuaXNJbnN0YW5jZSA9IG5ldyBMZW5pcyhjb25maWcpO1xuXG4gICAgZnVuY3Rpb24gcmFmKHRpbWUpIHtcbiAgICAgIGxlbmlzSW5zdGFuY2UucmFmKHRpbWUpO1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJhZik7XG4gICAgfVxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShyYWYpO1xuXG4gICAgaWYgKHdpbmRvdy5nc2FwICYmIHdpbmRvdy5TY3JvbGxUcmlnZ2VyKSB7XG4gICAgICBsZW5pc0luc3RhbmNlLm9uKCdzY3JvbGwnLCBTY3JvbGxUcmlnZ2VyLnVwZGF0ZSk7XG4gICAgICBcbiAgICAgIHdpbmRvdy5nc2FwLnRpY2tlci5hZGQoKHRpbWUpID0+IHtcbiAgICAgICAgbGVuaXNJbnN0YW5jZS5yYWYodGltZSAqIDEwMDApO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHdpbmRvdy5nc2FwLnRpY2tlci5sYWdTbW9vdGhpbmcoMCk7XG4gICAgfVxuXG4gICAgd2luZG93LkFwcCA9IHdpbmRvdy5BcHAgfHwge307XG4gICAgd2luZG93LkFwcC5zbW9vdGhTY3JvbGwgPSB7XG4gICAgICBzdG9wOiAoKSA9PiBsZW5pc0luc3RhbmNlLnN0b3AoKSxcbiAgICAgIHN0YXJ0OiAoKSA9PiBsZW5pc0luc3RhbmNlLnN0YXJ0KCksXG4gICAgICBpbnN0YW5jZTogbGVuaXNJbnN0YW5jZVxuICAgIH07XG5cbiAgICBjb25zb2xlLmxvZyhgW1NNT09USC1TQ1JPTExdIFx1MjcxMyBJbml0aWFsaXplZCB3aXRoIG1vbWVudHVtIHNjcm9sbGluZyAobGVycDogJHtkZWZhdWx0TGVycH0pYCk7XG4gICAgcmV0dXJuIGxlbmlzSW5zdGFuY2U7XG5cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcignW1NNT09USC1TQ1JPTExdIFx1Mjc0QyBJbml0IGVycm9yOicsIGVycik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBDT05UUk9MIEZVTkNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBmdW5jdGlvbiBzdG9wU21vb3RoU2Nyb2xsKCkge1xuICBpZiAobGVuaXNJbnN0YW5jZSkge1xuICAgIGxlbmlzSW5zdGFuY2Uuc3RvcCgpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydFNtb290aFNjcm9sbCgpIHtcbiAgaWYgKGxlbmlzSW5zdGFuY2UpIHtcbiAgICBsZW5pc0luc3RhbmNlLnN0YXJ0KCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lTbW9vdGhTY3JvbGwoKSB7XG4gIGlmIChsZW5pc0luc3RhbmNlKSB7XG4gICAgbGVuaXNJbnN0YW5jZS5kZXN0cm95KCk7XG4gICAgbGVuaXNJbnN0YW5jZSA9IG51bGw7XG4gICAgY29uc29sZS5sb2coJ1tTTU9PVEgtU0NST0xMXSBEZXN0cm95ZWQnKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2Nyb2xsVG8odGFyZ2V0LCBvcHRpb25zID0ge30pIHtcbiAgaWYgKGxlbmlzSW5zdGFuY2UpIHtcbiAgICBsZW5pc0luc3RhbmNlLnNjcm9sbFRvKHRhcmdldCwgb3B0aW9ucyk7XG4gIH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBDT05UQUlORVIgU0NST0xMXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRDb250YWluZXJTY3JvbGwoY29udGFpbmVyLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgZWxlbWVudCA9IHR5cGVvZiBjb250YWluZXIgPT09ICdzdHJpbmcnIFxuICAgID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXIpIFxuICAgIDogY29udGFpbmVyO1xuICBcbiAgaWYgKCFlbGVtZW50KSB7XG4gICAgY29uc29sZS53YXJuKGBbU01PT1RILVNDUk9MTF0gQ29udGFpbmVyIG5vdCBmb3VuZDogJHtjb250YWluZXJ9YCk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBkZWZhdWx0TGVycCA9IG9wdGlvbnMubGVycCA/PyAwLjA4O1xuICBcbiAgY29uc3QgY29udGVudEVsZW1lbnQgPSBvcHRpb25zLmNvbnRlbnQgXG4gICAgPyAodHlwZW9mIG9wdGlvbnMuY29udGVudCA9PT0gJ3N0cmluZycgPyBlbGVtZW50LnF1ZXJ5U2VsZWN0b3Iob3B0aW9ucy5jb250ZW50KSA6IG9wdGlvbnMuY29udGVudClcbiAgICA6IChlbGVtZW50LmNoaWxkcmVuLmxlbmd0aCA+IDAgPyBlbGVtZW50LmNoaWxkcmVuWzBdIDogZWxlbWVudCk7XG4gIFxuICBjb25zdCBjb25maWcgPSB7XG4gICAgd3JhcHBlcjogZWxlbWVudCxcbiAgICBjb250ZW50OiBjb250ZW50RWxlbWVudCxcbiAgICBsZXJwOiBkZWZhdWx0TGVycCxcbiAgICBkdXJhdGlvbjogMS4yLFxuICAgIG9yaWVudGF0aW9uOiAndmVydGljYWwnLFxuICAgIGdlc3R1cmVPcmllbnRhdGlvbjogJ3ZlcnRpY2FsJyxcbiAgICBzbW9vdGhXaGVlbDogdHJ1ZSxcbiAgICBzbW9vdGhUb3VjaDogZmFsc2UsXG4gICAgd2hlZWxNdWx0aXBsaWVyOiAxLjAsXG4gICAgdG91Y2hNdWx0aXBsaWVyOiAyLjAsXG4gICAgaW5maW5pdGU6IGZhbHNlLFxuICAgIC4uLm9wdGlvbnNcbiAgfTtcblxuICBkZWxldGUgY29uZmlnLndyYXBwZXI7XG4gIGRlbGV0ZSBjb25maWcuY29udGVudDtcblxuICB0cnkge1xuICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IExlbmlzKHtcbiAgICAgIHdyYXBwZXI6IGVsZW1lbnQsXG4gICAgICBjb250ZW50OiBjb250ZW50RWxlbWVudCxcbiAgICAgIC4uLmNvbmZpZ1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gcmFmKHRpbWUpIHtcbiAgICAgIGluc3RhbmNlLnJhZih0aW1lKTtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShyYWYpO1xuICAgIH1cbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmFmKTtcblxuICAgIGlmICh3aW5kb3cuZ3NhcCAmJiB3aW5kb3cuU2Nyb2xsVHJpZ2dlcikge1xuICAgICAgaW5zdGFuY2Uub24oJ3Njcm9sbCcsIFNjcm9sbFRyaWdnZXIudXBkYXRlKTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhgW1NNT09USC1TQ1JPTExdIFx1MjcxMyBDb250YWluZXIgc2Nyb2xsIGluaXRpYWxpemVkIGZvciAke3R5cGVvZiBjb250YWluZXIgPT09ICdzdHJpbmcnID8gY29udGFpbmVyIDogZWxlbWVudC5jbGFzc05hbWUgfHwgJ2VsZW1lbnQnfWApO1xuICAgIHJldHVybiBpbnN0YW5jZTtcblxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbU01PT1RILVNDUk9MTF0gXHUyNzRDIENvbnRhaW5lciBzY3JvbGwgaW5pdCBlcnJvcjonLCBlcnIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG4iLCAiLyoqXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogIE1jQ2FubiBXZWJzaXRlIFx1MjAxNCBMaWdodGJveCBNb2R1bGVcbiAqICBQdXJwb3NlOiBEeW5hbWljIHByb2plY3QgbGlnaHRib3ggd2l0aCBKU09OIGRhdGEgYW5kIHN0YXRlIG1hY2hpbmVcbiAqICBEYXRlOiAyMDI1LTExLTA2XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7IGVtaXQgfSBmcm9tICcuLi9jb3JlL2V2ZW50cy5qcyc7XG5pbXBvcnQgeyBsb2NrU2Nyb2xsLCB1bmxvY2tTY3JvbGwgfSBmcm9tICcuLi9jb3JlL3Njcm9sbGxvY2suanMnO1xuaW1wb3J0IHsgbW91bnRWaW1lbyB9IGZyb20gJy4vdmltZW8uanMnO1xuaW1wb3J0IHsgaW5pdENvbnRhaW5lclNjcm9sbCB9IGZyb20gJy4vc21vb3RoLXNjcm9sbC5qcyc7XG5pbXBvcnQgcHJvamVjdERhdGFKc29uIGZyb20gJy4uL2RhdGEvcHJvamVjdC1kYXRhLmpzb24nO1xuXG5jb25zb2xlLmxvZygnW0xJR0hUQk9YXSBNb2R1bGUgbG9hZGVkJyk7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU1RBVEUgTUFDSElORVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmNvbnN0IFNUQVRFID0ge1xuICBJRExFOiAnaWRsZScsXG4gIE9QRU5JTkc6ICdvcGVuaW5nJyxcbiAgT1BFTjogJ29wZW4nLFxuICBDTE9TSU5HOiAnY2xvc2luZydcbn07XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gTU9EVUxFIFNUQVRFXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxubGV0IGN1cnJlbnRTdGF0ZSA9IFNUQVRFLklETEU7XG5sZXQgcHJvamVjdERhdGEgPSBudWxsO1xubGV0IGxhc3RGb2N1cyA9IG51bGw7XG5sZXQgb3ZlcmxheUxlbmlzID0gbnVsbDtcbmxldCBkZXRhaWxzT3BlbiA9IGZhbHNlOyAvLyBUcmFjayBkZXRhaWxzIG92ZXJsYXkgc3RhdGVcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRMaWdodGJveCh7IFxuICByb290ID0gJyNsaWdodGJveCcsXG4gIG9wZW5EdXJhdGlvbiA9IDE1MDAsXG4gIGNsb3NlRHVyYXRpb24gPSAxNTAwXG59ID0ge30pIHtcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFNFVFVQICYgRE9NIFJFRkVSRU5DRVNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFxuICBjb25zdCBsYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iocm9vdCk7XG4gIGlmICghbGIpIHsgXG4gICAgY29uc29sZS5sb2coJ1tMSUdIVEJPWF0gXHUyNzRDIEVsZW1lbnQgbm90IGZvdW5kJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgaW5uZXIgPSBsYi5xdWVyeVNlbGVjdG9yKCcubGlnaHRib3hfX2lubmVyJyk7XG4gIGNvbnN0IHZpZGVvQXJlYSA9IGxiLnF1ZXJ5U2VsZWN0b3IoJy52aWRlby1hcmVhJyk7XG4gIGNvbnN0IG92ZXJsYXkgPSBsYi5xdWVyeVNlbGVjdG9yKCcubGlnaHRib3hfX292ZXJsYXknKTtcbiAgY29uc3QgY2xvc2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2xvc2UtYnRuJyk7XG4gIGNvbnN0IGRldGFpbHNCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGV0YWlscy1idG4nKTtcbiAgY29uc3Qgc2xpZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNsaWRlJyk7XG4gIGNvbnN0IHByZWZlcnNSZWR1Y2VkID0gbWF0Y2hNZWRpYSgnKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IHJlZHVjZSknKS5tYXRjaGVzO1xuXG4gIGNvbnN0IGNsaWVudEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xpZ2h0Ym94LWNsaWVudCcpO1xuICBjb25zdCB0aXRsZUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xpZ2h0Ym94LXRpdGxlJyk7XG4gIGNvbnN0IHRydXRoRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGlnaHRib3gtdHJ1dGgnKTtcbiAgY29uc3QgdHJ1dGhXZWxsVG9sZEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xpZ2h0Ym94LXRydXRod2VsbHRvbGQnKTtcbiAgY29uc3QgZGVzY3JpcHRpb25FbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsaWdodGJveC1kZXNjcmlwdGlvbicpO1xuICBjb25zdCBpbXBhY3RFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsaWdodGJveC1pbXBhY3QnKTtcbiAgY29uc3QgYXdhcmRzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xpZ2h0Ym94LWF3YXJkcycpO1xuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBJTklUSUFMSVpBVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgXG4gIC8vIEVuc3VyZSBsaWdodGJveCBpcyBoaWRkZW4gaW5pdGlhbGx5IChmYWlsLXNhZmUpXG4gIGxiLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIGxiLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gIFxuICBsYi5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCBsYi5nZXRBdHRyaWJ1dGUoJ3JvbGUnKSB8fCAnZGlhbG9nJyk7XG4gIGxiLnNldEF0dHJpYnV0ZSgnYXJpYS1tb2RhbCcsIGxiLmdldEF0dHJpYnV0ZSgnYXJpYS1tb2RhbCcpIHx8ICd0cnVlJyk7XG4gIGxiLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICBsYi5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3RhdGUnLCBTVEFURS5JRExFKTtcbiAgXG4gIC8vIEVuc3VyZSBzY3JvbGwgaXMgdW5sb2NrZWQgb24gaW5pdCAoZmFpbC1zYWZlKVxuICB1bmxvY2tTY3JvbGwoeyBkZWxheU1zOiAwIH0pO1xuICBcbiAgLy8gRXh0cmEgZmFpbC1zYWZlOiBlbnN1cmUgYm9keSBhbmQgd3JhcHBlciBhcmUgbm90IGxvY2tlZFxuICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsLW9wZW4nLCAncHJlbG9hZGVyLWFjdGl2ZScpO1xuICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJyc7XG4gIGNvbnN0IHBlcnNwZWN0aXZlV3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wZXJzcGVjdGl2ZS13cmFwcGVyJyk7XG4gIGlmIChwZXJzcGVjdGl2ZVdyYXBwZXIpIHtcbiAgICBwZXJzcGVjdGl2ZVdyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtb3BlbicpO1xuICAgIHBlcnNwZWN0aXZlV3JhcHBlci5zdHlsZS5vdmVyZmxvdyA9ICcnO1xuICB9XG4gIFxuICAvLyBVc2UgcHJvamVjdCBkYXRhIGZyb20gc2xpZGVzIG1vZHVsZSAoc2luZ2xlIHNvdXJjZSBvZiB0cnV0aClcbiAgLy8gRmFsbHMgYmFjayB0byBkaXJlY3QgaW1wb3J0IGlmIHNsaWRlcyBtb2R1bGUgaGFzbid0IGluaXRpYWxpemVkIHlldFxuICBwcm9qZWN0RGF0YSA9ICh3aW5kb3cuQXBwPy5zbGlkZXM/LmdldFByb2plY3REYXRhPy4oKSkgfHwgcHJvamVjdERhdGFKc29uO1xuICBjb25zdCBwcm9qZWN0Q291bnQgPSBPYmplY3Qua2V5cyhwcm9qZWN0RGF0YSkubGVuZ3RoO1xuICBjb25zdCBkYXRhU291cmNlID0gd2luZG93LkFwcD8uc2xpZGVzPy5nZXRQcm9qZWN0RGF0YSA/ICdzbGlkZXMgbW9kdWxlJyA6ICdidW5kbGVkIEpTT04nO1xuICBjb25zb2xlLmxvZyhgW0xJR0hUQk9YXSBcdTI3MTMgTG9hZGVkICR7cHJvamVjdENvdW50fSBwcm9qZWN0JHtwcm9qZWN0Q291bnQgIT09IDEgPyAncycgOiAnJ30gZnJvbSAke2RhdGFTb3VyY2V9YCk7XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFZBTElEQVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFxuICBjb25zb2xlLmxvZygnXFxuXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxJyk7XG4gIGNvbnNvbGUubG9nKCdcdUQ4M0RcdUREMEQgTElHSFRCT1ggU0VUVVAgVkFMSURBVElPTicpO1xuICBjb25zb2xlLmxvZygnXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXFxuJyk7XG5cbiAgLy8gVHJhY2sgdmFsaWRhdGlvbiBzdGF0dXNcbiAgbGV0IHZhbGlkYXRpb25FcnJvcnMgPSBbXTtcbiAgbGV0IHZhbGlkYXRpb25XYXJuaW5ncyA9IFtdO1xuXG4gIGNvbnNvbGUubG9nKCcxXHVGRTBGXHUyMEUzICBNYWluIENvbnRhaW5lciAmIFN0cnVjdHVyZScpO1xuICBjb25zb2xlLmxvZyhgICAgXHUyNzEzIEZvdW5kOiAke3Jvb3R9YCk7XG4gIGNvbnNvbGUubG9nKGAgICBcdTI3MTMgU3RhdGUgbWFjaGluZSBpbml0aWFsaXplZDogJHtjdXJyZW50U3RhdGV9YCk7XG4gIGNvbnNvbGUubG9nKGAgICBcdTIzRjFcdUZFMEYgIE9wZW4gZHVyYXRpb246ICR7b3BlbkR1cmF0aW9ufW1zIChtdXN0IG1hdGNoIFdlYmZsb3cgJ2xiOnNob3cnIGFuaW1hdGlvbilgKTtcbiAgY29uc29sZS5sb2coYCAgIFx1MjNGMVx1RkUwRiAgQ2xvc2UgZHVyYXRpb246ICR7Y2xvc2VEdXJhdGlvbn1tcyAobXVzdCBtYXRjaCBXZWJmbG93ICdsYjpoaWRlJyBhbmltYXRpb24pYCk7XG4gIFxuICAvLyBDaGVjayBjcml0aWNhbCBzdHJ1Y3R1cmUgZWxlbWVudHNcbiAgaWYgKGlubmVyKSB7XG4gICAgY29uc29sZS5sb2coYCAgIFx1MjcxMyAubGlnaHRib3hfX2lubmVyIGZvdW5kYCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5sb2coYCAgIFx1Mjc0QyAubGlnaHRib3hfX2lubmVyIE5PVCBmb3VuZGApO1xuICAgIHZhbGlkYXRpb25FcnJvcnMucHVzaCgnLmxpZ2h0Ym94X19pbm5lciBtaXNzaW5nJyk7XG4gIH1cbiAgXG4gIGlmIChvdmVybGF5KSB7XG4gICAgY29uc29sZS5sb2coYCAgIFx1MjcxMyAubGlnaHRib3hfX292ZXJsYXkgZm91bmQgKHNtb290aCBzY3JvbGwgY29udGFpbmVyKWApO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKGAgICBcdTI2QTBcdUZFMEYgIC5saWdodGJveF9fb3ZlcmxheSBOT1QgZm91bmQgKHNtb290aCBzY3JvbGwgd2lsbCBiZSBza2lwcGVkKWApO1xuICAgIHZhbGlkYXRpb25XYXJuaW5ncy5wdXNoKCcubGlnaHRib3hfX292ZXJsYXkgbWlzc2luZycpO1xuICB9XG4gIFxuICBpZiAodmlkZW9BcmVhKSB7XG4gICAgY29uc29sZS5sb2coYCAgIFx1MjcxMyAudmlkZW8tYXJlYSBmb3VuZGApO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKGAgICBcdTI3NEMgLnZpZGVvLWFyZWEgTk9UIGZvdW5kYCk7XG4gICAgdmFsaWRhdGlvbkVycm9ycy5wdXNoKCcudmlkZW8tYXJlYSBtaXNzaW5nJyk7XG4gIH1cbiAgXG4gIGNvbnNvbGUubG9nKCdcXG4yXHVGRTBGXHUyMEUzICBDb250ZW50IEluamVjdGlvbiBUYXJnZXRzJyk7XG4gIGNvbnN0IGNvbnRlbnRUYXJnZXRzID0gW1xuICAgIHsgZWw6IGNsaWVudEVsLCBpZDogJyNsaWdodGJveC1jbGllbnQnLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHsgZWw6IHRpdGxlRWwsIGlkOiAnI2xpZ2h0Ym94LXRpdGxlJywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICB7IGVsOiB0cnV0aEVsLCBpZDogJyNsaWdodGJveC10cnV0aCcsIHJlcXVpcmVkOiBmYWxzZSB9LFxuICAgIHsgZWw6IHRydXRoV2VsbFRvbGRFbCwgaWQ6ICcjbGlnaHRib3gtdHJ1dGh3ZWxsdG9sZCcsIHJlcXVpcmVkOiBmYWxzZSB9LFxuICAgIHsgZWw6IGRlc2NyaXB0aW9uRWwsIGlkOiAnI2xpZ2h0Ym94LWRlc2NyaXB0aW9uJywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICB7IGVsOiBpbXBhY3RFbCwgaWQ6ICcjbGlnaHRib3gtaW1wYWN0JywgcmVxdWlyZWQ6IGZhbHNlIH0sXG4gICAgeyBlbDogYXdhcmRzQ29udGFpbmVyLCBpZDogJyNsaWdodGJveC1hd2FyZHMnLCByZXF1aXJlZDogdHJ1ZSB9XG4gIF07XG4gIFxuICBjb250ZW50VGFyZ2V0cy5mb3JFYWNoKCh7IGVsLCBpZCwgcmVxdWlyZWQgfSkgPT4ge1xuICAgIGlmIChlbCkge1xuICAgICAgY29uc29sZS5sb2coYCAgIFx1MjcxMyAke2lkfWApO1xuICAgIH0gZWxzZSBpZiAocmVxdWlyZWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKGAgICBcdTI3NEMgJHtpZH0gTk9UIGZvdW5kIChSRVFVSVJFRClgKTtcbiAgICAgIHZhbGlkYXRpb25FcnJvcnMucHVzaChgJHtpZH0gbWlzc2luZ2ApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhgICAgXHUyNkEwXHVGRTBGICAke2lkfSBOT1QgZm91bmQgKG9wdGlvbmFsKWApO1xuICAgICAgdmFsaWRhdGlvbldhcm5pbmdzLnB1c2goYCR7aWR9IG1pc3NpbmdgKTtcbiAgICB9XG4gIH0pO1xuICBcbiAgY29uc29sZS5sb2coJ1xcbjNcdUZFMEZcdTIwRTMgIEludGVyYWN0aXZlIEVsZW1lbnRzJyk7XG4gIGlmIChjbG9zZUJ0bikge1xuICAgIGNvbnNvbGUubG9nKGAgICBcdTI3MTMgI2Nsb3NlLWJ0biBmb3VuZGApO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKGAgICBcdTI3NEMgI2Nsb3NlLWJ0biBOT1QgZm91bmRgKTtcbiAgICB2YWxpZGF0aW9uRXJyb3JzLnB1c2goJyNjbG9zZS1idG4gbWlzc2luZycpO1xuICB9XG4gIFxuICBjb25zb2xlLmxvZyhgXFxuNFx1RkUwRlx1MjBFMyAgU2xpZGUgVHJpZ2dlcnMgJiBMaW5rc2ApO1xuICBjb25zb2xlLmxvZyhgICAgJHtzbGlkZXMubGVuZ3RoID4gMCA/ICdcdTI3MTMnIDogJ1x1Mjc0Qyd9IEZvdW5kOiAke3NsaWRlcy5sZW5ndGh9IC5zbGlkZSBlbGVtZW50JHtzbGlkZXMubGVuZ3RoICE9PSAxID8gJ3MnIDogJyd9YCk7XG4gIFxuICBpZiAoc2xpZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHZhbGlkYXRpb25FcnJvcnMucHVzaCgnTm8gLnNsaWRlIGVsZW1lbnRzIGZvdW5kJyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gVmFsaWRhdGUgZWFjaCBzbGlkZSBoYXMgYSAuc2xpZGVfX2xpbmtcbiAgICBsZXQgc2xpZGVzV2l0aExpbmtzID0gMDtcbiAgICBsZXQgc2xpZGVzV2l0aG91dExpbmtzID0gW107XG4gICAgXG4gICAgc2xpZGVzLmZvckVhY2goKHNsaWRlLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgbGluayA9IHNsaWRlLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZV9fbGluaycpO1xuICAgICAgaWYgKGxpbmspIHtcbiAgICAgICAgc2xpZGVzV2l0aExpbmtzKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbGlkZXNXaXRob3V0TGlua3MucHVzaChpbmRleCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgY29uc29sZS5sb2coYCAgICR7c2xpZGVzV2l0aExpbmtzID09PSBzbGlkZXMubGVuZ3RoID8gJ1x1MjcxMycgOiAnXHUyNkEwXHVGRTBGJ30gJHtzbGlkZXNXaXRoTGlua3N9LyR7c2xpZGVzLmxlbmd0aH0gc2xpZGVzIGhhdmUgLnNsaWRlX19saW5rYCk7XG4gICAgXG4gICAgaWYgKHNsaWRlc1dpdGhvdXRMaW5rcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zb2xlLmxvZyhgICAgXHUyNkEwXHVGRTBGICBNaXNzaW5nIC5zbGlkZV9fbGluayBpbiBzbGlkZSBpbmRpY2VzOiAke3NsaWRlc1dpdGhvdXRMaW5rcy5qb2luKCcsICcpfWApO1xuICAgICAgdmFsaWRhdGlvbldhcm5pbmdzLnB1c2goYCR7c2xpZGVzV2l0aG91dExpbmtzLmxlbmd0aH0gc2xpZGVzIG1pc3NpbmcgLnNsaWRlX19saW5rYCk7XG4gICAgfVxuICB9XG4gIFxuICAvLyBWYWxpZGF0ZSBzbGlkZSBkYXRhIGltbWVkaWF0ZWx5IChkYXRhIGlzIGFscmVhZHkgbG9hZGVkKVxuICB2YWxpZGF0ZVNsaWRlRGF0YSgpO1xuICBcbiAgY29uc29sZS5sb2coJ1xcbjVcdUZFMEZcdTIwRTMgIFdlYmZsb3cgSVggU2V0dXAnKTtcbiAgY29uc3Qgd2ZJeCA9ICh3aW5kb3cuV2ViZmxvdyAmJiB3aW5kb3cuV2ViZmxvdy5yZXF1aXJlKVxuICAgID8gKHdpbmRvdy5XZWJmbG93LnJlcXVpcmUoJ2l4MycpIHx8IHdpbmRvdy5XZWJmbG93LnJlcXVpcmUoJ2l4MicpKVxuICAgIDogbnVsbDtcbiAgXG4gIGlmICh3Zkl4KSB7XG4gICAgY29uc3QgdmVyc2lvbiA9IHdpbmRvdy5XZWJmbG93LnJlcXVpcmUoJ2l4MycpID8gJ0lYMycgOiAnSVgyJztcbiAgICBjb25zb2xlLmxvZyhgICAgXHUyNzEzIFdlYmZsb3cgJHt2ZXJzaW9ufSBkZXRlY3RlZGApO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKCcgICBcdTI2QTBcdUZFMEYgIFdlYmZsb3cgSVggTk9UIGRldGVjdGVkJyk7XG4gICAgdmFsaWRhdGlvbldhcm5pbmdzLnB1c2goJ1dlYmZsb3cgSVggbm90IGRldGVjdGVkJyk7XG4gIH1cbiAgXG4gIGNvbnNvbGUubG9nKCdcXG4gICBcdUQ4M0RcdURDQ0IgUmVxdWlyZWQgQ3VzdG9tIEV2ZW50cyBpbiBXZWJmbG93OicpO1xuICBjb25zb2xlLmxvZygnICAgICAgXHUyMDIyIFwibGI6c2hvd1wiIFx1MjE5MiB0cmlnZ2VycyBvcGVuIGFuaW1hdGlvbicpO1xuICBjb25zb2xlLmxvZygnICAgICAgXHUyMDIyIFwibGI6aGlkZVwiIFx1MjE5MiB0cmlnZ2VycyBjbG9zZSBhbmltYXRpb24nKTtcbiAgY29uc29sZS5sb2coYCAgICAgIFx1MjAyMiBEdXJhdGlvbnMgTVVTVCBtYXRjaDogb3Blbj0ke29wZW5EdXJhdGlvbn1tcywgY2xvc2U9JHtjbG9zZUR1cmF0aW9ufW1zYCk7XG4gIFxuICBjb25zb2xlLmxvZygnXFxuXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxJyk7XG4gIFxuICAvLyBTdW1tYXJ5XG4gIGlmICh2YWxpZGF0aW9uRXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICBjb25zb2xlLmxvZygnXHUyNzRDIFZBTElEQVRJT04gRkFJTEVEJyk7XG4gICAgY29uc29sZS5sb2coYCAgICR7dmFsaWRhdGlvbkVycm9ycy5sZW5ndGh9IGNyaXRpY2FsIGVycm9yJHt2YWxpZGF0aW9uRXJyb3JzLmxlbmd0aCAhPT0gMSA/ICdzJyA6ICcnfTpgKTtcbiAgICB2YWxpZGF0aW9uRXJyb3JzLmZvckVhY2goZXJyID0+IGNvbnNvbGUubG9nKGAgICBcdTIwMjIgJHtlcnJ9YCkpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKCdcdTI3MDUgVkFMSURBVElPTiBDT01QTEVURSAtIEFsbCBjcml0aWNhbCBlbGVtZW50cyBmb3VuZCcpO1xuICB9XG4gIFxuICBpZiAodmFsaWRhdGlvbldhcm5pbmdzLmxlbmd0aCA+IDApIHtcbiAgICBjb25zb2xlLmxvZyhgXFxuXHUyNkEwXHVGRTBGICAke3ZhbGlkYXRpb25XYXJuaW5ncy5sZW5ndGh9IHdhcm5pbmcke3ZhbGlkYXRpb25XYXJuaW5ncy5sZW5ndGggIT09IDEgPyAncycgOiAnJ306YCk7XG4gICAgdmFsaWRhdGlvbldhcm5pbmdzLmZvckVhY2god2FybiA9PiBjb25zb2xlLmxvZyhgICAgXHUyMDIyICR7d2Fybn1gKSk7XG4gIH1cbiAgXG4gIGNvbnNvbGUubG9nKCcnKTtcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gSEVMUEVSIEZVTkNUSU9OU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgXG4gIGZ1bmN0aW9uIHZhbGlkYXRlU2xpZGVEYXRhKCkge1xuICAgIGlmICghcHJvamVjdERhdGEpIHJldHVybjtcbiAgICBcbiAgICBsZXQgdmFsaWRTbGlkZXMgPSAwO1xuICAgIGxldCBtaXNzaW5nRGF0YSA9IFtdO1xuICAgIFxuICAgIHNsaWRlcy5mb3JFYWNoKChzbGlkZSwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IHByb2plY3RJZCA9IHNsaWRlLmRhdGFzZXQucHJvamVjdDtcbiAgICAgIGlmICghcHJvamVjdElkKSB7XG4gICAgICAgIG1pc3NpbmdEYXRhLnB1c2goYFNsaWRlICR7aW5kZXh9OiBtaXNzaW5nIGRhdGEtcHJvamVjdCBhdHRyaWJ1dGVgKTtcbiAgICAgIH0gZWxzZSBpZiAoIXByb2plY3REYXRhW3Byb2plY3RJZF0pIHtcbiAgICAgICAgbWlzc2luZ0RhdGEucHVzaChgU2xpZGUgJHtpbmRleH06IHByb2plY3QgSUQgXCIke3Byb2plY3RJZH1cIiBub3QgZm91bmQgaW4gSlNPTmApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcHJvamVjdCA9IHByb2plY3REYXRhW3Byb2plY3RJZF07XG4gICAgICAgIC8vIFZhbGlkYXRlIHJlcXVpcmVkIHZpZGVvIElEc1xuICAgICAgICBpZiAoIXByb2plY3QudmltZW9JZCB8fCBwcm9qZWN0LnZpbWVvSWQgPT09ICcwMDAwMDAwMDAnKSB7XG4gICAgICAgICAgbWlzc2luZ0RhdGEucHVzaChgU2xpZGUgJHtpbmRleH0gKCR7cHJvamVjdElkfSk6IG1pc3Npbmcgb3IgaW52YWxpZCB2aW1lb0lkYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwcm9qZWN0LnZpbWVvUHJldmlld0lkIHx8IHByb2plY3QudmltZW9QcmV2aWV3SWQgPT09ICcwMDAwMDAwMDAnKSB7XG4gICAgICAgICAgbWlzc2luZ0RhdGEucHVzaChgU2xpZGUgJHtpbmRleH0gKCR7cHJvamVjdElkfSk6IG1pc3Npbmcgb3IgaW52YWxpZCB2aW1lb1ByZXZpZXdJZGApO1xuICAgICAgICB9XG4gICAgICAgIHZhbGlkU2xpZGVzKys7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgY29uc29sZS5sb2coYFtMSUdIVEJPWF0gXHUyNzEzIFZhbGlkIHNsaWRlczogJHt2YWxpZFNsaWRlc30vJHtzbGlkZXMubGVuZ3RofWApO1xuICAgIGlmIChtaXNzaW5nRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1tMSUdIVEJPWF0gXHUyNkEwXHVGRTBGICBJc3N1ZXMgZm91bmQ6Jyk7XG4gICAgICBtaXNzaW5nRGF0YS5mb3JFYWNoKG1zZyA9PiBjb25zb2xlLndhcm4oYCAgIC0gJHttc2d9YCkpO1xuICAgIH1cbiAgfVxuICBcbiAgZnVuY3Rpb24gZW1pdFdlYmZsb3dFdmVudChuYW1lKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh3aW5kb3cuV2ViZmxvdyAmJiB3aW5kb3cuV2ViZmxvdy5yZXF1aXJlKSB7XG4gICAgICAgIGNvbnN0IHdmSXggPSB3aW5kb3cuV2ViZmxvdy5yZXF1aXJlKCdpeDMnKSB8fCB3aW5kb3cuV2ViZmxvdy5yZXF1aXJlKCdpeDInKTtcbiAgICAgICAgaWYgKHdmSXggJiYgdHlwZW9mIHdmSXguZW1pdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHdmSXguZW1pdChuYW1lKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgXHVEODNDXHVERkFDIFtMSUdIVEJPWF0gVHJpZ2dlcmVkIGFuaW1hdGlvbjogXCIke25hbWV9XCJgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYFx1MjZBMFx1RkUwRiAgW0xJR0hUQk9YXSBDYW5ub3QgZW1pdCBcIiR7bmFtZX1cIiAtIHdmSXguZW1pdCBub3QgYXZhaWxhYmxlYCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgXHUyNkEwXHVGRTBGICBbTElHSFRCT1hdIENhbm5vdCBlbWl0IFwiJHtuYW1lfVwiIC0gV2ViZmxvdyBJWCBub3QgYXZhaWxhYmxlYCk7XG4gICAgICB9XG4gICAgfSBjYXRjaChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFx1Mjc0QyBbTElHSFRCT1hdIEVycm9yIGVtaXR0aW5nIFwiJHtuYW1lfVwiOmAsIGVycik7XG4gICAgfVxuICAgIFxuICAgIC8vIEFsd2F5cyBlbWl0IHdpbmRvdyBldmVudCBmb3IgZXh0ZXJuYWwgbGlzdGVuZXJzXG4gICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KG5hbWUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFBhZ2VJbmVydChvbikge1xuICAgIGNvbnN0IHNpYmxpbmdzID0gQXJyYXkuZnJvbShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKS5maWx0ZXIobiA9PiBuICE9PSBsYik7XG4gICAgc2libGluZ3MuZm9yRWFjaChuID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICgnaW5lcnQnIGluIG4pIG4uaW5lcnQgPSAhIW9uO1xuICAgICAgfSBjYXRjaCB7fVxuICAgICAgaWYgKG9uKSBuLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgZWxzZSBuLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYXBGb2N1cyhlKSB7XG4gICAgaWYgKGUua2V5ICE9PSAnVGFiJykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGZvY3VzYWJsZXMgPSBsYi5xdWVyeVNlbGVjdG9yQWxsKFtcbiAgICAgICdhW2hyZWZdJywnYnV0dG9uJywnaW5wdXQnLCdzZWxlY3QnLCd0ZXh0YXJlYScsXG4gICAgICAnW3RhYmluZGV4XTpub3QoW3RhYmluZGV4PVwiLTFcIl0pJ1xuICAgIF0uam9pbignLCcpKTtcbiAgICBcbiAgICBjb25zdCBsaXN0ID0gQXJyYXkuZnJvbShmb2N1c2FibGVzKS5maWx0ZXIoXG4gICAgICBlbCA9PiAhZWwuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpICYmICFlbC5nZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJylcbiAgICApO1xuICAgIFxuICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkgeyBcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTsgXG4gICAgICAoaW5uZXIgfHwgbGIpLmZvY3VzKCk7IFxuICAgICAgcmV0dXJuOyBcbiAgICB9XG4gICAgXG4gICAgY29uc3QgZmlyc3QgPSBsaXN0WzBdO1xuICAgIGNvbnN0IGxhc3QgPSBsaXN0W2xpc3QubGVuZ3RoIC0gMV07XG4gICAgXG4gICAgaWYgKGUuc2hpZnRLZXkgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZmlyc3QpIHsgXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7IFxuICAgICAgbGFzdC5mb2N1cygpOyBcbiAgICB9IGVsc2UgaWYgKCFlLnNoaWZ0S2V5ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGxhc3QpIHsgXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7IFxuICAgICAgZmlyc3QuZm9jdXMoKTsgXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UHJvamVjdEJ5SWQoaWQpIHtcbiAgICBpZiAoIXByb2plY3REYXRhW2lkXSkge1xuICAgICAgY29uc29sZS5lcnJvcihgW0xJR0hUQk9YXSBcdTI3NEMgUHJvamVjdCBcIiR7aWR9XCIgbm90IGZvdW5kIGluIEpTT05gKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gcHJvamVjdERhdGFbaWRdO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyQXdhcmRzKGF3YXJkc0RhdGEpIHtcbiAgICBjb25zb2xlLmxvZyhgW0xJR0hUQk9YXSBcdUQ4M0NcdURGQzYgUmVuZGVyaW5nIGF3YXJkczogJHthd2FyZHNEYXRhPy5sZW5ndGggfHwgMH0gYXdhcmRzYCk7XG4gICAgXG4gICAgLy8gRmlyc3QgaGlkZSBhbGwgYXdhcmQgZWxlbWVudHNcbiAgICBjb25zdCBhbGxBd2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbaWRePVwiYXdhcmQtXCJdJyk7XG4gICAgYWxsQXdhcmRzLmZvckVhY2goZWwgPT4ge1xuICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9KTtcbiAgICBcbiAgICAvLyBJZiBubyBhd2FyZHMgZGF0YSwgd2UncmUgZG9uZVxuICAgIGlmICghYXdhcmRzRGF0YSB8fCBhd2FyZHNEYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc29sZS5sb2coJ1tMSUdIVEJPWF0gTm8gYXdhcmRzIHRvIGRpc3BsYXknKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gU2hvdyBhbmQgcG9wdWxhdGUgZWFjaCBhd2FyZFxuICAgIGF3YXJkc0RhdGEuZm9yRWFjaCgoYXdhcmQsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBhd2FyZEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGF3YXJkLSR7YXdhcmQudHlwZX1gKTtcbiAgICAgIFxuICAgICAgaWYgKCFhd2FyZEVsKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgW0xJR0hUQk9YXSBcdTI2QTBcdUZFMEYgIEF3YXJkIGVsZW1lbnQgI2F3YXJkLSR7YXdhcmQudHlwZX0gbm90IGZvdW5kIGluIERPTWApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFNob3cgdGhlIGF3YXJkIGVsZW1lbnRcbiAgICAgIGF3YXJkRWwuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgIFxuICAgICAgLy8gRmluZCBhbmQgcG9wdWxhdGUgdGhlIGxhYmVsXG4gICAgICBjb25zdCBsYWJlbEVsID0gYXdhcmRFbC5xdWVyeVNlbGVjdG9yKCcuYXdhcmRfX2xhYmVsJyk7XG4gICAgICBpZiAobGFiZWxFbCkge1xuICAgICAgICBsYWJlbEVsLnRleHRDb250ZW50ID0gYXdhcmQubGFiZWwgfHwgJyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oYFtMSUdIVEJPWF0gXHUyNkEwXHVGRTBGICBMYWJlbCBlbGVtZW50IG5vdCBmb3VuZCBmb3IgI2F3YXJkLSR7YXdhcmQudHlwZX1gKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYFtMSUdIVEJPWF0gXHUyNzEzIEF3YXJkICR7aW5kZXggKyAxfTogJHthd2FyZC50eXBlfSBkaXNwbGF5ZWRgKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIHdhaXRGb3JJbWFnZXMoaW1hZ2VVcmxzKSB7XG4gICAgaWYgKCFpbWFnZVVybHMgfHwgaW1hZ2VVcmxzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGBbTElHSFRCT1hdIFx1MjNGMyBMb2FkaW5nICR7aW1hZ2VVcmxzLmxlbmd0aH0gaW1hZ2VzLi4uYCk7XG4gICAgXG4gICAgY29uc3QgcHJvbWlzZXMgPSBpbWFnZVVybHMubWFwKHVybCA9PiB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICBpbWcuZGVjb2RlKClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHJlc29sdmUoKSlcbiAgICAgICAgICAgIC5jYXRjaCgoKSA9PiByZXNvbHZlKCkpOyAvLyBEZWNvZGUgZmFpbGVkLCBidXQgY29udGludWVcbiAgICAgICAgfTtcbiAgICAgICAgaW1nLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGBbTElHSFRCT1hdIFx1MjZBMFx1RkUwRiAgRmFpbGVkIHRvIGxvYWQgaW1hZ2U6ICR7dXJsfWApO1xuICAgICAgICAgIHJlc29sdmUoKTsgLy8gRG9uJ3QgYmxvY2sgb24gZmFpbGVkIGltYWdlc1xuICAgICAgICB9O1xuICAgICAgICBpbWcuc3JjID0gdXJsO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgIGNvbnNvbGUubG9nKGBbTElHSFRCT1hdIFx1MjcxMyBBbGwgaW1hZ2VzIGxvYWRlZGApO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gaW5qZWN0Q29udGVudChwcm9qZWN0KSB7XG4gICAgY29uc29sZS5sb2coYFtMSUdIVEJPWF0gXHVEODNEXHVEQ0REIEluamVjdGluZyBjb250ZW50IGZvcjogJHtwcm9qZWN0LnRpdGxlfWApO1xuICAgIFxuICAgIC8vIEluamVjdCB0ZXh0IGNvbnRlbnRcbiAgICBpZiAoY2xpZW50RWwpIGNsaWVudEVsLnRleHRDb250ZW50ID0gcHJvamVjdC5jbGllbnQgfHwgJyc7XG4gICAgaWYgKHRpdGxlRWwpIHRpdGxlRWwudGV4dENvbnRlbnQgPSBwcm9qZWN0LnRpdGxlIHx8ICcnO1xuICAgIGlmICh0cnV0aEVsKSB0cnV0aEVsLnRleHRDb250ZW50ID0gcHJvamVjdC50cnV0aCB8fCAnJztcbiAgICBpZiAodHJ1dGhXZWxsVG9sZEVsKSB0cnV0aFdlbGxUb2xkRWwudGV4dENvbnRlbnQgPSBwcm9qZWN0LnRydXRoV2VsbFRvbGQgfHwgJyc7XG4gICAgaWYgKGRlc2NyaXB0aW9uRWwpIGRlc2NyaXB0aW9uRWwudGV4dENvbnRlbnQgPSBwcm9qZWN0LmRlc2NyaXB0aW9uIHx8ICcnO1xuICAgIGlmIChpbXBhY3RFbCkgaW1wYWN0RWwudGV4dENvbnRlbnQgPSBwcm9qZWN0LmltcGFjdCB8fCAnJztcbiAgICBcbiAgICAvLyBSZW5kZXIgYXdhcmRzXG4gICAgcmVuZGVyQXdhcmRzKHByb2plY3QuYXdhcmRzIHx8IFtdKTtcbiAgICBcbiAgICAvLyBNb3VudCBWaW1lbyB2aWRlb1xuICAgIGlmICh2aWRlb0FyZWEpIHtcbiAgICAgIGlmICghcHJvamVjdC52aW1lb0lkIHx8IHByb2plY3QudmltZW9JZCA9PT0gJzAwMDAwMDAwMCcpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgW0xJR0hUQk9YXSBcdTI3NEMgTWlzc2luZyBvciBpbnZhbGlkIHZpbWVvSWQgZm9yIHByb2plY3QgXCIke3Byb2plY3RJZH1cImApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbW91bnRWaW1lbyh2aWRlb0FyZWEsIHByb2plY3QudmltZW9JZCwgeyBcbiAgICAgICAgICBhdXRvcGxheTogMSwgXG4gICAgICAgICAgbXV0ZWQ6IDEsXG4gICAgICAgICAgYXV0b3BhdXNlOiAwLFxuICAgICAgICAgIGNvbnRyb2xzOiAwLCBcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAxLFxuICAgICAgICAgIHBsYXlzaW5saW5lOiAxLCBcbiAgICAgICAgICBsb29wOiAxLFxuICAgICAgICAgIGRudDogMSBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIE5vIG5lZWQgdG8gd2FpdCBmb3IgYXdhcmQgaW1hZ2VzIC0gdGhleSdyZSBhbHJlYWR5IGluIHRoZSBET00gZnJvbSBXZWJmbG93XG4gICAgLy8gVGhlIHJlbmRlckF3YXJkcyBmdW5jdGlvbiBqdXN0IHNob3dzL2hpZGVzIGV4aXN0aW5nIGVsZW1lbnRzXG4gICAgXG4gICAgY29uc29sZS5sb2coYFtMSUdIVEJPWF0gXHUyNzEzIENvbnRlbnQgaW5qZWN0ZWRgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFN0YXRlKG5ld1N0YXRlKSB7XG4gICAgY3VycmVudFN0YXRlID0gbmV3U3RhdGU7XG4gICAgbGIuc2V0QXR0cmlidXRlKCdkYXRhLXN0YXRlJywgbmV3U3RhdGUpO1xuICAgIGNvbnNvbGUubG9nKGBbTElHSFRCT1hdIFN0YXRlOiAke25ld1N0YXRlfWApO1xuICB9XG5cbiAgZnVuY3Rpb24gZGlzYWJsZVNsaWRlSW50ZXJhY3Rpb25zKCkge1xuICAgIHNsaWRlcy5mb3JFYWNoKHNsaWRlID0+IHtcbiAgICAgIGNvbnN0IGxpbmsgPSBzbGlkZS5xdWVyeVNlbGVjdG9yKCcuc2xpZGVfX2xpbmsnKTtcbiAgICAgIGlmIChsaW5rKSB7XG4gICAgICAgIGxpbmsuY2xhc3NMaXN0LmFkZCgnaXMtZGlzYWJsZWQnKTtcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAgICAgICBsaW5rLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7IC8vIEV4dHJhIHNhZmV0eSBhZ2FpbnN0IHJhY2UgY29uZGl0aW9uc1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKCdbTElHSFRCT1hdIFx1RDgzRFx1REVBQiBTbGlkZSBsaW5rcyBkaXNhYmxlZCcpO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5hYmxlU2xpZGVJbnRlcmFjdGlvbnMoKSB7XG4gICAgc2xpZGVzLmZvckVhY2goc2xpZGUgPT4ge1xuICAgICAgY29uc3QgbGluayA9IHNsaWRlLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZV9fbGluaycpO1xuICAgICAgaWYgKGxpbmspIHtcbiAgICAgICAgbGluay5jbGFzc0xpc3QucmVtb3ZlKCdpcy1kaXNhYmxlZCcpO1xuICAgICAgICBsaW5rLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcpO1xuICAgICAgICBsaW5rLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnJzsgLy8gUmVzdG9yZSBwb2ludGVyIGV2ZW50c1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKCdbTElHSFRCT1hdIFx1MjcxMyBTbGlkZSBsaW5rcyByZS1lbmFibGVkJyk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gQ09SRSBGVU5DVElPTlNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFxuICBhc3luYyBmdW5jdGlvbiBvcGVuRnJvbVNsaWRlKHNsaWRlKSB7XG4gICAgLy8gR3VhcmQ6IG9ubHkgb3BlbiBmcm9tIElETEUgc3RhdGVcbiAgICBpZiAoY3VycmVudFN0YXRlICE9PSBTVEFURS5JRExFKSB7XG4gICAgICBjb25zb2xlLmxvZygnW0xJR0hUQk9YXSBcdTI2QTBcdUZFMEYgIENhbm5vdCBvcGVuIC0gYWxyZWFkeSBvcGVuaW5nL29wZW4vY2xvc2luZycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBWYWxpZGF0ZSBkYXRhLXByb2plY3QgYXR0cmlidXRlXG4gICAgY29uc3QgcHJvamVjdElkID0gc2xpZGU/LmRhdGFzZXQ/LnByb2plY3Q7XG4gICAgaWYgKCFwcm9qZWN0SWQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tMSUdIVEJPWF0gXHUyNzRDIFNsaWRlIG1pc3NpbmcgZGF0YS1wcm9qZWN0IGF0dHJpYnV0ZScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBHZXQgcHJvamVjdCBkYXRhXG4gICAgY29uc3QgcHJvamVjdCA9IGdldFByb2plY3RCeUlkKHByb2plY3RJZCk7XG4gICAgaWYgKCFwcm9qZWN0KSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBbTElHSFRCT1hdIFx1Mjc0QyBQcm9qZWN0IFwiJHtwcm9qZWN0SWR9XCIgbm90IGZvdW5kIGluIEpTT05gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hhbmdlIHN0YXRlIHRvIE9QRU5JTkcgaW1tZWRpYXRlbHkgKHN5bmNocm9ub3VzbHkpIHRvIHByZXZlbnQgZG91YmxlLXRyaWdnZXJcbiAgICBzZXRTdGF0ZShTVEFURS5PUEVOSU5HKTtcbiAgICBcbiAgICAvLyBEaXNhYmxlIHBvaW50ZXIgZXZlbnRzIG9uIGFsbCBzbGlkZXMgaW1tZWRpYXRlbHlcbiAgICBkaXNhYmxlU2xpZGVJbnRlcmFjdGlvbnMoKTtcbiAgICBcbiAgICAvLyBTYXZlIGZvY3VzIGZvciByZXN0b3JhdGlvblxuICAgIGxhc3RGb2N1cyA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCA/IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgOiBudWxsO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBJbmplY3QgY29udGVudCBhbmQgd2FpdCBmb3IgaW1hZ2VzIHRvIGxvYWRcbiAgICAgIGF3YWl0IGluamVjdENvbnRlbnQocHJvamVjdCk7XG4gICAgICBcbiAgICAgIC8vIExvY2sgc2Nyb2xsIGFuZCBtYWtlIGJhY2tncm91bmQgaW5lcnRcbiAgICAgIHNldFBhZ2VJbmVydCh0cnVlKTtcbiAgICAgIGxvY2tTY3JvbGwoKTtcbiAgICAgIFxuICAgICAgLy8gU3RvcCBzbW9vdGggc2Nyb2xsIGlmIGFjdGl2ZVxuICAgICAgaWYgKHdpbmRvdy5BcHA/LnNtb290aFNjcm9sbD8uc3RvcCkge1xuICAgICAgICB3aW5kb3cuQXBwLnNtb290aFNjcm9sbC5zdG9wKCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBBUklBXG4gICAgICBsYi5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgICBcbiAgICAgIC8vIEVuYWJsZSBwb2ludGVyIGV2ZW50cyBvbiBsaWdodGJveCAod2FzIGRpc2FibGVkIG9uIGluaXQpXG4gICAgICBsYi5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuICAgICAgXG4gICAgICAvLyBUcmlnZ2VyIEdTQVAgb3BlbiBhbmltYXRpb24gdmlhIFdlYmZsb3cgSVhcbiAgICAgIC8vIEdTQVAgd2lsbCBoYW5kbGUgdmlzaWJpbGl0eSAob3BhY2l0eSwgZGlzcGxheSwgZXRjLilcbiAgICAgIGVtaXRXZWJmbG93RXZlbnQoJ2xiOnNob3cnKTtcbiAgICAgIFxuICAgICAgLy8gV2FpdCBmb3IgR1NBUCBhbmltYXRpb24gdG8gY29tcGxldGUsIHRoZW4gY2FsbCBmaW5pc2hPcGVuXG4gICAgICAvLyBJTVBPUlRBTlQ6IFRoaXMgZHVyYXRpb24gTVVTVCBtYXRjaCBXZWJmbG93IElYMyBhbmltYXRpb24gZHVyYXRpb25cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBmaW5pc2hPcGVuKCk7XG4gICAgICB9LCBvcGVuRHVyYXRpb24pO1xuICAgICAgXG4gICAgICAvLyBFbWl0IGV2ZW50IGZvciBleHRlcm5hbCBsaXN0ZW5lcnNcbiAgICAgIGVtaXQoJ0xJR0hUQk9YX09QRU4nLCBsYiwgcHJvamVjdCk7XG4gICAgICBcbiAgICB9IGNhdGNoKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW0xJR0hUQk9YXSBcdTI3NEMgRXJyb3Igb3BlbmluZzonLCBlcnIpO1xuICAgICAgLy8gUmV2ZXJ0IHRvIElETEUgb24gZXJyb3JcbiAgICAgIHNldFN0YXRlKFNUQVRFLklETEUpO1xuICAgICAgZW5hYmxlU2xpZGVJbnRlcmFjdGlvbnMoKTsgLy8gUmUtZW5hYmxlIG9uIGVycm9yXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZmluaXNoT3BlbigpIHtcbiAgICBjb25zb2xlLmxvZygnW0xJR0hUQk9YXSBcdTI3MTMgT3BlbiBhbmltYXRpb24gY29tcGxldGUnKTtcbiAgICBcbiAgICAvLyBDaGFuZ2Ugc3RhdGUgdG8gT1BFTiBcdTIxOTIgYWxsb3cgY2xvc2luZ1xuICAgIHNldFN0YXRlKFNUQVRFLk9QRU4pO1xuICAgIFxuICAgIC8vIEluaXRpYWxpemUgc21vb3RoIHNjcm9sbCBmb3Igb3ZlcmxheSBpZiBpdCBleGlzdHNcbiAgICAvLyBDUklUSUNBTDogRW5zdXJlIG92ZXJsYXkgaXMgYWx3YXlzIHNjcm9sbGFibGUgYW5kIGNsaWNrYWJsZVxuICAgIGlmIChvdmVybGF5KSB7XG4gICAgICBvdmVybGF5LnN0eWxlLnBvaW50ZXJFdmVudHMgPSBkZXRhaWxzT3BlbiA/ICdhdXRvJyA6ICdub25lJztcbiAgICAgIG92ZXJsYXkuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG4gICAgICBcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIG92ZXJsYXlMZW5pcyA9IGluaXRDb250YWluZXJTY3JvbGwob3ZlcmxheSwge1xuICAgICAgICAgIGxlcnA6IDAuMDgsXG4gICAgICAgICAgc21vb3RoV2hlZWw6IHRydWUsXG4gICAgICAgICAgc21vb3RoVG91Y2g6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vIFNldCBmb2N1cyB0byBsaWdodGJveCBmb3Iga2V5Ym9hcmQgbmF2aWdhdGlvblxuICAgIGxiLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgKGlubmVyIHx8IGxiKS5mb2N1cygpO1xuICAgIH0pO1xuICAgIFxuICAgIGVtaXQoJ0xJR0hUQk9YX09QRU5FRCcsIGxiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlcXVlc3RDbG9zZSgpIHtcbiAgICAvLyBHdWFyZDogb25seSBjbG9zZSBmcm9tIE9QRU4gc3RhdGVcbiAgICBpZiAoY3VycmVudFN0YXRlICE9PSBTVEFURS5PUEVOKSB7XG4gICAgICBjb25zb2xlLmxvZygnW0xJR0hUQk9YXSBcdTI2QTBcdUZFMEYgIENhbm5vdCBjbG9zZSAtIG5vdCBvcGVuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIENoYW5nZSBzdGF0ZSB0byBDTE9TSU5HXG4gICAgc2V0U3RhdGUoU1RBVEUuQ0xPU0lORyk7XG4gICAgXG4gICAgLy8gRW1pdCBldmVudCBmb3IgZXh0ZXJuYWwgbGlzdGVuZXJzXG4gICAgZW1pdCgnTElHSFRCT1hfQ0xPU0UnLCBsYik7XG4gICAgXG4gICAgLy8gVHJpZ2dlciBHU0FQIGNsb3NlIGFuaW1hdGlvbiB2aWEgV2ViZmxvdyBJWFxuICAgIC8vIEdTQVAgd2lsbCBoYW5kbGUgdmlzaWJpbGl0eSAoZmFkZSBvdXQsIGV0Yy4pXG4gICAgZW1pdFdlYmZsb3dFdmVudCgnbGI6aGlkZScpO1xuICAgIFxuICAgIC8vIENhbGN1bGF0ZSBkZWxheSBiYXNlZCBvbiB1c2VyJ3MgbW90aW9uIHByZWZlcmVuY2VcbiAgICBjb25zdCBoaWRlRGVsYXkgPSBwcmVmZXJzUmVkdWNlZCA/IDAgOiBjbG9zZUR1cmF0aW9uO1xuICAgIFxuICAgIC8vIFdhaXQgZm9yIEdTQVAgYW5pbWF0aW9uIHRvIGNvbXBsZXRlLCB0aGVuIGNhbGwgZmluaXNoQ2xvc2VcbiAgICAvLyBJTVBPUlRBTlQ6IFRoaXMgZHVyYXRpb24gTVVTVCBtYXRjaCBXZWJmbG93IElYMyBhbmltYXRpb24gZHVyYXRpb25cbiAgICAvLyBBbGwgY2xlYW51cCBoYXBwZW5zIGluc2lkZSBmaW5pc2hDbG9zZSgpIGZvciBndWFyYW50ZWVkIHNlcXVlbmNpbmdcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGZpbmlzaENsb3NlKCk7XG4gICAgfSwgaGlkZURlbGF5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaENsb3NlKCkge1xuICAgIGNvbnNvbGUubG9nKCdbTElHSFRCT1hdIFx1MjcxMyBDbG9zZSBhbmltYXRpb24gY29tcGxldGUnKTtcbiAgICBcbiAgICAvLyBVcGRhdGUgQVJJQVxuICAgIGxiLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgIFxuICAgIC8vIE1ha2UgcGFnZSBhY2Nlc3NpYmxlIGFnYWluXG4gICAgc2V0UGFnZUluZXJ0KGZhbHNlKTtcbiAgICBcbiAgICAvLyBEZXN0cm95IG92ZXJsYXkgc21vb3RoIHNjcm9sbCBpbnN0YW5jZSBGSVJTVCAoYmVmb3JlIHVubG9ja2luZyBzY3JvbGwpXG4gICAgaWYgKG92ZXJsYXlMZW5pcykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgb3ZlcmxheUxlbmlzLmRlc3Ryb3koKTtcbiAgICAgICAgb3ZlcmxheUxlbmlzID0gbnVsbDtcbiAgICAgICAgY29uc29sZS5sb2coJ1tMSUdIVEJPWF0gXHUyNzEzIE92ZXJsYXkgc21vb3RoIHNjcm9sbCBkZXN0cm95ZWQnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1tMSUdIVEJPWF0gRXJyb3IgZGVzdHJveWluZyBvdmVybGF5IHNjcm9sbDonLCBlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBVbmxvY2sgc2Nyb2xsIChtdXN0IGhhcHBlbiBhZnRlciBvdmVybGF5IHNjcm9sbCBpcyBkZXN0cm95ZWQpXG4gICAgdW5sb2NrU2Nyb2xsKHsgZGVsYXlNczogMCB9KTtcbiAgICBjb25zb2xlLmxvZygnW0xJR0hUQk9YXSBcdTI3MTMgU2Nyb2xsIHVubG9ja2VkJyk7XG4gICAgXG4gICAgLy8gUmVzdGFydCBtYWluIHNtb290aCBzY3JvbGwgaWYgaXQgZXhpc3RzXG4gICAgaWYgKHdpbmRvdy5BcHA/LnNtb290aFNjcm9sbD8uc3RhcnQpIHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIHdpbmRvdy5BcHAuc21vb3RoU2Nyb2xsLnN0YXJ0KCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbTElHSFRCT1hdIFx1MjcxMyBNYWluIHNtb290aCBzY3JvbGwgcmVzdGFydGVkJyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gUmUtZW5hYmxlIHNsaWRlIGludGVyYWN0aW9ucyAoYWZ0ZXIgc2Nyb2xsIGlzIHVubG9ja2VkKVxuICAgIGVuYWJsZVNsaWRlSW50ZXJhY3Rpb25zKCk7XG4gICAgXG4gICAgLy8gQ2xlYXIgY29udGVudFxuICAgIGlmICh2aWRlb0FyZWEpIHZpZGVvQXJlYS5pbm5lckhUTUwgPSAnJztcbiAgICByZW5kZXJBd2FyZHMoW10pOyAvLyBIaWRlIGFsbCBhd2FyZHNcbiAgICBpZiAoY2xpZW50RWwpIGNsaWVudEVsLnRleHRDb250ZW50ID0gJyc7XG4gICAgaWYgKHRpdGxlRWwpIHRpdGxlRWwudGV4dENvbnRlbnQgPSAnJztcbiAgICBpZiAodHJ1dGhFbCkgdHJ1dGhFbC50ZXh0Q29udGVudCA9ICcnO1xuICAgIGlmICh0cnV0aFdlbGxUb2xkRWwpIHRydXRoV2VsbFRvbGRFbC50ZXh0Q29udGVudCA9ICcnO1xuICAgIGlmIChkZXNjcmlwdGlvbkVsKSBkZXNjcmlwdGlvbkVsLnRleHRDb250ZW50ID0gJyc7XG4gICAgaWYgKGltcGFjdEVsKSBpbXBhY3RFbC50ZXh0Q29udGVudCA9ICcnO1xuICAgIFxuICAgIC8vIFJlc2V0IGRldGFpbHMgb3ZlcmxheSBzdGF0ZVxuICAgIGlmIChkZXRhaWxzT3Blbikge1xuICAgICAgY2xvc2VEZXRhaWxzKHsgc2lsZW50OiB0cnVlIH0pO1xuICAgIH1cbiAgICBcbiAgICAvLyBEaXNhYmxlIHBvaW50ZXIgZXZlbnRzIG9uIGxpZ2h0Ym94IChoaWRlIGl0IGNvbXBsZXRlbHkpXG4gICAgbGIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBsYi5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuICAgIFxuICAgIC8vIFJlc3RvcmUgZm9jdXMgdG8gZWxlbWVudCB0aGF0IG9wZW5lZCBsaWdodGJveFxuICAgIGlmIChsYXN0Rm9jdXMgJiYgZG9jdW1lbnQuYm9keS5jb250YWlucyhsYXN0Rm9jdXMpKSB7XG4gICAgICBsYXN0Rm9jdXMuZm9jdXMoKTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hhbmdlIHN0YXRlIHRvIElETEUgXHUyMTkyIHJlYWR5IHRvIG9wZW4gYWdhaW4gKExBU1QgU1RFUClcbiAgICBzZXRTdGF0ZShTVEFURS5JRExFKTtcbiAgICBcbiAgICBlbWl0KCdMSUdIVEJPWF9DTE9TRUQnLCBsYik7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gRVZFTlQgTElTVEVORVJTXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBcbiAgLy8gVXNlIGV2ZW50IGRlbGVnYXRpb24gZm9yIHNsaWRlIGxpbmsgY2xpY2tzIChtb3JlIHNjYWxhYmxlKVxuICBjb25zdCBzbGlkZXNDb250YWluZXIgPSBzbGlkZXNbMF0/LnBhcmVudEVsZW1lbnQ7XG4gIFxuICBmdW5jdGlvbiBoYW5kbGVTbGlkZUNsaWNrKGUpIHtcbiAgICAvLyBGaW5kIGNsaWNrZWQgLnNsaWRlX19saW5rXG4gICAgY29uc3QgbGluayA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5zbGlkZV9fbGluaycpO1xuICAgIGlmICghbGluaykgcmV0dXJuO1xuICAgIFxuICAgIC8vIEVhcmx5IHN0YXRlIGNoZWNrIC0gcHJldmVudCBhbnkgaW50ZXJhY3Rpb24gaWYgbm90IElETEVcbiAgICBpZiAoY3VycmVudFN0YXRlICE9PSBTVEFURS5JRExFKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBGaW5kIHBhcmVudCAuc2xpZGVcbiAgICBjb25zdCBzbGlkZSA9IGxpbmsuY2xvc2VzdCgnLnNsaWRlJyk7XG4gICAgaWYgKCFzbGlkZSkge1xuICAgICAgY29uc29sZS53YXJuKCdbTElHSFRCT1hdIFx1MjZBMFx1RkUwRiAgLnNsaWRlX19saW5rIGZvdW5kIGJ1dCBwYXJlbnQgLnNsaWRlIG1pc3NpbmcnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgXG4gICAgLy8gT3BlbiBsaWdodGJveCB3aXRoIHBhcmVudCBzbGlkZSBkYXRhXG4gICAgb3BlbkZyb21TbGlkZShzbGlkZSk7XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIGhhbmRsZUNsb3NlQnRuQ2xpY2soZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmIChjdXJyZW50U3RhdGUgPT09IFNUQVRFLk9QRU4pIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbTElHSFRCT1hdIFx1RDgzQ1x1REZBRiBDbG9zZSBidXR0b24gY2xpY2tlZCcpO1xuICAgICAgcmVxdWVzdENsb3NlKCk7XG4gICAgfVxuICB9XG4gIFxuICBmdW5jdGlvbiBoYW5kbGVLZXlkb3duKGUpIHtcbiAgICBpZiAoY3VycmVudFN0YXRlID09PSBTVEFURS5PUEVOKSB7XG4gICAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICAgIGlmIChkZXRhaWxzT3Blbikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbTElHSFRCT1hdIFx1RDgzQ1x1REZBRiBFc2NhcGUga2V5IHByZXNzZWQgLSBjbG9zaW5nIGRldGFpbHMgb3ZlcmxheScpO1xuICAgICAgICAgIGNsb3NlRGV0YWlscygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbTElHSFRCT1hdIFx1RDgzQ1x1REZBRiBFc2NhcGUga2V5IHByZXNzZWQgLSBjbG9zaW5nIGxpZ2h0Ym94Jyk7XG4gICAgICAgICAgcmVxdWVzdENsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChlLmtleSA9PT0gJ1RhYicpIHtcbiAgICAgICAgdHJhcEZvY3VzKGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgZnVuY3Rpb24gb3BlbkRldGFpbHMoKSB7XG4gICAgaWYgKGRldGFpbHNPcGVuIHx8IGN1cnJlbnRTdGF0ZSAhPT0gU1RBVEUuT1BFTikgcmV0dXJuO1xuXG4gICAgZGV0YWlsc09wZW4gPSB0cnVlO1xuICAgIGNvbnNvbGUubG9nKCdbTElHSFRCT1hdIFx1RDgzQ1x1REZBRiBEZXRhaWxzIG92ZXJsYXkgb3BlbmluZycpO1xuICAgIGVtaXRXZWJmbG93RXZlbnQoJ2RldGFpbHM6c2hvdycpO1xuXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIGlmIChvdmVybGF5KSB7XG4gICAgICAgIG92ZXJsYXkuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcbiAgICAgICAgb3ZlcmxheS5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJztcbiAgICAgIH1cbiAgICAgIGlmIChsYikge1xuICAgICAgICBsYi5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VEZXRhaWxzKHsgc2lsZW50ID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgaWYgKCFkZXRhaWxzT3BlbikgcmV0dXJuO1xuXG4gICAgZGV0YWlsc09wZW4gPSBmYWxzZTtcbiAgICBjb25zb2xlLmxvZygnW0xJR0hUQk9YXSBcdUQ4M0NcdURGQUYgRGV0YWlscyBvdmVybGF5IGNsb3NpbmcnKTtcblxuICAgIGlmICghc2lsZW50KSB7XG4gICAgICBlbWl0V2ViZmxvd0V2ZW50KCdkZXRhaWxzOmhpZGUnKTtcbiAgICB9XG5cbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgaWYgKG92ZXJsYXkpIHtcbiAgICAgICAgb3ZlcmxheS5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuICAgICAgfVxuICAgICAgaWYgKGxiKSB7XG4gICAgICAgIGxiLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVEZXRhaWxzQ2xpY2soZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgaWYgKGN1cnJlbnRTdGF0ZSAhPT0gU1RBVEUuT1BFTikge1xuICAgICAgY29uc29sZS5sb2coJ1tMSUdIVEJPWF0gXHUyNkEwXHVGRTBGICBEZXRhaWxzIGJ1dHRvbiBjbGlja2VkIGJ1dCBsaWdodGJveCBub3Qgb3BlbicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChkZXRhaWxzT3Blbikge1xuICAgICAgY2xvc2VEZXRhaWxzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wZW5EZXRhaWxzKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlT3ZlcmxheUNsaWNrKGUpIHtcbiAgICBpZiAoIWRldGFpbHNPcGVuIHx8IGN1cnJlbnRTdGF0ZSAhPT0gU1RBVEUuT1BFTikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdbTElHSFRCT1hdIFx1RDgzRFx1REQwRCBPdmVybGF5IGNsaWNrIHdoaWxlIGRldGFpbHMgb3BlbjonLCB7XG4gICAgICB0YWc6IGUudGFyZ2V0LnRhZ05hbWUsXG4gICAgICBpZDogZS50YXJnZXQuaWQsXG4gICAgICBjbGFzc2VzOiAoZS50YXJnZXQuY2xhc3NOYW1lIHx8ICcnKS50b1N0cmluZygpLnN1YnN0cmluZygwLCA4MClcbiAgICB9KTtcblxuICAgIGNsb3NlRGV0YWlscygpO1xuICAgIC8vIERvIE5PVCBwcmV2ZW50IGRlZmF1bHQgc28gdW5kZXJseWluZyBlbGVtZW50cyByZW1haW4gY2xpY2thYmxlXG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVMaWdodGJveENsaWNrKGUpIHtcbiAgICBpZiAoIWRldGFpbHNPcGVuIHx8IGN1cnJlbnRTdGF0ZSAhPT0gU1RBVEUuT1BFTikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdbTElHSFRCT1hdIFx1RDgzRFx1REQwRCBMaWdodGJveCBjbGljayB3aGlsZSBkZXRhaWxzIG9wZW4nKTtcbiAgICBjbG9zZURldGFpbHMoKTtcbiAgfVxuICBcbiAgLy8gQXR0YWNoIGRlbGVnYXRlZCBsaXN0ZW5lciB0byBzbGlkZXMgY29udGFpbmVyXG4gIGlmIChzbGlkZXNDb250YWluZXIpIHtcbiAgICBzbGlkZXNDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVTbGlkZUNsaWNrLCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xuICAgIGNvbnNvbGUubG9nKGBbTElHSFRCT1hdIFx1MjcxMyBEZWxlZ2F0ZWQgY2xpY2sgaGFuZGxlciBhdHRhY2hlZCB0byBjb250YWluZXIgKCR7c2xpZGVzLmxlbmd0aH0gc2xpZGVzKWApO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUud2FybignW0xJR0hUQk9YXSBcdTI2QTBcdUZFMEYgIENvdWxkIG5vdCBmaW5kIHNsaWRlcyBjb250YWluZXIgZm9yIGV2ZW50IGRlbGVnYXRpb24nKTtcbiAgfVxuXG4gIGlmIChjbG9zZUJ0bikge1xuICAgIGNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xvc2VCdG5DbGljayk7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS53YXJuKCdbTElHSFRCT1hdIFx1MjZBMFx1RkUwRiAgI2Nsb3NlLWJ0biBub3QgZm91bmQgLSBvbmx5IEVzY2FwZSBrZXkgd2lsbCBjbG9zZScpO1xuICB9XG4gIFxuICAvLyBEZXRhaWxzIGJ1dHRvbiAtIHRyaWdnZXJzIGRldGFpbHMgb3ZlcmxheVxuICBpZiAoZGV0YWlsc0J0bikge1xuICAgIGRldGFpbHNCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVEZXRhaWxzQ2xpY2ssIHsgcGFzc2l2ZTogZmFsc2UgfSk7XG4gICAgY29uc29sZS5sb2coJ1tMSUdIVEJPWF0gXHUyNzEzIERldGFpbHMgYnV0dG9uIGhhbmRsZXIgYXR0YWNoZWQnKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLndhcm4oJ1tMSUdIVEJPWF0gXHUyNkEwXHVGRTBGICBEZXRhaWxzIGJ1dHRvbiAoI2RldGFpbHMtYnRuKSBub3QgZm91bmQnKTtcbiAgfVxuICBcbiAgaWYgKG92ZXJsYXkpIHtcbiAgICBvdmVybGF5LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgb3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZU92ZXJsYXlDbGljaywgeyBwYXNzaXZlOiBmYWxzZSB9KTtcbiAgICBjb25zb2xlLmxvZygnW0xJR0hUQk9YXSBcdTI3MTMgT3ZlcmxheSBjbGljayBoYW5kbGVyIGF0dGFjaGVkIChjbGljayBhbnl3aGVyZSB0byBjbG9zZSBkZXRhaWxzKScpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUud2FybignW0xJR0hUQk9YXSBcdTI2QTBcdUZFMEYgIE92ZXJsYXkgbm90IGZvdW5kIC0gZGV0YWlscyBjbG9zZS1vbi1jbGljayBkaXNhYmxlZCcpO1xuICB9XG4gIFxuICBsYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUxpZ2h0Ym94Q2xpY2ssIHsgcGFzc2l2ZTogZmFsc2UgfSk7XG4gIGNvbnNvbGUubG9nKCdbTElHSFRCT1hdIFx1MjcxMyBMaWdodGJveCBjb250YWluZXIgY2xpY2sgaGFuZGxlciBhdHRhY2hlZCcpO1xuXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlkb3duKTtcbiAgXG4gIGNvbnNvbGUubG9nKCdbTElHSFRCT1hdIFx1MjcxMyBJbml0aWFsaXplZCBhbmQgcmVhZHlcXG4nKTtcbiAgXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBDTEVBTlVQICYgQVBJIEVYUE9TVVJFXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBcbiAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICAvLyBSZW1vdmUgZXZlbnQgbGlzdGVuZXJzXG4gICAgaWYgKHNsaWRlc0NvbnRhaW5lcikge1xuICAgICAgc2xpZGVzQ29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlU2xpZGVDbGljayk7XG4gICAgfVxuICAgIGlmIChjbG9zZUJ0bikge1xuICAgICAgY2xvc2VCdG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDbG9zZUJ0bkNsaWNrKTtcbiAgICB9XG4gICAgaWYgKGRldGFpbHNCdG4pIHtcbiAgICAgIGRldGFpbHNCdG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVEZXRhaWxzQ2xpY2spO1xuICAgIH1cbiAgICBpZiAob3ZlcmxheSkge1xuICAgICAgb3ZlcmxheS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZU92ZXJsYXlDbGljayk7XG4gICAgICBvdmVybGF5LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgfVxuICAgIGxiLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlTGlnaHRib3hDbGljayk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleWRvd24pO1xuICAgIFxuICAgIC8vIFJlc2V0IHN0YXRlXG4gICAgZGV0YWlsc09wZW4gPSBmYWxzZTtcbiAgICBcbiAgICAvLyBEZXN0cm95IG92ZXJsYXkgc2Nyb2xsIGlmIGV4aXN0c1xuICAgIGlmIChvdmVybGF5TGVuaXMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG92ZXJsYXlMZW5pcy5kZXN0cm95KCk7XG4gICAgICAgIG92ZXJsYXlMZW5pcyA9IG51bGw7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdbTElHSFRCT1hdIEVycm9yIGRlc3Ryb3lpbmcgb3ZlcmxheSBzY3JvbGwgb24gY2xlYW51cDonLCBlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBVbmxvY2sgc2Nyb2xsIGFuZCByZXNldCBzdGF0ZVxuICAgIHVubG9ja1Njcm9sbCh7IGRlbGF5TXM6IDAgfSk7XG4gICAgc2V0UGFnZUluZXJ0KGZhbHNlKTtcbiAgICBlbmFibGVTbGlkZUludGVyYWN0aW9ucygpO1xuICAgIGN1cnJlbnRTdGF0ZSA9IFNUQVRFLklETEU7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1tMSUdIVEJPWF0gXHUyNzEzIENsZWFudXAgY29tcGxldGUnKTtcbiAgfVxuICBcbiAgZnVuY3Rpb24gb3BlblByb2plY3RCeUlkKHByb2plY3RJZCkge1xuICAgIGNvbnN0IHNsaWRlID0gQXJyYXkuZnJvbShzbGlkZXMpLmZpbmQocyA9PiBzLmRhdGFzZXQucHJvamVjdCA9PT0gcHJvamVjdElkKTtcbiAgICBpZiAoIXNsaWRlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBbTElHSFRCT1hdIFx1Mjc0QyBObyBzbGlkZSBmb3VuZCBmb3IgcHJvamVjdDogXCIke3Byb2plY3RJZH1cImApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBvcGVuRnJvbVNsaWRlKHNsaWRlKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBcbiAgZnVuY3Rpb24gZ2V0U3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGN1cnJlbnQ6IGN1cnJlbnRTdGF0ZSxcbiAgICAgIGlzSWRsZTogY3VycmVudFN0YXRlID09PSBTVEFURS5JRExFLFxuICAgICAgaXNPcGVuOiBjdXJyZW50U3RhdGUgPT09IFNUQVRFLk9QRU4sXG4gICAgICBpc1RyYW5zaXRpb25pbmc6IGN1cnJlbnRTdGF0ZSA9PT0gU1RBVEUuT1BFTklORyB8fCBjdXJyZW50U3RhdGUgPT09IFNUQVRFLkNMT1NJTkdcbiAgICB9O1xuICB9XG4gIFxuICAvLyBFeHBvc2UgQVBJIGZvciBkZWJ1Z2dpbmcgYW5kIHByb2dyYW1tYXRpYyBjb250cm9sXG4gIHdpbmRvdy5BcHAgPSB3aW5kb3cuQXBwIHx8IHt9O1xuICB3aW5kb3cuQXBwLmxpZ2h0Ym94ID0ge1xuICAgIG9wZW46IG9wZW5Qcm9qZWN0QnlJZCxcbiAgICBjbG9zZTogcmVxdWVzdENsb3NlLFxuICAgIGdldFN0YXRlLFxuICAgIGNsZWFudXBcbiAgfTtcbn1cbiIsICIvKipcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiAgTWNDYW5uIFdlYnNpdGUgXHUyMDE0IFdlYmZsb3cgU2Nyb2xsVHJpZ2dlciBCcmlkZ2VcbiAqICBQdXJwb3NlOiBUcmlnZ2VyIFdlYmZsb3cgSVggdmlhIEdTQVAgU2Nyb2xsVHJpZ2dlclxuICogIERhdGU6IDIwMjUtMTEtMDZcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuY29uc29sZS5sb2coJ1tXRUJGTE9XXSBtb2R1bGUgbG9hZGVkJyk7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gRVhQT1JUU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0V2ViZmxvd1Njcm9sbFRyaWdnZXJzKG9wdGlvbnMgPSB7fSl7XG4gIGNvbnN0IHNjcm9sbGVyU2VsZWN0b3IgPSBvcHRpb25zLnNjcm9sbGVyU2VsZWN0b3IgfHwgJy5wZXJzcGVjdGl2ZS13cmFwcGVyJztcbiAgY29uc3QgaGlkZUV2ZW50TmFtZSA9IG9wdGlvbnMuaGlkZUV2ZW50TmFtZSB8fCBvcHRpb25zLnNocmlua0V2ZW50TmFtZSB8fCAnbG9nby1oaWRlJztcbiAgY29uc3QgYXBwZWFyRXZlbnROYW1lID0gb3B0aW9ucy5hcHBlYXJFdmVudE5hbWUgfHwgb3B0aW9ucy5ncm93RXZlbnROYW1lIHx8ICdsb2dvLWFwcGVhcic7XG4gIGNvbnN0IG1hcmtlcnMgPSAhIW9wdGlvbnMubWFya2VycztcblxuICBmdW5jdGlvbiBvbldpbmRvd0xvYWQoY2Ipe1xuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7IHNldFRpbWVvdXQoY2IsIDApOyByZXR1cm47IH1cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGNiLCB7IG9uY2U6IHRydWUgfSk7XG4gIH1cblxuICBvbldpbmRvd0xvYWQoZnVuY3Rpb24oKXtcbiAgICBjb25zdCBXZWJmbG93ID0gd2luZG93LldlYmZsb3cgfHwgW107XG4gICAgXG4gICAgV2ViZmxvdy5wdXNoKGZ1bmN0aW9uKCl7XG4gICAgICBjb25zdCB3Zkl4ID0gKHdpbmRvdy5XZWJmbG93ICYmIHdpbmRvdy5XZWJmbG93LnJlcXVpcmUpIFxuICAgICAgICA/ICh3aW5kb3cuV2ViZmxvdy5yZXF1aXJlKCdpeDMnKSB8fCB3aW5kb3cuV2ViZmxvdy5yZXF1aXJlKCdpeDInKSlcbiAgICAgICAgOiBudWxsO1xuICAgICAgY29uc3QgU2Nyb2xsVHJpZ2dlciA9IHdpbmRvdy5TY3JvbGxUcmlnZ2VyO1xuICAgICAgXG4gICAgICBpZiAoIXdmSXggfHwgIVNjcm9sbFRyaWdnZXIpIHsgcmV0dXJuOyB9XG5cbiAgICAgIGNvbnN0IHNjcm9sbGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzY3JvbGxlclNlbGVjdG9yKTtcbiAgICAgIGlmICghc2Nyb2xsZXIpIHsgcmV0dXJuOyB9XG5cbiAgICAgIGNvbnN0IGRyaXZlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbnRyby1zbGlkZScpO1xuICAgICAgaWYgKCFkcml2ZXIpIHsgXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tXRUJGTE9XXSBEcml2ZXIgc2xpZGUgKCNpbnRyby1zbGlkZSkgbm90IGZvdW5kJyk7XG4gICAgICAgIHJldHVybjsgXG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKCdbV0VCRkxPV10gU2V0dXAgY29tcGxldGU6JywgeyBcbiAgICAgICAgc2Nyb2xsZXI6ICEhc2Nyb2xsZXIsIFxuICAgICAgICBkcml2ZXI6ICEhZHJpdmVyLFxuICAgICAgICB3Zkl4OiAhIXdmSXgsIFxuICAgICAgICBTY3JvbGxUcmlnZ2VyOiAhIVNjcm9sbFRyaWdnZXIsXG4gICAgICAgIGhpZGVFdmVudDogaGlkZUV2ZW50TmFtZSxcbiAgICAgICAgYXBwZWFyRXZlbnQ6IGFwcGVhckV2ZW50TmFtZVxuICAgICAgfSk7XG5cbiAgICAgIGxldCBsb2dvVmlzaWJsZSA9IGZhbHNlO1xuXG4gICAgICBTY3JvbGxUcmlnZ2VyLmNyZWF0ZSh7XG4gICAgICAgIHRyaWdnZXI6IGRyaXZlcixcbiAgICAgICAgc2Nyb2xsZXI6IHNjcm9sbGVyLFxuICAgICAgICBzdGFydDogJ2JvdHRvbSAyMCUnLFxuICAgICAgICBtYXJrZXJzOiBtYXJrZXJzLFxuICAgICAgICBcbiAgICAgICAgb25FbnRlcjogKCkgPT4ge1xuICAgICAgICAgIGlmICghbG9nb1Zpc2libGUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbV0VCRkxPV10gXHUyNzEzIGVtaXQgYXBwZWFyOicsIGFwcGVhckV2ZW50TmFtZSk7XG4gICAgICAgICAgICAgIHdmSXguZW1pdChhcHBlYXJFdmVudE5hbWUpO1xuICAgICAgICAgICAgICBsb2dvVmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICB9IGNhdGNoKGVycikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbV0VCRkxPV10gRXJyb3IgZW1pdHRpbmcgYXBwZWFyOicsIGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgU2Nyb2xsVHJpZ2dlci5jcmVhdGUoe1xuICAgICAgICB0cmlnZ2VyOiBkcml2ZXIsXG4gICAgICAgIHNjcm9sbGVyOiBzY3JvbGxlcixcbiAgICAgICAgc3RhcnQ6ICdib3R0b20gMjAlJyxcbiAgICAgICAgbWFya2VyczogbWFya2VycyxcbiAgICAgICAgXG4gICAgICAgIG9uTGVhdmVCYWNrOiAoKSA9PiB7XG4gICAgICAgICAgaWYgKGxvZ29WaXNpYmxlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1dFQkZMT1ddIFx1MjcxMyBlbWl0IGhpZGU6JywgaGlkZUV2ZW50TmFtZSk7XG4gICAgICAgICAgICAgIHdmSXguZW1pdChoaWRlRXZlbnROYW1lKTtcbiAgICAgICAgICAgICAgbG9nb1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gY2F0Y2goZXJyKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tXRUJGTE9XXSBFcnJvciBlbWl0dGluZyBoaWRlOicsIGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ1tXRUJGTE9XXSBTY3JvbGxUcmlnZ2VyIGluaXRpYWxpemVkJyk7XG4gICAgICBcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIFNjcm9sbFRyaWdnZXIucmVmcmVzaCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufVxuIiwgIi8qKlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqICBNY0Nhbm4gV2Vic2l0ZSBcdTIwMTQgQXBwIEVudHJ5XG4gKiAgUHVycG9zZTogV2lyZSBtb2R1bGVzIGFuZCBleHBvc2UgbWluaW1hbCBmYWNhZGVcbiAqICBEYXRlOiAyMDI1LTExLTA2XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7IGluaXRQcmVsb2FkZXIgfSBmcm9tICcuL21vZHVsZXMvcHJlbG9hZGVyLmpzJztcbmltcG9ydCB7IGluaXRBY2NvcmRpb24gfSBmcm9tICcuL21vZHVsZXMvYWNjb3JkaW9uLmpzJztcbmltcG9ydCB7IGluaXRTbGlkZXMgfSBmcm9tICcuL21vZHVsZXMvc2xpZGVzLmpzJztcbmltcG9ydCB7IGluaXRMaWdodGJveCB9IGZyb20gJy4vbW9kdWxlcy9saWdodGJveC5qcyc7XG5pbXBvcnQgeyBpbml0V2ViZmxvd1Njcm9sbFRyaWdnZXJzIH0gZnJvbSAnLi9tb2R1bGVzL3dlYmZsb3ctc2Nyb2xsdHJpZ2dlci5qcyc7XG5pbXBvcnQgeyBpbml0U21vb3RoU2Nyb2xsIH0gZnJvbSAnLi9tb2R1bGVzL3Ntb290aC1zY3JvbGwuanMnO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEhFTFBFUlNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5mdW5jdGlvbiBwYXRjaFZpbWVvQWxsb3dUb2tlbnMoKSB7XG4gIGNvbnN0IHRva2VucyA9IFsnYXV0b3BsYXknLCAnZnVsbHNjcmVlbicsICdwaWN0dXJlLWluLXBpY3R1cmUnLCAnZW5jcnlwdGVkLW1lZGlhJ107XG4gIGNvbnN0IHNlbGVjdG9yID0gW1xuICAgICdpZnJhbWVbc3JjKj1cInZpbWVvLmNvbVwiXScsXG4gICAgJ2lmcmFtZVtzcmMqPVwicGxheWVyLnZpbWVvLmNvbVwiXSdcbiAgXS5qb2luKCcsJyk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikuZm9yRWFjaChpZnIgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnQgPSAoaWZyLmdldEF0dHJpYnV0ZSgnYWxsb3cnKSB8fCAnJylcbiAgICAgIC5zcGxpdCgnOycpXG4gICAgICAubWFwKHRva2VuID0+IHRva2VuLnRyaW0oKSlcbiAgICAgIC5maWx0ZXIoQm9vbGVhbik7XG4gICAgY29uc3QgdXBkYXRlZCA9IEFycmF5LmZyb20obmV3IFNldChbLi4uY3VycmVudCwgLi4udG9rZW5zXSkpLmpvaW4oJzsgJyk7XG4gICAgaWZyLnNldEF0dHJpYnV0ZSgnYWxsb3cnLCB1cGRhdGVkKTtcbiAgfSk7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSU5JVElBTElaQVRJT05cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5mdW5jdGlvbiBpbml0KG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgbGlnaHRib3hSb290ID0gJyNsaWdodGJveCcsXG4gICAgbGVycCA9IDAuMSxcbiAgICBzbmFwTGVycCA9IDAuMTUsXG4gICAgc21vb3RoU2Nyb2xsID0ge30sXG4gICAgcHJlbG9hZGVyID0ge31cbiAgfSA9IG9wdGlvbnM7XG5cbiAgY29uc3QgcHJlbG9hZGVyQ29uZmlnID0ge1xuICAgIHNlbGVjdG9yOiAnI3ByZWxvYWRlcicsXG4gICAgdmlkZW9TZWxlY3RvcjogJ3ZpZGVvW2RhdGEtd2YtaWdub3JlXSwgdmlkZW9bYXV0b3BsYXldLCB2aWRlb1tkYXRhLWF1dG9wbGF5XScsXG4gICAgdmltZW9QcmVsb2FkOiAncHJlZmV0Y2gnLFxuICAgIHZpbWVvQnVmZmVyTGltaXQ6IDUsXG4gICAgbWluTG9hZFRpbWU6IDEwMDAsXG4gICAgcHVsc2VEdXJhdGlvbjogMzAwMCxcbiAgICBwdWxzZU9wYWNpdHk6IDAuMixcbiAgICAuLi5wcmVsb2FkZXJcbiAgfTtcbiAgXG4gIGluaXRQcmVsb2FkZXIocHJlbG9hZGVyQ29uZmlnKTtcblxuICBpbml0U21vb3RoU2Nyb2xsKHtcbiAgICBsZXJwLFxuICAgIHNuYXBMZXJwLFxuICAgIC4uLnNtb290aFNjcm9sbFxuICB9KTtcblxuICBpbml0QWNjb3JkaW9uKHsgc2VsZWN0b3I6ICcuYWNjb3JkZW9uJyB9KTtcbiAgXG4gIC8vIEJ1aWxkIHNsaWRlcyBmcm9tIEpTT04gRklSU1QgKGJlZm9yZSBsaWdodGJveCBpbml0aWFsaXplcylcbiAgaW5pdFNsaWRlcyh7XG4gICAgY29udGFpbmVyU2VsZWN0b3I6ICcucGVyc3BlY3RpdmUtd3JhcHBlcicsXG4gICAgcmVwbGFjZUV4aXN0aW5nOiB0cnVlXG4gIH0pO1xuICBcbiAgLy8gVGhlbiBpbml0aWFsaXplIGxpZ2h0Ym94IChpdCB3aWxsIGZpbmQgdGhlIG5ld2x5IGNyZWF0ZWQgc2xpZGVzKVxuICBpbml0TGlnaHRib3goeyBcbiAgICByb290OiBsaWdodGJveFJvb3QsIFxuICAgIG9wZW5EdXJhdGlvbjogMTUwMCxcbiAgICBjbG9zZUR1cmF0aW9uOiAxNTAwXG4gIH0pO1xuXG4gIC8vIEluaXRpYWxpemUgbG9nbyBhbmltYXRpb24gdmlhIEdTQVAgU2Nyb2xsVHJpZ2dlclxuICB0cnkge1xuICAgIGluaXRXZWJmbG93U2Nyb2xsVHJpZ2dlcnMoe1xuICAgICAgc2Nyb2xsZXJTZWxlY3RvcjogJy5wZXJzcGVjdGl2ZS13cmFwcGVyJyxcbiAgICAgIGhpZGVFdmVudE5hbWU6ICdsb2dvLWhpZGUnLFxuICAgICAgYXBwZWFyRXZlbnROYW1lOiAnbG9nby1hcHBlYXInXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIFNpbGVudCBmYWlsIC0gbm8gbG9nbyBhbmltYXRpb24gaWYgU2Nyb2xsVHJpZ2dlciB1bmF2YWlsYWJsZVxuICB9XG59XG5cbndpbmRvdy5BcHAgPSB3aW5kb3cuQXBwIHx8IHt9O1xud2luZG93LkFwcC5pbml0ID0gaW5pdDtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBBVVRPLUlOSVRcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnXFxuXHUyNTU0XHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTU3Jyk7XG4gIGNvbnNvbGUubG9nKCdcdTI1NTEgICAgIE1jQ2FubiBXZWJzaXRlIC0gSW5pdGlhbGl6YXRpb24gU3RhcnRpbmcgICAgICAgIFx1MjU1MScpO1xuICBjb25zb2xlLmxvZygnXHUyNTVBXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTVEXFxuJyk7XG4gIFxuICB0cnkge1xuICAgIHBhdGNoVmltZW9BbGxvd1Rva2VucygpO1xuICAgIGluaXQoKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnXFxuXHUyNTU0XHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTU3Jyk7XG4gICAgY29uc29sZS5sb2coJ1x1MjU1MSAgICAgXHUyNzA1IEFsbCBTeXN0ZW1zIEluaXRpYWxpemVkIFN1Y2Nlc3NmdWxseSAgICAgICAgIFx1MjU1MScpO1xuICAgIGNvbnNvbGUubG9nKCdcdTI1NUFcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NURcXG4nKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcignW0FQUF0gXHUyNzRDIEluaXRpYWxpemF0aW9uIGVycm9yOicsIGVycik7XG4gIH1cbn0pO1xuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7O0FBQUE7QUFBQSxJQUNFLHFCQUFxQjtBQUFBLE1BQ25CLFFBQVU7QUFBQSxNQUNWLE9BQVM7QUFBQSxNQUNULE9BQVM7QUFBQSxNQUNULGVBQWlCO0FBQUEsTUFDakIsYUFBZTtBQUFBLE1BQ2YsUUFBVTtBQUFBLE1BQ1YsU0FBVztBQUFBLE1BQ1gsZ0JBQWtCO0FBQUEsTUFDbEIsUUFBVTtBQUFBLFFBQ1IsRUFBRSxNQUFRLFVBQVUsT0FBUyxpSkFBNEk7QUFBQSxRQUN6SyxFQUFFLE1BQVEsVUFBVSxPQUFTLGFBQWE7QUFBQSxRQUMxQyxFQUFFLE1BQVEsV0FBVyxPQUFTLGFBQWE7QUFBQSxRQUMzQyxFQUFFLE1BQVEsYUFBYSxPQUFTLGFBQWE7QUFBQSxNQUMvQztBQUFBLElBQ0Y7QUFBQSxJQUNBLDBCQUEwQjtBQUFBLE1BQ3hCLFFBQVU7QUFBQSxNQUNWLE9BQVM7QUFBQSxNQUNULE9BQVM7QUFBQSxNQUNULGVBQWlCO0FBQUEsTUFDakIsYUFBZTtBQUFBLE1BQ2YsUUFBVTtBQUFBLE1BQ1YsU0FBVztBQUFBLE1BQ1gsZ0JBQWtCO0FBQUEsTUFDbEIsUUFBVTtBQUFBLFFBQ1IsRUFBRSxNQUFRLFVBQVUsT0FBUyw0REFBNEQ7QUFBQSxRQUN6RixFQUFFLE1BQVEsT0FBTyxPQUFTLGlHQUFpRztBQUFBLFFBQzNILEVBQUUs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LFFBQU87QUFBQSxNQUNQLFdBQVc7QUFBQSxNQUNYLGVBQWUsQ0FBQztBQUFBLE1BQ2hCLFlBQVksQ0FBQztBQUFBLElBQ2YsSUFBSTtBQUVKLFVBQU0sa0JBQWtCO0FBQUEsTUFDdEIsVUFBVTtBQUFBLE1BQ1YsZUFBZTtBQUFBLE1BQ2YsY0FBYztBQUFBLE1BQ2Qsa0JBQWtCO0FBQUEsTUFDbEIsYUFBYTtBQUFBLE1BQ2IsZUFBZTtBQUFBLE1BQ2YsY0FBYztBQUFBLE1BQ2QsR0FBRztBQUFBLElBQ0w7QUFFQSxrQkFBYyxlQUFlO0FBRTdCLHFCQUFpQjtBQUFBLE1BQ2YsTUFBQUE7QUFBQSxNQUNBO0FBQUEsTUFDQSxHQUFHO0FBQUEsSUFDTCxDQUFDO0FBRUQsa0JBQWMsRUFBRSxVQUFVLGFBQWEsQ0FBQztBQUd4QyxlQUFXO0FBQUEsTUFDVCxtQkFBbUI7QUFBQSxNQUNuQixpQkFBaUI7QUFBQSxJQUNuQixDQUFDO0FBR0QsaUJBQWE7QUFBQSxNQUNYLE1BQU07QUFBQSxNQUNOLGNBQWM7QUFBQSxNQUNkLGVBQWU7QUFBQSxJQUNqQixDQUFDO0FBR0QsUUFBSTtBQUNGLGdDQUEwQjtBQUFBLFFBQ3hCLGtCQUFrQjtBQUFBLFFBQ2xCLGVBQWU7QUFBQSxRQUNmLGlCQUFpQjtBQUFBLE1BQ25CLENBQUM7QUFBQSxJQUNILFNBQVMsS0FBSztBQUFBLElBRWQ7QUFBQSxFQUNGO0FBRUEsU0FBTyxNQUFNLE9BQU8sT0FBTyxDQUFDO0FBQzVCLFNBQU8sSUFBSSxPQUFPO0FBTWxCLFdBQVMsaUJBQWlCLG9CQUFvQixNQUFNO0FBQ2xELFlBQVEsSUFBSSxvVkFBNEQ7QUFDeEUsWUFBUSxJQUFJLG1FQUF5RDtBQUNyRSxZQUFRLElBQUksb1ZBQTREO0FBRXhFLFFBQUk7QUFDRiw0QkFBc0I7QUFDdEIsV0FBSztBQUVMLGNBQVEsSUFBSSxvVkFBNEQ7QUFDeEUsY0FBUSxJQUFJLHVFQUF3RDtBQUNwRSxjQUFRLElBQUksb1ZBQTREO0FBQUEsSUFDMUUsU0FBUyxLQUFLO0FBQ1osY0FBUSxNQUFNLHNDQUFpQyxHQUFHO0FBQUEsSUFDcEQ7QUFBQSxFQUNGLENBQUM7IiwKICAibmFtZXMiOiBbInByb2plY3REYXRhIiwgIndyYXBwZXIiLCAid2ZJeCIsICJlbnN1cmVWaW1lb0FwaSIsICJwcm9qZWN0SWQiLCAibGVycCIsICJ3cmFwcGVyIiwgIl9hIiwgInByb2plY3REYXRhIiwgIndmSXgiLCAidmVyc2lvbiIsICJwcm9qZWN0SWQiLCAiX2EiLCAiX2IiLCAiX2MiLCAid2ZJeCIsICJTY3JvbGxUcmlnZ2VyIiwgImxlcnAiXQp9Cg==
