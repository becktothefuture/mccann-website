(()=>{function A(s,l=window,o={}){try{l.dispatchEvent(new CustomEvent(s,{bubbles:!0,cancelable:!0,detail:o}))}catch{}try{window.dispatchEvent(new CustomEvent(s,{detail:o}))}catch{}}console.log("[ACCORDION] module loaded");function B(s=".accordeon"){let l=document.querySelector(s);if(!l){console.log("[ACCORDION] root not found");return}let o=e=>e==null?void 0:e.querySelector(":scope > .acc-list"),u=e=>{let t=e.parentElement;return t!=null&&t.classList.contains("acc-list")?t:l},n=(...e)=>{try{console.log("[ACCORDION]",...e)}catch{}},y=e=>{var t;return(t=e==null?void 0:e.classList)!=null&&t.contains("acc-section")?"section":"item"},p=e=>{let t=e==null?void 0:e.querySelector(":scope > .acc-trigger");return((t==null?void 0:t.textContent)||"").trim().replace(/\s+/g," ").slice(0,80)},h="acc-trigger--active",a=window.Webflow&&window.Webflow.require?window.Webflow.require("ix3")||window.Webflow.require("ix2"):null;n("Webflow IX available:",!!a);function f(e){try{if(a&&typeof a.emit=="function")return n("wfIx.emit",e),a.emit(e),!0}catch(t){n("wfIx.emit error",t&&t.message)}try{return window.dispatchEvent(new CustomEvent(e)),n("window.dispatchEvent",e),!1}catch{return!1}}let g=l.querySelectorAll(".acc-trigger");g.forEach((e,t)=>{let r=e.closest(".acc-section, .acc-item"),c=o(r);if(c){let m=c.id||`acc-panel-${t}`;c.id=m,e.setAttribute("aria-controls",m),e.setAttribute("aria-expanded","false")}}),n("bootstrapped",g.length,"triggers");function L(e){var r;n("expand start",{id:e.id,children:(r=e.children)==null?void 0:r.length,h:e.scrollHeight}),e.classList.add("is-active"),Array.from(e.querySelectorAll(":scope > .acc-item")).forEach(c=>{c.style.removeProperty("opacity"),c.style.removeProperty("visibility"),c.style.removeProperty("transform")}),e.style.maxHeight=e.scrollHeight+"px",e.dataset.state="opening";let t=c=>{c.propertyName==="max-height"&&(e.removeEventListener("transitionend",t),e.dataset.state==="opening"&&(e.style.maxHeight="none",e.dataset.state="open",n("expanded",{id:e.id})))};e.addEventListener("transitionend",t)}function w(e){let t=e.style.maxHeight==="none"?e.scrollHeight:parseFloat(e.style.maxHeight||0);e.style.maxHeight=(t||e.scrollHeight)+"px",e.offsetHeight,e.style.maxHeight="0px",e.dataset.state="closing";let r=c=>{c.propertyName==="max-height"&&(e.removeEventListener("transitionend",r),e.dataset.state="collapsed",e.classList.remove("is-active"),n("collapsed",{id:e.id}))};e.addEventListener("transitionend",r)}function i(e){let t=u(e);if(!t)return;let r=e.matches(".acc-section")?"acc-section":"acc-item";Array.from(t.children).forEach(c=>{var E;if(c===e||!c.classList.contains(r))return;let m=o(c);if(m&&(m.dataset.state==="open"||m.dataset.state==="opening")){n("close sibling",{kind:r,label:p(c),id:m.id}),m.classList.remove("is-active"),A("acc-close",m),w(m);let x=c.querySelector(":scope > .acc-trigger");x==null||x.setAttribute("aria-expanded","false"),(E=x==null?void 0:x.classList)==null||E.remove(h)}})}function v(e){var m,E;let t=o(e);if(!t)return;let r=e.querySelector(":scope > .acc-trigger"),c=!(t.dataset.state==="open"||t.dataset.state==="opening");n("toggle",{kind:y(e),opening:c,label:p(e),id:t.id}),i(e),c?(L(t),r==null||r.setAttribute("aria-expanded","true"),(m=r==null?void 0:r.classList)==null||m.add(h),n("emit acc-open",{id:t.id}),f("acc-open")):(n("emit acc-close",{id:t.id}),f("acc-close"),w(t),r==null||r.setAttribute("aria-expanded","false"),(E=r==null?void 0:r.classList)==null||E.remove(h))}document.body.classList.add("js-prep"),l.querySelectorAll(".acc-list").forEach(e=>{e.style.maxHeight="0px",e.dataset.state="collapsed"}),Array.from(l.querySelectorAll(":scope > .acc-item")).forEach(e=>{e.style.removeProperty("opacity"),e.style.removeProperty("visibility"),e.style.removeProperty("transform")}),requestAnimationFrame(()=>document.body.classList.remove("js-prep")),l.addEventListener("click",e=>{let t=e.target.closest(".acc-trigger");if(!t||!l.contains(t))return;e.preventDefault();let r=t.closest(".acc-section, .acc-item");n("click",{label:(t.textContent||"").trim().replace(/\s+/g," ").slice(0,80)}),r&&v(r)}),l.addEventListener("keydown",e=>{let t=e.target.closest(".acc-trigger");if(!t||!l.contains(t)||e.key!=="Enter"&&e.key!==" ")return;e.preventDefault();let r=t.closest(".acc-section, .acc-item");n("keydown",{key:e.key,label:(t.textContent||"").trim().replace(/\s+/g," ").slice(0,80)}),r&&v(r)});let d=new ResizeObserver(e=>{e.forEach(({target:t})=>{t.dataset.state==="open"?t.style.maxHeight="none":t.dataset.state==="opening"&&(t.style.maxHeight=t.scrollHeight+"px")})});l.querySelectorAll(".acc-list").forEach(e=>d.observe(e))}var T=0,k=0,F="";function q(){if(T++)return;let s=document.documentElement;F=s.style.scrollBehavior,s.style.scrollBehavior="auto",k=window.scrollY||s.scrollTop||0,Object.assign(document.body.style,{position:"fixed",top:`-${k}px`,left:"0",right:"0",width:"100%",overflow:"hidden",overscrollBehavior:"none"});try{document.body.classList.add("modal-open")}catch{}}function O({delayMs:s=0}={}){let l=()=>{if(--T>0)return;let o=document.documentElement;Object.assign(document.body.style,{position:"",top:"",left:"",right:"",width:"",overflow:"",overscrollBehavior:""});try{document.body.classList.remove("modal-open")}catch{}o.style.scrollBehavior=F||"",window.scrollTo(0,k)};s?setTimeout(l,s):l()}console.log("[VIMEO] module loaded");function N(s){var o;if(!s)return"";let l=String(s).trim();if(/^\d+$/.test(l))return l;try{let u=new URL(l,"https://example.com");if((u.hostname||"").includes("vimeo.com")){let y=u.pathname.split("/").filter(Boolean);return((o=(y[y.length-1]||"").match(/\d+/))==null?void 0:o[0])||""||""}}catch{}return""}function C(s,l,o={}){if(!s)return;let u=N(l);if(!u){s.innerHTML="";return}let n=new URLSearchParams({dnt:1,...o}).toString(),y=`https://player.vimeo.com/video/${u}?${n}`,p=document.createElement("iframe");p.src=y,p.allow="autoplay; fullscreen; picture-in-picture; encrypted-media",p.setAttribute("frameborder","0"),p.style.width="100%",p.style.height="100%",s.innerHTML="",s.appendChild(p)}console.log("[LIGHTBOX] module loaded");function H({root:s="#project-lightbox",closeDelayMs:l=1e3}={}){let o=document.querySelector(s);if(!o){console.log("[LIGHTBOX] not found");return}o.setAttribute("role",o.getAttribute("role")||"dialog"),o.setAttribute("aria-modal",o.getAttribute("aria-modal")||"true"),o.setAttribute("aria-hidden",o.getAttribute("aria-hidden")||"true");let u=o.querySelector(".project-lightbox__inner"),n=o.querySelector(".video-area"),y=document.querySelectorAll(".slide"),p=matchMedia("(prefers-reduced-motion: reduce)").matches,h=!1,a=null;function f(i){Array.from(document.body.children).filter(d=>d!==o).forEach(d=>{try{"inert"in d&&(d.inert=!!i)}catch{}i?d.setAttribute("aria-hidden","true"):d.removeAttribute("aria-hidden")})}function g(i){if(i.key!=="Tab")return;let v=o.querySelectorAll(["a[href]","button","input","select","textarea",'[tabindex]:not([tabindex="-1"])'].join(",")),d=Array.from(v).filter(r=>!r.hasAttribute("disabled")&&!r.getAttribute("aria-hidden"));if(d.length===0){i.preventDefault(),(u||o).focus();return}let e=d[0],t=d[d.length-1];i.shiftKey&&document.activeElement===e?(i.preventDefault(),t.focus()):!i.shiftKey&&document.activeElement===t&&(i.preventDefault(),e.focus())}function L(i){var c,m,E;if(h)return;h=!0,a=document.activeElement instanceof HTMLElement?document.activeElement:null;let v=((c=i==null?void 0:i.dataset)==null?void 0:c.video)||"",d=((m=i==null?void 0:i.dataset)==null?void 0:m.title)||"",e=((E=i==null?void 0:i.dataset)==null?void 0:E.text)||"",r=/\.webflow\.com$/.test(location.hostname)||/canvas\.webflow\.com$/.test(location.hostname)?0:1;n&&C(n,v,{autoplay:r,muted:1,controls:0,background:1,playsinline:1,dnt:1}),o.setAttribute("aria-hidden","false"),o.setAttribute("data-open","true"),f(!0),q(),o.setAttribute("tabindex","-1"),(u||o).focus(),A("LIGHTBOX_OPEN",o,{video:v,title:d,text:e})}function w(){h&&(A("LIGHTBOX_CLOSE",o),p?(O({delayMs:0}),A("LIGHTBOX_CLOSED_DONE",o)):O({delayMs:l}),o.setAttribute("aria-hidden","true"),o.removeAttribute("data-open"),f(!1),n&&(n.innerHTML=""),a&&document.body.contains(a)&&a.focus(),h=!1)}y.forEach(i=>i.addEventListener("click",()=>L(i))),o.addEventListener("click",i=>{(u&&!i.target.closest(".project-lightbox__inner")||!u&&i.target===o)&&w()}),document.addEventListener("keydown",i=>{o.getAttribute("data-open")==="true"&&(i.key==="Escape"&&w(),i.key==="Tab"&&g(i))}),o.addEventListener("LIGHTBOX_CLOSED_DONE",()=>O())}console.log("[WEBFLOW] module loaded");function I(s={}){let l=s.scrollerSelector||".perspective-wrapper",o=s.initEventName||"logo-start",u=s.shrinkEventName||s.playEventName||"logo-shrink",n=s.growEventName||"logo-grow",y=!!s.markers;function p(h){if(document.readyState==="complete"){setTimeout(h,0);return}window.addEventListener("load",h,{once:!0})}p(function(){(window.Webflow||[]).push(function(){let a=window.Webflow&&window.Webflow.require?window.Webflow.require("ix3")||window.Webflow.require("ix2"):null,f=window.ScrollTrigger;if(!a||!f)return;let g=document.querySelector(l);if(!g)return;let L=g.querySelector(".slide")||document.querySelector(".slide");if(!L){console.error("[WEBFLOW] Driver slide not found");return}let w=Array.from(g.querySelectorAll(".slide")),i=w.length>0?w[w.length-1]:null;i||console.warn("[WEBFLOW] No slides found, last slide detection disabled"),console.log("[WEBFLOW] Setup complete:",{scroller:!!g,driver:!!L,lastSlide:!!i,totalSlides:w.length,wfIx:!!a,ScrollTrigger:!!f,initEvent:o,shrinkEvent:u,growEvent:n});let v=!1,d=!1,e=!1,t=!1,r=!1;f.create({trigger:L,scroller:g,start:"top top",end:"top -10%",markers:y,onLeave:()=>{if(!v&&!d){v=!0;try{console.log("[WEBFLOW] emit shrink (scrolled down past first slide):",u),a.emit(u),d=!0,e=!1}catch{}}},onEnterBack:()=>{v=!1,d=!1,e=!1,t=!1,r=!1;try{console.log("[WEBFLOW] emit start (return to top):",o),console.log("[WEBFLOW] wfIx available:",!!a,"emit available:",typeof(a==null?void 0:a.emit)),a&&typeof a.emit=="function"?(a.emit(o),console.log("[WEBFLOW] return-to-top event emitted successfully")):console.error("[WEBFLOW] Cannot emit return-to-top: wfIx.emit not available")}catch(b){console.error("[WEBFLOW] Error emitting return-to-top:",b)}}}),i&&f.create({trigger:i,scroller:g,start:"top bottom",end:"bottom top",markers:y,onEnter:()=>{if(!t&&!r){t=!0;try{console.log("[WEBFLOW] emit grow (reached last slide):",n),a.emit(n),r=!0,d=!1,e=!1}catch{}}},onLeaveBack:()=>{if(t&&r){t=!1;try{console.log("[WEBFLOW] emit shrink (scrolling up from last slide):",u),a.emit(u),r=!1,d=!0,e=!1}catch{}}}});let c=g.scrollTop,m=0;f.create({scroller:g,start:0,end:()=>f.maxScroll(g),onUpdate:b=>{let W=g.scrollTop,S=W>c?1:W<c?-1:m;if(v&&!t&&d&&!e&&S===-1&&m!==-1)try{console.log("[WEBFLOW] emit grow (scroll up in middle section):",n),a.emit(n),e=!0,d=!1}catch{}v&&!t&&e&&S===1&&m!==1&&(d=!1,e=!1,console.log("[WEBFLOW] Reset flags - ready to shrink again")),c=W,m=S}}),console.log("[WEBFLOW] ScrollTrigger initialized");let E=(b,W)=>{try{return console.log(`[WEBFLOW] ${W}:`,b),a&&typeof a.emit=="function"?(a.emit(b),console.log(`[WEBFLOW] \u2713 Emitted ${b} - If nothing happens, check Webflow config:`),console.log(`[WEBFLOW]   1. Event name must be exactly: "${b}"`),console.log('[WEBFLOW]   2. Control must NOT be "No Action"'),console.log("[WEBFLOW]   3. Must target the logo element"),console.log("[WEBFLOW]   4. Timeline must be set correctly"),!0):(console.error("[WEBFLOW] \u2717 wfIx.emit not available"),!1)}catch(S){return console.error(`[WEBFLOW] \u2717 Error emitting ${b}:`,S),!1}},x=!1;requestAnimationFrame(()=>{f.refresh(),setTimeout(()=>{x||(E(n,"Initial load - grow"),x=!0)},200)})})})}function _(s={}){if(!(typeof window.matchMedia=="function"?window.matchMedia("(pointer: fine)").matches:!0)||document.getElementById("mccann-custom-cursor"))return;let o=s.clickableSelector||"a[href]",u=document.createElement("style");u.id="mccann-custom-cursor-style",u.textContent=`
    /* Hide native cursor everywhere, including pseudo elements */
    .has-custom-cursor,
    .has-custom-cursor * { cursor: none !important; }
    .has-custom-cursor *::before,
    .has-custom-cursor *::after { cursor: none !important; }

    .custom-cursor {
      position: fixed;
      left: 0;
      top: 0;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: #0a3d91; /* dark blue */
      pointer-events: none;
      z-index: 2147483647;
      transform: translate3d(-9999px, -9999px, 0) translate(-50%, -50%) scale(0.3);
      opacity: 0;
      transition: transform 120ms cubic-bezier(0.2, 0.9, 0.2, 1), opacity 80ms linear;
      will-change: transform, opacity;
    }

    .custom-cursor.is-visible { opacity: 1; }

    @media (prefers-reduced-motion: reduce) {
      .custom-cursor { transition: none; }
    }
  `,document.head.appendChild(u),document.documentElement.classList.add("has-custom-cursor");let n=document.createElement("div");n.id="mccann-custom-cursor",n.className="custom-cursor",n.setAttribute("aria-hidden","true"),document.body.appendChild(n);let y=0,p=0,h=!1,a=0,f=!1,g=typeof window.matchMedia=="function"?window.matchMedia("(prefers-reduced-motion: reduce)").matches:!1;function L(){if(a=0,!f)return;f=!1;let t=h?1:.3;n.style.transform=`translate3d(${y}px, ${p}px, 0) translate(-50%, -50%) scale(${t})`}function w(){a||(a=requestAnimationFrame(L))}function i(t){t?n.classList.add("is-visible"):n.classList.remove("is-visible")}function v(t){let c=!!(t&&t.closest?t.closest(o):null);c!==h&&(g||(c?n.style.transition="transform 45ms cubic-bezier(0.34, 1.56, 0.64, 1), opacity 80ms linear":n.style.transition="transform 120ms cubic-bezier(0.2, 0.9, 0.2, 1), opacity 80ms linear"),h=c,f=!0,w())}function d(t){y=t.clientX,p=t.clientY,v(t.target),i(!0),f=!0,w()}function e(t){t.relatedTarget==null&&i(!1)}return window.addEventListener("pointermove",d,{passive:!0}),window.addEventListener("mouseout",e,{passive:!0}),window.addEventListener("blur",()=>i(!1)),window.addEventListener("focus",()=>i(!0)),function(){window.removeEventListener("pointermove",d),window.removeEventListener("mouseout",e),document.documentElement.classList.remove("has-custom-cursor");try{n.remove()}catch{}try{u.remove()}catch{}}}function M(){let s=["autoplay","encrypted-media","picture-in-picture"],l=['iframe[src*="youtube.com"]','iframe[src*="youtu.be"]','iframe[src*="youtube-nocookie.com"]'].join(",");document.querySelectorAll(l).forEach(o=>{let u=(o.getAttribute("allow")||"").split(";").map(y=>y.trim()).filter(Boolean),n=Array.from(new Set([...u,...s])).join("; ");o.setAttribute("allow",n)})}function D(s={}){let l=s.lightboxRoot||"#project-lightbox";B(".accordeon"),H({root:l,closeDelayMs:1e3});try{_()}catch{}try{I({scrollerSelector:".perspective-wrapper",initEventName:"logo-start",shrinkEventName:"logo-shrink",growEventName:"logo-grow"})}catch{}}window.App||(window.App={});window.App.init=D;document.addEventListener("DOMContentLoaded",()=>{try{M(),D()}catch(s){console.error("[App] init error",s)}});})();
