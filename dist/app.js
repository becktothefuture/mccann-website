(()=>{function p(r,i=window,o={}){try{i.dispatchEvent(new CustomEvent(r,{bubbles:!0,cancelable:!0,detail:o}))}catch{}try{window.dispatchEvent(new CustomEvent(r,{detail:o}))}catch{}}console.log("[ACCORDION] module loaded");function S(r=".accordeon"){let i=document.querySelector(r);if(!i){console.log("[ACCORDION] root not found");return}let o=e=>e.classList.contains("accordeon-item--level1"),a=e=>e.classList.contains("accordeon-item--level2"),l=e=>e==null?void 0:e.querySelector(":scope > .accordeon__list"),m=e=>o(e)?i:e.closest(".accordeon__list");i.querySelectorAll(".accordeon__trigger").forEach((e,t)=>{e.setAttribute("role","button"),e.setAttribute("tabindex","0");let c=e.closest(".accordeon-item--level1, .accordeon-item--level2"),n=l(c);if(n){let s=n.id||`acc-panel-${t}`;n.id=s,e.setAttribute("aria-controls",s),e.setAttribute("aria-expanded","false")}});function d(e){e.style.maxHeight=e.scrollHeight+"px",e.dataset.state="opening";let t=c=>{c.propertyName==="max-height"&&(e.removeEventListener("transitionend",t),e.dataset.state==="opening"&&(e.style.maxHeight="none",e.dataset.state="open"))};e.addEventListener("transitionend",t)}function g(e){let t=e.style.maxHeight==="none"?e.scrollHeight:parseFloat(e.style.maxHeight||0);e.style.maxHeight=(t||e.scrollHeight)+"px",e.offsetHeight,e.style.maxHeight="0px",e.dataset.state="closing";let c=n=>{n.propertyName==="max-height"&&(e.removeEventListener("transitionend",c),e.dataset.state="collapsed")};e.addEventListener("transitionend",c)}function h(e){let t=m(e);if(!t)return;let c=o(e)?"accordeon-item--level1":"accordeon-item--level2";Array.from(t.children).forEach(n=>{var u;if(n===e||!((u=n.classList)!=null&&u.contains(c)))return;let s=l(n);if(s&&(s.dataset.state==="open"||s.dataset.state==="opening")){g(s);let f=n.querySelector(".accordeon__trigger");f==null||f.setAttribute("aria-expanded","false"),p(o(e)?"ACC_L1_CLOSE":"ACC_L2_CLOSE",n,{source:"sibling"})}})}function y(){i.querySelectorAll(".accordeon-item--level2 .accordeon__list").forEach(e=>{var t;if(e.dataset.state==="open"||e.dataset.state==="opening"){g(e);let c=e.closest(".accordeon-item--level2");(t=c==null?void 0:c.querySelector(".accordeon__trigger"))==null||t.setAttribute("aria-expanded","false"),p("ACC_L2_CLOSE",c,{source:"reset-all"})}})}function E(e){let t=l(e);if(!t)return;let c=e.querySelector(".accordeon__trigger"),n=!(t.dataset.state==="open"||t.dataset.state==="opening");h(e),n&&o(e)&&y(),n?(d(t),c==null||c.setAttribute("aria-expanded","true"),p(o(e)?"ACC_L1_OPEN":"ACC_L2_OPEN",e,{opening:!0})):(g(t),c==null||c.setAttribute("aria-expanded","false"),o(e)&&y(),p(o(e)?"ACC_L1_CLOSE":"ACC_L2_CLOSE",e,{opening:!1}))}document.body.classList.add("js-prep"),i.querySelectorAll(".accordeon__list").forEach(e=>{e.style.maxHeight="0px",e.dataset.state="collapsed"}),requestAnimationFrame(()=>document.body.classList.remove("js-prep")),i.addEventListener("click",e=>{let t=e.target.closest(".accordeon__trigger");if(!t||!i.contains(t))return;e.preventDefault();let c=t.closest(".accordeon-item--level1, .accordeon-item--level2");c&&E(c)}),i.addEventListener("keydown",e=>{let t=e.target.closest(".accordeon__trigger");if(!t||!i.contains(t)||e.key!=="Enter"&&e.key!==" ")return;e.preventDefault();let c=t.closest(".accordeon-item--level1, .accordeon-item--level2");c&&E(c)});let L=new ResizeObserver(e=>{e.forEach(({target:t})=>{t.dataset.state==="open"?t.style.maxHeight="none":t.dataset.state==="opening"&&(t.style.maxHeight=t.scrollHeight+"px")})});i.querySelectorAll(".accordeon__list").forEach(e=>L.observe(e))}var O=0,x=0,C="";function k(){if(O++)return;let r=document.documentElement;C=r.style.scrollBehavior,r.style.scrollBehavior="auto",x=window.scrollY||r.scrollTop||0,Object.assign(document.body.style,{position:"fixed",top:`-${x}px`,left:"0",right:"0",width:"100%",overflow:"hidden",overscrollBehavior:"none"});try{document.body.classList.add("modal-open")}catch{}}function _({delayMs:r=0}={}){let i=()=>{if(--O>0)return;let o=document.documentElement;Object.assign(document.body.style,{position:"",top:"",left:"",right:"",width:"",overflow:"",overscrollBehavior:""});try{document.body.classList.remove("modal-open")}catch{}o.style.scrollBehavior=C||"",window.scrollTo(0,x)};r?setTimeout(i,r):i()}console.log("[VIMEO] module loaded");function B(r){var o;if(!r)return"";let i=String(r).trim();if(/^\d+$/.test(i))return i;try{let a=new URL(i,"https://example.com");if((a.hostname||"").includes("vimeo.com")){let m=a.pathname.split("/").filter(Boolean);return((o=(m[m.length-1]||"").match(/\d+/))==null?void 0:o[0])||""||""}}catch{}return""}function q(r,i,o={}){if(!r)return;let a=B(i);if(!a){r.innerHTML="";return}let l=new URLSearchParams({dnt:1,...o}).toString(),m=`https://player.vimeo.com/video/${a}?${l}`,d=document.createElement("iframe");d.src=m,d.allow="autoplay; fullscreen; picture-in-picture; encrypted-media",d.setAttribute("frameborder","0"),d.style.width="100%",d.style.height="100%",r.innerHTML="",r.appendChild(d)}console.log("[LIGHTBOX] module loaded");function T({root:r="#project-lightbox",closeDelayMs:i=1e3}={}){let o=document.querySelector(r);if(!o){console.log("[LIGHTBOX] not found");return}o.setAttribute("role",o.getAttribute("role")||"dialog"),o.setAttribute("aria-modal",o.getAttribute("aria-modal")||"true"),o.setAttribute("aria-hidden",o.getAttribute("aria-hidden")||"true");let a=o.querySelector(".project-lightbox__inner"),l=o.querySelector(".video-area"),m=document.querySelectorAll(".slide"),d=matchMedia("(prefers-reduced-motion: reduce)").matches,g=!1,h=null;function y(t){Array.from(document.body.children).filter(n=>n!==o).forEach(n=>{try{"inert"in n&&(n.inert=!!t)}catch{}t?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")})}function E(t){if(t.key!=="Tab")return;let c=o.querySelectorAll(["a[href]","button","input","select","textarea",'[tabindex]:not([tabindex="-1"])'].join(",")),n=Array.from(c).filter(f=>!f.hasAttribute("disabled")&&!f.getAttribute("aria-hidden"));if(n.length===0){t.preventDefault(),(a||o).focus();return}let s=n[0],u=n[n.length-1];t.shiftKey&&document.activeElement===s?(t.preventDefault(),u.focus()):!t.shiftKey&&document.activeElement===u&&(t.preventDefault(),s.focus())}function L(t){var w,v,b;if(g)return;g=!0,h=document.activeElement instanceof HTMLElement?document.activeElement:null;let c=((w=t==null?void 0:t.dataset)==null?void 0:w.video)||"",n=((v=t==null?void 0:t.dataset)==null?void 0:v.title)||"",s=((b=t==null?void 0:t.dataset)==null?void 0:b.text)||"",f=/\.webflow\.com$/.test(location.hostname)||/canvas\.webflow\.com$/.test(location.hostname)?0:1;l&&q(l,c,{autoplay:f,muted:1,controls:0,background:1,playsinline:1,dnt:1}),o.setAttribute("aria-hidden","false"),o.setAttribute("data-open","true"),y(!0),k(),o.setAttribute("tabindex","-1"),(a||o).focus(),p("LIGHTBOX_OPEN",o,{video:c,title:n,text:s})}function e(){g&&(p("LIGHTBOX_CLOSE",o),d?(_({delayMs:0}),p("LIGHTBOX_CLOSED_DONE",o)):_({delayMs:i}),o.setAttribute("aria-hidden","true"),o.removeAttribute("data-open"),y(!1),l&&(l.innerHTML=""),h&&document.body.contains(h)&&h.focus(),g=!1)}m.forEach(t=>t.addEventListener("click",()=>L(t))),o.addEventListener("click",t=>{(a&&!t.target.closest(".project-lightbox__inner")||!a&&t.target===o)&&e()}),document.addEventListener("keydown",t=>{o.getAttribute("data-open")==="true"&&(t.key==="Escape"&&e(),t.key==="Tab"&&E(t))}),o.addEventListener("LIGHTBOX_CLOSED_DONE",()=>_())}console.log("[WEBFLOW] module loaded");function H(r={}){let i=r.scrollerSelector||".perspective-wrapper",o=r.driverSelector||".slides .slide, .slide",a=r.initEventName||"logo-start",l=r.playEventName||"logo-shrink",m=r.resetEventName||a||"logo-start",d=r.growEventName||r.reverseEventName||"logo-grow",g=r.start||"top top",h=r.end||"bottom top",y=!!r.markers,E=typeof r.playThreshold=="number"?r.playThreshold:.02;function L(e){if(document.readyState==="complete"){setTimeout(e,0);return}window.addEventListener("load",e,{once:!0})}L(function(){let e=window.Webflow||[],t=()=>{try{return window.Webflow&&window.Webflow.require&&(window.Webflow.require("ix3")||window.Webflow.require("ix2"))}catch{try{return window.Webflow&&window.Webflow.require&&window.Webflow.require("ix2")}catch{return null}}},c=()=>{let n=t(),s=typeof window!="undefined"?window.ScrollTrigger:null;if(!n||!s)return;let u=document.querySelector(i),f=document.querySelector(o)||document.querySelector(".slide")||document.querySelector(".parallax-group:first-child");if(!u||!f)return;try{a&&(console.log("[WEBFLOW] emit init:",a),n.emit(a))}catch{}let w=!0,v=!1,b=!1,D=s.create({trigger:f,scroller:u,start:"top top",end:"top -10%",markers:y,onLeave:()=>{if(w=!1,!v){try{l&&(console.log("[WEBFLOW] emit play/onLeave:",l),n.emit(l))}catch{}v=!0,b=!1}},onEnterBack:()=>{w=!0,v=!1,b=!1;try{a&&(console.log("[WEBFLOW] emit start/onEnterBack:",a),n.emit(a))}catch{}}});try{console.log("[WEBFLOW] ScrollTrigger created",{trigger:f,driverSelector:o,scroller:u,start:"top top",end:"top -10%"})}catch{}s.create({scroller:u,start:0,end:()=>s.maxScroll(u),onUpdate:A=>{if(!w&&v&&!b&&A.direction<0){try{d&&(console.log("[WEBFLOW] emit grow/onUpdate:",d),n.emit(d))}catch{}b=!0}}})};try{e.push(c)}catch{c()}})}function N(){let r=["autoplay","encrypted-media","picture-in-picture"],i=['iframe[src*="youtube.com"]','iframe[src*="youtu.be"]','iframe[src*="youtube-nocookie.com"]'].join(",");document.querySelectorAll(i).forEach(o=>{let a=(o.getAttribute("allow")||"").split(";").map(m=>m.trim()).filter(Boolean),l=Array.from(new Set([...a,...r])).join("; ");o.setAttribute("allow",l)})}function W(r={}){let i=r.lightboxRoot||"#project-lightbox";S(".accordeon"),T({root:i,closeDelayMs:1e3});try{H({scrollerSelector:".perspective-wrapper",initEventName:"logo-start",playEventName:"logo-shrink",resetEventName:"logo-start",growEventName:"logo-grow"})}catch{}}window.App||(window.App={});window.App.init=W;document.addEventListener("DOMContentLoaded",()=>{try{N(),W()}catch(r){console.error("[App] init error",r)}});})();
