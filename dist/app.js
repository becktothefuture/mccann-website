(() => {
  var __defProp = Object.defineProperty;
  var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
  var __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);

  // src/data/project-data.json
  var project_data_default = {
    "loreal-final-copy": {
      client: "L'Or\xE9al Paris",
      title: "The Final Copy of Ilon Specht",
      truth: "Women have inherent worth and deserve to be seen, heard, and valued.",
      truthWellTold: "Because You're Worth It",
      description: `Fifty years after "Because I'm Worth It" was written, its meaning had become eroded by time. What began as a statement of rebellion had softened into a tagline \u2014 spoken everywhere but rarely felt. Our idea was not to reinterpret it, but to reclaim it. We did so by going back to where the line began, to Ilon Specht, the young McCann copywriter who fought so hard to bring those words to life. We worked with two-time Oscar-winning filmmaker Ben Proudfoot to capture Specht, now in her senior years and facing a terminal illness, in her New York apartment. She reflects on making the original ad at a time when so many forces were working against her, and, all throughout, her fire and unfiltered voice come to life: sharp, defiant and unapologetic. No brand messaging. No product shots. Just truth. The ultimate embodiment of "I'm worth it." We gave Ilon Specht back her words and her authorship. We didn't modernize her line. We reminded the world of its original power, and the world listened.`,
      impact: "More than 75% of people who saw the film reported that it changed their perception of the brand",
      vimeoId: "000000000",
      awards: [
        "award-generic-1.jpg",
        "award-generic-2.jpg",
        "award-generic-3.jpg"
      ]
    },
    "mastercard-abracadabra": {
      client: "Mastercard",
      title: "Abracadabra: From Fan to Featured",
      truth: "Music fans want to live their passion, not just listen to it.",
      truthWellTold: "From Fan to Featured",
      description: "Gen Z doesn't just watch culture, they make it. So Mastercard turned Lady Gaga's music video into a fan-powered audition, with choreography by Parris Goebel, creators leading the charge, and Gaga amplifying every step. We partnered with viral dance creators to teach the moves, model participation, and rally their communities. Mastercard and Gaga fueled the movement by liking, reposting, and celebrating fans across platforms. The strategy was rooted in Gen Z's desire for self-expression and social connection \u2014 turning fan behavior into the engine of engagement. The result: 1.4 billion views, TikTok's top branded hashtag, and Mastercard's biggest-ever Gen Z brand lift.",
      impact: "Mastercard's biggest-ever Gen Z brand lift",
      vimeoId: "000000000",
      awards: [
        "award-generic-1.jpg",
        "award-generic-2.jpg"
      ]
    },
    "xbox-everyday-tactician": {
      client: "Xbox",
      title: "The Everyday Tactician",
      truth: "Football Manager gamers don't just play the game, they study it.",
      truthWellTold: "Xbox turned game intelligence into real-world influence",
      description: "Modern football is dominated by a few rich clubs that can afford to hire big teams of coaches and analysts, which means smaller clubs struggle to compete for talent. For the launch of Football Manager 24 \u2014 the most realistic football simulator \u2014 Xbox helped the small club Bromley FC recruit their next tactician from an untapped talent pool: gamers. The announcement made headlines everywhere, and people from around the world applied. Nathan Owolabi, a dedicated Football Manager player, got the job. He used data from the game to help the club win in the real world, developing formations, finding new strategies, and uncovering the opposition's weaknesses. The story of this unusual approach to football was told in a 60+ minute documentary on TNT Sports \u2014 the UK's biggest sports broadcaster. With the help of a gamer, the club achieved its best season in its 132-year history, ultimately gaining promotion to League Two for the first time ever. Xbox saw a dramatic increase in Football Manager players on console, and Football Manager 24 became the most-played game in the history of the franchise.",
      impact: "190% increase in Xbox players for Football Manager 24, which became the most-played game in the history of the franchise",
      vimeoId: "000000000",
      awards: [
        "award-generic-1.jpg",
        "award-generic-2.jpg",
        "award-generic-3.jpg"
      ]
    },
    "chevrolet-100-years": {
      client: "Chevrolet",
      title: "100 Years of Chevrolet",
      truth: "The future is born out of the past. Every Chevrolet that's carried us along the way continues to drive us forward.",
      truthWellTold: "For 100 years, always driving toward the future",
      description: "Chevrolet celebrated 100 years in Brazil with a 360\xBA campaign that revisited defining moments in the nation's history. In the hero film, from the rise of industry to women's right to vote, from the dream of a new capital to the return of democracy, from World Cup celebrations to reconnection after the pandemic, each scene was chosen to reflect the country's progress and the brand's enduring presence throughout. The story is told through immersive cinematography, 3D transitions, and iconic vehicles that act as portals through time. Every frame was carefully crafted, combining historical accuracy with emotional depth. Narrated by Fernanda Torres, one of Brazil's most celebrated actresses, the film aired nationally on Chevrolet's 100th anniversary. More than a celebration, it became a statement about memory, progress, and connection, reminding Brazilians that Chevrolet has not just been a car brand, but a part of their country's journey.",
      impact: "#1 position in brand consideration \u2014 6 p.p. ahead of 2nd place and 9 p.p. ahead of 3rd. #1 position in engagement across the category, with 44\xD7 more interactions than the brand's overall average. 470,000 real experiences delivered through the Spotify activation. Strongest Brand Power in the industry in Brazil's automotive industry during the period.",
      vimeoId: "000000000",
      awards: [
        "award-generic-1.jpg"
      ]
    },
    "mastercard-inclusive-by-design": {
      client: "Mastercard",
      title: "Inclusive by Design",
      truth: "An inclusive global financial system is good for humanity and business.",
      truthWellTold: "Doing well by doing good.",
      description: `When Mastercard and McCann debuted "Priceless" in 1997, the campaign captured people's hearts with a breakthrough idea: in a world of conspicuous consumption, what really matters are the things that money can't buy \u2014 like taking your child to their first game at the ballpark. Mastercard and McCann realized that to continue to deliver on "Priceless," the brand platform could not ignore the 1.4 billion people globally excluded from the financial system due to discrimination, exploitation, and more. With financial inclusion now central to Mastercard's brand purpose, "Priceless" has evolved beyond messaging into groundbreaking product innovations, tools, and platforms. Among them: the "True Name" card, allowing transgender individuals to have their real names inscribed on their credit cards; the "Touch Card" system that lets sight-impaired consumers to distinguish their credit, debit, and pre-paid cards by touch; the "Where to Settle" tool that helps Ukrainian refugees in Poland find the ideal areas to make their new homes; the "Where to Start" tool that helps create a symbiotic financial ecosystem between resettled Ukrainian refugees and their Polish neighbors; and the new "Life Donor Card" and "ATM Voting" projects, which have turned millions of users into organ donors and helped citizens decide how the government uses their money, respectively.`,
      impact: "+89% increase in brand value since 2018",
      vimeoId: "000000000",
      awards: [
        "award-generic-1.jpg",
        "award-generic-2.jpg",
        "award-generic-3.jpg"
      ]
    },
    "puck-recipe-for-change": {
      client: "Puck",
      title: "Recipe for Change",
      truth: "Cultural knowledge is economic power.",
      truthWellTold: "From local kitchens to global restaurant tables",
      description: `As Lebanon faced one of the worst economic and humanitarian crises in modern history, traditional aid models and retail logistics collapsed, leaving displaced women with no income and limited support. Puck, a trusted Middle Eastern dairy brand, saw an opportunity in what remained: the women's family recipes, passed down for generations. "Recipe for Change" transformed these cultural heirlooms into intellectual property by licensing the recipes to Lebanese and fusion restaurants around the world. Each dish sold generated income, with 50% of profits going directly to the women behind them. The strategy reframed these women not as victims, but as business partners, restoring dignity and agency. Launched during Ramadan, a time rooted in generosity, the campaign created a scalable B2B2C model that connected communities across borders. It not only supported displaced women but also drove new revenue for restaurants and redefined how brands can build equity, empathy, and economic impact during crisis.`,
      impact: "+16.67% profit increase, +56% rise in footfall for participating restaurants, +807.12% revenue for the women behind the recipes",
      vimeoId: "000000000",
      awards: [
        "award-generic-1.jpg",
        "award-generic-2.jpg"
      ]
    },
    "kids-help-phone": {
      client: "Kids Help Phone",
      title: "Help",
      truth: 'Adults define "help" as something youth only need in crisis.',
      truthWellTold: "Help means everything",
      description: `"Help" is a powerful film, marking the next chapter of Kids Help Phone's Feel Out Loud platform. The film reimagines The Beatles' "Help!" to explore what "help" truly means to young people today \u2014 from everyday struggles to urgent crises. Blending live action, CGI, and emotional metaphor, it visualizes real youth experiences drawn from over 50 million data points that have been aggregated and anonymized from real conversations with youth.`,
      impact: "In 2023, 49% of youth said that without KHP, they would have ignored their issue entirely \u2014 a major barrier to positive mental health outcomes.",
      vimeoId: "000000000",
      awards: []
    },
    "aldi-kevin-carrot": {
      client: "ALDI",
      title: "Kevin the Carrot's Christmas Mission",
      truth: "Living well everyday isn't about spending more but enjoying more. Because having the best Christmas possible should be something everyone can afford to have, not just dream about.",
      truthWellTold: "Have a Cracking Christmas with Aldi",
      description: 'In a festive campaign, a snowy Christmas Eve village loses its sparkle when Dr. Humbug and her crew steal the "Christmas Spirit." Santa calls on Kevin the Carrot to save the day, sending him on a daring mission to infiltrate Humbug Headquarters. With clever disguises, his wife Katie, and a few comedic close calls, Kevin works to restore joy to the village. The story ends with the humbugs learning that "Christmas is better when goodwill is returned."',
      impact: `The ad achieved the highest possible 5.9-star rating in System1's analysis for both short and long-term effects (the sixth consecutive year Aldi's Christmas campaign had scored the highest in the rankings). Kevin was also named the UK's favourite Christmas ad of all time, and Aldi's reported a 3.4% increase in total sales in 2024, the brand's "best Christmas ever."`,
      vimeoId: "000000000",
      awards: []
    },
    "xbox-cheeky-controller": {
      client: "Xbox",
      title: "Cheeky Controller",
      truth: "Irreverence is Deadpool's true superpower.",
      truthWellTold: "Deadpool's greatest asset is his\u2026",
      description: `The highly anticipated theatrical release of Marvel Studios' "Deadpool & Wolverine" was an unmissable pop culture moment, and Xbox aimed to capture the attention of the movie's fanbase alongside other brands vying for consumer engagement. By authentically blending Xbox's technological edge with Deadpool's irreverent humor, we created a culturally iconic retail promotion with a competition at its core. Rather than rely on predictable character assets, we launched The Cheeky Controller \u2014 a limited-edition collectible modeled after Deadpool's most talked-about body part \u2014 as an exclusive prize in a global sweepstakes. This unexpected twist on character merchandising not only ignited fan frenzy and drove massive earned media, it also deepened brand engagement and delivered a 25% sales uplift on the Microsoft Store, proving the power of bold retail ideas to cut through.`,
      impact: "+25% sales increase on the Microsoft Store",
      vimeoId: "000000000",
      awards: [
        "award-generic-1.jpg",
        "award-generic-2.jpg"
      ]
    },
    "mcdonalds-not-first-dates": {
      client: "McDonald's",
      title: "Not for First Dates",
      truth: "While McDonald's may not mark the beginning of love, it often becomes part of love's journey \u2014 for second dates, late-night comfort, and everyday rituals.",
      truthWellTold: "Not for first dates. But for every other one.",
      description: `By embracing a viral moment that its restaurant "wasn't for first dates," McDonald's reignited emotional connection with the audience by celebrating second, fifth, and forever dates through intimate, honest storytelling.`,
      impact: "",
      vimeoId: "000000000",
      awards: [
        "award-generic-1.jpg"
      ]
    },
    "just-eat-did-somebody-say": {
      client: "Just Eat",
      title: "Did Somebody Say",
      truth: "Getting what you want, when you want it, is modern life's greatest joy.",
      truthWellTold: "Did Somebody Say",
      description: `Just Eat UK&I and McCann London launched a fresh take on the iconic "Did Somebody Say" campaign, starring UK garage legend Craig David. Celebrating neighbourhoods and community spirit, the new campaign brings a distinctly local "flava" to the platform. Craig David's garage-inspired remix of the famous jingle soundtracks a lively journey through "Impossible Street," showcasing diverse households and the many ways Just Eat serves everyday moments \u2014 from cosy takeaways to last-minute groceries. Directed by Romain Chassaing, the campaign spans TV, cinema, radio, and social, spotlighting Just Eat's deep connection to local culture.`,
      impact: "Since launching, ad recognition is now at 67% (category average is 38%), profits have increased by 56%, and the UK has experienced +24% YOY revenue growth. Best of all, Just Eat has taken its rightful place as number 1 in the food delivery category, all whilst entertaining the world.",
      vimeoId: "000000000",
      awards: []
    },
    "prada-paradigme": {
      client: "Prada",
      title: "Paradigme",
      truth: "There's no singular version of masculinity. Each individual creates their own paradigm.",
      truthWellTold: "What if there's another way?",
      description: `With a cinematic film starring brand ambassador Tom Holland, Prada Beauty unveiled its new masculine fragrance, Paradigme. Created by McCann Paris and directed by Oscar-winner Thomas Vinterberg, the two-minute spot follows Holland as he reflects on life's possibilities, asking, "What if there's another way?" Through moments of introspection, movement, and creativity, the film captures themes of growth and self-discovery, echoing the fragrance's spirit of redefining one's path. Blending emotional storytelling with striking visuals, Paradigme celebrates authenticity and curiosity. The campaign launched globally across TV, cinema, and social platforms, embodying Prada's call to "create your paradigm."`,
      impact: "",
      vimeoId: "000000000",
      awards: []
    }
  };

  // src/modules/preloader.js
  console.log("[PRELOADER] Module loaded");
  var preloaderEl = null;
  var signetEl = null;
  var progressEl = null;
  var logEl = null;
  var animationFrameId = null;
  var showDebugLog = true;
  function initPreloader({
    selector = "#preloader",
    videoSelector = "video[data-wf-ignore], video[autoplay], video[data-autoplay]",
    vimeoPreload = "prefetch",
    // 'none', 'prefetch', 'prebuffer'
    vimeoBufferLimit = 5,
    projectData: projectData2 = project_data_default,
    minLoadTime = 1e3,
    showDebugLog: debugLogOption = true,
    pulseDuration = 3e3,
    pulseOpacity = 0.2
  } = {}) {
    showDebugLog = debugLogOption;
    log("Initializing preloader...");
    preloaderEl = document.querySelector(selector);
    if (!preloaderEl) {
      console.error("[PRELOADER] \u274C Preloader element not found");
      return;
    }
    signetEl = preloaderEl.querySelector(".preloader__signet");
    progressEl = preloaderEl.querySelector(".preloader__progress");
    if (!signetEl) {
      console.error("[PRELOADER] \u274C Signet element not found");
      return;
    }
    if (showDebugLog) {
      createLogElement();
    }
    log("\u2713 Elements found", "success");
    log("\u2713 Pulse animation started", "success");
    animatePulse(pulseDuration, pulseOpacity);
    const startTime = performance.now();
    Promise.all([
      prefetchVideos(videoSelector),
      preloadVimeoVideos(projectData2, vimeoPreload, vimeoBufferLimit)
    ]).then(() => {
      const elapsed = performance.now() - startTime;
      const remaining = Math.max(0, minLoadTime - elapsed);
      log(`\u2713 All media loaded in ${Math.round(elapsed)}ms`, "success");
      if (remaining > 0) {
        log(`Waiting ${Math.round(remaining)}ms (min display time)...`, "info");
      }
      setTimeout(() => {
        hidePreloader();
      }, remaining);
    }).catch((err) => {
      console.error("[PRELOADER] \u274C Error:", err);
      log(`\u274C Error loading media: ${err.message}`, "error");
      const elapsed = performance.now() - startTime;
      const remaining = Math.max(0, minLoadTime - elapsed);
      setTimeout(() => {
        log("Hiding despite errors (graceful degradation)", "warning");
        hidePreloader();
      }, remaining);
    });
  }
  function createLogElement() {
    if (!preloaderEl || logEl) return;
    logEl = document.createElement("div");
    logEl.className = "preloader__log";
    logEl.setAttribute("aria-live", "polite");
    logEl.setAttribute("aria-atomic", "false");
    preloaderEl.appendChild(logEl);
    log("Debug log initialized", "info");
  }
  function log(message, type = "info") {
    const timestamp = (/* @__PURE__ */ new Date()).toLocaleTimeString("en-US", {
      hour12: false,
      hour: "2-digit",
      minute: "2-digit",
      second: "2-digit",
      fractionalSecondDigits: 3
    });
    const consoleMessage = `[PRELOADER] ${message}`;
    switch (type) {
      case "error":
        console.error(consoleMessage);
        break;
      case "warning":
        console.warn(consoleMessage);
        break;
      case "success":
      case "info":
      default:
        console.log(consoleMessage);
    }
    if (!showDebugLog || !logEl) return;
    const entry = document.createElement("div");
    entry.className = `preloader__log-entry preloader__log-entry--${type}`;
    entry.textContent = `${timestamp} ${message}`;
    logEl.appendChild(entry);
    logEl.scrollTop = logEl.scrollHeight;
    const entries = logEl.querySelectorAll(".preloader__log-entry");
    if (entries.length > 20) {
      entries[0].remove();
    }
  }
  async function prefetchVideos(selector) {
    const videos = Array.from(document.querySelectorAll(selector));
    if (videos.length === 0) {
      log("\u26A0 No videos found to prefetch", "warning");
      return;
    }
    log(`\u{1F3AC} Found ${videos.length} video(s) to prefetch`, "info");
    let loadedCount = 0;
    const videoPromises = videos.map(
      (video, index) => prefetchSingleVideo(video, index + 1, videos.length, () => {
        loadedCount++;
        updateProgress(loadedCount, videos.length);
      })
    );
    const results = await Promise.allSettled(videoPromises);
    const successful = results.filter((r) => r.status === "fulfilled").length;
    const failed = results.filter((r) => r.status === "rejected").length;
    if (failed > 0) {
      log(`\u26A0 ${failed} video(s) failed to load`, "warning");
    }
    log(`\u2713 ${successful}/${videos.length} video(s) ready`, "success");
  }
  function prefetchSingleVideo(video, index, total, onProgress) {
    return new Promise((resolve, reject) => {
      if (video.readyState >= 3) {
        log(`\u2713 Video ${index}/${total} already loaded`, "success");
        onProgress();
        resolve(video);
        return;
      }
      const onCanPlay = () => {
        log(`\u2713 Video ${index}/${total} ready`, "success");
        cleanup();
        onProgress();
        resolve(video);
      };
      const onError = (err) => {
        log(`\u26A0 Video ${index}/${total} failed`, "warning");
        cleanup();
        reject(err);
      };
      const onTimeout = () => {
        log(`\u26A0 Video ${index}/${total} timeout (10s)`, "warning");
        cleanup();
        reject(new Error("Video load timeout"));
      };
      const cleanup = () => {
        video.removeEventListener("canplaythrough", onCanPlay);
        video.removeEventListener("canplay", onCanPlay);
        video.removeEventListener("error", onError);
        clearTimeout(timeoutId);
      };
      const timeoutId = setTimeout(onTimeout, 1e4);
      video.addEventListener("canplaythrough", onCanPlay, { once: true });
      video.addEventListener("canplay", onCanPlay, { once: true });
      video.addEventListener("error", onError, { once: true });
      if (video.readyState === 0) {
        log(`Loading video ${index}/${total}...`, "info");
        video.load();
      }
    });
  }
  function updateProgress(current, total) {
    if (!progressEl) return;
    const percentage = Math.round(current / total * 100);
    progressEl.textContent = `${percentage}%`;
    progressEl.setAttribute("aria-valuenow", percentage);
  }
  async function preloadVimeoVideos(projectData2, strategy = "prefetch", bufferLimit = 5) {
    if (strategy === "none") {
      log("\u23ED Vimeo preloading disabled", "info");
      return;
    }
    const vimeoIds = Object.values(projectData2).map((project) => project == null ? void 0 : project.vimeoId).filter((id) => id && id !== "000000000" && id !== "null" && id !== null);
    if (vimeoIds.length === 0) {
      log("\u26A0 No valid Vimeo IDs found in project data", "warning");
      return;
    }
    log(`\u{1F3AC} Found ${vimeoIds.length} Vimeo video(s) in project data`, "info");
    switch (strategy) {
      case "prebuffer":
        return prebufferVimeoIframes(vimeoIds, bufferLimit);
      case "prefetch":
      default:
        return addVimeoPrefetchHints(vimeoIds);
    }
  }
  function addVimeoPrefetchHints(vimeoIds) {
    log(`\u{1F517} Adding prefetch hints for ${vimeoIds.length} Vimeo video(s)`, "info");
    vimeoIds.forEach((id, index) => {
      const link = document.createElement("link");
      link.rel = "prefetch";
      link.href = `https://player.vimeo.com/video/${id}`;
      link.as = "document";
      document.head.appendChild(link);
      log(`\u2713 Vimeo ${index + 1}/${vimeoIds.length} prefetch hint added`, "success");
    });
    log("\u2713 All Vimeo prefetch hints added (lightweight)", "success");
    return Promise.resolve();
  }
  function prebufferVimeoIframes(vimeoIds, bufferLimit = 5) {
    const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
    if (connection && connection.effectiveType !== "4g") {
      log("\u26A0 Skipping Vimeo prebuffer (slow connection detected)", "warning");
      log("\u2713 Falling back to prefetch hints only", "info");
      return addVimeoPrefetchHints(vimeoIds);
    }
    if (isMobile) {
      log("\u26A0 Skipping Vimeo prebuffer (mobile device detected)", "warning");
      log("\u2713 Falling back to prefetch hints only", "info");
      return addVimeoPrefetchHints(vimeoIds);
    }
    const idsToBuffer = vimeoIds.slice(0, bufferLimit);
    if (idsToBuffer.length < vimeoIds.length) {
      log(`\u26A0 Limiting prebuffer to first ${bufferLimit} videos`, "warning");
      const remaining = vimeoIds.slice(bufferLimit);
      remaining.forEach((id) => {
        const link = document.createElement("link");
        link.rel = "prefetch";
        link.href = `https://player.vimeo.com/video/${id}`;
        link.as = "document";
        document.head.appendChild(link);
      });
    }
    log(`\u{1F3AC} Prebuffering ${idsToBuffer.length} Vimeo video(s)`, "info");
    return new Promise((resolve) => {
      const container = document.createElement("div");
      container.id = "vimeo-prebuffer-container";
      container.style.cssText = `
      position: fixed;
      left: -9999px;
      top: -9999px;
      width: 1px;
      height: 1px;
      opacity: 0;
      pointer-events: none;
      z-index: -1;
    `;
      container.setAttribute("aria-hidden", "true");
      let buffered = 0;
      idsToBuffer.forEach((id, index) => {
        const iframe = document.createElement("iframe");
        iframe.src = `https://player.vimeo.com/video/${id}?muted=1&autoplay=1&background=1&quality=360p`;
        iframe.allow = "autoplay";
        iframe.width = "1";
        iframe.height = "1";
        iframe.loading = "eager";
        log(`Loading Vimeo ${index + 1}/${idsToBuffer.length} (ID: ${id})...`, "info");
        setTimeout(() => {
          buffered++;
          log(`\u2713 Vimeo ${index + 1}/${idsToBuffer.length} prebuffered`, "success");
          iframe.remove();
          if (buffered === idsToBuffer.length) {
            container.remove();
            log(`\u2713 All Vimeo videos prebuffered`, "success");
            resolve();
          }
        }, 8e3);
        container.appendChild(iframe);
      });
      document.body.appendChild(container);
    });
  }
  function hidePreloader() {
    if (!preloaderEl) return;
    log("\u{1F3AF} Hiding preloader with energetic reveal...", "info");
    stopAnimations();
    const prefersReduced = matchMedia("(prefers-reduced-motion: reduce)").matches;
    if (prefersReduced) {
      preloaderEl.style.display = "none";
      document.body.classList.remove("preloader-active");
      window.dispatchEvent(new CustomEvent("preloader:complete"));
      log("\u2713 Preloader complete", "success");
      return;
    }
    preloaderEl.classList.add("is-revealing");
    setTimeout(() => {
      preloaderEl.style.display = "none";
      document.body.classList.remove("preloader-active");
      window.dispatchEvent(new CustomEvent("preloader:complete"));
      log("\u2713 Preloader complete", "success");
    }, 60);
  }
  function animatePulse(duration = 3e3, opacityRange = 0.2) {
    const startTime = performance.now();
    function loop(currentTime) {
      const progress = (currentTime - startTime) % duration / duration;
      const opacity = 1 - opacityRange / 2 + Math.sin(progress * Math.PI * 2) * (opacityRange / 2);
      signetEl.style.setProperty("--pulse-opacity", opacity);
      animationFrameId = requestAnimationFrame(loop);
    }
    animationFrameId = requestAnimationFrame(loop);
  }
  function stopAnimations() {
    if (animationFrameId) {
      cancelAnimationFrame(animationFrameId);
      animationFrameId = null;
      console.log("[PRELOADER] \u2713 Animation stopped");
    }
  }
  function cleanupPreloader() {
    stopAnimations();
    preloaderEl = null;
    signetEl = null;
    progressEl = null;
    logEl = null;
    log("Cleaned up", "info");
  }
  if (typeof window !== "undefined") {
    window.App = window.App || {};
    window.App.preloader = {
      cleanup: cleanupPreloader
    };
  }

  // src/modules/accordion-direct-gsap.js
  var gsap;
  function findGSAP() {
    if (gsap) return gsap;
    let attempts = 0;
    const find = () => {
      const gsapAvailable = window.gsap || window.TweenMax || window.TweenLite;
      if (gsapAvailable) {
        gsap = gsapAvailable.gsap || gsapAvailable;
        console.log("[DIRECT-GSAP] \u2705 GSAP found and cached. Version:", gsap.version || "Legacy");
      } else if (attempts < 20) {
        attempts++;
        setTimeout(find, 250);
      } else {
        console.log("[DIRECT-GSAP] \u274C GSAP not found after 5 seconds, animations disabled");
      }
    };
    find();
  }
  findGSAP();
  function gsapOpenAnimation() {
    if (!gsap) {
      console.log("[DIRECT-GSAP] Open animation skipped: GSAP not available.");
      return;
    }
    const targets = document.querySelectorAll(".acc-animate-target");
    if (targets.length === 0) return;
    console.log(`[DIRECT-GSAP] \u{1F3AC} Animating ${targets.length} items OPEN`);
    gsap.killTweensOf && gsap.killTweensOf(targets);
    gsap.set(targets, { opacity: 0, y: -6 });
    gsap.to(targets, {
      opacity: 1,
      duration: 0.01,
      stagger: 0.08,
      ease: "none"
    });
    gsap.to(targets, {
      y: 0,
      duration: 0.3,
      stagger: 0.08,
      ease: "power2.out",
      onComplete: () => {
        console.log("[DIRECT-GSAP] \u2705 Open animation complete");
        gsap.set(targets, { clearProps: "all" });
      }
    });
  }
  function gsapCloseAnimation() {
    if (!gsap) {
      console.log("[DIRECT-GSAP] Close animation skipped: GSAP not available.");
      return;
    }
    const targets = document.querySelectorAll(".acc-animate-target");
    if (targets.length === 0) return;
    console.log(`[DIRECT-GSAP] \u{1F3AC} Animating ${targets.length} items CLOSE`);
    gsap.killTweensOf && gsap.killTweensOf(targets);
    gsap.to(targets, {
      opacity: 0,
      duration: 0.01,
      stagger: {
        each: 0.05,
        from: "end"
      },
      ease: "none"
    });
    gsap.to(targets, {
      y: -6,
      duration: 0.2,
      stagger: {
        each: 0.05,
        from: "end"
      },
      ease: "power2.in",
      onComplete: () => {
        console.log("[DIRECT-GSAP] \u2705 Close animation complete");
      }
    });
  }
  window.directGSAPTest = {
    testOpen: () => {
      console.log("[DIRECT-GSAP] Manual test: OPEN");
      document.querySelectorAll(".acc-item").forEach((el) => {
        var _a;
        return (_a = el.classList) == null ? void 0 : _a.add("acc-animate-target");
      });
      gsapOpenAnimation();
    },
    testClose: () => {
      console.log("[DIRECT-GSAP] Manual test: CLOSE");
      document.querySelectorAll(".acc-item").forEach((el) => {
        var _a;
        return (_a = el.classList) == null ? void 0 : _a.add("acc-animate-target");
      });
      gsapCloseAnimation();
    },
    checkGSAP: () => {
      const gsapFound = !!gsap;
      console.log("[DIRECT-GSAP] GSAP available:", gsapFound);
      return gsapFound;
    }
  };

  // src/modules/accordion.js
  console.log("[ACCORDION] Module loaded");
  function initAccordion(options = {}) {
    const { selector = ".accordeon" } = options;
    const root = document.querySelector(selector);
    if (!root) {
      console.log("[ACCORDION] \u274C Root element not found:", selector);
      return;
    }
    console.log("[ACCORDION] \u2713 Root element found:", selector);
    window._accordionRoot = root;
    window._accordionDebug = true;
    const panelOf = (item) => item == null ? void 0 : item.querySelector(":scope > .acc-list");
    const groupOf = (item) => {
      const parent = item.parentElement;
      return (parent == null ? void 0 : parent.classList.contains("acc-list")) ? parent : root;
    };
    const dbg = (...args) => {
      try {
        console.log("[ACCORDION]", ...args);
      } catch (_) {
      }
    };
    const itemKind = (el) => {
      var _a;
      return ((_a = el == null ? void 0 : el.classList) == null ? void 0 : _a.contains("acc-section")) ? "section" : "item";
    };
    const labelOf = (el) => {
      const t = el == null ? void 0 : el.querySelector(":scope > .acc-trigger");
      return ((t == null ? void 0 : t.textContent) || "").trim().replace(/\s+/g, " ").slice(0, 80);
    };
    const ACTIVE_TRIGGER_CLASS = "acc-trigger--active";
    function markItemsForAnimation(panel, show = true) {
      const items = panel.querySelectorAll(":scope > .acc-item");
      items.forEach((item) => {
        if (show) {
          item.classList.add("acc-animate-target");
        } else {
          item.classList.remove("acc-animate-target");
        }
      });
      dbg(`Marked ${items.length} items for ${show ? "show" : "hide"} animation in panel ${panel.id}`);
    }
    function clearAllAnimationMarkers() {
      root.querySelectorAll(".acc-animate-target").forEach((el) => {
        el.classList.remove("acc-animate-target");
      });
    }
    const wfIx = window.Webflow && window.Webflow.require ? window.Webflow.require("ix3") || window.Webflow.require("ix2") : null;
    dbg("Webflow IX available:", !!wfIx);
    function emitIx(name) {
      try {
        if (wfIx && typeof wfIx.emit === "function") {
          dbg(`\u{1F3AF} EMITTING via wfIx.emit: "${name}"`);
          wfIx.emit(name);
        }
      } catch (err) {
        dbg("wfIx.emit error", err && err.message);
      }
      try {
        window.dispatchEvent(new CustomEvent(name));
        dbg(`\u{1F4E2} EMITTING via window.dispatchEvent: "${name}"`);
      } catch (err) {
        dbg("window.dispatchEvent error", err && err.message);
      }
    }
    function emitAll(primary) {
      const aliases = [];
      if (primary === "acc-open") aliases.push("accordeon-open");
      if (primary === "acc-close") aliases.push("accordeon-close");
      [primary, ...aliases].forEach((ev) => emitIx(ev));
    }
    const triggers = root.querySelectorAll(".acc-trigger");
    triggers.forEach((t, i) => {
      const item = t.closest(".acc-section, .acc-item");
      const p = panelOf(item);
      if (p) {
        const pid = p.id || `acc-panel-${i}`;
        p.id = pid;
        t.setAttribute("aria-controls", pid);
        t.setAttribute("aria-expanded", "false");
      }
    });
    dbg("bootstrapped", triggers.length, "triggers");
    function expand(p) {
      var _a;
      dbg("expand start", { id: p.id, children: (_a = p.children) == null ? void 0 : _a.length });
      p.classList.add("is-active", "acc-list--expanding");
      p.dataset.state = "opening";
      const onEnd = (e) => {
        if (e.propertyName !== "max-height") return;
        if (p.dataset.state === "opening") {
          p.classList.remove("acc-list--expanding");
          p.classList.add("acc-list--expanded");
          p.dataset.state = "open";
          dbg("expanded", { id: p.id });
        }
      };
      p.addEventListener("transitionend", onEnd, { once: true });
    }
    function collapse(p) {
      dbg("collapse start", { id: p.id });
      p.classList.remove("acc-list--expanding", "acc-list--expanded");
      p.dataset.state = "closing";
      const onEnd = (e) => {
        if (e.propertyName !== "max-height") return;
        if (p.dataset.state === "closing") {
          p.dataset.state = "collapsed";
          p.classList.remove("is-active");
          markItemsForAnimation(p, false);
          dbg("collapsed", { id: p.id });
        }
      };
      p.addEventListener("transitionend", onEnd, { once: true });
    }
    function closeSiblings(item) {
      const group = groupOf(item);
      if (!group) return;
      const want = item.matches(".acc-section") ? "acc-section" : "acc-item";
      Array.from(group.children).forEach((sib) => {
        var _a;
        if (sib === item || !sib.classList.contains(want)) return;
        const p = panelOf(sib);
        if (p && (p.dataset.state === "open" || p.dataset.state === "opening")) {
          dbg("close sibling", { kind: want, label: labelOf(sib), id: p.id });
          clearAllAnimationMarkers();
          markItemsForAnimation(p, true);
          requestAnimationFrame(() => emitAll("acc-close"));
          collapse(p);
          const trig = sib.querySelector(":scope > .acc-trigger");
          trig == null ? void 0 : trig.setAttribute("aria-expanded", "false");
          (_a = trig == null ? void 0 : trig.classList) == null ? void 0 : _a.remove(ACTIVE_TRIGGER_CLASS);
        }
      });
    }
    function resetAllL2Under(container) {
      const scope = container || root;
      scope.querySelectorAll(".acc-item > .acc-list").forEach((p) => {
        var _a;
        if (p.dataset.state === "open" || p.dataset.state === "opening") {
          collapse(p);
          const it = p.closest(".acc-item");
          const t = it == null ? void 0 : it.querySelector(":scope > .acc-trigger");
          t == null ? void 0 : t.setAttribute("aria-expanded", "false");
          (_a = t == null ? void 0 : t.classList) == null ? void 0 : _a.remove(ACTIVE_TRIGGER_CLASS);
        }
      });
    }
    function toggle(item) {
      var _a, _b;
      const p = panelOf(item);
      if (!p) return;
      const trig = item.querySelector(":scope > .acc-trigger");
      const opening = !(p.dataset.state === "open" || p.dataset.state === "opening");
      dbg("toggle", { kind: itemKind(item), opening, label: labelOf(item), id: p.id });
      if (opening) closeSiblings(item);
      if (itemKind(item) === "section") {
        if (opening) resetAllL2Under(root);
        else resetAllL2Under(item);
      }
      if (opening) {
        clearAllAnimationMarkers();
        markItemsForAnimation(p, true);
        requestAnimationFrame(() => {
          dbg("emit acc-open", { id: p.id });
          emitAll("acc-open");
          gsapOpenAnimation();
        });
        expand(p);
        trig == null ? void 0 : trig.setAttribute("aria-expanded", "true");
        (_a = trig == null ? void 0 : trig.classList) == null ? void 0 : _a.add(ACTIVE_TRIGGER_CLASS);
      } else {
        clearAllAnimationMarkers();
        markItemsForAnimation(p, true);
        requestAnimationFrame(() => {
          dbg("emit acc-close", { id: p.id });
          emitAll("acc-close");
          gsapCloseAnimation();
        });
        collapse(p);
        trig == null ? void 0 : trig.setAttribute("aria-expanded", "false");
        (_b = trig == null ? void 0 : trig.classList) == null ? void 0 : _b.remove(ACTIVE_TRIGGER_CLASS);
      }
    }
    document.body.classList.add("js-prep");
    root.querySelectorAll(".acc-list").forEach((p) => {
      p.dataset.state = "collapsed";
    });
    requestAnimationFrame(() => {
      document.body.classList.remove("js-prep");
    });
    function handleInteraction(e) {
      const t = e.target.closest(".acc-trigger");
      if (!t || !root.contains(t)) return;
      if (e.type === "keydown" && e.key !== "Enter" && e.key !== " ") return;
      e.preventDefault();
      const item = t.closest(".acc-section, .acc-item");
      if (item) {
        dbg(e.type, { label: (t.textContent || "").trim().replace(/\s+/g, " ").slice(0, 80) });
        toggle(item);
      }
    }
    root.addEventListener("click", handleInteraction);
    root.addEventListener("keydown", handleInteraction);
    const ro = new ResizeObserver((entries) => {
      entries.forEach(({ target: p }) => {
        if (p.dataset.state === "open") {
          if (!p.classList.contains("acc-list--expanded")) {
            p.classList.add("acc-list--expanded");
          }
        }
      });
    });
    root.querySelectorAll(".acc-list").forEach((p) => ro.observe(p));
    window._accordionTest = {
      markItems: (panelId) => {
        const panel = document.getElementById(panelId) || root.querySelector(".acc-list");
        if (panel) {
          markItemsForAnimation(panel, true);
          console.log("Marked items in panel:", panel);
        }
      },
      clearMarks: () => {
        clearAllAnimationMarkers();
        console.log("Cleared all marks");
      },
      emitOpen: () => {
        emitAll("acc-open");
        console.log("Emitted acc-open");
      },
      emitClose: () => {
        emitAll("acc-close");
        console.log("Emitted acc-close");
      },
      checkWebflow: () => {
        console.log("Webflow object:", window.Webflow);
        console.log("wfIx:", wfIx);
      },
      getMarkedItems: () => {
        const items = root.querySelectorAll(".acc-animate-target");
        console.log(`Found ${items.length} items with .acc-animate-target class`);
        return items;
      }
    };
    console.log("[ACCORDION] Debug functions available at window._accordionTest");
  }

  // src/core/events.js
  function emit(name, target = window, detail = {}) {
    try {
      target.dispatchEvent(new CustomEvent(name, { bubbles: true, cancelable: true, detail }));
    } catch {
    }
    try {
      window.dispatchEvent(new CustomEvent(name, { detail }));
    } catch {
    }
  }

  // src/core/scrolllock.js
  var isLocked = false;
  var savedY = 0;
  var wrapper = null;
  function lockScroll() {
    if (isLocked) return;
    isLocked = true;
    wrapper = document.querySelector(".perspective-wrapper") || document.body;
    if (wrapper === document.body) {
      savedY = window.scrollY || document.documentElement.scrollTop || 0;
    } else {
      savedY = wrapper.scrollTop || 0;
    }
    if (wrapper === document.body) {
      document.body.style.position = "fixed";
      document.body.style.top = `-${savedY}px`;
      document.body.style.left = "0";
      document.body.style.right = "0";
      document.body.style.width = "100%";
    }
    wrapper.style.overflow = "hidden";
    wrapper.classList.add("modal-open");
  }
  function unlockScroll({ delayMs = 0 } = {}) {
    if (!isLocked) return;
    const unlock = () => {
      if (!wrapper) return;
      wrapper.style.overflow = "";
      wrapper.classList.remove("modal-open");
      if (wrapper === document.body) {
        document.body.style.position = "";
        document.body.style.top = "";
        document.body.style.left = "";
        document.body.style.right = "";
        document.body.style.width = "";
        window.scrollTo(0, savedY);
      } else {
        wrapper.scrollTop = savedY;
      }
      isLocked = false;
      wrapper = null;
    };
    delayMs > 0 ? setTimeout(unlock, delayMs) : unlock();
  }

  // src/modules/vimeo.js
  console.log("[VIMEO] module loaded");
  function parseVimeoId(input) {
    var _a;
    if (!input) return "";
    const str = String(input).trim();
    if (/^\d+$/.test(str)) return str;
    try {
      const u = new URL(str, "https://example.com");
      const host = u.hostname || "";
      if (host.includes("vimeo.com")) {
        const parts = u.pathname.split("/").filter(Boolean);
        const last = parts[parts.length - 1] || "";
        const id = ((_a = last.match(/\d+/)) == null ? void 0 : _a[0]) || "";
        return id || "";
      }
    } catch {
    }
    return "";
  }
  function mountVimeo(container, inputId, params = {}) {
    if (!container) return;
    const id = parseVimeoId(inputId);
    if (!id) {
      container.innerHTML = "";
      return;
    }
    const query = new URLSearchParams({ dnt: 1, ...params }).toString();
    const src = `https://player.vimeo.com/video/${id}?${query}`;
    const iframe = document.createElement("iframe");
    iframe.src = src;
    iframe.allow = "autoplay; fullscreen; picture-in-picture; encrypted-media";
    iframe.setAttribute("frameborder", "0");
    iframe.style.width = "100%";
    iframe.style.height = "100%";
    container.innerHTML = "";
    container.appendChild(iframe);
  }

  // node_modules/lenis/dist/lenis.mjs
  var version = "1.3.14";
  function clamp(min, input, max) {
    return Math.max(min, Math.min(input, max));
  }
  function lerp(x, y, t) {
    return (1 - t) * x + t * y;
  }
  function damp(x, y, lambda, deltaTime) {
    return lerp(x, y, 1 - Math.exp(-lambda * deltaTime));
  }
  function modulo(n, d) {
    return (n % d + d) % d;
  }
  var Animate = class {
    constructor() {
      __publicField(this, "isRunning", false);
      __publicField(this, "value", 0);
      __publicField(this, "from", 0);
      __publicField(this, "to", 0);
      __publicField(this, "currentTime", 0);
      // These are instanciated in the fromTo method
      __publicField(this, "lerp");
      __publicField(this, "duration");
      __publicField(this, "easing");
      __publicField(this, "onUpdate");
    }
    /**
     * Advance the animation by the given delta time
     *
     * @param deltaTime - The time in seconds to advance the animation
     */
    advance(deltaTime) {
      var _a;
      if (!this.isRunning) return;
      let completed = false;
      if (this.duration && this.easing) {
        this.currentTime += deltaTime;
        const linearProgress = clamp(0, this.currentTime / this.duration, 1);
        completed = linearProgress >= 1;
        const easedProgress = completed ? 1 : this.easing(linearProgress);
        this.value = this.from + (this.to - this.from) * easedProgress;
      } else if (this.lerp) {
        this.value = damp(this.value, this.to, this.lerp * 60, deltaTime);
        if (Math.round(this.value) === this.to) {
          this.value = this.to;
          completed = true;
        }
      } else {
        this.value = this.to;
        completed = true;
      }
      if (completed) {
        this.stop();
      }
      (_a = this.onUpdate) == null ? void 0 : _a.call(this, this.value, completed);
    }
    /** Stop the animation */
    stop() {
      this.isRunning = false;
    }
    /**
     * Set up the animation from a starting value to an ending value
     * with optional parameters for lerping, duration, easing, and onUpdate callback
     *
     * @param from - The starting value
     * @param to - The ending value
     * @param options - Options for the animation
     */
    fromTo(from, to, { lerp: lerp2, duration, easing, onStart, onUpdate }) {
      this.from = this.value = from;
      this.to = to;
      this.lerp = lerp2;
      this.duration = duration;
      this.easing = easing;
      this.currentTime = 0;
      this.isRunning = true;
      onStart == null ? void 0 : onStart();
      this.onUpdate = onUpdate;
    }
  };
  function debounce(callback, delay) {
    let timer;
    return function(...args) {
      let context = this;
      clearTimeout(timer);
      timer = setTimeout(() => {
        timer = void 0;
        callback.apply(context, args);
      }, delay);
    };
  }
  var Dimensions = class {
    constructor(wrapper2, content, { autoResize = true, debounce: debounceValue = 250 } = {}) {
      __publicField(this, "width", 0);
      __publicField(this, "height", 0);
      __publicField(this, "scrollHeight", 0);
      __publicField(this, "scrollWidth", 0);
      // These are instanciated in the constructor as they need information from the options
      __publicField(this, "debouncedResize");
      __publicField(this, "wrapperResizeObserver");
      __publicField(this, "contentResizeObserver");
      __publicField(this, "resize", () => {
        this.onWrapperResize();
        this.onContentResize();
      });
      __publicField(this, "onWrapperResize", () => {
        if (this.wrapper instanceof Window) {
          this.width = window.innerWidth;
          this.height = window.innerHeight;
        } else {
          this.width = this.wrapper.clientWidth;
          this.height = this.wrapper.clientHeight;
        }
      });
      __publicField(this, "onContentResize", () => {
        if (this.wrapper instanceof Window) {
          this.scrollHeight = this.content.scrollHeight;
          this.scrollWidth = this.content.scrollWidth;
        } else {
          this.scrollHeight = this.wrapper.scrollHeight;
          this.scrollWidth = this.wrapper.scrollWidth;
        }
      });
      this.wrapper = wrapper2;
      this.content = content;
      if (autoResize) {
        this.debouncedResize = debounce(this.resize, debounceValue);
        if (this.wrapper instanceof Window) {
          window.addEventListener("resize", this.debouncedResize, false);
        } else {
          this.wrapperResizeObserver = new ResizeObserver(this.debouncedResize);
          this.wrapperResizeObserver.observe(this.wrapper);
        }
        this.contentResizeObserver = new ResizeObserver(this.debouncedResize);
        this.contentResizeObserver.observe(this.content);
      }
      this.resize();
    }
    destroy() {
      var _a, _b;
      (_a = this.wrapperResizeObserver) == null ? void 0 : _a.disconnect();
      (_b = this.contentResizeObserver) == null ? void 0 : _b.disconnect();
      if (this.wrapper === window && this.debouncedResize) {
        window.removeEventListener("resize", this.debouncedResize, false);
      }
    }
    get limit() {
      return {
        x: this.scrollWidth - this.width,
        y: this.scrollHeight - this.height
      };
    }
  };
  var Emitter = class {
    constructor() {
      __publicField(this, "events", {});
    }
    /**
     * Emit an event with the given data
     * @param event Event name
     * @param args Data to pass to the event handlers
     */
    emit(event, ...args) {
      var _a;
      let callbacks = this.events[event] || [];
      for (let i = 0, length = callbacks.length; i < length; i++) {
        (_a = callbacks[i]) == null ? void 0 : _a.call(callbacks, ...args);
      }
    }
    /**
     * Add a callback to the event
     * @param event Event name
     * @param cb Callback function
     * @returns Unsubscribe function
     */
    on(event, cb) {
      var _a;
      ((_a = this.events[event]) == null ? void 0 : _a.push(cb)) || (this.events[event] = [cb]);
      return () => {
        var _a2;
        this.events[event] = (_a2 = this.events[event]) == null ? void 0 : _a2.filter((i) => cb !== i);
      };
    }
    /**
     * Remove a callback from the event
     * @param event Event name
     * @param callback Callback function
     */
    off(event, callback) {
      var _a;
      this.events[event] = (_a = this.events[event]) == null ? void 0 : _a.filter((i) => callback !== i);
    }
    /**
     * Remove all event listeners and clean up
     */
    destroy() {
      this.events = {};
    }
  };
  var LINE_HEIGHT = 100 / 6;
  var listenerOptions = { passive: false };
  var VirtualScroll = class {
    constructor(element, options = { wheelMultiplier: 1, touchMultiplier: 1 }) {
      __publicField(this, "touchStart", {
        x: 0,
        y: 0
      });
      __publicField(this, "lastDelta", {
        x: 0,
        y: 0
      });
      __publicField(this, "window", {
        width: 0,
        height: 0
      });
      __publicField(this, "emitter", new Emitter());
      /**
       * Event handler for 'touchstart' event
       *
       * @param event Touch event
       */
      __publicField(this, "onTouchStart", (event) => {
        const { clientX, clientY } = event.targetTouches ? event.targetTouches[0] : event;
        this.touchStart.x = clientX;
        this.touchStart.y = clientY;
        this.lastDelta = {
          x: 0,
          y: 0
        };
        this.emitter.emit("scroll", {
          deltaX: 0,
          deltaY: 0,
          event
        });
      });
      /** Event handler for 'touchmove' event */
      __publicField(this, "onTouchMove", (event) => {
        const { clientX, clientY } = event.targetTouches ? event.targetTouches[0] : event;
        const deltaX = -(clientX - this.touchStart.x) * this.options.touchMultiplier;
        const deltaY = -(clientY - this.touchStart.y) * this.options.touchMultiplier;
        this.touchStart.x = clientX;
        this.touchStart.y = clientY;
        this.lastDelta = {
          x: deltaX,
          y: deltaY
        };
        this.emitter.emit("scroll", {
          deltaX,
          deltaY,
          event
        });
      });
      __publicField(this, "onTouchEnd", (event) => {
        this.emitter.emit("scroll", {
          deltaX: this.lastDelta.x,
          deltaY: this.lastDelta.y,
          event
        });
      });
      /** Event handler for 'wheel' event */
      __publicField(this, "onWheel", (event) => {
        let { deltaX, deltaY, deltaMode } = event;
        const multiplierX = deltaMode === 1 ? LINE_HEIGHT : deltaMode === 2 ? this.window.width : 1;
        const multiplierY = deltaMode === 1 ? LINE_HEIGHT : deltaMode === 2 ? this.window.height : 1;
        deltaX *= multiplierX;
        deltaY *= multiplierY;
        deltaX *= this.options.wheelMultiplier;
        deltaY *= this.options.wheelMultiplier;
        this.emitter.emit("scroll", { deltaX, deltaY, event });
      });
      __publicField(this, "onWindowResize", () => {
        this.window = {
          width: window.innerWidth,
          height: window.innerHeight
        };
      });
      this.element = element;
      this.options = options;
      window.addEventListener("resize", this.onWindowResize, false);
      this.onWindowResize();
      this.element.addEventListener("wheel", this.onWheel, listenerOptions);
      this.element.addEventListener(
        "touchstart",
        this.onTouchStart,
        listenerOptions
      );
      this.element.addEventListener(
        "touchmove",
        this.onTouchMove,
        listenerOptions
      );
      this.element.addEventListener("touchend", this.onTouchEnd, listenerOptions);
    }
    /**
     * Add an event listener for the given event and callback
     *
     * @param event Event name
     * @param callback Callback function
     */
    on(event, callback) {
      return this.emitter.on(event, callback);
    }
    /** Remove all event listeners and clean up */
    destroy() {
      this.emitter.destroy();
      window.removeEventListener("resize", this.onWindowResize, false);
      this.element.removeEventListener("wheel", this.onWheel, listenerOptions);
      this.element.removeEventListener(
        "touchstart",
        this.onTouchStart,
        listenerOptions
      );
      this.element.removeEventListener(
        "touchmove",
        this.onTouchMove,
        listenerOptions
      );
      this.element.removeEventListener(
        "touchend",
        this.onTouchEnd,
        listenerOptions
      );
    }
  };
  var defaultEasing = (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t));
  var Lenis = class {
    constructor({
      wrapper: wrapper2 = window,
      content = document.documentElement,
      eventsTarget = wrapper2,
      smoothWheel = true,
      syncTouch = false,
      syncTouchLerp = 0.075,
      touchInertiaExponent = 1.7,
      duration,
      // in seconds
      easing,
      lerp: lerp2 = 0.1,
      infinite = false,
      orientation = "vertical",
      // vertical, horizontal
      gestureOrientation = orientation === "horizontal" ? "both" : "vertical",
      // vertical, horizontal, both
      touchMultiplier = 1,
      wheelMultiplier = 1,
      autoResize = true,
      prevent,
      virtualScroll,
      overscroll = true,
      autoRaf = false,
      anchors = false,
      autoToggle = false,
      // https://caniuse.com/?search=transition-behavior
      allowNestedScroll = false,
      __experimental__naiveDimensions = false
    } = {}) {
      __publicField(this, "_isScrolling", false);
      // true when scroll is animating
      __publicField(this, "_isStopped", false);
      // true if user should not be able to scroll - enable/disable programmatically
      __publicField(this, "_isLocked", false);
      // same as isStopped but enabled/disabled when scroll reaches target
      __publicField(this, "_preventNextNativeScrollEvent", false);
      __publicField(this, "_resetVelocityTimeout", null);
      __publicField(this, "__rafID", null);
      /**
       * Whether or not the user is touching the screen
       */
      __publicField(this, "isTouching");
      /**
       * The time in ms since the lenis instance was created
       */
      __publicField(this, "time", 0);
      /**
       * User data that will be forwarded through the scroll event
       *
       * @example
       * lenis.scrollTo(100, {
       *   userData: {
       *     foo: 'bar'
       *   }
       * })
       */
      __publicField(this, "userData", {});
      /**
       * The last velocity of the scroll
       */
      __publicField(this, "lastVelocity", 0);
      /**
       * The current velocity of the scroll
       */
      __publicField(this, "velocity", 0);
      /**
       * The direction of the scroll
       */
      __publicField(this, "direction", 0);
      /**
       * The options passed to the lenis instance
       */
      __publicField(this, "options");
      /**
       * The target scroll value
       */
      __publicField(this, "targetScroll");
      /**
       * The animated scroll value
       */
      __publicField(this, "animatedScroll");
      // These are instanciated here as they don't need information from the options
      __publicField(this, "animate", new Animate());
      __publicField(this, "emitter", new Emitter());
      // These are instanciated in the constructor as they need information from the options
      __publicField(this, "dimensions");
      // This is not private because it's used in the Snap class
      __publicField(this, "virtualScroll");
      __publicField(this, "onScrollEnd", (e) => {
        if (!(e instanceof CustomEvent)) {
          if (this.isScrolling === "smooth" || this.isScrolling === false) {
            e.stopPropagation();
          }
        }
      });
      __publicField(this, "dispatchScrollendEvent", () => {
        this.options.wrapper.dispatchEvent(
          new CustomEvent("scrollend", {
            bubbles: this.options.wrapper === window,
            // cancelable: false,
            detail: {
              lenisScrollEnd: true
            }
          })
        );
      });
      __publicField(this, "onTransitionEnd", (event) => {
        if (event.propertyName.includes("overflow")) {
          const property = this.isHorizontal ? "overflow-x" : "overflow-y";
          const overflow = getComputedStyle(this.rootElement)[property];
          if (["hidden", "clip"].includes(overflow)) {
            this.internalStop();
          } else {
            this.internalStart();
          }
        }
      });
      __publicField(this, "onClick", (event) => {
        const path = event.composedPath();
        const anchor = path.find(
          (node) => {
            var _a;
            return node instanceof HTMLAnchorElement && ((_a = node.getAttribute("href")) == null ? void 0 : _a.includes("#"));
          }
        );
        if (anchor) {
          const href = anchor.getAttribute("href");
          if (href) {
            const options = typeof this.options.anchors === "object" && this.options.anchors ? this.options.anchors : void 0;
            const target = `#${href.split("#")[1]}`;
            this.scrollTo(target, options);
          }
        }
      });
      __publicField(this, "onPointerDown", (event) => {
        if (event.button === 1) {
          this.reset();
        }
      });
      __publicField(this, "onVirtualScroll", (data) => {
        if (typeof this.options.virtualScroll === "function" && this.options.virtualScroll(data) === false)
          return;
        const { deltaX, deltaY, event } = data;
        this.emitter.emit("virtual-scroll", { deltaX, deltaY, event });
        if (event.ctrlKey) return;
        if (event.lenisStopPropagation) return;
        const isTouch = event.type.includes("touch");
        const isWheel = event.type.includes("wheel");
        this.isTouching = event.type === "touchstart" || event.type === "touchmove";
        const isClickOrTap = deltaX === 0 && deltaY === 0;
        const isTapToStop = this.options.syncTouch && isTouch && event.type === "touchstart" && isClickOrTap && !this.isStopped && !this.isLocked;
        if (isTapToStop) {
          this.reset();
          return;
        }
        const isUnknownGesture = this.options.gestureOrientation === "vertical" && deltaY === 0 || this.options.gestureOrientation === "horizontal" && deltaX === 0;
        if (isClickOrTap || isUnknownGesture) {
          return;
        }
        let composedPath = event.composedPath();
        composedPath = composedPath.slice(0, composedPath.indexOf(this.rootElement));
        const prevent = this.options.prevent;
        if (!!composedPath.find(
          (node) => {
            var _a, _b, _c;
            return node instanceof HTMLElement && (typeof prevent === "function" && (prevent == null ? void 0 : prevent(node)) || ((_a = node.hasAttribute) == null ? void 0 : _a.call(node, "data-lenis-prevent")) || isTouch && ((_b = node.hasAttribute) == null ? void 0 : _b.call(node, "data-lenis-prevent-touch")) || isWheel && ((_c = node.hasAttribute) == null ? void 0 : _c.call(node, "data-lenis-prevent-wheel")) || this.options.allowNestedScroll && this.checkNestedScroll(node, { deltaX, deltaY }));
          }
        ))
          return;
        if (this.isStopped || this.isLocked) {
          if (event.cancelable) {
            event.preventDefault();
          }
          return;
        }
        const isSmooth = this.options.syncTouch && isTouch || this.options.smoothWheel && isWheel;
        if (!isSmooth) {
          this.isScrolling = "native";
          this.animate.stop();
          event.lenisStopPropagation = true;
          return;
        }
        let delta = deltaY;
        if (this.options.gestureOrientation === "both") {
          delta = Math.abs(deltaY) > Math.abs(deltaX) ? deltaY : deltaX;
        } else if (this.options.gestureOrientation === "horizontal") {
          delta = deltaX;
        }
        if (!this.options.overscroll || this.options.infinite || this.options.wrapper !== window && this.limit > 0 && (this.animatedScroll > 0 && this.animatedScroll < this.limit || this.animatedScroll === 0 && deltaY > 0 || this.animatedScroll === this.limit && deltaY < 0)) {
          event.lenisStopPropagation = true;
        }
        if (event.cancelable) {
          event.preventDefault();
        }
        const isSyncTouch = isTouch && this.options.syncTouch;
        const isTouchEnd = isTouch && event.type === "touchend";
        const hasTouchInertia = isTouchEnd;
        if (hasTouchInertia) {
          delta = Math.sign(this.velocity) * Math.pow(Math.abs(this.velocity), this.options.touchInertiaExponent);
        }
        this.scrollTo(this.targetScroll + delta, {
          programmatic: false,
          ...isSyncTouch ? {
            lerp: hasTouchInertia ? this.options.syncTouchLerp : 1
            // immediate: !hasTouchInertia,
          } : {
            lerp: this.options.lerp,
            duration: this.options.duration,
            easing: this.options.easing
          }
        });
      });
      __publicField(this, "onNativeScroll", () => {
        if (this._resetVelocityTimeout !== null) {
          clearTimeout(this._resetVelocityTimeout);
          this._resetVelocityTimeout = null;
        }
        if (this._preventNextNativeScrollEvent) {
          this._preventNextNativeScrollEvent = false;
          return;
        }
        if (this.isScrolling === false || this.isScrolling === "native") {
          const lastScroll = this.animatedScroll;
          this.animatedScroll = this.targetScroll = this.actualScroll;
          this.lastVelocity = this.velocity;
          this.velocity = this.animatedScroll - lastScroll;
          this.direction = Math.sign(
            this.animatedScroll - lastScroll
          );
          if (!this.isStopped) {
            this.isScrolling = "native";
          }
          this.emit();
          if (this.velocity !== 0) {
            this._resetVelocityTimeout = setTimeout(() => {
              this.lastVelocity = this.velocity;
              this.velocity = 0;
              this.isScrolling = false;
              this.emit();
            }, 400);
          }
        }
      });
      /**
       * RequestAnimationFrame for lenis
       *
       * @param time The time in ms from an external clock like `requestAnimationFrame` or Tempus
       */
      __publicField(this, "raf", (time) => {
        const deltaTime = time - (this.time || time);
        this.time = time;
        this.animate.advance(deltaTime * 1e-3);
        if (this.options.autoRaf) {
          this.__rafID = requestAnimationFrame(this.raf);
        }
      });
      window.lenisVersion = version;
      if (!wrapper2 || wrapper2 === document.documentElement) {
        wrapper2 = window;
      }
      if (typeof duration === "number" && typeof easing !== "function") {
        easing = defaultEasing;
      } else if (typeof easing === "function" && typeof duration !== "number") {
        duration = 1;
      }
      this.options = {
        wrapper: wrapper2,
        content,
        eventsTarget,
        smoothWheel,
        syncTouch,
        syncTouchLerp,
        touchInertiaExponent,
        duration,
        easing,
        lerp: lerp2,
        infinite,
        gestureOrientation,
        orientation,
        touchMultiplier,
        wheelMultiplier,
        autoResize,
        prevent,
        virtualScroll,
        overscroll,
        autoRaf,
        anchors,
        autoToggle,
        allowNestedScroll,
        __experimental__naiveDimensions
      };
      this.dimensions = new Dimensions(wrapper2, content, { autoResize });
      this.updateClassName();
      this.targetScroll = this.animatedScroll = this.actualScroll;
      this.options.wrapper.addEventListener("scroll", this.onNativeScroll, false);
      this.options.wrapper.addEventListener("scrollend", this.onScrollEnd, {
        capture: true
      });
      if (this.options.anchors && this.options.wrapper === window) {
        this.options.wrapper.addEventListener(
          "click",
          this.onClick,
          false
        );
      }
      this.options.wrapper.addEventListener(
        "pointerdown",
        this.onPointerDown,
        false
      );
      this.virtualScroll = new VirtualScroll(eventsTarget, {
        touchMultiplier,
        wheelMultiplier
      });
      this.virtualScroll.on("scroll", this.onVirtualScroll);
      if (this.options.autoToggle) {
        this.rootElement.addEventListener("transitionend", this.onTransitionEnd, {
          passive: true
        });
      }
      if (this.options.autoRaf) {
        this.__rafID = requestAnimationFrame(this.raf);
      }
    }
    /**
     * Destroy the lenis instance, remove all event listeners and clean up the class name
     */
    destroy() {
      this.emitter.destroy();
      this.options.wrapper.removeEventListener(
        "scroll",
        this.onNativeScroll,
        false
      );
      this.options.wrapper.removeEventListener("scrollend", this.onScrollEnd, {
        capture: true
      });
      this.options.wrapper.removeEventListener(
        "pointerdown",
        this.onPointerDown,
        false
      );
      if (this.options.anchors && this.options.wrapper === window) {
        this.options.wrapper.removeEventListener(
          "click",
          this.onClick,
          false
        );
      }
      this.virtualScroll.destroy();
      this.dimensions.destroy();
      this.cleanUpClassName();
      if (this.__rafID) {
        cancelAnimationFrame(this.__rafID);
      }
    }
    on(event, callback) {
      return this.emitter.on(event, callback);
    }
    off(event, callback) {
      return this.emitter.off(event, callback);
    }
    setScroll(scroll) {
      if (this.isHorizontal) {
        this.options.wrapper.scrollTo({ left: scroll, behavior: "instant" });
      } else {
        this.options.wrapper.scrollTo({ top: scroll, behavior: "instant" });
      }
    }
    /**
     * Force lenis to recalculate the dimensions
     */
    resize() {
      this.dimensions.resize();
      this.animatedScroll = this.targetScroll = this.actualScroll;
      this.emit();
    }
    emit() {
      this.emitter.emit("scroll", this);
    }
    reset() {
      this.isLocked = false;
      this.isScrolling = false;
      this.animatedScroll = this.targetScroll = this.actualScroll;
      this.lastVelocity = this.velocity = 0;
      this.animate.stop();
    }
    /**
     * Start lenis scroll after it has been stopped
     */
    start() {
      if (!this.isStopped) return;
      if (this.options.autoToggle) {
        this.rootElement.style.removeProperty("overflow");
        return;
      }
      this.internalStart();
    }
    internalStart() {
      if (!this.isStopped) return;
      this.reset();
      this.isStopped = false;
      this.emit();
    }
    /**
     * Stop lenis scroll
     */
    stop() {
      if (this.isStopped) return;
      if (this.options.autoToggle) {
        this.rootElement.style.setProperty("overflow", "clip");
        return;
      }
      this.internalStop();
    }
    internalStop() {
      if (this.isStopped) return;
      this.reset();
      this.isStopped = true;
      this.emit();
    }
    /**
     * Scroll to a target value
     *
     * @param target The target value to scroll to
     * @param options The options for the scroll
     *
     * @example
     * lenis.scrollTo(100, {
     *   offset: 100,
     *   duration: 1,
     *   easing: (t) => 1 - Math.cos((t * Math.PI) / 2),
     *   lerp: 0.1,
     *   onStart: () => {
     *     console.log('onStart')
     *   },
     *   onComplete: () => {
     *     console.log('onComplete')
     *   },
     * })
     */
    scrollTo(target, {
      offset = 0,
      immediate = false,
      lock = false,
      duration = this.options.duration,
      easing = this.options.easing,
      lerp: lerp2 = this.options.lerp,
      onStart,
      onComplete,
      force = false,
      // scroll even if stopped
      programmatic = true,
      // called from outside of the class
      userData
    } = {}) {
      if ((this.isStopped || this.isLocked) && !force) return;
      if (typeof target === "string" && ["top", "left", "start", "#"].includes(target)) {
        target = 0;
      } else if (typeof target === "string" && ["bottom", "right", "end"].includes(target)) {
        target = this.limit;
      } else {
        let node;
        if (typeof target === "string") {
          node = document.querySelector(target);
          if (!node) {
            if (target === "#top") {
              target = 0;
            } else {
              console.warn("Lenis: Target not found", target);
            }
          }
        } else if (target instanceof HTMLElement && (target == null ? void 0 : target.nodeType)) {
          node = target;
        }
        if (node) {
          if (this.options.wrapper !== window) {
            const wrapperRect = this.rootElement.getBoundingClientRect();
            offset -= this.isHorizontal ? wrapperRect.left : wrapperRect.top;
          }
          const rect = node.getBoundingClientRect();
          target = (this.isHorizontal ? rect.left : rect.top) + this.animatedScroll;
        }
      }
      if (typeof target !== "number") return;
      target += offset;
      target = Math.round(target);
      if (this.options.infinite) {
        if (programmatic) {
          this.targetScroll = this.animatedScroll = this.scroll;
          const distance = target - this.animatedScroll;
          if (distance > this.limit / 2) {
            target = target - this.limit;
          } else if (distance < -this.limit / 2) {
            target = target + this.limit;
          }
        }
      } else {
        target = clamp(0, target, this.limit);
      }
      if (target === this.targetScroll) {
        onStart == null ? void 0 : onStart(this);
        onComplete == null ? void 0 : onComplete(this);
        return;
      }
      this.userData = userData != null ? userData : {};
      if (immediate) {
        this.animatedScroll = this.targetScroll = target;
        this.setScroll(this.scroll);
        this.reset();
        this.preventNextNativeScrollEvent();
        this.emit();
        onComplete == null ? void 0 : onComplete(this);
        this.userData = {};
        requestAnimationFrame(() => {
          this.dispatchScrollendEvent();
        });
        return;
      }
      if (!programmatic) {
        this.targetScroll = target;
      }
      if (typeof duration === "number" && typeof easing !== "function") {
        easing = defaultEasing;
      } else if (typeof easing === "function" && typeof duration !== "number") {
        duration = 1;
      }
      this.animate.fromTo(this.animatedScroll, target, {
        duration,
        easing,
        lerp: lerp2,
        onStart: () => {
          if (lock) this.isLocked = true;
          this.isScrolling = "smooth";
          onStart == null ? void 0 : onStart(this);
        },
        onUpdate: (value, completed) => {
          this.isScrolling = "smooth";
          this.lastVelocity = this.velocity;
          this.velocity = value - this.animatedScroll;
          this.direction = Math.sign(this.velocity);
          this.animatedScroll = value;
          this.setScroll(this.scroll);
          if (programmatic) {
            this.targetScroll = value;
          }
          if (!completed) this.emit();
          if (completed) {
            this.reset();
            this.emit();
            onComplete == null ? void 0 : onComplete(this);
            this.userData = {};
            requestAnimationFrame(() => {
              this.dispatchScrollendEvent();
            });
            this.preventNextNativeScrollEvent();
          }
        }
      });
    }
    preventNextNativeScrollEvent() {
      this._preventNextNativeScrollEvent = true;
      requestAnimationFrame(() => {
        this._preventNextNativeScrollEvent = false;
      });
    }
    checkNestedScroll(node, { deltaX, deltaY }) {
      var _a, _b;
      const time = Date.now();
      const cache = (_a = node._lenis) != null ? _a : node._lenis = {};
      let hasOverflowX, hasOverflowY, isScrollableX, isScrollableY, scrollWidth, scrollHeight, clientWidth, clientHeight;
      const gestureOrientation = this.options.gestureOrientation;
      if (time - ((_b = cache.time) != null ? _b : 0) > 2e3) {
        cache.time = Date.now();
        const computedStyle = window.getComputedStyle(node);
        cache.computedStyle = computedStyle;
        const overflowXString = computedStyle.overflowX;
        const overflowYString = computedStyle.overflowY;
        hasOverflowX = ["auto", "overlay", "scroll"].includes(overflowXString);
        hasOverflowY = ["auto", "overlay", "scroll"].includes(overflowYString);
        cache.hasOverflowX = hasOverflowX;
        cache.hasOverflowY = hasOverflowY;
        if (!hasOverflowX && !hasOverflowY) return false;
        if (gestureOrientation === "vertical" && !hasOverflowY) return false;
        if (gestureOrientation === "horizontal" && !hasOverflowX) return false;
        scrollWidth = node.scrollWidth;
        scrollHeight = node.scrollHeight;
        clientWidth = node.clientWidth;
        clientHeight = node.clientHeight;
        isScrollableX = scrollWidth > clientWidth;
        isScrollableY = scrollHeight > clientHeight;
        cache.isScrollableX = isScrollableX;
        cache.isScrollableY = isScrollableY;
        cache.scrollWidth = scrollWidth;
        cache.scrollHeight = scrollHeight;
        cache.clientWidth = clientWidth;
        cache.clientHeight = clientHeight;
      } else {
        isScrollableX = cache.isScrollableX;
        isScrollableY = cache.isScrollableY;
        hasOverflowX = cache.hasOverflowX;
        hasOverflowY = cache.hasOverflowY;
        scrollWidth = cache.scrollWidth;
        scrollHeight = cache.scrollHeight;
        clientWidth = cache.clientWidth;
        clientHeight = cache.clientHeight;
      }
      if (!hasOverflowX && !hasOverflowY || !isScrollableX && !isScrollableY) {
        return false;
      }
      if (gestureOrientation === "vertical" && (!hasOverflowY || !isScrollableY))
        return false;
      if (gestureOrientation === "horizontal" && (!hasOverflowX || !isScrollableX))
        return false;
      let orientation;
      if (gestureOrientation === "horizontal") {
        orientation = "x";
      } else if (gestureOrientation === "vertical") {
        orientation = "y";
      } else {
        const isScrollingX = deltaX !== 0;
        const isScrollingY = deltaY !== 0;
        if (isScrollingX && hasOverflowX && isScrollableX) {
          orientation = "x";
        }
        if (isScrollingY && hasOverflowY && isScrollableY) {
          orientation = "y";
        }
      }
      if (!orientation) return false;
      let scroll, maxScroll, delta, hasOverflow, isScrollable;
      if (orientation === "x") {
        scroll = node.scrollLeft;
        maxScroll = scrollWidth - clientWidth;
        delta = deltaX;
        hasOverflow = hasOverflowX;
        isScrollable = isScrollableX;
      } else if (orientation === "y") {
        scroll = node.scrollTop;
        maxScroll = scrollHeight - clientHeight;
        delta = deltaY;
        hasOverflow = hasOverflowY;
        isScrollable = isScrollableY;
      } else {
        return false;
      }
      const willScroll = delta > 0 ? scroll < maxScroll : scroll > 0;
      return willScroll && hasOverflow && isScrollable;
    }
    /**
     * The root element on which lenis is instanced
     */
    get rootElement() {
      return this.options.wrapper === window ? document.documentElement : this.options.wrapper;
    }
    /**
     * The limit which is the maximum scroll value
     */
    get limit() {
      if (this.options.__experimental__naiveDimensions) {
        if (this.isHorizontal) {
          return this.rootElement.scrollWidth - this.rootElement.clientWidth;
        } else {
          return this.rootElement.scrollHeight - this.rootElement.clientHeight;
        }
      } else {
        return this.dimensions.limit[this.isHorizontal ? "x" : "y"];
      }
    }
    /**
     * Whether or not the scroll is horizontal
     */
    get isHorizontal() {
      return this.options.orientation === "horizontal";
    }
    /**
     * The actual scroll value
     */
    get actualScroll() {
      var _a, _b;
      const wrapper2 = this.options.wrapper;
      return this.isHorizontal ? (_a = wrapper2.scrollX) != null ? _a : wrapper2.scrollLeft : (_b = wrapper2.scrollY) != null ? _b : wrapper2.scrollTop;
    }
    /**
     * The current scroll value
     */
    get scroll() {
      return this.options.infinite ? modulo(this.animatedScroll, this.limit) : this.animatedScroll;
    }
    /**
     * The progress of the scroll relative to the limit
     */
    get progress() {
      return this.limit === 0 ? 1 : this.scroll / this.limit;
    }
    /**
     * Current scroll state
     */
    get isScrolling() {
      return this._isScrolling;
    }
    set isScrolling(value) {
      if (this._isScrolling !== value) {
        this._isScrolling = value;
        this.updateClassName();
      }
    }
    /**
     * Check if lenis is stopped
     */
    get isStopped() {
      return this._isStopped;
    }
    set isStopped(value) {
      if (this._isStopped !== value) {
        this._isStopped = value;
        this.updateClassName();
      }
    }
    /**
     * Check if lenis is locked
     */
    get isLocked() {
      return this._isLocked;
    }
    set isLocked(value) {
      if (this._isLocked !== value) {
        this._isLocked = value;
        this.updateClassName();
      }
    }
    /**
     * Check if lenis is smooth scrolling
     */
    get isSmooth() {
      return this.isScrolling === "smooth";
    }
    /**
     * The class name applied to the wrapper element
     */
    get className() {
      let className = "lenis";
      if (this.options.autoToggle) className += " lenis-autoToggle";
      if (this.isStopped) className += " lenis-stopped";
      if (this.isLocked) className += " lenis-locked";
      if (this.isScrolling) className += " lenis-scrolling";
      if (this.isScrolling === "smooth") className += " lenis-smooth";
      return className;
    }
    updateClassName() {
      this.cleanUpClassName();
      this.rootElement.className = `${this.rootElement.className} ${this.className}`.trim();
    }
    cleanUpClassName() {
      this.rootElement.className = this.rootElement.className.replace(/lenis(-\w+)?/g, "").trim();
    }
  };

  // src/modules/smooth-scroll.js
  console.log("[SMOOTH-SCROLL] Module loaded");
  var lenisInstance = null;
  function initSmoothScroll(options = {}) {
    var _a, _b;
    if (lenisInstance) {
      console.log("[SMOOTH-SCROLL] Already initialized");
      return lenisInstance;
    }
    const hasSnapContainer = document.querySelector(".perspective-wrapper") !== null;
    if (hasSnapContainer && !options.forceEnableOnSnap) {
      console.log("[SMOOTH-SCROLL] \u26A0\uFE0F Skipped - page has scroll-snap container");
      console.log("[SMOOTH-SCROLL] Using native scrolling for optimal snap behavior");
      return null;
    }
    const defaultLerp = (_a = options.lerp) != null ? _a : 0.08;
    const config = {
      lerp: defaultLerp,
      duration: 1.2,
      // Scroll duration factor
      orientation: "vertical",
      // 'vertical' | 'horizontal'
      gestureOrientation: "vertical",
      smoothWheel: true,
      smoothTouch: false,
      // Keep native touch for mobile (better with snap)
      wheelMultiplier: 1,
      // Adjust scroll speed (higher = faster)
      touchMultiplier: 2,
      infinite: (_b = options.infinite) != null ? _b : false,
      ...options
    };
    try {
      let raf = function(time) {
        lenisInstance.raf(time);
        requestAnimationFrame(raf);
      };
      lenisInstance = new Lenis(config);
      requestAnimationFrame(raf);
      if (window.gsap && window.ScrollTrigger) {
        lenisInstance.on("scroll", ScrollTrigger.update);
        window.gsap.ticker.add((time) => {
          lenisInstance.raf(time * 1e3);
        });
        window.gsap.ticker.lagSmoothing(0);
      }
      window.App = window.App || {};
      window.App.smoothScroll = {
        stop: () => lenisInstance.stop(),
        start: () => lenisInstance.start(),
        instance: lenisInstance
      };
      console.log(`[SMOOTH-SCROLL] \u2713 Initialized with momentum scrolling (lerp: ${defaultLerp})`);
      return lenisInstance;
    } catch (err) {
      console.error("[SMOOTH-SCROLL] \u274C Init error:", err);
      return null;
    }
  }
  function initContainerScroll(container, options = {}) {
    var _a;
    const element = typeof container === "string" ? document.querySelector(container) : container;
    if (!element) {
      console.warn(`[SMOOTH-SCROLL] Container not found: ${container}`);
      return null;
    }
    const defaultLerp = (_a = options.lerp) != null ? _a : 0.08;
    const contentElement = options.content ? typeof options.content === "string" ? element.querySelector(options.content) : options.content : element.children.length > 0 ? element.children[0] : element;
    const config = {
      wrapper: element,
      // Scroll container
      content: contentElement,
      // Scrollable content inside wrapper
      lerp: defaultLerp,
      duration: 1.2,
      orientation: "vertical",
      gestureOrientation: "vertical",
      smoothWheel: true,
      smoothTouch: false,
      // Keep native touch for mobile
      wheelMultiplier: 1,
      touchMultiplier: 2,
      infinite: false,
      ...options
    };
    delete config.wrapper;
    delete config.content;
    try {
      let raf = function(time) {
        instance.raf(time);
        requestAnimationFrame(raf);
      };
      const instance = new Lenis({
        wrapper: element,
        content: contentElement,
        ...config
      });
      requestAnimationFrame(raf);
      if (window.gsap && window.ScrollTrigger) {
        instance.on("scroll", ScrollTrigger.update);
      }
      console.log(`[SMOOTH-SCROLL] \u2713 Container scroll initialized for ${typeof container === "string" ? container : element.className || "element"}`);
      return instance;
    } catch (err) {
      console.error("[SMOOTH-SCROLL] \u274C Container scroll init error:", err);
      return null;
    }
  }

  // src/modules/lightbox.js
  console.log("[LIGHTBOX] Module loaded");
  var STATE = {
    IDLE: "idle",
    OPENING: "opening",
    OPEN: "open",
    CLOSING: "closing"
  };
  var currentState = STATE.IDLE;
  var projectData = null;
  var lastFocus = null;
  var overlayLenis = null;
  function initLightbox({
    root = "#lightbox",
    openDuration = 1e3,
    // IMPORTANT: Must match Webflow IX3 'lb:open' animation duration
    closeDuration = 1e3
    // IMPORTANT: Must match Webflow IX3 'lb:close' animation duration
  } = {}) {
    const lb = document.querySelector(root);
    if (!lb) {
      console.log("[LIGHTBOX] \u274C Element not found");
      return;
    }
    const inner = lb.querySelector(".lightbox__inner");
    const videoArea = lb.querySelector(".video-area");
    const overlay = lb.querySelector(".lightbox__overlay");
    const closeBtn = document.querySelector("#close-btn");
    const slides = document.querySelectorAll(".slide");
    const prefersReduced = matchMedia("(prefers-reduced-motion: reduce)").matches;
    const clientEl = document.querySelector("#lightbox-client");
    const titleEl = document.querySelector("#lightbox-title");
    const truthEl = document.querySelector("#lightbox-truth");
    const truthWellToldEl = document.querySelector("#lightbox-truthwelltold");
    const descriptionEl = document.querySelector("#lightbox-description");
    const awardsContainer = document.querySelector("#lightbox-awards");
    lb.setAttribute("role", lb.getAttribute("role") || "dialog");
    lb.setAttribute("aria-modal", lb.getAttribute("aria-modal") || "true");
    lb.setAttribute("aria-hidden", "true");
    lb.setAttribute("data-state", STATE.IDLE);
    unlockScroll({ delayMs: 0 });
    projectData = project_data_default;
    const projectCount = Object.keys(projectData).length;
    console.log(`[LIGHTBOX] \u2713 Loaded ${projectCount} project${projectCount !== 1 ? "s" : ""} from bundled data`);
    console.log("\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501");
    console.log("\u{1F50D} LIGHTBOX SETUP VALIDATION");
    console.log("\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n");
    console.log("1\uFE0F\u20E3  Main Container");
    console.log(`   \u2713 Found: ${root}`);
    console.log(`   \u2713 State machine initialized: ${currentState}`);
    console.log(`   \u23F1\uFE0F  Open duration: ${openDuration}ms (must match Webflow 'lb:open' animation)`);
    console.log(`   \u23F1\uFE0F  Close duration: ${closeDuration}ms (must match Webflow 'lb:close' animation)`);
    console.log("\n2\uFE0F\u20E3  Content Injection Targets");
    console.log(`   ${clientEl ? "\u2713" : "\u274C"} #lightbox-client`);
    console.log(`   ${titleEl ? "\u2713" : "\u274C"} #lightbox-title`);
    console.log(`   ${truthEl ? "\u2713" : "\u274C"} #lightbox-truth`);
    console.log(`   ${truthWellToldEl ? "\u2713" : "\u274C"} #lightbox-truthwelltold`);
    console.log(`   ${descriptionEl ? "\u2713" : "\u274C"} #lightbox-description`);
    console.log(`   ${awardsContainer ? "\u2713" : "\u274C"} #lightbox-awards`);
    console.log(`   ${videoArea ? "\u2713" : "\u274C"} .video-area`);
    console.log("\n3\uFE0F\u20E3  Slide Triggers");
    console.log(`   \u2713 Found: ${slides.length} .slide elements`);
    validateSlideData();
    console.log("\n4\uFE0F\u20E3  Webflow IX Setup");
    const wfIx = window.Webflow && window.Webflow.require ? window.Webflow.require("ix3") || window.Webflow.require("ix2") : null;
    if (wfIx) {
      const version2 = window.Webflow.require("ix3") ? "IX3" : "IX2";
      console.log(`   \u2713 Webflow ${version2} detected`);
    } else {
      console.warn("   \u26A0\uFE0F  Webflow IX NOT detected");
    }
    console.log("\n   \u{1F4CB} Required Custom Events in Webflow:");
    console.log('      \u2022 "lb:open" \u2192 triggers open animation');
    console.log('      \u2022 "lb:close" \u2192 triggers close animation');
    console.log(`      \u2022 Durations MUST match: open=${openDuration}ms, close=${closeDuration}ms`);
    console.log("\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501");
    console.log("\u2705 VALIDATION COMPLETE\n");
    function validateSlideData() {
      if (!projectData) return;
      let validSlides = 0;
      let missingData = [];
      slides.forEach((slide, index) => {
        const projectId = slide.dataset.project;
        if (!projectId) {
          missingData.push(`Slide ${index}: missing data-project attribute`);
        } else if (!projectData[projectId]) {
          missingData.push(`Slide ${index}: project ID "${projectId}" not found in JSON`);
        } else {
          validSlides++;
        }
      });
      console.log(`[LIGHTBOX] \u2713 Valid slides: ${validSlides}/${slides.length}`);
      if (missingData.length > 0) {
        console.warn("[LIGHTBOX] \u26A0\uFE0F  Issues found:");
        missingData.forEach((msg) => console.warn(`   - ${msg}`));
      }
    }
    function emitWebflowEvent(name) {
      try {
        if (window.Webflow && window.Webflow.require) {
          const wfIx2 = window.Webflow.require("ix3") || window.Webflow.require("ix2");
          if (wfIx2 && typeof wfIx2.emit === "function") {
            wfIx2.emit(name);
            console.log(`\u{1F3AC} [LIGHTBOX] Triggered animation: "${name}"`);
          } else {
            console.warn(`\u26A0\uFE0F  [LIGHTBOX] Cannot emit "${name}" - wfIx.emit not available`);
          }
        } else {
          console.warn(`\u26A0\uFE0F  [LIGHTBOX] Cannot emit "${name}" - Webflow IX not available`);
        }
      } catch (err) {
        console.error(`\u274C [LIGHTBOX] Error emitting "${name}":`, err);
      }
      window.dispatchEvent(new CustomEvent(name));
    }
    function setPageInert(on) {
      const siblings = Array.from(document.body.children).filter((n) => n !== lb);
      siblings.forEach((n) => {
        try {
          if ("inert" in n) n.inert = !!on;
        } catch {
        }
        if (on) n.setAttribute("aria-hidden", "true");
        else n.removeAttribute("aria-hidden");
      });
    }
    function trapFocus(e) {
      if (e.key !== "Tab") return;
      const focusables = lb.querySelectorAll([
        "a[href]",
        "button",
        "input",
        "select",
        "textarea",
        '[tabindex]:not([tabindex="-1"])'
      ].join(","));
      const list = Array.from(focusables).filter(
        (el) => !el.hasAttribute("disabled") && !el.getAttribute("aria-hidden")
      );
      if (list.length === 0) {
        e.preventDefault();
        (inner || lb).focus();
        return;
      }
      const first = list[0];
      const last = list[list.length - 1];
      if (e.shiftKey && document.activeElement === first) {
        e.preventDefault();
        last.focus();
      } else if (!e.shiftKey && document.activeElement === last) {
        e.preventDefault();
        first.focus();
      }
    }
    function getProjectById(id) {
      if (!projectData[id]) {
        console.error(`[LIGHTBOX] \u274C Project "${id}" not found in JSON`);
        return null;
      }
      return projectData[id];
    }
    async function waitForImages(imageUrls) {
      if (!imageUrls || imageUrls.length === 0) return;
      console.log(`[LIGHTBOX] \u23F3 Loading ${imageUrls.length} images...`);
      const promises = imageUrls.map((url) => {
        return new Promise((resolve, reject) => {
          const img = new Image();
          img.onload = () => {
            img.decode().then(() => resolve()).catch(() => resolve());
          };
          img.onerror = () => {
            console.warn(`[LIGHTBOX] \u26A0\uFE0F  Failed to load image: ${url}`);
            resolve();
          };
          img.src = url;
        });
      });
      await Promise.all(promises);
      console.log(`[LIGHTBOX] \u2713 All images loaded`);
    }
    async function injectContent(project) {
      console.log(`[LIGHTBOX] \u{1F4DD} Injecting content for: ${project.title}`);
      if (clientEl) clientEl.textContent = project.client || "";
      if (titleEl) titleEl.textContent = project.title || "";
      if (truthEl) truthEl.textContent = project.truth || "";
      if (truthWellToldEl) truthWellToldEl.textContent = project.truthWellTold || "";
      if (descriptionEl) descriptionEl.textContent = project.description || "";
      if (awardsContainer && project.awards) {
        awardsContainer.innerHTML = "";
        project.awards.forEach((url) => {
          const img = document.createElement("img");
          img.src = url;
          img.alt = "Award";
          img.loading = "eager";
          awardsContainer.appendChild(img);
        });
      }
      if (videoArea && project.vimeoId) {
        mountVimeo(videoArea, project.vimeoId, {
          autoplay: 1,
          muted: 1,
          autopause: 0,
          controls: 0,
          background: 1,
          playsinline: 1,
          loop: 1,
          dnt: 1
        });
      }
      if (project.awards && project.awards.length > 0) {
        await waitForImages(project.awards);
      }
      console.log(`[LIGHTBOX] \u2713 Content injected`);
    }
    function setState(newState) {
      currentState = newState;
      lb.setAttribute("data-state", newState);
      console.log(`[LIGHTBOX] State: ${newState}`);
    }
    async function openFromSlide(slide) {
      var _a, _b, _c;
      if (currentState !== STATE.IDLE) {
        console.log("[LIGHTBOX] \u26A0\uFE0F  Cannot open - already opening/open/closing");
        return;
      }
      const projectId = (_a = slide == null ? void 0 : slide.dataset) == null ? void 0 : _a.project;
      if (!projectId) {
        console.error("[LIGHTBOX] \u274C Slide missing data-project attribute");
        return;
      }
      const project = getProjectById(projectId);
      if (!project) {
        console.error(`[LIGHTBOX] \u274C Project "${projectId}" not found in JSON`);
        return;
      }
      setState(STATE.OPENING);
      lastFocus = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      try {
        await injectContent(project);
        setPageInert(true);
        lockScroll();
        if ((_c = (_b = window.App) == null ? void 0 : _b.smoothScroll) == null ? void 0 : _c.stop) {
          window.App.smoothScroll.stop();
        }
        lb.setAttribute("aria-hidden", "false");
        emitWebflowEvent("lb:open");
        setTimeout(() => {
          finishOpen();
        }, openDuration);
        emit("LIGHTBOX_OPEN", lb, project);
      } catch (err) {
        console.error("[LIGHTBOX] \u274C Error opening:", err);
        setState(STATE.IDLE);
      }
    }
    function finishOpen() {
      console.log("[LIGHTBOX] \u2713 Open animation complete");
      setState(STATE.OPEN);
      if (overlay) {
        requestAnimationFrame(() => {
          overlayLenis = initContainerScroll(overlay, {
            lerp: 0.08,
            smoothWheel: true,
            smoothTouch: false
          });
        });
      }
      lb.setAttribute("tabindex", "-1");
      requestAnimationFrame(() => {
        (inner || lb).focus();
      });
      emit("LIGHTBOX_OPENED", lb);
    }
    function requestClose() {
      var _a, _b;
      if (currentState !== STATE.OPEN) {
        console.log("[LIGHTBOX] \u26A0\uFE0F  Cannot close - not open");
        return;
      }
      setState(STATE.CLOSING);
      emit("LIGHTBOX_CLOSE", lb);
      emitWebflowEvent("lb:close");
      const hideDelay = prefersReduced ? 0 : closeDuration;
      setTimeout(() => {
        finishClose();
      }, hideDelay);
      unlockScroll({
        delayMs: prefersReduced ? 0 : closeDuration
      });
      if ((_b = (_a = window.App) == null ? void 0 : _a.smoothScroll) == null ? void 0 : _b.start) {
        setTimeout(() => {
          window.App.smoothScroll.start();
        }, hideDelay);
      }
    }
    function finishClose() {
      console.log("[LIGHTBOX] \u2713 Close animation complete");
      lb.setAttribute("aria-hidden", "true");
      setPageInert(false);
      if (videoArea) videoArea.innerHTML = "";
      if (awardsContainer) awardsContainer.innerHTML = "";
      if (clientEl) clientEl.textContent = "";
      if (titleEl) titleEl.textContent = "";
      if (truthEl) truthEl.textContent = "";
      if (truthWellToldEl) truthWellToldEl.textContent = "";
      if (descriptionEl) descriptionEl.textContent = "";
      if (overlayLenis) {
        try {
          overlayLenis.destroy();
          overlayLenis = null;
          console.log("[LIGHTBOX] \u2713 Overlay smooth scroll destroyed");
        } catch (err) {
          console.warn("[LIGHTBOX] Error destroying overlay scroll:", err);
        }
      }
      if (lastFocus && document.body.contains(lastFocus)) {
        lastFocus.focus();
      }
      setState(STATE.IDLE);
      emit("LIGHTBOX_CLOSED", lb);
    }
    slides.forEach((slide, index) => {
      slide.addEventListener("click", (e) => {
        e.preventDefault();
        e.stopPropagation();
        openFromSlide(slide);
      }, { passive: false });
    });
    if (closeBtn) {
      closeBtn.addEventListener("click", (e) => {
        e.preventDefault();
        e.stopPropagation();
        if (currentState === STATE.OPEN) {
          console.log("[LIGHTBOX] \u{1F3AF} Close button clicked");
          requestClose();
        }
      });
    } else {
      console.warn("[LIGHTBOX] \u26A0\uFE0F  #close-btn not found - only Escape key will close");
    }
    document.addEventListener("keydown", (e) => {
      if (currentState === STATE.OPEN) {
        if (e.key === "Escape") {
          console.log("[LIGHTBOX] \u{1F3AF} Escape key pressed");
          requestClose();
        }
        if (e.key === "Tab") {
          trapFocus(e);
        }
      }
    });
    console.log("[LIGHTBOX] \u2713 Initialized and ready\n");
  }

  // src/modules/webflow-scrolltrigger.js
  console.log("[WEBFLOW] module loaded");
  function initWebflowScrollTriggers(options = {}) {
    const scrollerSelector = options.scrollerSelector || ".perspective-wrapper";
    const hideEventName = options.hideEventName || options.shrinkEventName || "logo-hide";
    const appearEventName = options.appearEventName || options.growEventName || "logo-appear";
    const markers = !!options.markers;
    function onWindowLoad(cb) {
      if (document.readyState === "complete") {
        setTimeout(cb, 0);
        return;
      }
      window.addEventListener("load", cb, { once: true });
    }
    onWindowLoad(function() {
      const Webflow = window.Webflow || [];
      Webflow.push(function() {
        const wfIx = window.Webflow && window.Webflow.require ? window.Webflow.require("ix3") || window.Webflow.require("ix2") : null;
        const ScrollTrigger2 = window.ScrollTrigger;
        if (!wfIx || !ScrollTrigger2) {
          return;
        }
        const scroller = document.querySelector(scrollerSelector);
        if (!scroller) {
          return;
        }
        const driver = document.querySelector("#intro-slide");
        if (!driver) {
          console.error("[WEBFLOW] Driver slide (#intro-slide) not found");
          return;
        }
        console.log("[WEBFLOW] Setup complete:", {
          scroller: !!scroller,
          driver: !!driver,
          wfIx: !!wfIx,
          ScrollTrigger: !!ScrollTrigger2,
          hideEvent: hideEventName,
          appearEvent: appearEventName
        });
        let logoVisible = false;
        let lastScrollDirection = null;
        ScrollTrigger2.create({
          trigger: driver,
          scroller,
          start: "bottom 20%",
          // When slide bottom reaches 20% down viewport (80% scrolled out)
          markers,
          onEnter: () => {
            if (!logoVisible) {
              try {
                console.log("[WEBFLOW] \u2713 emit appear (80% scrolled out):", appearEventName);
                wfIx.emit(appearEventName);
                logoVisible = true;
              } catch (err) {
                console.error("[WEBFLOW] Error emitting appear:", err);
              }
            }
          }
        });
        ScrollTrigger2.create({
          trigger: driver,
          scroller,
          start: "bottom 20%",
          // Same trigger point as appear - when slide bottom reaches 20%
          markers,
          onLeaveBack: () => {
            if (logoVisible) {
              try {
                console.log("[WEBFLOW] \u2713 emit hide (scrolled back up past 20%):", hideEventName);
                wfIx.emit(hideEventName);
                logoVisible = false;
              } catch (err) {
                console.error("[WEBFLOW] Error emitting hide:", err);
              }
            }
          }
        });
        console.log("[WEBFLOW] ScrollTrigger initialized");
        requestAnimationFrame(() => {
          ScrollTrigger2.refresh();
        });
      });
    });
  }

  // src/modules/slide-transition-observer.js
  console.log("[SLIDE-OBSERVER] module loaded");
  function initSlideTransitionObserver(options = {}) {
    const scrollerSelector = options.scrollerSelector || ".perspective-wrapper";
    const targetSlideSelector = options.targetSlideSelector || "#intro-slide";
    const appearEventName = options.appearEventName || "logo-appear";
    const hideEventName = options.hideEventName || options.disappearEventName || "logo-hide";
    const threshold = options.threshold !== void 0 ? options.threshold : 0;
    function onWindowLoad(cb) {
      if (document.readyState === "complete") {
        setTimeout(cb, 0);
        return;
      }
      window.addEventListener("load", cb, { once: true });
    }
    onWindowLoad(function() {
      const Webflow = window.Webflow || [];
      Webflow.push(function() {
        const wfIx = window.Webflow && window.Webflow.require ? window.Webflow.require("ix3") || window.Webflow.require("ix2") : null;
        if (!wfIx) {
          console.warn("[SLIDE-OBSERVER] Webflow IX API not found");
          return;
        }
        const scroller = document.querySelector(scrollerSelector);
        if (!scroller) {
          console.warn("[SLIDE-OBSERVER] Scroller not found:", scrollerSelector);
          return;
        }
        const targetSlide = document.querySelector(targetSlideSelector);
        if (!targetSlide) {
          console.error("[SLIDE-OBSERVER] Target slide not found:", targetSlideSelector);
          return;
        }
        console.log("[SLIDE-OBSERVER] Setup complete:", {
          scroller: !!scroller,
          targetSlide: !!targetSlide,
          wfIx: !!wfIx,
          appearEvent: appearEventName,
          hideEvent: hideEventName,
          threshold
        });
        let wasIntersecting = null;
        let lastRatio = null;
        let logoVisible = false;
        let observer = null;
        observer = new IntersectionObserver(
          function(entries) {
            entries.forEach(function(entry) {
              const isIntersecting = entry.isIntersecting;
              const intersectionRatio = entry.intersectionRatio;
              if (wasIntersecting === null) {
                wasIntersecting = isIntersecting;
                lastRatio = intersectionRatio;
                logoVisible = intersectionRatio > 0.2;
                console.log("[SLIDE-OBSERVER] Initial state:", { isIntersecting, intersectionRatio, logoVisible });
                return;
              }
              if (!logoVisible && lastRatio !== null && lastRatio > 0.2 && intersectionRatio <= 0.2) {
                try {
                  console.log("[SLIDE-OBSERVER] \u2713 emit appear (80% scrolled out, 20% visible):", appearEventName, { lastRatio, intersectionRatio });
                  wfIx.emit(appearEventName);
                  logoVisible = true;
                  wasIntersecting = false;
                } catch (err) {
                  console.error("[SLIDE-OBSERVER] Error emitting appear:", err);
                }
                lastRatio = intersectionRatio;
                return;
              }
              if (logoVisible && lastRatio !== null && lastRatio < 0.2 && intersectionRatio >= 0.2) {
                try {
                  console.log("[SLIDE-OBSERVER] \u2713 emit hide (20% scrolled in, 20% visible):", hideEventName, { lastRatio, intersectionRatio, wasIntersecting });
                  wfIx.emit(hideEventName);
                  logoVisible = false;
                  wasIntersecting = true;
                } catch (err) {
                  console.error("[SLIDE-OBSERVER] Error emitting hide:", err);
                }
                lastRatio = intersectionRatio;
                return;
              }
              wasIntersecting = isIntersecting;
              lastRatio = intersectionRatio;
            });
          },
          {
            root: scroller,
            rootMargin: "0px",
            threshold: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]
            // Multiple thresholds to detect crossing 0.2
          }
        );
        observer.observe(targetSlide);
        console.log("[SLIDE-OBSERVER] Observer initialized and watching:", targetSlideSelector);
        return function cleanup() {
          if (observer) {
            observer.disconnect();
            observer = null;
            console.log("[SLIDE-OBSERVER] Observer disconnected");
          }
        };
      });
    });
  }

  // src/app.js
  function patchVimeoAllowTokens() {
    const tokens = ["autoplay", "fullscreen", "picture-in-picture", "encrypted-media"];
    const selector = [
      'iframe[src*="vimeo.com"]',
      'iframe[src*="player.vimeo.com"]'
    ].join(",");
    document.querySelectorAll(selector).forEach((ifr) => {
      const current = (ifr.getAttribute("allow") || "").split(";").map((token) => token.trim()).filter(Boolean);
      const updated = Array.from(/* @__PURE__ */ new Set([...current, ...tokens])).join("; ");
      ifr.setAttribute("allow", updated);
    });
  }
  function init(options = {}) {
    const {
      lightboxRoot = "#lightbox",
      useIntersectionObserver = false,
      lerp: lerp2 = 0.1,
      snapLerp = 0.15,
      smoothScroll = {},
      preloader = {}
    } = options;
    document.body.classList.add("preloader-active");
    const preloaderConfig = {
      selector: "#preloader",
      videoSelector: "video[data-wf-ignore], video[autoplay], video[data-autoplay]",
      vimeoPreload: "prefetch",
      // 'none', 'prefetch' (recommended), 'prebuffer' (aggressive)
      vimeoBufferLimit: 5,
      // Max Vimeo videos to prebuffer if using 'prebuffer'
      minLoadTime: 1e3,
      pulseDuration: 3e3,
      pulseOpacity: 0.2,
      ...preloader
    };
    initPreloader(preloaderConfig);
    initSmoothScroll({
      lerp: lerp2,
      snapLerp,
      ...smoothScroll
    });
    initAccordion({ selector: ".accordeon" });
    initLightbox({
      root: lightboxRoot,
      openDuration: 1e3,
      // Must match 'lb:open' animation duration in Webflow
      closeDuration: 1e3
      // Must match 'lb:close' animation duration in Webflow
    });
    try {
      if (useIntersectionObserver) {
        initSlideTransitionObserver({
          scrollerSelector: ".perspective-wrapper",
          targetSlideSelector: "#intro-slide",
          appearEventName: "logo-appear",
          hideEventName: "logo-hide",
          threshold: 0.1
        });
      } else {
        initWebflowScrollTriggers({
          scrollerSelector: ".perspective-wrapper",
          hideEventName: "logo-hide",
          appearEventName: "logo-appear"
        });
      }
    } catch (err) {
    }
  }
  window.App = window.App || {};
  window.App.init = init;
  document.addEventListener("DOMContentLoaded", () => {
    console.log("\n\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557");
    console.log("\u2551     McCann Website - Initialization Starting        \u2551");
    console.log("\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D\n");
    try {
      patchVimeoAllowTokens();
      init();
      console.log("\n\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557");
      console.log("\u2551     \u2705 All Systems Initialized Successfully         \u2551");
      console.log("\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D\n");
    } catch (err) {
      console.error("[APP] \u274C Initialization error:", err);
    }
  });
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL2RhdGEvcHJvamVjdC1kYXRhLmpzb24iLCAiLi4vc3JjL21vZHVsZXMvcHJlbG9hZGVyLmpzIiwgIi4uL3NyYy9tb2R1bGVzL2FjY29yZGlvbi1kaXJlY3QtZ3NhcC5qcyIsICIuLi9zcmMvbW9kdWxlcy9hY2NvcmRpb24uanMiLCAiLi4vc3JjL2NvcmUvZXZlbnRzLmpzIiwgIi4uL3NyYy9jb3JlL3Njcm9sbGxvY2suanMiLCAiLi4vc3JjL21vZHVsZXMvdmltZW8uanMiLCAiLi4vbm9kZV9tb2R1bGVzL2xlbmlzL3BhY2thZ2UuanNvbiIsICIuLi9ub2RlX21vZHVsZXMvbGVuaXMvcGFja2FnZXMvY29yZS9zcmMvbWF0aHMudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2xlbmlzL3BhY2thZ2VzL2NvcmUvc3JjL2FuaW1hdGUudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2xlbmlzL3BhY2thZ2VzL2NvcmUvc3JjL2RlYm91bmNlLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9sZW5pcy9wYWNrYWdlcy9jb3JlL3NyYy9kaW1lbnNpb25zLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9sZW5pcy9wYWNrYWdlcy9jb3JlL3NyYy9lbWl0dGVyLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9sZW5pcy9wYWNrYWdlcy9jb3JlL3NyYy92aXJ0dWFsLXNjcm9sbC50cyIsICIuLi9ub2RlX21vZHVsZXMvbGVuaXMvcGFja2FnZXMvY29yZS9zcmMvbGVuaXMudHMiLCAiLi4vc3JjL21vZHVsZXMvc21vb3RoLXNjcm9sbC5qcyIsICIuLi9zcmMvbW9kdWxlcy9saWdodGJveC5qcyIsICIuLi9zcmMvbW9kdWxlcy93ZWJmbG93LXNjcm9sbHRyaWdnZXIuanMiLCAiLi4vc3JjL21vZHVsZXMvc2xpZGUtdHJhbnNpdGlvbi1vYnNlcnZlci5qcyIsICIuLi9zcmMvYXBwLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJ7XG4gIFwibG9yZWFsLWZpbmFsLWNvcHlcIjoge1xuICAgIFwiY2xpZW50XCI6IFwiTCdPclx1MDBFOWFsIFBhcmlzXCIsXG4gICAgXCJ0aXRsZVwiOiBcIlRoZSBGaW5hbCBDb3B5IG9mIElsb24gU3BlY2h0XCIsXG4gICAgXCJ0cnV0aFwiOiBcIldvbWVuIGhhdmUgaW5oZXJlbnQgd29ydGggYW5kIGRlc2VydmUgdG8gYmUgc2VlbiwgaGVhcmQsIGFuZCB2YWx1ZWQuXCIsXG4gICAgXCJ0cnV0aFdlbGxUb2xkXCI6IFwiQmVjYXVzZSBZb3UncmUgV29ydGggSXRcIixcbiAgICBcImRlc2NyaXB0aW9uXCI6IFwiRmlmdHkgeWVhcnMgYWZ0ZXIgXFxcIkJlY2F1c2UgSSdtIFdvcnRoIEl0XFxcIiB3YXMgd3JpdHRlbiwgaXRzIG1lYW5pbmcgaGFkIGJlY29tZSBlcm9kZWQgYnkgdGltZS4gV2hhdCBiZWdhbiBhcyBhIHN0YXRlbWVudCBvZiByZWJlbGxpb24gaGFkIHNvZnRlbmVkIGludG8gYSB0YWdsaW5lIFx1MjAxNCBzcG9rZW4gZXZlcnl3aGVyZSBidXQgcmFyZWx5IGZlbHQuIE91ciBpZGVhIHdhcyBub3QgdG8gcmVpbnRlcnByZXQgaXQsIGJ1dCB0byByZWNsYWltIGl0LiBXZSBkaWQgc28gYnkgZ29pbmcgYmFjayB0byB3aGVyZSB0aGUgbGluZSBiZWdhbiwgdG8gSWxvbiBTcGVjaHQsIHRoZSB5b3VuZyBNY0Nhbm4gY29weXdyaXRlciB3aG8gZm91Z2h0IHNvIGhhcmQgdG8gYnJpbmcgdGhvc2Ugd29yZHMgdG8gbGlmZS4gV2Ugd29ya2VkIHdpdGggdHdvLXRpbWUgT3NjYXItd2lubmluZyBmaWxtbWFrZXIgQmVuIFByb3VkZm9vdCB0byBjYXB0dXJlIFNwZWNodCwgbm93IGluIGhlciBzZW5pb3IgeWVhcnMgYW5kIGZhY2luZyBhIHRlcm1pbmFsIGlsbG5lc3MsIGluIGhlciBOZXcgWW9yayBhcGFydG1lbnQuIFNoZSByZWZsZWN0cyBvbiBtYWtpbmcgdGhlIG9yaWdpbmFsIGFkIGF0IGEgdGltZSB3aGVuIHNvIG1hbnkgZm9yY2VzIHdlcmUgd29ya2luZyBhZ2FpbnN0IGhlciwgYW5kLCBhbGwgdGhyb3VnaG91dCwgaGVyIGZpcmUgYW5kIHVuZmlsdGVyZWQgdm9pY2UgY29tZSB0byBsaWZlOiBzaGFycCwgZGVmaWFudCBhbmQgdW5hcG9sb2dldGljLiBObyBicmFuZCBtZXNzYWdpbmcuIE5vIHByb2R1Y3Qgc2hvdHMuIEp1c3QgdHJ1dGguIFRoZSB1bHRpbWF0ZSBlbWJvZGltZW50IG9mIFxcXCJJJ20gd29ydGggaXQuXFxcIiBXZSBnYXZlIElsb24gU3BlY2h0IGJhY2sgaGVyIHdvcmRzIGFuZCBoZXIgYXV0aG9yc2hpcC4gV2UgZGlkbid0IG1vZGVybml6ZSBoZXIgbGluZS4gV2UgcmVtaW5kZWQgdGhlIHdvcmxkIG9mIGl0cyBvcmlnaW5hbCBwb3dlciwgYW5kIHRoZSB3b3JsZCBsaXN0ZW5lZC5cIixcbiAgICBcImltcGFjdFwiOiBcIk1vcmUgdGhhbiA3NSUgb2YgcGVvcGxlIHdobyBzYXcgdGhlIGZpbG0gcmVwb3J0ZWQgdGhhdCBpdCBjaGFuZ2VkIHRoZWlyIHBlcmNlcHRpb24gb2YgdGhlIGJyYW5kXCIsXG4gICAgXCJ2aW1lb0lkXCI6IFwiMDAwMDAwMDAwXCIsXG4gICAgXCJhd2FyZHNcIjogW1xuICAgICAgXCJhd2FyZC1nZW5lcmljLTEuanBnXCIsXG4gICAgICBcImF3YXJkLWdlbmVyaWMtMi5qcGdcIixcbiAgICAgIFwiYXdhcmQtZ2VuZXJpYy0zLmpwZ1wiXG4gICAgXVxuICB9LFxuICBcIm1hc3RlcmNhcmQtYWJyYWNhZGFicmFcIjoge1xuICAgIFwiY2xpZW50XCI6IFwiTWFzdGVyY2FyZFwiLFxuICAgIFwidGl0bGVcIjogXCJBYnJhY2FkYWJyYTogRnJvbSBGYW4gdG8gRmVhdHVyZWRcIixcbiAgICBcInRydXRoXCI6IFwiTXVzaWMgZmFucyB3YW50IHRvIGxpdmUgdGhlaXIgcGFzc2lvbiwgbm90IGp1c3QgbGlzdGVuIHRvIGl0LlwiLFxuICAgIFwidHJ1dGhXZWxsVG9sZFwiOiBcIkZyb20gRmFuIHRvIEZlYXR1cmVkXCIsXG4gICAgXCJkZXNjcmlwdGlvblwiOiBcIkdlbiBaIGRvZXNuJ3QganVzdCB3YXRjaCBjdWx0dXJlLCB0aGV5IG1ha2UgaXQuIFNvIE1hc3RlcmNhcmQgdHVybmVkIExhZHkgR2FnYSdzIG11c2ljIHZpZGVvIGludG8gYSBmYW4tcG93ZXJlZCBhdWRpdGlvbiwgd2l0aCBjaG9yZW9ncmFwaHkgYnkgUGFycmlzIEdvZWJlbCwgY3JlYXRvcnMgbGVhZGluZyB0aGUgY2hhcmdlLCBhbmQgR2FnYSBhbXBsaWZ5aW5nIGV2ZXJ5IHN0ZXAuIFdlIHBhcnRuZXJlZCB3aXRoIHZpcmFsIGRhbmNlIGNyZWF0b3JzIHRvIHRlYWNoIHRoZSBtb3ZlcywgbW9kZWwgcGFydGljaXBhdGlvbiwgYW5kIHJhbGx5IHRoZWlyIGNvbW11bml0aWVzLiBNYXN0ZXJjYXJkIGFuZCBHYWdhIGZ1ZWxlZCB0aGUgbW92ZW1lbnQgYnkgbGlraW5nLCByZXBvc3RpbmcsIGFuZCBjZWxlYnJhdGluZyBmYW5zIGFjcm9zcyBwbGF0Zm9ybXMuIFRoZSBzdHJhdGVneSB3YXMgcm9vdGVkIGluIEdlbiBaJ3MgZGVzaXJlIGZvciBzZWxmLWV4cHJlc3Npb24gYW5kIHNvY2lhbCBjb25uZWN0aW9uIFx1MjAxNCB0dXJuaW5nIGZhbiBiZWhhdmlvciBpbnRvIHRoZSBlbmdpbmUgb2YgZW5nYWdlbWVudC4gVGhlIHJlc3VsdDogMS40IGJpbGxpb24gdmlld3MsIFRpa1RvaydzIHRvcCBicmFuZGVkIGhhc2h0YWcsIGFuZCBNYXN0ZXJjYXJkJ3MgYmlnZ2VzdC1ldmVyIEdlbiBaIGJyYW5kIGxpZnQuXCIsXG4gICAgXCJpbXBhY3RcIjogXCJNYXN0ZXJjYXJkJ3MgYmlnZ2VzdC1ldmVyIEdlbiBaIGJyYW5kIGxpZnRcIixcbiAgICBcInZpbWVvSWRcIjogXCIwMDAwMDAwMDBcIixcbiAgICBcImF3YXJkc1wiOiBbXG4gICAgICBcImF3YXJkLWdlbmVyaWMtMS5qcGdcIixcbiAgICAgIFwiYXdhcmQtZ2VuZXJpYy0yLmpwZ1wiXG4gICAgXVxuICB9LFxuICBcInhib3gtZXZlcnlkYXktdGFjdGljaWFuXCI6IHtcbiAgICBcImNsaWVudFwiOiBcIlhib3hcIixcbiAgICBcInRpdGxlXCI6IFwiVGhlIEV2ZXJ5ZGF5IFRhY3RpY2lhblwiLFxuICAgIFwidHJ1dGhcIjogXCJGb290YmFsbCBNYW5hZ2VyIGdhbWVycyBkb24ndCBqdXN0IHBsYXkgdGhlIGdhbWUsIHRoZXkgc3R1ZHkgaXQuXCIsXG4gICAgXCJ0cnV0aFdlbGxUb2xkXCI6IFwiWGJveCB0dXJuZWQgZ2FtZSBpbnRlbGxpZ2VuY2UgaW50byByZWFsLXdvcmxkIGluZmx1ZW5jZVwiLFxuICAgIFwiZGVzY3JpcHRpb25cIjogXCJNb2Rlcm4gZm9vdGJhbGwgaXMgZG9taW5hdGVkIGJ5IGEgZmV3IHJpY2ggY2x1YnMgdGhhdCBjYW4gYWZmb3JkIHRvIGhpcmUgYmlnIHRlYW1zIG9mIGNvYWNoZXMgYW5kIGFuYWx5c3RzLCB3aGljaCBtZWFucyBzbWFsbGVyIGNsdWJzIHN0cnVnZ2xlIHRvIGNvbXBldGUgZm9yIHRhbGVudC4gRm9yIHRoZSBsYXVuY2ggb2YgRm9vdGJhbGwgTWFuYWdlciAyNCBcdTIwMTQgdGhlIG1vc3QgcmVhbGlzdGljIGZvb3RiYWxsIHNpbXVsYXRvciBcdTIwMTQgWGJveCBoZWxwZWQgdGhlIHNtYWxsIGNsdWIgQnJvbWxleSBGQyByZWNydWl0IHRoZWlyIG5leHQgdGFjdGljaWFuIGZyb20gYW4gdW50YXBwZWQgdGFsZW50IHBvb2w6IGdhbWVycy4gVGhlIGFubm91bmNlbWVudCBtYWRlIGhlYWRsaW5lcyBldmVyeXdoZXJlLCBhbmQgcGVvcGxlIGZyb20gYXJvdW5kIHRoZSB3b3JsZCBhcHBsaWVkLiBOYXRoYW4gT3dvbGFiaSwgYSBkZWRpY2F0ZWQgRm9vdGJhbGwgTWFuYWdlciBwbGF5ZXIsIGdvdCB0aGUgam9iLiBIZSB1c2VkIGRhdGEgZnJvbSB0aGUgZ2FtZSB0byBoZWxwIHRoZSBjbHViIHdpbiBpbiB0aGUgcmVhbCB3b3JsZCwgZGV2ZWxvcGluZyBmb3JtYXRpb25zLCBmaW5kaW5nIG5ldyBzdHJhdGVnaWVzLCBhbmQgdW5jb3ZlcmluZyB0aGUgb3Bwb3NpdGlvbidzIHdlYWtuZXNzZXMuIFRoZSBzdG9yeSBvZiB0aGlzIHVudXN1YWwgYXBwcm9hY2ggdG8gZm9vdGJhbGwgd2FzIHRvbGQgaW4gYSA2MCsgbWludXRlIGRvY3VtZW50YXJ5IG9uIFROVCBTcG9ydHMgXHUyMDE0IHRoZSBVSydzIGJpZ2dlc3Qgc3BvcnRzIGJyb2FkY2FzdGVyLiBXaXRoIHRoZSBoZWxwIG9mIGEgZ2FtZXIsIHRoZSBjbHViIGFjaGlldmVkIGl0cyBiZXN0IHNlYXNvbiBpbiBpdHMgMTMyLXllYXIgaGlzdG9yeSwgdWx0aW1hdGVseSBnYWluaW5nIHByb21vdGlvbiB0byBMZWFndWUgVHdvIGZvciB0aGUgZmlyc3QgdGltZSBldmVyLiBYYm94IHNhdyBhIGRyYW1hdGljIGluY3JlYXNlIGluIEZvb3RiYWxsIE1hbmFnZXIgcGxheWVycyBvbiBjb25zb2xlLCBhbmQgRm9vdGJhbGwgTWFuYWdlciAyNCBiZWNhbWUgdGhlIG1vc3QtcGxheWVkIGdhbWUgaW4gdGhlIGhpc3Rvcnkgb2YgdGhlIGZyYW5jaGlzZS5cIixcbiAgICBcImltcGFjdFwiOiBcIjE5MCUgaW5jcmVhc2UgaW4gWGJveCBwbGF5ZXJzIGZvciBGb290YmFsbCBNYW5hZ2VyIDI0LCB3aGljaCBiZWNhbWUgdGhlIG1vc3QtcGxheWVkIGdhbWUgaW4gdGhlIGhpc3Rvcnkgb2YgdGhlIGZyYW5jaGlzZVwiLFxuICAgIFwidmltZW9JZFwiOiBcIjAwMDAwMDAwMFwiLFxuICAgIFwiYXdhcmRzXCI6IFtcbiAgICAgIFwiYXdhcmQtZ2VuZXJpYy0xLmpwZ1wiLFxuICAgICAgXCJhd2FyZC1nZW5lcmljLTIuanBnXCIsXG4gICAgICBcImF3YXJkLWdlbmVyaWMtMy5qcGdcIlxuICAgIF1cbiAgfSxcbiAgXCJjaGV2cm9sZXQtMTAwLXllYXJzXCI6IHtcbiAgICBcImNsaWVudFwiOiBcIkNoZXZyb2xldFwiLFxuICAgIFwidGl0bGVcIjogXCIxMDAgWWVhcnMgb2YgQ2hldnJvbGV0XCIsXG4gICAgXCJ0cnV0aFwiOiBcIlRoZSBmdXR1cmUgaXMgYm9ybiBvdXQgb2YgdGhlIHBhc3QuIEV2ZXJ5IENoZXZyb2xldCB0aGF0J3MgY2FycmllZCB1cyBhbG9uZyB0aGUgd2F5IGNvbnRpbnVlcyB0byBkcml2ZSB1cyBmb3J3YXJkLlwiLFxuICAgIFwidHJ1dGhXZWxsVG9sZFwiOiBcIkZvciAxMDAgeWVhcnMsIGFsd2F5cyBkcml2aW5nIHRvd2FyZCB0aGUgZnV0dXJlXCIsXG4gICAgXCJkZXNjcmlwdGlvblwiOiBcIkNoZXZyb2xldCBjZWxlYnJhdGVkIDEwMCB5ZWFycyBpbiBCcmF6aWwgd2l0aCBhIDM2MFx1MDBCQSBjYW1wYWlnbiB0aGF0IHJldmlzaXRlZCBkZWZpbmluZyBtb21lbnRzIGluIHRoZSBuYXRpb24ncyBoaXN0b3J5LiBJbiB0aGUgaGVybyBmaWxtLCBmcm9tIHRoZSByaXNlIG9mIGluZHVzdHJ5IHRvIHdvbWVuJ3MgcmlnaHQgdG8gdm90ZSwgZnJvbSB0aGUgZHJlYW0gb2YgYSBuZXcgY2FwaXRhbCB0byB0aGUgcmV0dXJuIG9mIGRlbW9jcmFjeSwgZnJvbSBXb3JsZCBDdXAgY2VsZWJyYXRpb25zIHRvIHJlY29ubmVjdGlvbiBhZnRlciB0aGUgcGFuZGVtaWMsIGVhY2ggc2NlbmUgd2FzIGNob3NlbiB0byByZWZsZWN0IHRoZSBjb3VudHJ5J3MgcHJvZ3Jlc3MgYW5kIHRoZSBicmFuZCdzIGVuZHVyaW5nIHByZXNlbmNlIHRocm91Z2hvdXQuIFRoZSBzdG9yeSBpcyB0b2xkIHRocm91Z2ggaW1tZXJzaXZlIGNpbmVtYXRvZ3JhcGh5LCAzRCB0cmFuc2l0aW9ucywgYW5kIGljb25pYyB2ZWhpY2xlcyB0aGF0IGFjdCBhcyBwb3J0YWxzIHRocm91Z2ggdGltZS4gRXZlcnkgZnJhbWUgd2FzIGNhcmVmdWxseSBjcmFmdGVkLCBjb21iaW5pbmcgaGlzdG9yaWNhbCBhY2N1cmFjeSB3aXRoIGVtb3Rpb25hbCBkZXB0aC4gTmFycmF0ZWQgYnkgRmVybmFuZGEgVG9ycmVzLCBvbmUgb2YgQnJhemlsJ3MgbW9zdCBjZWxlYnJhdGVkIGFjdHJlc3NlcywgdGhlIGZpbG0gYWlyZWQgbmF0aW9uYWxseSBvbiBDaGV2cm9sZXQncyAxMDB0aCBhbm5pdmVyc2FyeS4gTW9yZSB0aGFuIGEgY2VsZWJyYXRpb24sIGl0IGJlY2FtZSBhIHN0YXRlbWVudCBhYm91dCBtZW1vcnksIHByb2dyZXNzLCBhbmQgY29ubmVjdGlvbiwgcmVtaW5kaW5nIEJyYXppbGlhbnMgdGhhdCBDaGV2cm9sZXQgaGFzIG5vdCBqdXN0IGJlZW4gYSBjYXIgYnJhbmQsIGJ1dCBhIHBhcnQgb2YgdGhlaXIgY291bnRyeSdzIGpvdXJuZXkuXCIsXG4gICAgXCJpbXBhY3RcIjogXCIjMSBwb3NpdGlvbiBpbiBicmFuZCBjb25zaWRlcmF0aW9uIFx1MjAxNCA2IHAucC4gYWhlYWQgb2YgMm5kIHBsYWNlIGFuZCA5IHAucC4gYWhlYWQgb2YgM3JkLiAjMSBwb3NpdGlvbiBpbiBlbmdhZ2VtZW50IGFjcm9zcyB0aGUgY2F0ZWdvcnksIHdpdGggNDRcdTAwRDcgbW9yZSBpbnRlcmFjdGlvbnMgdGhhbiB0aGUgYnJhbmQncyBvdmVyYWxsIGF2ZXJhZ2UuIDQ3MCwwMDAgcmVhbCBleHBlcmllbmNlcyBkZWxpdmVyZWQgdGhyb3VnaCB0aGUgU3BvdGlmeSBhY3RpdmF0aW9uLiBTdHJvbmdlc3QgQnJhbmQgUG93ZXIgaW4gdGhlIGluZHVzdHJ5IGluIEJyYXppbCdzIGF1dG9tb3RpdmUgaW5kdXN0cnkgZHVyaW5nIHRoZSBwZXJpb2QuXCIsXG4gICAgXCJ2aW1lb0lkXCI6IFwiMDAwMDAwMDAwXCIsXG4gICAgXCJhd2FyZHNcIjogW1xuICAgICAgXCJhd2FyZC1nZW5lcmljLTEuanBnXCJcbiAgICBdXG4gIH0sXG4gIFwibWFzdGVyY2FyZC1pbmNsdXNpdmUtYnktZGVzaWduXCI6IHtcbiAgICBcImNsaWVudFwiOiBcIk1hc3RlcmNhcmRcIixcbiAgICBcInRpdGxlXCI6IFwiSW5jbHVzaXZlIGJ5IERlc2lnblwiLFxuICAgIFwidHJ1dGhcIjogXCJBbiBpbmNsdXNpdmUgZ2xvYmFsIGZpbmFuY2lhbCBzeXN0ZW0gaXMgZ29vZCBmb3IgaHVtYW5pdHkgYW5kIGJ1c2luZXNzLlwiLFxuICAgIFwidHJ1dGhXZWxsVG9sZFwiOiBcIkRvaW5nIHdlbGwgYnkgZG9pbmcgZ29vZC5cIixcbiAgICBcImRlc2NyaXB0aW9uXCI6IFwiV2hlbiBNYXN0ZXJjYXJkIGFuZCBNY0Nhbm4gZGVidXRlZCBcXFwiUHJpY2VsZXNzXFxcIiBpbiAxOTk3LCB0aGUgY2FtcGFpZ24gY2FwdHVyZWQgcGVvcGxlJ3MgaGVhcnRzIHdpdGggYSBicmVha3Rocm91Z2ggaWRlYTogaW4gYSB3b3JsZCBvZiBjb25zcGljdW91cyBjb25zdW1wdGlvbiwgd2hhdCByZWFsbHkgbWF0dGVycyBhcmUgdGhlIHRoaW5ncyB0aGF0IG1vbmV5IGNhbid0IGJ1eSBcdTIwMTQgbGlrZSB0YWtpbmcgeW91ciBjaGlsZCB0byB0aGVpciBmaXJzdCBnYW1lIGF0IHRoZSBiYWxscGFyay4gTWFzdGVyY2FyZCBhbmQgTWNDYW5uIHJlYWxpemVkIHRoYXQgdG8gY29udGludWUgdG8gZGVsaXZlciBvbiBcXFwiUHJpY2VsZXNzLFxcXCIgdGhlIGJyYW5kIHBsYXRmb3JtIGNvdWxkIG5vdCBpZ25vcmUgdGhlIDEuNCBiaWxsaW9uIHBlb3BsZSBnbG9iYWxseSBleGNsdWRlZCBmcm9tIHRoZSBmaW5hbmNpYWwgc3lzdGVtIGR1ZSB0byBkaXNjcmltaW5hdGlvbiwgZXhwbG9pdGF0aW9uLCBhbmQgbW9yZS4gV2l0aCBmaW5hbmNpYWwgaW5jbHVzaW9uIG5vdyBjZW50cmFsIHRvIE1hc3RlcmNhcmQncyBicmFuZCBwdXJwb3NlLCBcXFwiUHJpY2VsZXNzXFxcIiBoYXMgZXZvbHZlZCBiZXlvbmQgbWVzc2FnaW5nIGludG8gZ3JvdW5kYnJlYWtpbmcgcHJvZHVjdCBpbm5vdmF0aW9ucywgdG9vbHMsIGFuZCBwbGF0Zm9ybXMuIEFtb25nIHRoZW06IHRoZSBcXFwiVHJ1ZSBOYW1lXFxcIiBjYXJkLCBhbGxvd2luZyB0cmFuc2dlbmRlciBpbmRpdmlkdWFscyB0byBoYXZlIHRoZWlyIHJlYWwgbmFtZXMgaW5zY3JpYmVkIG9uIHRoZWlyIGNyZWRpdCBjYXJkczsgdGhlIFxcXCJUb3VjaCBDYXJkXFxcIiBzeXN0ZW0gdGhhdCBsZXRzIHNpZ2h0LWltcGFpcmVkIGNvbnN1bWVycyB0byBkaXN0aW5ndWlzaCB0aGVpciBjcmVkaXQsIGRlYml0LCBhbmQgcHJlLXBhaWQgY2FyZHMgYnkgdG91Y2g7IHRoZSBcXFwiV2hlcmUgdG8gU2V0dGxlXFxcIiB0b29sIHRoYXQgaGVscHMgVWtyYWluaWFuIHJlZnVnZWVzIGluIFBvbGFuZCBmaW5kIHRoZSBpZGVhbCBhcmVhcyB0byBtYWtlIHRoZWlyIG5ldyBob21lczsgdGhlIFxcXCJXaGVyZSB0byBTdGFydFxcXCIgdG9vbCB0aGF0IGhlbHBzIGNyZWF0ZSBhIHN5bWJpb3RpYyBmaW5hbmNpYWwgZWNvc3lzdGVtIGJldHdlZW4gcmVzZXR0bGVkIFVrcmFpbmlhbiByZWZ1Z2VlcyBhbmQgdGhlaXIgUG9saXNoIG5laWdoYm9yczsgYW5kIHRoZSBuZXcgXFxcIkxpZmUgRG9ub3IgQ2FyZFxcXCIgYW5kIFxcXCJBVE0gVm90aW5nXFxcIiBwcm9qZWN0cywgd2hpY2ggaGF2ZSB0dXJuZWQgbWlsbGlvbnMgb2YgdXNlcnMgaW50byBvcmdhbiBkb25vcnMgYW5kIGhlbHBlZCBjaXRpemVucyBkZWNpZGUgaG93IHRoZSBnb3Zlcm5tZW50IHVzZXMgdGhlaXIgbW9uZXksIHJlc3BlY3RpdmVseS5cIixcbiAgICBcImltcGFjdFwiOiBcIis4OSUgaW5jcmVhc2UgaW4gYnJhbmQgdmFsdWUgc2luY2UgMjAxOFwiLFxuICAgIFwidmltZW9JZFwiOiBcIjAwMDAwMDAwMFwiLFxuICAgIFwiYXdhcmRzXCI6IFtcbiAgICAgIFwiYXdhcmQtZ2VuZXJpYy0xLmpwZ1wiLFxuICAgICAgXCJhd2FyZC1nZW5lcmljLTIuanBnXCIsXG4gICAgICBcImF3YXJkLWdlbmVyaWMtMy5qcGdcIlxuICAgIF1cbiAgfSxcbiAgXCJwdWNrLXJlY2lwZS1mb3ItY2hhbmdlXCI6IHtcbiAgICBcImNsaWVudFwiOiBcIlB1Y2tcIixcbiAgICBcInRpdGxlXCI6IFwiUmVjaXBlIGZvciBDaGFuZ2VcIixcbiAgICBcInRydXRoXCI6IFwiQ3VsdHVyYWwga25vd2xlZGdlIGlzIGVjb25vbWljIHBvd2VyLlwiLFxuICAgIFwidHJ1dGhXZWxsVG9sZFwiOiBcIkZyb20gbG9jYWwga2l0Y2hlbnMgdG8gZ2xvYmFsIHJlc3RhdXJhbnQgdGFibGVzXCIsXG4gICAgXCJkZXNjcmlwdGlvblwiOiBcIkFzIExlYmFub24gZmFjZWQgb25lIG9mIHRoZSB3b3JzdCBlY29ub21pYyBhbmQgaHVtYW5pdGFyaWFuIGNyaXNlcyBpbiBtb2Rlcm4gaGlzdG9yeSwgdHJhZGl0aW9uYWwgYWlkIG1vZGVscyBhbmQgcmV0YWlsIGxvZ2lzdGljcyBjb2xsYXBzZWQsIGxlYXZpbmcgZGlzcGxhY2VkIHdvbWVuIHdpdGggbm8gaW5jb21lIGFuZCBsaW1pdGVkIHN1cHBvcnQuIFB1Y2ssIGEgdHJ1c3RlZCBNaWRkbGUgRWFzdGVybiBkYWlyeSBicmFuZCwgc2F3IGFuIG9wcG9ydHVuaXR5IGluIHdoYXQgcmVtYWluZWQ6IHRoZSB3b21lbidzIGZhbWlseSByZWNpcGVzLCBwYXNzZWQgZG93biBmb3IgZ2VuZXJhdGlvbnMuIFxcXCJSZWNpcGUgZm9yIENoYW5nZVxcXCIgdHJhbnNmb3JtZWQgdGhlc2UgY3VsdHVyYWwgaGVpcmxvb21zIGludG8gaW50ZWxsZWN0dWFsIHByb3BlcnR5IGJ5IGxpY2Vuc2luZyB0aGUgcmVjaXBlcyB0byBMZWJhbmVzZSBhbmQgZnVzaW9uIHJlc3RhdXJhbnRzIGFyb3VuZCB0aGUgd29ybGQuIEVhY2ggZGlzaCBzb2xkIGdlbmVyYXRlZCBpbmNvbWUsIHdpdGggNTAlIG9mIHByb2ZpdHMgZ29pbmcgZGlyZWN0bHkgdG8gdGhlIHdvbWVuIGJlaGluZCB0aGVtLiBUaGUgc3RyYXRlZ3kgcmVmcmFtZWQgdGhlc2Ugd29tZW4gbm90IGFzIHZpY3RpbXMsIGJ1dCBhcyBidXNpbmVzcyBwYXJ0bmVycywgcmVzdG9yaW5nIGRpZ25pdHkgYW5kIGFnZW5jeS4gTGF1bmNoZWQgZHVyaW5nIFJhbWFkYW4sIGEgdGltZSByb290ZWQgaW4gZ2VuZXJvc2l0eSwgdGhlIGNhbXBhaWduIGNyZWF0ZWQgYSBzY2FsYWJsZSBCMkIyQyBtb2RlbCB0aGF0IGNvbm5lY3RlZCBjb21tdW5pdGllcyBhY3Jvc3MgYm9yZGVycy4gSXQgbm90IG9ubHkgc3VwcG9ydGVkIGRpc3BsYWNlZCB3b21lbiBidXQgYWxzbyBkcm92ZSBuZXcgcmV2ZW51ZSBmb3IgcmVzdGF1cmFudHMgYW5kIHJlZGVmaW5lZCBob3cgYnJhbmRzIGNhbiBidWlsZCBlcXVpdHksIGVtcGF0aHksIGFuZCBlY29ub21pYyBpbXBhY3QgZHVyaW5nIGNyaXNpcy5cIixcbiAgICBcImltcGFjdFwiOiBcIisxNi42NyUgcHJvZml0IGluY3JlYXNlLCArNTYlIHJpc2UgaW4gZm9vdGZhbGwgZm9yIHBhcnRpY2lwYXRpbmcgcmVzdGF1cmFudHMsICs4MDcuMTIlIHJldmVudWUgZm9yIHRoZSB3b21lbiBiZWhpbmQgdGhlIHJlY2lwZXNcIixcbiAgICBcInZpbWVvSWRcIjogXCIwMDAwMDAwMDBcIixcbiAgICBcImF3YXJkc1wiOiBbXG4gICAgICBcImF3YXJkLWdlbmVyaWMtMS5qcGdcIixcbiAgICAgIFwiYXdhcmQtZ2VuZXJpYy0yLmpwZ1wiXG4gICAgXVxuICB9LFxuICBcImtpZHMtaGVscC1waG9uZVwiOiB7XG4gICAgXCJjbGllbnRcIjogXCJLaWRzIEhlbHAgUGhvbmVcIixcbiAgICBcInRpdGxlXCI6IFwiSGVscFwiLFxuICAgIFwidHJ1dGhcIjogXCJBZHVsdHMgZGVmaW5lIFxcXCJoZWxwXFxcIiBhcyBzb21ldGhpbmcgeW91dGggb25seSBuZWVkIGluIGNyaXNpcy5cIixcbiAgICBcInRydXRoV2VsbFRvbGRcIjogXCJIZWxwIG1lYW5zIGV2ZXJ5dGhpbmdcIixcbiAgICBcImRlc2NyaXB0aW9uXCI6IFwiXFxcIkhlbHBcXFwiIGlzIGEgcG93ZXJmdWwgZmlsbSwgbWFya2luZyB0aGUgbmV4dCBjaGFwdGVyIG9mIEtpZHMgSGVscCBQaG9uZSdzIEZlZWwgT3V0IExvdWQgcGxhdGZvcm0uIFRoZSBmaWxtIHJlaW1hZ2luZXMgVGhlIEJlYXRsZXMnIFxcXCJIZWxwIVxcXCIgdG8gZXhwbG9yZSB3aGF0IFxcXCJoZWxwXFxcIiB0cnVseSBtZWFucyB0byB5b3VuZyBwZW9wbGUgdG9kYXkgXHUyMDE0IGZyb20gZXZlcnlkYXkgc3RydWdnbGVzIHRvIHVyZ2VudCBjcmlzZXMuIEJsZW5kaW5nIGxpdmUgYWN0aW9uLCBDR0ksIGFuZCBlbW90aW9uYWwgbWV0YXBob3IsIGl0IHZpc3VhbGl6ZXMgcmVhbCB5b3V0aCBleHBlcmllbmNlcyBkcmF3biBmcm9tIG92ZXIgNTAgbWlsbGlvbiBkYXRhIHBvaW50cyB0aGF0IGhhdmUgYmVlbiBhZ2dyZWdhdGVkIGFuZCBhbm9ueW1pemVkIGZyb20gcmVhbCBjb252ZXJzYXRpb25zIHdpdGggeW91dGguXCIsXG4gICAgXCJpbXBhY3RcIjogXCJJbiAyMDIzLCA0OSUgb2YgeW91dGggc2FpZCB0aGF0IHdpdGhvdXQgS0hQLCB0aGV5IHdvdWxkIGhhdmUgaWdub3JlZCB0aGVpciBpc3N1ZSBlbnRpcmVseSBcdTIwMTQgYSBtYWpvciBiYXJyaWVyIHRvIHBvc2l0aXZlIG1lbnRhbCBoZWFsdGggb3V0Y29tZXMuXCIsXG4gICAgXCJ2aW1lb0lkXCI6IFwiMDAwMDAwMDAwXCIsXG4gICAgXCJhd2FyZHNcIjogW11cbiAgfSxcbiAgXCJhbGRpLWtldmluLWNhcnJvdFwiOiB7XG4gICAgXCJjbGllbnRcIjogXCJBTERJXCIsXG4gICAgXCJ0aXRsZVwiOiBcIktldmluIHRoZSBDYXJyb3QncyBDaHJpc3RtYXMgTWlzc2lvblwiLFxuICAgIFwidHJ1dGhcIjogXCJMaXZpbmcgd2VsbCBldmVyeWRheSBpc24ndCBhYm91dCBzcGVuZGluZyBtb3JlIGJ1dCBlbmpveWluZyBtb3JlLiBCZWNhdXNlIGhhdmluZyB0aGUgYmVzdCBDaHJpc3RtYXMgcG9zc2libGUgc2hvdWxkIGJlIHNvbWV0aGluZyBldmVyeW9uZSBjYW4gYWZmb3JkIHRvIGhhdmUsIG5vdCBqdXN0IGRyZWFtIGFib3V0LlwiLFxuICAgIFwidHJ1dGhXZWxsVG9sZFwiOiBcIkhhdmUgYSBDcmFja2luZyBDaHJpc3RtYXMgd2l0aCBBbGRpXCIsXG4gICAgXCJkZXNjcmlwdGlvblwiOiBcIkluIGEgZmVzdGl2ZSBjYW1wYWlnbiwgYSBzbm93eSBDaHJpc3RtYXMgRXZlIHZpbGxhZ2UgbG9zZXMgaXRzIHNwYXJrbGUgd2hlbiBEci4gSHVtYnVnIGFuZCBoZXIgY3JldyBzdGVhbCB0aGUgXFxcIkNocmlzdG1hcyBTcGlyaXQuXFxcIiBTYW50YSBjYWxscyBvbiBLZXZpbiB0aGUgQ2Fycm90IHRvIHNhdmUgdGhlIGRheSwgc2VuZGluZyBoaW0gb24gYSBkYXJpbmcgbWlzc2lvbiB0byBpbmZpbHRyYXRlIEh1bWJ1ZyBIZWFkcXVhcnRlcnMuIFdpdGggY2xldmVyIGRpc2d1aXNlcywgaGlzIHdpZmUgS2F0aWUsIGFuZCBhIGZldyBjb21lZGljIGNsb3NlIGNhbGxzLCBLZXZpbiB3b3JrcyB0byByZXN0b3JlIGpveSB0byB0aGUgdmlsbGFnZS4gVGhlIHN0b3J5IGVuZHMgd2l0aCB0aGUgaHVtYnVncyBsZWFybmluZyB0aGF0IFxcXCJDaHJpc3RtYXMgaXMgYmV0dGVyIHdoZW4gZ29vZHdpbGwgaXMgcmV0dXJuZWQuXFxcIlwiLFxuICAgIFwiaW1wYWN0XCI6IFwiVGhlIGFkIGFjaGlldmVkIHRoZSBoaWdoZXN0IHBvc3NpYmxlIDUuOS1zdGFyIHJhdGluZyBpbiBTeXN0ZW0xJ3MgYW5hbHlzaXMgZm9yIGJvdGggc2hvcnQgYW5kIGxvbmctdGVybSBlZmZlY3RzICh0aGUgc2l4dGggY29uc2VjdXRpdmUgeWVhciBBbGRpJ3MgQ2hyaXN0bWFzIGNhbXBhaWduIGhhZCBzY29yZWQgdGhlIGhpZ2hlc3QgaW4gdGhlIHJhbmtpbmdzKS4gS2V2aW4gd2FzIGFsc28gbmFtZWQgdGhlIFVLJ3MgZmF2b3VyaXRlIENocmlzdG1hcyBhZCBvZiBhbGwgdGltZSwgYW5kIEFsZGkncyByZXBvcnRlZCBhIDMuNCUgaW5jcmVhc2UgaW4gdG90YWwgc2FsZXMgaW4gMjAyNCwgdGhlIGJyYW5kJ3MgXFxcImJlc3QgQ2hyaXN0bWFzIGV2ZXIuXFxcIlwiLFxuICAgIFwidmltZW9JZFwiOiBcIjAwMDAwMDAwMFwiLFxuICAgIFwiYXdhcmRzXCI6IFtdXG4gIH0sXG4gIFwieGJveC1jaGVla3ktY29udHJvbGxlclwiOiB7XG4gICAgXCJjbGllbnRcIjogXCJYYm94XCIsXG4gICAgXCJ0aXRsZVwiOiBcIkNoZWVreSBDb250cm9sbGVyXCIsXG4gICAgXCJ0cnV0aFwiOiBcIklycmV2ZXJlbmNlIGlzIERlYWRwb29sJ3MgdHJ1ZSBzdXBlcnBvd2VyLlwiLFxuICAgIFwidHJ1dGhXZWxsVG9sZFwiOiBcIkRlYWRwb29sJ3MgZ3JlYXRlc3QgYXNzZXQgaXMgaGlzXHUyMDI2XCIsXG4gICAgXCJkZXNjcmlwdGlvblwiOiBcIlRoZSBoaWdobHkgYW50aWNpcGF0ZWQgdGhlYXRyaWNhbCByZWxlYXNlIG9mIE1hcnZlbCBTdHVkaW9zJyBcXFwiRGVhZHBvb2wgJiBXb2x2ZXJpbmVcXFwiIHdhcyBhbiB1bm1pc3NhYmxlIHBvcCBjdWx0dXJlIG1vbWVudCwgYW5kIFhib3ggYWltZWQgdG8gY2FwdHVyZSB0aGUgYXR0ZW50aW9uIG9mIHRoZSBtb3ZpZSdzIGZhbmJhc2UgYWxvbmdzaWRlIG90aGVyIGJyYW5kcyB2eWluZyBmb3IgY29uc3VtZXIgZW5nYWdlbWVudC4gQnkgYXV0aGVudGljYWxseSBibGVuZGluZyBYYm94J3MgdGVjaG5vbG9naWNhbCBlZGdlIHdpdGggRGVhZHBvb2wncyBpcnJldmVyZW50IGh1bW9yLCB3ZSBjcmVhdGVkIGEgY3VsdHVyYWxseSBpY29uaWMgcmV0YWlsIHByb21vdGlvbiB3aXRoIGEgY29tcGV0aXRpb24gYXQgaXRzIGNvcmUuIFJhdGhlciB0aGFuIHJlbHkgb24gcHJlZGljdGFibGUgY2hhcmFjdGVyIGFzc2V0cywgd2UgbGF1bmNoZWQgVGhlIENoZWVreSBDb250cm9sbGVyIFx1MjAxNCBhIGxpbWl0ZWQtZWRpdGlvbiBjb2xsZWN0aWJsZSBtb2RlbGVkIGFmdGVyIERlYWRwb29sJ3MgbW9zdCB0YWxrZWQtYWJvdXQgYm9keSBwYXJ0IFx1MjAxNCBhcyBhbiBleGNsdXNpdmUgcHJpemUgaW4gYSBnbG9iYWwgc3dlZXBzdGFrZXMuIFRoaXMgdW5leHBlY3RlZCB0d2lzdCBvbiBjaGFyYWN0ZXIgbWVyY2hhbmRpc2luZyBub3Qgb25seSBpZ25pdGVkIGZhbiBmcmVuenkgYW5kIGRyb3ZlIG1hc3NpdmUgZWFybmVkIG1lZGlhLCBpdCBhbHNvIGRlZXBlbmVkIGJyYW5kIGVuZ2FnZW1lbnQgYW5kIGRlbGl2ZXJlZCBhIDI1JSBzYWxlcyB1cGxpZnQgb24gdGhlIE1pY3Jvc29mdCBTdG9yZSwgcHJvdmluZyB0aGUgcG93ZXIgb2YgYm9sZCByZXRhaWwgaWRlYXMgdG8gY3V0IHRocm91Z2guXCIsXG4gICAgXCJpbXBhY3RcIjogXCIrMjUlIHNhbGVzIGluY3JlYXNlIG9uIHRoZSBNaWNyb3NvZnQgU3RvcmVcIixcbiAgICBcInZpbWVvSWRcIjogXCIwMDAwMDAwMDBcIixcbiAgICBcImF3YXJkc1wiOiBbXG4gICAgICBcImF3YXJkLWdlbmVyaWMtMS5qcGdcIixcbiAgICAgIFwiYXdhcmQtZ2VuZXJpYy0yLmpwZ1wiXG4gICAgXVxuICB9LFxuICBcIm1jZG9uYWxkcy1ub3QtZmlyc3QtZGF0ZXNcIjoge1xuICAgIFwiY2xpZW50XCI6IFwiTWNEb25hbGQnc1wiLFxuICAgIFwidGl0bGVcIjogXCJOb3QgZm9yIEZpcnN0IERhdGVzXCIsXG4gICAgXCJ0cnV0aFwiOiBcIldoaWxlIE1jRG9uYWxkJ3MgbWF5IG5vdCBtYXJrIHRoZSBiZWdpbm5pbmcgb2YgbG92ZSwgaXQgb2Z0ZW4gYmVjb21lcyBwYXJ0IG9mIGxvdmUncyBqb3VybmV5IFx1MjAxNCBmb3Igc2Vjb25kIGRhdGVzLCBsYXRlLW5pZ2h0IGNvbWZvcnQsIGFuZCBldmVyeWRheSByaXR1YWxzLlwiLFxuICAgIFwidHJ1dGhXZWxsVG9sZFwiOiBcIk5vdCBmb3IgZmlyc3QgZGF0ZXMuIEJ1dCBmb3IgZXZlcnkgb3RoZXIgb25lLlwiLFxuICAgIFwiZGVzY3JpcHRpb25cIjogXCJCeSBlbWJyYWNpbmcgYSB2aXJhbCBtb21lbnQgdGhhdCBpdHMgcmVzdGF1cmFudCBcXFwid2Fzbid0IGZvciBmaXJzdCBkYXRlcyxcXFwiIE1jRG9uYWxkJ3MgcmVpZ25pdGVkIGVtb3Rpb25hbCBjb25uZWN0aW9uIHdpdGggdGhlIGF1ZGllbmNlIGJ5IGNlbGVicmF0aW5nIHNlY29uZCwgZmlmdGgsIGFuZCBmb3JldmVyIGRhdGVzIHRocm91Z2ggaW50aW1hdGUsIGhvbmVzdCBzdG9yeXRlbGxpbmcuXCIsXG4gICAgXCJpbXBhY3RcIjogXCJcIixcbiAgICBcInZpbWVvSWRcIjogXCIwMDAwMDAwMDBcIixcbiAgICBcImF3YXJkc1wiOiBbXG4gICAgICBcImF3YXJkLWdlbmVyaWMtMS5qcGdcIlxuICAgIF1cbiAgfSxcbiAgXCJqdXN0LWVhdC1kaWQtc29tZWJvZHktc2F5XCI6IHtcbiAgICBcImNsaWVudFwiOiBcIkp1c3QgRWF0XCIsXG4gICAgXCJ0aXRsZVwiOiBcIkRpZCBTb21lYm9keSBTYXlcIixcbiAgICBcInRydXRoXCI6IFwiR2V0dGluZyB3aGF0IHlvdSB3YW50LCB3aGVuIHlvdSB3YW50IGl0LCBpcyBtb2Rlcm4gbGlmZSdzIGdyZWF0ZXN0IGpveS5cIixcbiAgICBcInRydXRoV2VsbFRvbGRcIjogXCJEaWQgU29tZWJvZHkgU2F5XCIsXG4gICAgXCJkZXNjcmlwdGlvblwiOiBcIkp1c3QgRWF0IFVLJkkgYW5kIE1jQ2FubiBMb25kb24gbGF1bmNoZWQgYSBmcmVzaCB0YWtlIG9uIHRoZSBpY29uaWMgXFxcIkRpZCBTb21lYm9keSBTYXlcXFwiIGNhbXBhaWduLCBzdGFycmluZyBVSyBnYXJhZ2UgbGVnZW5kIENyYWlnIERhdmlkLiBDZWxlYnJhdGluZyBuZWlnaGJvdXJob29kcyBhbmQgY29tbXVuaXR5IHNwaXJpdCwgdGhlIG5ldyBjYW1wYWlnbiBicmluZ3MgYSBkaXN0aW5jdGx5IGxvY2FsIFxcXCJmbGF2YVxcXCIgdG8gdGhlIHBsYXRmb3JtLiBDcmFpZyBEYXZpZCdzIGdhcmFnZS1pbnNwaXJlZCByZW1peCBvZiB0aGUgZmFtb3VzIGppbmdsZSBzb3VuZHRyYWNrcyBhIGxpdmVseSBqb3VybmV5IHRocm91Z2ggXFxcIkltcG9zc2libGUgU3RyZWV0LFxcXCIgc2hvd2Nhc2luZyBkaXZlcnNlIGhvdXNlaG9sZHMgYW5kIHRoZSBtYW55IHdheXMgSnVzdCBFYXQgc2VydmVzIGV2ZXJ5ZGF5IG1vbWVudHMgXHUyMDE0IGZyb20gY29zeSB0YWtlYXdheXMgdG8gbGFzdC1taW51dGUgZ3JvY2VyaWVzLiBEaXJlY3RlZCBieSBSb21haW4gQ2hhc3NhaW5nLCB0aGUgY2FtcGFpZ24gc3BhbnMgVFYsIGNpbmVtYSwgcmFkaW8sIGFuZCBzb2NpYWwsIHNwb3RsaWdodGluZyBKdXN0IEVhdCdzIGRlZXAgY29ubmVjdGlvbiB0byBsb2NhbCBjdWx0dXJlLlwiLFxuICAgIFwiaW1wYWN0XCI6IFwiU2luY2UgbGF1bmNoaW5nLCBhZCByZWNvZ25pdGlvbiBpcyBub3cgYXQgNjclIChjYXRlZ29yeSBhdmVyYWdlIGlzIDM4JSksIHByb2ZpdHMgaGF2ZSBpbmNyZWFzZWQgYnkgNTYlLCBhbmQgdGhlIFVLIGhhcyBleHBlcmllbmNlZCArMjQlIFlPWSByZXZlbnVlIGdyb3d0aC4gQmVzdCBvZiBhbGwsIEp1c3QgRWF0IGhhcyB0YWtlbiBpdHMgcmlnaHRmdWwgcGxhY2UgYXMgbnVtYmVyIDEgaW4gdGhlIGZvb2QgZGVsaXZlcnkgY2F0ZWdvcnksIGFsbCB3aGlsc3QgZW50ZXJ0YWluaW5nIHRoZSB3b3JsZC5cIixcbiAgICBcInZpbWVvSWRcIjogXCIwMDAwMDAwMDBcIixcbiAgICBcImF3YXJkc1wiOiBbXVxuICB9LFxuICBcInByYWRhLXBhcmFkaWdtZVwiOiB7XG4gICAgXCJjbGllbnRcIjogXCJQcmFkYVwiLFxuICAgIFwidGl0bGVcIjogXCJQYXJhZGlnbWVcIixcbiAgICBcInRydXRoXCI6IFwiVGhlcmUncyBubyBzaW5ndWxhciB2ZXJzaW9uIG9mIG1hc2N1bGluaXR5LiBFYWNoIGluZGl2aWR1YWwgY3JlYXRlcyB0aGVpciBvd24gcGFyYWRpZ20uXCIsXG4gICAgXCJ0cnV0aFdlbGxUb2xkXCI6IFwiV2hhdCBpZiB0aGVyZSdzIGFub3RoZXIgd2F5P1wiLFxuICAgIFwiZGVzY3JpcHRpb25cIjogXCJXaXRoIGEgY2luZW1hdGljIGZpbG0gc3RhcnJpbmcgYnJhbmQgYW1iYXNzYWRvciBUb20gSG9sbGFuZCwgUHJhZGEgQmVhdXR5IHVudmVpbGVkIGl0cyBuZXcgbWFzY3VsaW5lIGZyYWdyYW5jZSwgUGFyYWRpZ21lLiBDcmVhdGVkIGJ5IE1jQ2FubiBQYXJpcyBhbmQgZGlyZWN0ZWQgYnkgT3NjYXItd2lubmVyIFRob21hcyBWaW50ZXJiZXJnLCB0aGUgdHdvLW1pbnV0ZSBzcG90IGZvbGxvd3MgSG9sbGFuZCBhcyBoZSByZWZsZWN0cyBvbiBsaWZlJ3MgcG9zc2liaWxpdGllcywgYXNraW5nLCBcXFwiV2hhdCBpZiB0aGVyZSdzIGFub3RoZXIgd2F5P1xcXCIgVGhyb3VnaCBtb21lbnRzIG9mIGludHJvc3BlY3Rpb24sIG1vdmVtZW50LCBhbmQgY3JlYXRpdml0eSwgdGhlIGZpbG0gY2FwdHVyZXMgdGhlbWVzIG9mIGdyb3d0aCBhbmQgc2VsZi1kaXNjb3ZlcnksIGVjaG9pbmcgdGhlIGZyYWdyYW5jZSdzIHNwaXJpdCBvZiByZWRlZmluaW5nIG9uZSdzIHBhdGguIEJsZW5kaW5nIGVtb3Rpb25hbCBzdG9yeXRlbGxpbmcgd2l0aCBzdHJpa2luZyB2aXN1YWxzLCBQYXJhZGlnbWUgY2VsZWJyYXRlcyBhdXRoZW50aWNpdHkgYW5kIGN1cmlvc2l0eS4gVGhlIGNhbXBhaWduIGxhdW5jaGVkIGdsb2JhbGx5IGFjcm9zcyBUViwgY2luZW1hLCBhbmQgc29jaWFsIHBsYXRmb3JtcywgZW1ib2R5aW5nIFByYWRhJ3MgY2FsbCB0byBcXFwiY3JlYXRlIHlvdXIgcGFyYWRpZ20uXFxcIlwiLFxuICAgIFwiaW1wYWN0XCI6IFwiXCIsXG4gICAgXCJ2aW1lb0lkXCI6IFwiMDAwMDAwMDAwXCIsXG4gICAgXCJhd2FyZHNcIjogW11cbiAgfVxufVxuXG4iLCAiLyoqXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogIE1jQ2FubiBXZWJzaXRlIFx1MjAxNCBQcmVsb2FkZXJcbiAqICBQdXJwb3NlOiBQcmVmZXRjaCB2aWRlb3MgKEhUTUw1ICsgVmltZW8pLCBzaG93IFRydXRoV2VsbFRvbGQgc2lnbmV0XG4gKiAgRGF0ZTogMjAyNS0xMS0wNlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5jb25zb2xlLmxvZygnW1BSRUxPQURFUl0gTW9kdWxlIGxvYWRlZCcpO1xuXG5pbXBvcnQgcHJvamVjdERhdGFKc29uIGZyb20gJy4uL2RhdGEvcHJvamVjdC1kYXRhLmpzb24nO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNUQVRFXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxubGV0IHByZWxvYWRlckVsID0gbnVsbDtcbmxldCBzaWduZXRFbCA9IG51bGw7XG5sZXQgcHJvZ3Jlc3NFbCA9IG51bGw7XG5sZXQgbG9nRWwgPSBudWxsO1xubGV0IGFuaW1hdGlvbkZyYW1lSWQgPSBudWxsO1xubGV0IHNob3dEZWJ1Z0xvZyA9IHRydWU7IC8vIFRvZ2dsZSB0byBzaG93L2hpZGUgcmVhbC10aW1lIGxvZ1xuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSU5JVElBTElaQVRJT05cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEluaXRpYWxpemUgcHJlbG9hZGVyXG4gKiBQcmVmZXRjaGVzIGFsbCBhdXRvcGxheSB2aWRlb3MgKEhUTUw1ICsgVmltZW8pIGJlZm9yZSBzaG93aW5nIGNvbnRlbnRcbiAqIFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnNlbGVjdG9yIC0gUHJlbG9hZGVyIGNvbnRhaW5lciBzZWxlY3RvclxuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMudmlkZW9TZWxlY3RvciAtIFdlYmZsb3cgYmFja2dyb3VuZCB2aWRlbyBzZWxlY3RvclxuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMudmltZW9QcmVsb2FkIC0gVmltZW8gc3RyYXRlZ3k6ICdub25lJywgJ3ByZWZldGNoJywgJ3ByZWJ1ZmZlcidcbiAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLnZpbWVvQnVmZmVyTGltaXQgLSBNYXggVmltZW8gdmlkZW9zIHRvIHByZWJ1ZmZlciAoZGVmYXVsdDogNSlcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLnByb2plY3REYXRhIC0gUHJvamVjdCBkYXRhIHdpdGggdmltZW9JZCBmaWVsZHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLm1pbkxvYWRUaW1lIC0gTWluaW11bSB0aW1lIHRvIHNob3cgcHJlbG9hZGVyIChtcylcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5zaG93RGVidWdMb2cgLSBTaG93IHJlYWwtdGltZSBkZWJ1ZyBsb2cgKGRlZmF1bHQ6IHRydWUpXG4gKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5wdWxzZUR1cmF0aW9uIC0gUHVsc2UgY3ljbGUgZHVyYXRpb24gaW4gbXMgKGRlZmF1bHQ6IDMwMDApXG4gKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5wdWxzZU9wYWNpdHkgLSBPcGFjaXR5IHJhbmdlOiAwLjggdG8gMS4wXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0UHJlbG9hZGVyKHtcbiAgc2VsZWN0b3IgPSAnI3ByZWxvYWRlcicsXG4gIHZpZGVvU2VsZWN0b3IgPSAndmlkZW9bZGF0YS13Zi1pZ25vcmVdLCB2aWRlb1thdXRvcGxheV0sIHZpZGVvW2RhdGEtYXV0b3BsYXldJyxcbiAgdmltZW9QcmVsb2FkID0gJ3ByZWZldGNoJywgLy8gJ25vbmUnLCAncHJlZmV0Y2gnLCAncHJlYnVmZmVyJ1xuICB2aW1lb0J1ZmZlckxpbWl0ID0gNSxcbiAgcHJvamVjdERhdGEgPSBwcm9qZWN0RGF0YUpzb24sXG4gIG1pbkxvYWRUaW1lID0gMTAwMCxcbiAgc2hvd0RlYnVnTG9nOiBkZWJ1Z0xvZ09wdGlvbiA9IHRydWUsXG4gIHB1bHNlRHVyYXRpb24gPSAzMDAwLFxuICBwdWxzZU9wYWNpdHkgPSAwLjJcbn0gPSB7fSkge1xuXG4gIHNob3dEZWJ1Z0xvZyA9IGRlYnVnTG9nT3B0aW9uO1xuICBcbiAgbG9nKCdJbml0aWFsaXppbmcgcHJlbG9hZGVyLi4uJyk7XG5cbiAgLy8gRmluZCBlbGVtZW50c1xuICBwcmVsb2FkZXJFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICBpZiAoIXByZWxvYWRlckVsKSB7XG4gICAgY29uc29sZS5lcnJvcignW1BSRUxPQURFUl0gXHUyNzRDIFByZWxvYWRlciBlbGVtZW50IG5vdCBmb3VuZCcpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHNpZ25ldEVsID0gcHJlbG9hZGVyRWwucXVlcnlTZWxlY3RvcignLnByZWxvYWRlcl9fc2lnbmV0Jyk7XG4gIHByb2dyZXNzRWwgPSBwcmVsb2FkZXJFbC5xdWVyeVNlbGVjdG9yKCcucHJlbG9hZGVyX19wcm9ncmVzcycpO1xuXG4gIGlmICghc2lnbmV0RWwpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbUFJFTE9BREVSXSBcdTI3NEMgU2lnbmV0IGVsZW1lbnQgbm90IGZvdW5kJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gQ3JlYXRlIGRlYnVnIGxvZyBlbGVtZW50IGlmIGVuYWJsZWRcbiAgaWYgKHNob3dEZWJ1Z0xvZykge1xuICAgIGNyZWF0ZUxvZ0VsZW1lbnQoKTtcbiAgfVxuXG4gIGxvZygnXHUyNzEzIEVsZW1lbnRzIGZvdW5kJywgJ3N1Y2Nlc3MnKTtcbiAgbG9nKCdcdTI3MTMgUHVsc2UgYW5pbWF0aW9uIHN0YXJ0ZWQnLCAnc3VjY2VzcycpO1xuXG4gIC8vIFN0YXJ0IHB1bHNlIGFuaW1hdGlvblxuICBhbmltYXRlUHVsc2UocHVsc2VEdXJhdGlvbiwgcHVsc2VPcGFjaXR5KTtcblxuICAvLyBOb3JtYWwgbW9kZTogQmVnaW4gbG9hZGluZyBwcm9jZXNzIGFuZCBhdXRvLWhpZGVcbiAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gIFxuICAvLyBMb2FkIGJvdGggSFRNTDUgdmlkZW9zIGFuZCBWaW1lbyB2aWRlb3NcbiAgUHJvbWlzZS5hbGwoW1xuICAgIHByZWZldGNoVmlkZW9zKHZpZGVvU2VsZWN0b3IpLFxuICAgIHByZWxvYWRWaW1lb1ZpZGVvcyhwcm9qZWN0RGF0YSwgdmltZW9QcmVsb2FkLCB2aW1lb0J1ZmZlckxpbWl0KVxuICBdKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIGNvbnN0IGVsYXBzZWQgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICAgIGNvbnN0IHJlbWFpbmluZyA9IE1hdGgubWF4KDAsIG1pbkxvYWRUaW1lIC0gZWxhcHNlZCk7XG4gICAgICBcbiAgICAgIGxvZyhgXHUyNzEzIEFsbCBtZWRpYSBsb2FkZWQgaW4gJHtNYXRoLnJvdW5kKGVsYXBzZWQpfW1zYCwgJ3N1Y2Nlc3MnKTtcbiAgICAgIFxuICAgICAgaWYgKHJlbWFpbmluZyA+IDApIHtcbiAgICAgICAgbG9nKGBXYWl0aW5nICR7TWF0aC5yb3VuZChyZW1haW5pbmcpfW1zIChtaW4gZGlzcGxheSB0aW1lKS4uLmAsICdpbmZvJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBoaWRlUHJlbG9hZGVyKCk7XG4gICAgICB9LCByZW1haW5pbmcpO1xuICAgIH0pXG4gICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbUFJFTE9BREVSXSBcdTI3NEMgRXJyb3I6JywgZXJyKTtcbiAgICAgIGxvZyhgXHUyNzRDIEVycm9yIGxvYWRpbmcgbWVkaWE6ICR7ZXJyLm1lc3NhZ2V9YCwgJ2Vycm9yJyk7XG4gICAgICBcbiAgICAgIC8vIEdyYWNlZnVsIGRlZ3JhZGF0aW9uIC0gc3RpbGwgaGlkZSBhZnRlciBtaW4gdGltZVxuICAgICAgY29uc3QgZWxhcHNlZCA9IHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgY29uc3QgcmVtYWluaW5nID0gTWF0aC5tYXgoMCwgbWluTG9hZFRpbWUgLSBlbGFwc2VkKTtcbiAgICAgIFxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGxvZygnSGlkaW5nIGRlc3BpdGUgZXJyb3JzIChncmFjZWZ1bCBkZWdyYWRhdGlvbiknLCAnd2FybmluZycpO1xuICAgICAgICBoaWRlUHJlbG9hZGVyKCk7XG4gICAgICB9LCByZW1haW5pbmcpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIE1hbnVhbGx5IGhpZGUgcHJlbG9hZGVyIChmb3IgY3VzdG9taXphdGlvbiBwYW5lbClcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhpZGVQcmVsb2FkZXJNYW51YWxseSgpIHtcbiAgaGlkZVByZWxvYWRlcigpO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIExPR0dJTkcgKFJlYWwtdGltZSBVSSBmZWVkYmFjaylcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIENyZWF0ZSBsb2cgZWxlbWVudCBpbiBib3R0b20gbGVmdCBjb3JuZXJcbiAqL1xuZnVuY3Rpb24gY3JlYXRlTG9nRWxlbWVudCgpIHtcbiAgaWYgKCFwcmVsb2FkZXJFbCB8fCBsb2dFbCkgcmV0dXJuO1xuXG4gIGxvZ0VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGxvZ0VsLmNsYXNzTmFtZSA9ICdwcmVsb2FkZXJfX2xvZyc7XG4gIGxvZ0VsLnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ3BvbGl0ZScpO1xuICBsb2dFbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtYXRvbWljJywgJ2ZhbHNlJyk7XG4gIHByZWxvYWRlckVsLmFwcGVuZENoaWxkKGxvZ0VsKTtcbiAgXG4gIGxvZygnRGVidWcgbG9nIGluaXRpYWxpemVkJywgJ2luZm8nKTtcbn1cblxuLyoqXG4gKiBBZGQgbG9nIGVudHJ5IHRvIFVJIGFuZCBjb25zb2xlXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIExvZyBtZXNzYWdlXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIExvZyB0eXBlOiAnaW5mbycsICdzdWNjZXNzJywgJ3dhcm5pbmcnLCAnZXJyb3InXG4gKi9cbmZ1bmN0aW9uIGxvZyhtZXNzYWdlLCB0eXBlID0gJ2luZm8nKSB7XG4gIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCdlbi1VUycsIHsgXG4gICAgaG91cjEyOiBmYWxzZSxcbiAgICBob3VyOiAnMi1kaWdpdCcsXG4gICAgbWludXRlOiAnMi1kaWdpdCcsIFxuICAgIHNlY29uZDogJzItZGlnaXQnLFxuICAgIGZyYWN0aW9uYWxTZWNvbmREaWdpdHM6IDNcbiAgfSk7XG4gIFxuICBjb25zdCBjb25zb2xlTWVzc2FnZSA9IGBbUFJFTE9BREVSXSAke21lc3NhZ2V9YDtcbiAgXG4gIC8vIENvbnNvbGUgb3V0cHV0XG4gIHN3aXRjaCh0eXBlKSB7XG4gICAgY2FzZSAnZXJyb3InOlxuICAgICAgY29uc29sZS5lcnJvcihjb25zb2xlTWVzc2FnZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd3YXJuaW5nJzpcbiAgICAgIGNvbnNvbGUud2Fybihjb25zb2xlTWVzc2FnZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzdWNjZXNzJzpcbiAgICBjYXNlICdpbmZvJzpcbiAgICBkZWZhdWx0OlxuICAgICAgY29uc29sZS5sb2coY29uc29sZU1lc3NhZ2UpO1xuICB9XG4gIFxuICAvLyBVSSBvdXRwdXQgKGlmIGRlYnVnIGxvZyBlbmFibGVkKVxuICBpZiAoIXNob3dEZWJ1Z0xvZyB8fCAhbG9nRWwpIHJldHVybjtcbiAgXG4gIGNvbnN0IGVudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGVudHJ5LmNsYXNzTmFtZSA9IGBwcmVsb2FkZXJfX2xvZy1lbnRyeSBwcmVsb2FkZXJfX2xvZy1lbnRyeS0tJHt0eXBlfWA7XG4gIGVudHJ5LnRleHRDb250ZW50ID0gYCR7dGltZXN0YW1wfSAke21lc3NhZ2V9YDtcbiAgXG4gIGxvZ0VsLmFwcGVuZENoaWxkKGVudHJ5KTtcbiAgXG4gIC8vIEF1dG8tc2Nyb2xsIHRvIGJvdHRvbVxuICBsb2dFbC5zY3JvbGxUb3AgPSBsb2dFbC5zY3JvbGxIZWlnaHQ7XG4gIFxuICAvLyBMaW1pdCB0byBsYXN0IDIwIGVudHJpZXMgKHBlcmZvcm1hbmNlKVxuICBjb25zdCBlbnRyaWVzID0gbG9nRWwucXVlcnlTZWxlY3RvckFsbCgnLnByZWxvYWRlcl9fbG9nLWVudHJ5Jyk7XG4gIGlmIChlbnRyaWVzLmxlbmd0aCA+IDIwKSB7XG4gICAgZW50cmllc1swXS5yZW1vdmUoKTtcbiAgfVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFZJREVPIFBSRUZFVENISU5HIChIVE1MNSlcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIFByZWZldGNoIGFsbCBhdXRvcGxheSBIVE1MNSB2aWRlb3NcbiAqIFVzZXMgUHJvbWlzZS5hbGxTZXR0bGVkIGZvciBncmFjZWZ1bCBoYW5kbGluZyBvZiBmYWlsZWQgdmlkZW9zXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHByZWZldGNoVmlkZW9zKHNlbGVjdG9yKSB7XG4gIGNvbnN0IHZpZGVvcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xuICBcbiAgaWYgKHZpZGVvcy5sZW5ndGggPT09IDApIHtcbiAgICBsb2coJ1x1MjZBMCBObyB2aWRlb3MgZm91bmQgdG8gcHJlZmV0Y2gnLCAnd2FybmluZycpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxvZyhgXHVEODNDXHVERkFDIEZvdW5kICR7dmlkZW9zLmxlbmd0aH0gdmlkZW8ocykgdG8gcHJlZmV0Y2hgLCAnaW5mbycpO1xuXG4gIC8vIFRyYWNrIGxvYWRlZCBjb3VudCBmb3IgcmVhbC10aW1lIHVwZGF0ZXNcbiAgbGV0IGxvYWRlZENvdW50ID0gMDtcblxuICAvLyBDcmVhdGUgYXJyYXkgb2YgcHJvbWlzZXMgZm9yIGVhY2ggdmlkZW9cbiAgY29uc3QgdmlkZW9Qcm9taXNlcyA9IHZpZGVvcy5tYXAoKHZpZGVvLCBpbmRleCkgPT4gXG4gICAgcHJlZmV0Y2hTaW5nbGVWaWRlbyh2aWRlbywgaW5kZXggKyAxLCB2aWRlb3MubGVuZ3RoLCAoKSA9PiB7XG4gICAgICBsb2FkZWRDb3VudCsrO1xuICAgICAgdXBkYXRlUHJvZ3Jlc3MobG9hZGVkQ291bnQsIHZpZGVvcy5sZW5ndGgpO1xuICAgIH0pXG4gICk7XG5cbiAgLy8gV2FpdCBmb3IgYWxsIHZpZGVvcyAoZ3JhY2VmdWwgaGFuZGxpbmcgb2YgZmFpbHVyZXMpXG4gIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQodmlkZW9Qcm9taXNlcyk7XG4gIFxuICBjb25zdCBzdWNjZXNzZnVsID0gcmVzdWx0cy5maWx0ZXIociA9PiByLnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcpLmxlbmd0aDtcbiAgY29uc3QgZmFpbGVkID0gcmVzdWx0cy5maWx0ZXIociA9PiByLnN0YXR1cyA9PT0gJ3JlamVjdGVkJykubGVuZ3RoO1xuXG4gIGlmIChmYWlsZWQgPiAwKSB7XG4gICAgbG9nKGBcdTI2QTAgJHtmYWlsZWR9IHZpZGVvKHMpIGZhaWxlZCB0byBsb2FkYCwgJ3dhcm5pbmcnKTtcbiAgfVxuICBcbiAgbG9nKGBcdTI3MTMgJHtzdWNjZXNzZnVsfS8ke3ZpZGVvcy5sZW5ndGh9IHZpZGVvKHMpIHJlYWR5YCwgJ3N1Y2Nlc3MnKTtcbn1cblxuLyoqXG4gKiBQcmVmZXRjaCBhIHNpbmdsZSB2aWRlb1xuICogQHBhcmFtIHtIVE1MVmlkZW9FbGVtZW50fSB2aWRlbyAtIFZpZGVvIGVsZW1lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFZpZGVvIGluZGV4ICgxLWJhc2VkIGZvciBkaXNwbGF5KVxuICogQHBhcmFtIHtudW1iZXJ9IHRvdGFsIC0gVG90YWwgbnVtYmVyIG9mIHZpZGVvc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gb25Qcm9ncmVzcyAtIFByb2dyZXNzIGNhbGxiYWNrXG4gKi9cbmZ1bmN0aW9uIHByZWZldGNoU2luZ2xlVmlkZW8odmlkZW8sIGluZGV4LCB0b3RhbCwgb25Qcm9ncmVzcykge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIFxuICAgIC8vIE5vcm1hbCBsb2FkaW5nIGZsb3cgKHN0YXlPcGVuIG1vZGUgaGFuZGxlZCBlYXJsaWVyLCBuZXZlciBnZXRzIGhlcmUpXG4gICAgXG4gICAgLy8gSWYgdmlkZW8gYWxyZWFkeSBsb2FkZWQvcmVhZHlcbiAgICBpZiAodmlkZW8ucmVhZHlTdGF0ZSA+PSAzKSB7IC8vIEhBVkVfRlVUVVJFX0RBVEEgb3IgaGlnaGVyXG4gICAgICBsb2coYFx1MjcxMyBWaWRlbyAke2luZGV4fS8ke3RvdGFsfSBhbHJlYWR5IGxvYWRlZGAsICdzdWNjZXNzJyk7XG4gICAgICBvblByb2dyZXNzKCk7XG4gICAgICByZXNvbHZlKHZpZGVvKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBFdmVudCBoYW5kbGVyc1xuICAgIGNvbnN0IG9uQ2FuUGxheSA9ICgpID0+IHtcbiAgICAgIGxvZyhgXHUyNzEzIFZpZGVvICR7aW5kZXh9LyR7dG90YWx9IHJlYWR5YCwgJ3N1Y2Nlc3MnKTtcbiAgICAgIGNsZWFudXAoKTtcbiAgICAgIG9uUHJvZ3Jlc3MoKTtcbiAgICAgIHJlc29sdmUodmlkZW8pO1xuICAgIH07XG5cbiAgICBjb25zdCBvbkVycm9yID0gKGVycikgPT4ge1xuICAgICAgbG9nKGBcdTI2QTAgVmlkZW8gJHtpbmRleH0vJHt0b3RhbH0gZmFpbGVkYCwgJ3dhcm5pbmcnKTtcbiAgICAgIGNsZWFudXAoKTtcbiAgICAgIHJlamVjdChlcnIpO1xuICAgIH07XG5cbiAgICBjb25zdCBvblRpbWVvdXQgPSAoKSA9PiB7XG4gICAgICBsb2coYFx1MjZBMCBWaWRlbyAke2luZGV4fS8ke3RvdGFsfSB0aW1lb3V0ICgxMHMpYCwgJ3dhcm5pbmcnKTtcbiAgICAgIGNsZWFudXAoKTtcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1ZpZGVvIGxvYWQgdGltZW91dCcpKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY2xlYW51cCA9ICgpID0+IHtcbiAgICAgIHZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgb25DYW5QbGF5KTtcbiAgICAgIHZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCBvbkNhblBsYXkpO1xuICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBvbkVycm9yKTtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgIH07XG5cbiAgICAvLyBUaW1lb3V0IHNhZmV0eSBuZXQgKDEwcyBwZXIgdmlkZW8pXG4gICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dChvblRpbWVvdXQsIDEwMDAwKTtcblxuICAgIC8vIExpc3RlbiBmb3IgcmVhZHkgc3RhdGVzXG4gICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCBvbkNhblBsYXksIHsgb25jZTogdHJ1ZSB9KTtcbiAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5Jywgb25DYW5QbGF5LCB7IG9uY2U6IHRydWUgfSk7XG4gICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBvbkVycm9yLCB7IG9uY2U6IHRydWUgfSk7XG5cbiAgICAvLyBUcmlnZ2VyIGxvYWQgaWYgbm90IGFscmVhZHkgbG9hZGluZ1xuICAgIGlmICh2aWRlby5yZWFkeVN0YXRlID09PSAwKSB7XG4gICAgICBsb2coYExvYWRpbmcgdmlkZW8gJHtpbmRleH0vJHt0b3RhbH0uLi5gLCAnaW5mbycpO1xuICAgICAgdmlkZW8ubG9hZCgpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogVXBkYXRlIHByb2dyZXNzIGRpc3BsYXlcbiAqL1xuZnVuY3Rpb24gdXBkYXRlUHJvZ3Jlc3MoY3VycmVudCwgdG90YWwpIHtcbiAgaWYgKCFwcm9ncmVzc0VsKSByZXR1cm47XG4gIFxuICBjb25zdCBwZXJjZW50YWdlID0gTWF0aC5yb3VuZCgoY3VycmVudCAvIHRvdGFsKSAqIDEwMCk7XG4gIHByb2dyZXNzRWwudGV4dENvbnRlbnQgPSBgJHtwZXJjZW50YWdlfSVgO1xuICBwcm9ncmVzc0VsLnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW5vdycsIHBlcmNlbnRhZ2UpO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFZJTUVPIFBSRUZFVENISU5HXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBQcmVsb2FkIFZpbWVvIHZpZGVvcyBmcm9tIHByb2plY3QgZGF0YVxuICogQHBhcmFtIHtPYmplY3R9IHByb2plY3REYXRhIC0gUHJvamVjdCBkYXRhIHdpdGggdmltZW9JZCBmaWVsZHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJhdGVneSAtICdub25lJywgJ3ByZWZldGNoJywgb3IgJ3ByZWJ1ZmZlcidcbiAqIEBwYXJhbSB7bnVtYmVyfSBidWZmZXJMaW1pdCAtIE1heCB2aWRlb3MgdG8gcHJlYnVmZmVyXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHByZWxvYWRWaW1lb1ZpZGVvcyhwcm9qZWN0RGF0YSwgc3RyYXRlZ3kgPSAncHJlZmV0Y2gnLCBidWZmZXJMaW1pdCA9IDUpIHtcbiAgaWYgKHN0cmF0ZWd5ID09PSAnbm9uZScpIHtcbiAgICBsb2coJ1x1MjNFRCBWaW1lbyBwcmVsb2FkaW5nIGRpc2FibGVkJywgJ2luZm8nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBFeHRyYWN0IHZhbGlkIFZpbWVvIElEcyBmcm9tIHByb2plY3QgZGF0YVxuICBjb25zdCB2aW1lb0lkcyA9IE9iamVjdC52YWx1ZXMocHJvamVjdERhdGEpXG4gICAgLm1hcChwcm9qZWN0ID0+IHByb2plY3Q/LnZpbWVvSWQpXG4gICAgLmZpbHRlcihpZCA9PiBpZCAmJiBpZCAhPT0gJzAwMDAwMDAwMCcgJiYgaWQgIT09ICdudWxsJyAmJiBpZCAhPT0gbnVsbCk7XG4gIFxuICBpZiAodmltZW9JZHMubGVuZ3RoID09PSAwKSB7XG4gICAgbG9nKCdcdTI2QTAgTm8gdmFsaWQgVmltZW8gSURzIGZvdW5kIGluIHByb2plY3QgZGF0YScsICd3YXJuaW5nJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbG9nKGBcdUQ4M0NcdURGQUMgRm91bmQgJHt2aW1lb0lkcy5sZW5ndGh9IFZpbWVvIHZpZGVvKHMpIGluIHByb2plY3QgZGF0YWAsICdpbmZvJyk7XG5cbiAgc3dpdGNoKHN0cmF0ZWd5KSB7XG4gICAgY2FzZSAncHJlYnVmZmVyJzpcbiAgICAgIHJldHVybiBwcmVidWZmZXJWaW1lb0lmcmFtZXModmltZW9JZHMsIGJ1ZmZlckxpbWl0KTtcbiAgICBcbiAgICBjYXNlICdwcmVmZXRjaCc6XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBhZGRWaW1lb1ByZWZldGNoSGludHModmltZW9JZHMpO1xuICB9XG59XG5cbi8qKlxuICogQWRkIHByZWZldGNoIGhpbnRzIGZvciBWaW1lbyB2aWRlb3MgKGxpZ2h0d2VpZ2h0KVxuICogQnJvd3NlciBwcmVsb2FkcyBpbiBiYWNrZ3JvdW5kIHdpdGhvdXQgYmxvY2tpbmdcbiAqL1xuZnVuY3Rpb24gYWRkVmltZW9QcmVmZXRjaEhpbnRzKHZpbWVvSWRzKSB7XG4gIGxvZyhgXHVEODNEXHVERDE3IEFkZGluZyBwcmVmZXRjaCBoaW50cyBmb3IgJHt2aW1lb0lkcy5sZW5ndGh9IFZpbWVvIHZpZGVvKHMpYCwgJ2luZm8nKTtcbiAgXG4gIHZpbWVvSWRzLmZvckVhY2goKGlkLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG4gICAgbGluay5yZWwgPSAncHJlZmV0Y2gnO1xuICAgIGxpbmsuaHJlZiA9IGBodHRwczovL3BsYXllci52aW1lby5jb20vdmlkZW8vJHtpZH1gO1xuICAgIGxpbmsuYXMgPSAnZG9jdW1lbnQnO1xuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgXG4gICAgbG9nKGBcdTI3MTMgVmltZW8gJHtpbmRleCArIDF9LyR7dmltZW9JZHMubGVuZ3RofSBwcmVmZXRjaCBoaW50IGFkZGVkYCwgJ3N1Y2Nlc3MnKTtcbiAgfSk7XG4gIFxuICBsb2coJ1x1MjcxMyBBbGwgVmltZW8gcHJlZmV0Y2ggaGludHMgYWRkZWQgKGxpZ2h0d2VpZ2h0KScsICdzdWNjZXNzJyk7XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbn1cblxuLyoqXG4gKiBQcmVidWZmZXIgVmltZW8gdmlkZW9zIHdpdGggaGlkZGVuIGlmcmFtZXMgKGFnZ3Jlc3NpdmUpXG4gKiBPbmx5IHVzZSBvbiBnb29kIGNvbm5lY3Rpb25zIHdpdGggZmV3IHZpZGVvc1xuICovXG5mdW5jdGlvbiBwcmVidWZmZXJWaW1lb0lmcmFtZXModmltZW9JZHMsIGJ1ZmZlckxpbWl0ID0gNSkge1xuICAvLyBDaGVjayBjb25uZWN0aW9uIHF1YWxpdHlcbiAgY29uc3QgY29ubmVjdGlvbiA9IG5hdmlnYXRvci5jb25uZWN0aW9uIHx8IG5hdmlnYXRvci5tb3pDb25uZWN0aW9uIHx8IG5hdmlnYXRvci53ZWJraXRDb25uZWN0aW9uO1xuICBjb25zdCBpc01vYmlsZSA9IC9pUGhvbmV8aVBhZHxpUG9kfEFuZHJvaWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICBcbiAgLy8gU2tpcCBwcmVidWZmZXJpbmcgb24gc2xvdyBjb25uZWN0aW9ucyBvciBtb2JpbGVcbiAgaWYgKGNvbm5lY3Rpb24gJiYgY29ubmVjdGlvbi5lZmZlY3RpdmVUeXBlICE9PSAnNGcnKSB7XG4gICAgbG9nKCdcdTI2QTAgU2tpcHBpbmcgVmltZW8gcHJlYnVmZmVyIChzbG93IGNvbm5lY3Rpb24gZGV0ZWN0ZWQpJywgJ3dhcm5pbmcnKTtcbiAgICBsb2coJ1x1MjcxMyBGYWxsaW5nIGJhY2sgdG8gcHJlZmV0Y2ggaGludHMgb25seScsICdpbmZvJyk7XG4gICAgcmV0dXJuIGFkZFZpbWVvUHJlZmV0Y2hIaW50cyh2aW1lb0lkcyk7XG4gIH1cbiAgXG4gIGlmIChpc01vYmlsZSkge1xuICAgIGxvZygnXHUyNkEwIFNraXBwaW5nIFZpbWVvIHByZWJ1ZmZlciAobW9iaWxlIGRldmljZSBkZXRlY3RlZCknLCAnd2FybmluZycpO1xuICAgIGxvZygnXHUyNzEzIEZhbGxpbmcgYmFjayB0byBwcmVmZXRjaCBoaW50cyBvbmx5JywgJ2luZm8nKTtcbiAgICByZXR1cm4gYWRkVmltZW9QcmVmZXRjaEhpbnRzKHZpbWVvSWRzKTtcbiAgfVxuICBcbiAgLy8gTGltaXQgbnVtYmVyIG9mIHZpZGVvcyB0byBwcmVidWZmZXJcbiAgY29uc3QgaWRzVG9CdWZmZXIgPSB2aW1lb0lkcy5zbGljZSgwLCBidWZmZXJMaW1pdCk7XG4gIFxuICBpZiAoaWRzVG9CdWZmZXIubGVuZ3RoIDwgdmltZW9JZHMubGVuZ3RoKSB7XG4gICAgbG9nKGBcdTI2QTAgTGltaXRpbmcgcHJlYnVmZmVyIHRvIGZpcnN0ICR7YnVmZmVyTGltaXR9IHZpZGVvc2AsICd3YXJuaW5nJyk7XG4gICAgXG4gICAgLy8gQWRkIHByZWZldGNoIGhpbnRzIGZvciByZW1haW5pbmcgdmlkZW9zXG4gICAgY29uc3QgcmVtYWluaW5nID0gdmltZW9JZHMuc2xpY2UoYnVmZmVyTGltaXQpO1xuICAgIHJlbWFpbmluZy5mb3JFYWNoKGlkID0+IHtcbiAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG4gICAgICBsaW5rLnJlbCA9ICdwcmVmZXRjaCc7XG4gICAgICBsaW5rLmhyZWYgPSBgaHR0cHM6Ly9wbGF5ZXIudmltZW8uY29tL3ZpZGVvLyR7aWR9YDtcbiAgICAgIGxpbmsuYXMgPSAnZG9jdW1lbnQnO1xuICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICB9KTtcbiAgfVxuICBcbiAgbG9nKGBcdUQ4M0NcdURGQUMgUHJlYnVmZmVyaW5nICR7aWRzVG9CdWZmZXIubGVuZ3RofSBWaW1lbyB2aWRlbyhzKWAsICdpbmZvJyk7XG4gIFxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb250YWluZXIuaWQgPSAndmltZW8tcHJlYnVmZmVyLWNvbnRhaW5lcic7XG4gICAgY29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICBsZWZ0OiAtOTk5OXB4O1xuICAgICAgdG9wOiAtOTk5OXB4O1xuICAgICAgd2lkdGg6IDFweDtcbiAgICAgIGhlaWdodDogMXB4O1xuICAgICAgb3BhY2l0eTogMDtcbiAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgei1pbmRleDogLTE7XG4gICAgYDtcbiAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgXG4gICAgbGV0IGJ1ZmZlcmVkID0gMDtcbiAgICBcbiAgICBpZHNUb0J1ZmZlci5mb3JFYWNoKChpZCwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgICAgLy8gVXNlIGxvdyBxdWFsaXR5IGZvciBwcmVidWZmZXJpbmcgdG8gc2F2ZSBiYW5kd2lkdGhcbiAgICAgIGlmcmFtZS5zcmMgPSBgaHR0cHM6Ly9wbGF5ZXIudmltZW8uY29tL3ZpZGVvLyR7aWR9P211dGVkPTEmYXV0b3BsYXk9MSZiYWNrZ3JvdW5kPTEmcXVhbGl0eT0zNjBwYDtcbiAgICAgIGlmcmFtZS5hbGxvdyA9ICdhdXRvcGxheSc7XG4gICAgICBpZnJhbWUud2lkdGggPSAnMSc7XG4gICAgICBpZnJhbWUuaGVpZ2h0ID0gJzEnO1xuICAgICAgaWZyYW1lLmxvYWRpbmcgPSAnZWFnZXInO1xuICAgICAgXG4gICAgICBsb2coYExvYWRpbmcgVmltZW8gJHtpbmRleCArIDF9LyR7aWRzVG9CdWZmZXIubGVuZ3RofSAoSUQ6ICR7aWR9KS4uLmAsICdpbmZvJyk7XG4gICAgICBcbiAgICAgIC8vIFJlbW92ZSBpZnJhbWUgYWZ0ZXIgOCBzZWNvbmRzIChzaG91bGQgYmUgYnVmZmVyaW5nIGJ5IHRoZW4pXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgYnVmZmVyZWQrKztcbiAgICAgICAgbG9nKGBcdTI3MTMgVmltZW8gJHtpbmRleCArIDF9LyR7aWRzVG9CdWZmZXIubGVuZ3RofSBwcmVidWZmZXJlZGAsICdzdWNjZXNzJyk7XG4gICAgICAgIGlmcmFtZS5yZW1vdmUoKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChidWZmZXJlZCA9PT0gaWRzVG9CdWZmZXIubGVuZ3RoKSB7XG4gICAgICAgICAgY29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgICAgIGxvZyhgXHUyNzEzIEFsbCBWaW1lbyB2aWRlb3MgcHJlYnVmZmVyZWRgLCAnc3VjY2VzcycpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSwgODAwMCk7XG4gICAgICBcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICAgIH0pO1xuICAgIFxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbiAgfSk7XG59XG5cbi8qKlxuICogSGlkZSBwcmVsb2FkZXIgd2l0aCBzdWRkZW4sIGVuZXJnZXRpYyByZXZlYWxcbiAqIFNjYWxlcyB1cCBxdWlja2x5ICg2MG1zKSAtIG5vIGJsdXJcbiAqL1xuZnVuY3Rpb24gaGlkZVByZWxvYWRlcigpIHtcbiAgaWYgKCFwcmVsb2FkZXJFbCkgcmV0dXJuO1xuXG4gIGxvZygnXHVEODNDXHVERkFGIEhpZGluZyBwcmVsb2FkZXIgd2l0aCBlbmVyZ2V0aWMgcmV2ZWFsLi4uJywgJ2luZm8nKTtcbiAgc3RvcEFuaW1hdGlvbnMoKTtcblxuICAvLyBDaGVjayBmb3IgcHJlZmVycy1yZWR1Y2VkLW1vdGlvblxuICBjb25zdCBwcmVmZXJzUmVkdWNlZCA9IG1hdGNoTWVkaWEoJyhwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpJykubWF0Y2hlcztcblxuICBpZiAocHJlZmVyc1JlZHVjZWQpIHtcbiAgICAvLyBJbnN0YW50IHJlbW92YWwgZm9yIHJlZHVjZWQgbW90aW9uXG4gICAgcHJlbG9hZGVyRWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3ByZWxvYWRlci1hY3RpdmUnKTtcbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3ByZWxvYWRlcjpjb21wbGV0ZScpKTtcbiAgICBsb2coJ1x1MjcxMyBQcmVsb2FkZXIgY29tcGxldGUnLCAnc3VjY2VzcycpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFN1ZGRlbiwgZW5lcmdldGljIHJldmVhbCAtIDYwbXMgc2NhbGUgdXBcbiAgcHJlbG9hZGVyRWwuY2xhc3NMaXN0LmFkZCgnaXMtcmV2ZWFsaW5nJyk7XG4gIFxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAvLyBDb21wbGV0ZTogUmVtb3ZlIGZyb20gRE9NXG4gICAgcHJlbG9hZGVyRWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3ByZWxvYWRlci1hY3RpdmUnKTtcbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3ByZWxvYWRlcjpjb21wbGV0ZScpKTtcbiAgICBsb2coJ1x1MjcxMyBQcmVsb2FkZXIgY29tcGxldGUnLCAnc3VjY2VzcycpO1xuICB9LCA2MCk7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQU5JTUFUSU9OXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuXG4vKipcbiAqIFB1bHNlIGFuaW1hdGlvbiAtIGdlbnRsZSBvcGFjaXR5IGJyZWF0aGluZ1xuICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIC0gQ3ljbGUgZHVyYXRpb24gaW4gbXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBvcGFjaXR5UmFuZ2UgLSBPcGFjaXR5IHZhcmlhdGlvbiAoMC4yID0gMC44IHRvIDEuMClcbiAqL1xuZnVuY3Rpb24gYW5pbWF0ZVB1bHNlKGR1cmF0aW9uID0gMzAwMCwgb3BhY2l0eVJhbmdlID0gMC4yKSB7XG4gIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gIGZ1bmN0aW9uIGxvb3AoY3VycmVudFRpbWUpIHtcbiAgICBjb25zdCBwcm9ncmVzcyA9ICgoY3VycmVudFRpbWUgLSBzdGFydFRpbWUpICUgZHVyYXRpb24pIC8gZHVyYXRpb247XG4gICAgLy8gU2luZSB3YXZlIGZvciBzbW9vdGggYnJlYXRoaW5nOiAwLjggdG8gMS4wXG4gICAgY29uc3Qgb3BhY2l0eSA9IDEgLSAob3BhY2l0eVJhbmdlIC8gMikgKyBNYXRoLnNpbihwcm9ncmVzcyAqIE1hdGguUEkgKiAyKSAqIChvcGFjaXR5UmFuZ2UgLyAyKTtcbiAgICBcbiAgICBzaWduZXRFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1wdWxzZS1vcGFjaXR5Jywgb3BhY2l0eSk7XG4gICAgYW5pbWF0aW9uRnJhbWVJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcbiAgfVxuXG4gIGFuaW1hdGlvbkZyYW1lSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XG59XG5cblxuLyoqXG4gKiBTdG9wIGFuaW1hdGlvblxuICovXG5mdW5jdGlvbiBzdG9wQW5pbWF0aW9ucygpIHtcbiAgaWYgKGFuaW1hdGlvbkZyYW1lSWQpIHtcbiAgICBjYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZUlkKTtcbiAgICBhbmltYXRpb25GcmFtZUlkID0gbnVsbDtcbiAgICBjb25zb2xlLmxvZygnW1BSRUxPQURFUl0gXHUyNzEzIEFuaW1hdGlvbiBzdG9wcGVkJyk7XG4gIH1cbn1cblxuLyoqXG4gKiBDaGVjayBpZiBhbmltYXRpb24gaXMgcnVubmluZ1xuICovXG5mdW5jdGlvbiBpc0FuaW1hdGlvblJ1bm5pbmcoKSB7XG4gIHJldHVybiBhbmltYXRpb25GcmFtZUlkICE9PSBudWxsO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIENMRUFOVVAgJiBBUElcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIENsZWFudXAgZnVuY3Rpb24gZm9yIHVubW91bnRpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFudXBQcmVsb2FkZXIoKSB7XG4gIHN0b3BBbmltYXRpb25zKCk7XG4gIHByZWxvYWRlckVsID0gbnVsbDtcbiAgc2lnbmV0RWwgPSBudWxsO1xuICBwcm9ncmVzc0VsID0gbnVsbDtcbiAgbG9nRWwgPSBudWxsO1xuICBsb2coJ0NsZWFuZWQgdXAnLCAnaW5mbycpO1xufVxuXG4vLyBFeHBvc2UgbWluaW1hbCBBUElcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICB3aW5kb3cuQXBwID0gd2luZG93LkFwcCB8fCB7fTtcbiAgd2luZG93LkFwcC5wcmVsb2FkZXIgPSB7XG4gICAgY2xlYW51cDogY2xlYW51cFByZWxvYWRlclxuICB9O1xufVxuXG4iLCAiLyoqXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogIE1jQ2FubiBXZWJzaXRlIFx1MjAxNCBBY2NvcmRpb24gR1NBUCBBbmltYXRpb25zXG4gKiAgUHVycG9zZTogRGlyZWN0IEdTQVAgY29udHJvbCBmb3IgYWNjb3JkaW9uIHJldmVhbCBhbmltYXRpb25zXG4gKiAgRGF0ZTogMjAyNS0xMS0wNlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5sZXQgZ3NhcDtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBHU0FQIERJU0NPVkVSWVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmZ1bmN0aW9uIGZpbmRHU0FQKCkge1xuICBpZiAoZ3NhcCkgcmV0dXJuIGdzYXA7XG5cbiAgbGV0IGF0dGVtcHRzID0gMDtcbiAgY29uc3QgZmluZCA9ICgpID0+IHtcbiAgICBjb25zdCBnc2FwQXZhaWxhYmxlID0gd2luZG93LmdzYXAgfHwgd2luZG93LlR3ZWVuTWF4IHx8IHdpbmRvdy5Ud2VlbkxpdGU7XG4gICAgaWYgKGdzYXBBdmFpbGFibGUpIHtcbiAgICAgIGdzYXAgPSBnc2FwQXZhaWxhYmxlLmdzYXAgfHwgZ3NhcEF2YWlsYWJsZTtcbiAgICAgIGNvbnNvbGUubG9nKCdbRElSRUNULUdTQVBdIFx1MjcwNSBHU0FQIGZvdW5kIGFuZCBjYWNoZWQuIFZlcnNpb246JywgZ3NhcC52ZXJzaW9uIHx8ICdMZWdhY3knKTtcbiAgICB9IGVsc2UgaWYgKGF0dGVtcHRzIDwgMjApIHtcbiAgICAgIGF0dGVtcHRzKys7XG4gICAgICBzZXRUaW1lb3V0KGZpbmQsIDI1MCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbRElSRUNULUdTQVBdIFx1Mjc0QyBHU0FQIG5vdCBmb3VuZCBhZnRlciA1IHNlY29uZHMsIGFuaW1hdGlvbnMgZGlzYWJsZWQnKTtcbiAgICB9XG4gIH07XG4gIGZpbmQoKTtcbn1cblxuZmluZEdTQVAoKTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBBTklNQVRJT04gRlVOQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGZ1bmN0aW9uIGdzYXBPcGVuQW5pbWF0aW9uKCkge1xuICBpZiAoIWdzYXApIHtcbiAgICBjb25zb2xlLmxvZygnW0RJUkVDVC1HU0FQXSBPcGVuIGFuaW1hdGlvbiBza2lwcGVkOiBHU0FQIG5vdCBhdmFpbGFibGUuJyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHRhcmdldHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjLWFuaW1hdGUtdGFyZ2V0Jyk7XG4gIGlmICh0YXJnZXRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICBcbiAgY29uc29sZS5sb2coYFtESVJFQ1QtR1NBUF0gXHVEODNDXHVERkFDIEFuaW1hdGluZyAke3RhcmdldHMubGVuZ3RofSBpdGVtcyBPUEVOYCk7XG4gIFxuICBnc2FwLmtpbGxUd2VlbnNPZiAmJiBnc2FwLmtpbGxUd2VlbnNPZih0YXJnZXRzKTtcbiAgXG4gIGdzYXAuc2V0KHRhcmdldHMsIHsgb3BhY2l0eTogMCwgeTogLTYgfSk7XG4gIFxuICBnc2FwLnRvKHRhcmdldHMsIHtcbiAgICBvcGFjaXR5OiAxLFxuICAgIGR1cmF0aW9uOiAwLjAxLFxuICAgIHN0YWdnZXI6IDAuMDgsXG4gICAgZWFzZTogXCJub25lXCJcbiAgfSk7XG4gIFxuICBnc2FwLnRvKHRhcmdldHMsIHtcbiAgICB5OiAwLFxuICAgIGR1cmF0aW9uOiAwLjMsXG4gICAgc3RhZ2dlcjogMC4wOCxcbiAgICBlYXNlOiBcInBvd2VyMi5vdXRcIixcbiAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnW0RJUkVDVC1HU0FQXSBcdTI3MDUgT3BlbiBhbmltYXRpb24gY29tcGxldGUnKTtcbiAgICAgIGdzYXAuc2V0KHRhcmdldHMsIHsgY2xlYXJQcm9wczogXCJhbGxcIiB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ3NhcENsb3NlQW5pbWF0aW9uKCkge1xuICBpZiAoIWdzYXApIHtcbiAgICBjb25zb2xlLmxvZygnW0RJUkVDVC1HU0FQXSBDbG9zZSBhbmltYXRpb24gc2tpcHBlZDogR1NBUCBub3QgYXZhaWxhYmxlLicpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB0YXJnZXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjYy1hbmltYXRlLXRhcmdldCcpO1xuICBpZiAodGFyZ2V0cy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgXG4gIGNvbnNvbGUubG9nKGBbRElSRUNULUdTQVBdIFx1RDgzQ1x1REZBQyBBbmltYXRpbmcgJHt0YXJnZXRzLmxlbmd0aH0gaXRlbXMgQ0xPU0VgKTtcblxuICBnc2FwLmtpbGxUd2VlbnNPZiAmJiBnc2FwLmtpbGxUd2VlbnNPZih0YXJnZXRzKTtcbiAgXG4gIGdzYXAudG8odGFyZ2V0cywge1xuICAgIG9wYWNpdHk6IDAsXG4gICAgZHVyYXRpb246IDAuMDEsXG4gICAgc3RhZ2dlcjoge1xuICAgICAgZWFjaDogMC4wNSxcbiAgICAgIGZyb206IFwiZW5kXCJcbiAgICB9LFxuICAgIGVhc2U6IFwibm9uZVwiXG4gIH0pO1xuICBcbiAgZ3NhcC50byh0YXJnZXRzLCB7XG4gICAgeTogLTYsXG4gICAgZHVyYXRpb246IDAuMixcbiAgICBzdGFnZ2VyOiB7XG4gICAgICBlYWNoOiAwLjA1LFxuICAgICAgZnJvbTogXCJlbmRcIlxuICAgIH0sXG4gICAgZWFzZTogXCJwb3dlcjIuaW5cIixcbiAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnW0RJUkVDVC1HU0FQXSBcdTI3MDUgQ2xvc2UgYW5pbWF0aW9uIGNvbXBsZXRlJyk7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBERUJVRyBBUElcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG53aW5kb3cuZGlyZWN0R1NBUFRlc3QgPSB7XG4gIHRlc3RPcGVuOiAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ1tESVJFQ1QtR1NBUF0gTWFudWFsIHRlc3Q6IE9QRU4nKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjLWl0ZW0nKS5mb3JFYWNoKGVsID0+IGVsLmNsYXNzTGlzdD8uYWRkKCdhY2MtYW5pbWF0ZS10YXJnZXQnKSk7XG4gICAgZ3NhcE9wZW5BbmltYXRpb24oKTtcbiAgfSxcbiAgdGVzdENsb3NlOiAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ1tESVJFQ1QtR1NBUF0gTWFudWFsIHRlc3Q6IENMT1NFJyk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjYy1pdGVtJykuZm9yRWFjaChlbCA9PiBlbC5jbGFzc0xpc3Q/LmFkZCgnYWNjLWFuaW1hdGUtdGFyZ2V0JykpO1xuICAgIGdzYXBDbG9zZUFuaW1hdGlvbigpO1xuICB9LFxuICBjaGVja0dTQVA6ICgpID0+IHtcbiAgICBjb25zdCBnc2FwRm91bmQgPSAhIWdzYXA7XG4gICAgY29uc29sZS5sb2coJ1tESVJFQ1QtR1NBUF0gR1NBUCBhdmFpbGFibGU6JywgZ3NhcEZvdW5kKTtcbiAgICByZXR1cm4gZ3NhcEZvdW5kO1xuICB9XG59O1xuIiwgIi8qKlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqICBNY0Nhbm4gV2Vic2l0ZSBcdTIwMTQgQWNjb3JkaW9uIE1vZHVsZVxuICogIFB1cnBvc2U6IEFSSUEtY29tcGxpYW50IG5lc3RlZCBhY2NvcmRpb24gd2l0aCBHU0FQIGFuaW1hdGlvbnNcbiAqICBEYXRlOiAyMDI1LTExLTA2XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7IGdzYXBPcGVuQW5pbWF0aW9uLCBnc2FwQ2xvc2VBbmltYXRpb24gfSBmcm9tICcuL2FjY29yZGlvbi1kaXJlY3QtZ3NhcC5qcyc7XG5jb25zb2xlLmxvZygnW0FDQ09SRElPTl0gTW9kdWxlIGxvYWRlZCcpO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEVYUE9SVFNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdEFjY29yZGlvbihvcHRpb25zID0ge30pe1xuICBjb25zdCB7IHNlbGVjdG9yID0gJy5hY2NvcmRlb24nIH0gPSBvcHRpb25zO1xuICBcbiAgY29uc3Qgcm9vdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICBpZiAoIXJvb3QpeyBcbiAgICBjb25zb2xlLmxvZygnW0FDQ09SRElPTl0gXHUyNzRDIFJvb3QgZWxlbWVudCBub3QgZm91bmQ6Jywgc2VsZWN0b3IpOyBcbiAgICByZXR1cm47IFxuICB9XG4gIGNvbnNvbGUubG9nKCdbQUNDT1JESU9OXSBcdTI3MTMgUm9vdCBlbGVtZW50IGZvdW5kOicsIHNlbGVjdG9yKTtcbiAgXG4gIHdpbmRvdy5fYWNjb3JkaW9uUm9vdCA9IHJvb3Q7XG4gIHdpbmRvdy5fYWNjb3JkaW9uRGVidWcgPSB0cnVlO1xuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBIRUxQRVJTXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGNvbnN0IHBhbmVsT2YgPSBpdGVtID0+IGl0ZW0/LnF1ZXJ5U2VsZWN0b3IoJzpzY29wZSA+IC5hY2MtbGlzdCcpO1xuICBjb25zdCBncm91cE9mID0gaXRlbSA9PiB7XG4gICAgY29uc3QgcGFyZW50ID0gaXRlbS5wYXJlbnRFbGVtZW50O1xuICAgIHJldHVybiBwYXJlbnQ/LmNsYXNzTGlzdC5jb250YWlucygnYWNjLWxpc3QnKSA/IHBhcmVudCA6IHJvb3Q7XG4gIH07XG4gIGNvbnN0IGRiZyA9ICguLi5hcmdzKSA9PiB7IHRyeSB7IGNvbnNvbGUubG9nKCdbQUNDT1JESU9OXScsIC4uLmFyZ3MpOyB9IGNhdGNoKF8pIHt9IH07XG4gIGNvbnN0IGl0ZW1LaW5kID0gKGVsKSA9PiBlbD8uY2xhc3NMaXN0Py5jb250YWlucygnYWNjLXNlY3Rpb24nKSA/ICdzZWN0aW9uJyA6ICdpdGVtJztcbiAgY29uc3QgbGFiZWxPZiA9IChlbCkgPT4ge1xuICAgIGNvbnN0IHQgPSBlbD8ucXVlcnlTZWxlY3RvcignOnNjb3BlID4gLmFjYy10cmlnZ2VyJyk7XG4gICAgcmV0dXJuICh0Py50ZXh0Q29udGVudCB8fCAnJykudHJpbSgpLnJlcGxhY2UoL1xccysvZywnICcpLnNsaWNlKDAsODApO1xuICB9O1xuICBjb25zdCBBQ1RJVkVfVFJJR0dFUl9DTEFTUyA9ICdhY2MtdHJpZ2dlci0tYWN0aXZlJztcbiAgXG4gIGZ1bmN0aW9uIG1hcmtJdGVtc0ZvckFuaW1hdGlvbihwYW5lbCwgc2hvdyA9IHRydWUpIHtcbiAgICBjb25zdCBpdGVtcyA9IHBhbmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJzpzY29wZSA+IC5hY2MtaXRlbScpO1xuICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICBpZiAoc2hvdykge1xuICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ2FjYy1hbmltYXRlLXRhcmdldCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY2MtYW5pbWF0ZS10YXJnZXQnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBkYmcoYE1hcmtlZCAke2l0ZW1zLmxlbmd0aH0gaXRlbXMgZm9yICR7c2hvdyA/ICdzaG93JyA6ICdoaWRlJ30gYW5pbWF0aW9uIGluIHBhbmVsICR7cGFuZWwuaWR9YCk7XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIGNsZWFyQWxsQW5pbWF0aW9uTWFya2VycygpIHtcbiAgICByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2MtYW5pbWF0ZS10YXJnZXQnKS5mb3JFYWNoKGVsID0+IHtcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjYy1hbmltYXRlLXRhcmdldCcpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFdFQkZMT1cgSVggSU5URUdSQVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgY29uc3Qgd2ZJeCA9ICh3aW5kb3cuV2ViZmxvdyAmJiB3aW5kb3cuV2ViZmxvdy5yZXF1aXJlKVxuICAgID8gKHdpbmRvdy5XZWJmbG93LnJlcXVpcmUoJ2l4MycpIHx8IHdpbmRvdy5XZWJmbG93LnJlcXVpcmUoJ2l4MicpKVxuICAgIDogbnVsbDtcbiAgZGJnKCdXZWJmbG93IElYIGF2YWlsYWJsZTonLCAhIXdmSXgpO1xuXG4gIGZ1bmN0aW9uIGVtaXRJeChuYW1lKXtcbiAgICB0cnkge1xuICAgICAgaWYgKHdmSXggJiYgdHlwZW9mIHdmSXguZW1pdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBkYmcoYFx1RDgzQ1x1REZBRiBFTUlUVElORyB2aWEgd2ZJeC5lbWl0OiBcIiR7bmFtZX1cImApO1xuICAgICAgICB3Zkl4LmVtaXQobmFtZSk7XG4gICAgICB9XG4gICAgfSBjYXRjaChlcnIpIHtcbiAgICAgIGRiZygnd2ZJeC5lbWl0IGVycm9yJywgZXJyICYmIGVyci5tZXNzYWdlKTtcbiAgICB9XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChuYW1lKSk7XG4gICAgICBkYmcoYFx1RDgzRFx1RENFMiBFTUlUVElORyB2aWEgd2luZG93LmRpc3BhdGNoRXZlbnQ6IFwiJHtuYW1lfVwiYCk7XG4gICAgfSBjYXRjaChlcnIpIHsgXG4gICAgICBkYmcoJ3dpbmRvdy5kaXNwYXRjaEV2ZW50IGVycm9yJywgZXJyICYmIGVyci5tZXNzYWdlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBlbWl0QWxsKHByaW1hcnkpe1xuICAgIGNvbnN0IGFsaWFzZXMgPSBbXTtcbiAgICBpZiAocHJpbWFyeSA9PT0gJ2FjYy1vcGVuJykgYWxpYXNlcy5wdXNoKCdhY2NvcmRlb24tb3BlbicpO1xuICAgIGlmIChwcmltYXJ5ID09PSAnYWNjLWNsb3NlJykgYWxpYXNlcy5wdXNoKCdhY2NvcmRlb24tY2xvc2UnKTtcbiAgICBbcHJpbWFyeSwgLi4uYWxpYXNlc10uZm9yRWFjaChldiA9PiBlbWl0SXgoZXYpKTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBBUklBIFNFVFVQXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGNvbnN0IHRyaWdnZXJzID0gcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjLXRyaWdnZXInKTtcbiAgdHJpZ2dlcnMuZm9yRWFjaCgodCwgaSkgPT4ge1xuICAgIGNvbnN0IGl0ZW0gPSB0LmNsb3Nlc3QoJy5hY2Mtc2VjdGlvbiwgLmFjYy1pdGVtJyk7XG4gICAgY29uc3QgcCA9IHBhbmVsT2YoaXRlbSk7XG4gICAgaWYgKHApe1xuICAgICAgY29uc3QgcGlkID0gcC5pZCB8fCBgYWNjLXBhbmVsLSR7aX1gO1xuICAgICAgcC5pZCA9IHBpZDtcbiAgICAgIHQuc2V0QXR0cmlidXRlKCdhcmlhLWNvbnRyb2xzJywgcGlkKTtcbiAgICAgIHQuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgfVxuICB9KTtcbiAgZGJnKCdib290c3RyYXBwZWQnLCB0cmlnZ2Vycy5sZW5ndGgsICd0cmlnZ2VycycpO1xuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBDT1JFIEZVTkNUSU9OU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBleHBhbmQocCl7XG4gICAgZGJnKCdleHBhbmQgc3RhcnQnLCB7IGlkOiBwLmlkLCBjaGlsZHJlbjogcC5jaGlsZHJlbj8ubGVuZ3RoIH0pO1xuICAgIHAuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJywgJ2FjYy1saXN0LS1leHBhbmRpbmcnKTtcbiAgICBwLmRhdGFzZXQuc3RhdGUgPSAnb3BlbmluZyc7XG4gICAgXG4gICAgY29uc3Qgb25FbmQgPSAoZSkgPT4ge1xuICAgICAgaWYgKGUucHJvcGVydHlOYW1lICE9PSAnbWF4LWhlaWdodCcpIHJldHVybjtcbiAgICAgIGlmIChwLmRhdGFzZXQuc3RhdGUgPT09ICdvcGVuaW5nJyl7XG4gICAgICAgIHAuY2xhc3NMaXN0LnJlbW92ZSgnYWNjLWxpc3QtLWV4cGFuZGluZycpO1xuICAgICAgICBwLmNsYXNzTGlzdC5hZGQoJ2FjYy1saXN0LS1leHBhbmRlZCcpO1xuICAgICAgICBwLmRhdGFzZXQuc3RhdGUgPSAnb3Blbic7XG4gICAgICAgIGRiZygnZXhwYW5kZWQnLCB7IGlkOiBwLmlkIH0pO1xuICAgICAgfVxuICAgIH07XG4gICAgcC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgb25FbmQsIHsgb25jZTogdHJ1ZSB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbGxhcHNlKHApe1xuICAgIGRiZygnY29sbGFwc2Ugc3RhcnQnLCB7IGlkOiBwLmlkIH0pO1xuICAgIHAuY2xhc3NMaXN0LnJlbW92ZSgnYWNjLWxpc3QtLWV4cGFuZGluZycsICdhY2MtbGlzdC0tZXhwYW5kZWQnKTtcbiAgICBwLmRhdGFzZXQuc3RhdGUgPSAnY2xvc2luZyc7XG4gICAgXG4gICAgY29uc3Qgb25FbmQgPSAoZSkgPT4ge1xuICAgICAgaWYgKGUucHJvcGVydHlOYW1lICE9PSAnbWF4LWhlaWdodCcpIHJldHVybjtcbiAgICAgIGlmIChwLmRhdGFzZXQuc3RhdGUgPT09ICdjbG9zaW5nJyl7XG4gICAgICAgIHAuZGF0YXNldC5zdGF0ZSA9ICdjb2xsYXBzZWQnO1xuICAgICAgICBwLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgICBtYXJrSXRlbXNGb3JBbmltYXRpb24ocCwgZmFsc2UpO1xuICAgICAgICBkYmcoJ2NvbGxhcHNlZCcsIHsgaWQ6IHAuaWQgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBwLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBvbkVuZCwgeyBvbmNlOiB0cnVlIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VTaWJsaW5ncyhpdGVtKXtcbiAgICBjb25zdCBncm91cCA9IGdyb3VwT2YoaXRlbSk7XG4gICAgaWYgKCFncm91cCkgcmV0dXJuO1xuICAgIGNvbnN0IHdhbnQgPSBpdGVtLm1hdGNoZXMoJy5hY2Mtc2VjdGlvbicpID8gJ2FjYy1zZWN0aW9uJyA6ICdhY2MtaXRlbSc7XG4gICAgQXJyYXkuZnJvbShncm91cC5jaGlsZHJlbikuZm9yRWFjaChzaWIgPT4ge1xuICAgICAgaWYgKHNpYiA9PT0gaXRlbSB8fCAhc2liLmNsYXNzTGlzdC5jb250YWlucyh3YW50KSkgcmV0dXJuO1xuICAgICAgY29uc3QgcCA9IHBhbmVsT2Yoc2liKTtcbiAgICAgIGlmIChwICYmIChwLmRhdGFzZXQuc3RhdGUgPT09ICdvcGVuJyB8fCBwLmRhdGFzZXQuc3RhdGUgPT09ICdvcGVuaW5nJykpe1xuICAgICAgICBkYmcoJ2Nsb3NlIHNpYmxpbmcnLCB7IGtpbmQ6IHdhbnQsIGxhYmVsOiBsYWJlbE9mKHNpYiksIGlkOiBwLmlkIH0pO1xuICAgICAgICBjbGVhckFsbEFuaW1hdGlvbk1hcmtlcnMoKTtcbiAgICAgICAgbWFya0l0ZW1zRm9yQW5pbWF0aW9uKHAsIHRydWUpO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gZW1pdEFsbCgnYWNjLWNsb3NlJykpO1xuICAgICAgICBjb2xsYXBzZShwKTtcbiAgICAgICAgY29uc3QgdHJpZyA9IHNpYi5xdWVyeVNlbGVjdG9yKCc6c2NvcGUgPiAuYWNjLXRyaWdnZXInKTtcbiAgICAgICAgdHJpZz8uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgICAgIHRyaWc/LmNsYXNzTGlzdD8ucmVtb3ZlKEFDVElWRV9UUklHR0VSX0NMQVNTKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0QWxsTDJVbmRlcihjb250YWluZXIpe1xuICAgIGNvbnN0IHNjb3BlID0gY29udGFpbmVyIHx8IHJvb3Q7XG4gICAgc2NvcGUucXVlcnlTZWxlY3RvckFsbCgnLmFjYy1pdGVtID4gLmFjYy1saXN0JykuZm9yRWFjaChwID0+IHtcbiAgICAgIGlmIChwLmRhdGFzZXQuc3RhdGUgPT09ICdvcGVuJyB8fCBwLmRhdGFzZXQuc3RhdGUgPT09ICdvcGVuaW5nJyl7XG4gICAgICAgIGNvbGxhcHNlKHApO1xuICAgICAgICBjb25zdCBpdCA9IHAuY2xvc2VzdCgnLmFjYy1pdGVtJyk7XG4gICAgICAgIGNvbnN0IHQgPSBpdD8ucXVlcnlTZWxlY3RvcignOnNjb3BlID4gLmFjYy10cmlnZ2VyJyk7XG4gICAgICAgIHQ/LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgICAgICB0Py5jbGFzc0xpc3Q/LnJlbW92ZShBQ1RJVkVfVFJJR0dFUl9DTEFTUyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB0b2dnbGUoaXRlbSl7XG4gICAgY29uc3QgcCA9IHBhbmVsT2YoaXRlbSk7XG4gICAgaWYgKCFwKSByZXR1cm47XG4gICAgY29uc3QgdHJpZyA9IGl0ZW0ucXVlcnlTZWxlY3RvcignOnNjb3BlID4gLmFjYy10cmlnZ2VyJyk7XG4gICAgY29uc3Qgb3BlbmluZyA9ICEocC5kYXRhc2V0LnN0YXRlID09PSAnb3BlbicgfHwgcC5kYXRhc2V0LnN0YXRlID09PSAnb3BlbmluZycpO1xuICAgIGRiZygndG9nZ2xlJywgeyBraW5kOiBpdGVtS2luZChpdGVtKSwgb3BlbmluZywgbGFiZWw6IGxhYmVsT2YoaXRlbSksIGlkOiBwLmlkIH0pO1xuICAgIFxuICAgIGlmIChvcGVuaW5nKSBjbG9zZVNpYmxpbmdzKGl0ZW0pO1xuXG4gICAgaWYgKGl0ZW1LaW5kKGl0ZW0pID09PSAnc2VjdGlvbicpe1xuICAgICAgaWYgKG9wZW5pbmcpIHJlc2V0QWxsTDJVbmRlcihyb290KTtcbiAgICAgIGVsc2UgcmVzZXRBbGxMMlVuZGVyKGl0ZW0pO1xuICAgIH1cblxuICAgIGlmIChvcGVuaW5nKXtcbiAgICAgIGNsZWFyQWxsQW5pbWF0aW9uTWFya2VycygpO1xuICAgICAgbWFya0l0ZW1zRm9yQW5pbWF0aW9uKHAsIHRydWUpO1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgZGJnKCdlbWl0IGFjYy1vcGVuJywgeyBpZDogcC5pZCB9KTtcbiAgICAgICAgZW1pdEFsbCgnYWNjLW9wZW4nKTtcbiAgICAgICAgZ3NhcE9wZW5BbmltYXRpb24oKTtcbiAgICAgIH0pO1xuICAgICAgZXhwYW5kKHApO1xuICAgICAgdHJpZz8uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgICAgIHRyaWc/LmNsYXNzTGlzdD8uYWRkKEFDVElWRV9UUklHR0VSX0NMQVNTKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2xlYXJBbGxBbmltYXRpb25NYXJrZXJzKCk7XG4gICAgICBtYXJrSXRlbXNGb3JBbmltYXRpb24ocCwgdHJ1ZSk7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICBkYmcoJ2VtaXQgYWNjLWNsb3NlJywgeyBpZDogcC5pZCB9KTtcbiAgICAgICAgZW1pdEFsbCgnYWNjLWNsb3NlJyk7XG4gICAgICAgIGdzYXBDbG9zZUFuaW1hdGlvbigpO1xuICAgICAgfSk7XG4gICAgICBjb2xsYXBzZShwKTtcbiAgICAgIHRyaWc/LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgICAgdHJpZz8uY2xhc3NMaXN0Py5yZW1vdmUoQUNUSVZFX1RSSUdHRVJfQ0xBU1MpO1xuICAgIH1cbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBJTklUSUFMSVpBVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2pzLXByZXAnKTtcbiAgcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjLWxpc3QnKS5mb3JFYWNoKHAgPT4geyBcbiAgICBwLmRhdGFzZXQuc3RhdGUgPSAnY29sbGFwc2VkJzsgXG4gIH0pO1xuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnanMtcHJlcCcpO1xuICB9KTtcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gRVZFTlQgTElTVEVORVJTXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUludGVyYWN0aW9uKGUpIHtcbiAgICBjb25zdCB0ID0gZS50YXJnZXQuY2xvc2VzdCgnLmFjYy10cmlnZ2VyJyk7XG4gICAgaWYgKCF0IHx8ICFyb290LmNvbnRhaW5zKHQpKSByZXR1cm47XG4gICAgXG4gICAgaWYgKGUudHlwZSA9PT0gJ2tleWRvd24nICYmIGUua2V5ICE9PSAnRW50ZXInICYmIGUua2V5ICE9PSAnICcpIHJldHVybjtcbiAgICBcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgaXRlbSA9IHQuY2xvc2VzdCgnLmFjYy1zZWN0aW9uLCAuYWNjLWl0ZW0nKTtcbiAgICBpZiAoaXRlbSkge1xuICAgICAgZGJnKGUudHlwZSwgeyBsYWJlbDogKHQudGV4dENvbnRlbnQgfHwgJycpLnRyaW0oKS5yZXBsYWNlKC9cXHMrL2csJyAnKS5zbGljZSgwLDgwKSB9KTtcbiAgICAgIHRvZ2dsZShpdGVtKTtcbiAgICB9XG4gIH1cbiAgXG4gIHJvb3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVJbnRlcmFjdGlvbik7XG4gIHJvb3QuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUludGVyYWN0aW9uKTtcblxuICBjb25zdCBybyA9IG5ldyBSZXNpemVPYnNlcnZlcihlbnRyaWVzID0+IHtcbiAgICBlbnRyaWVzLmZvckVhY2goKHsgdGFyZ2V0OiBwIH0pID0+IHtcbiAgICAgIGlmIChwLmRhdGFzZXQuc3RhdGUgPT09ICdvcGVuJyl7IFxuICAgICAgICBpZiAoIXAuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2MtbGlzdC0tZXhwYW5kZWQnKSkge1xuICAgICAgICAgIHAuY2xhc3NMaXN0LmFkZCgnYWNjLWxpc3QtLWV4cGFuZGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gIHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLmFjYy1saXN0JykuZm9yRWFjaChwID0+IHJvLm9ic2VydmUocCkpO1xuICBcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIERFQlVHIEFQSVxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB3aW5kb3cuX2FjY29yZGlvblRlc3QgPSB7XG4gICAgbWFya0l0ZW1zOiAocGFuZWxJZCkgPT4ge1xuICAgICAgY29uc3QgcGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwYW5lbElkKSB8fCByb290LnF1ZXJ5U2VsZWN0b3IoJy5hY2MtbGlzdCcpO1xuICAgICAgaWYgKHBhbmVsKSB7XG4gICAgICAgIG1hcmtJdGVtc0ZvckFuaW1hdGlvbihwYW5lbCwgdHJ1ZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdNYXJrZWQgaXRlbXMgaW4gcGFuZWw6JywgcGFuZWwpO1xuICAgICAgfVxuICAgIH0sXG4gICAgY2xlYXJNYXJrczogKCkgPT4ge1xuICAgICAgY2xlYXJBbGxBbmltYXRpb25NYXJrZXJzKCk7XG4gICAgICBjb25zb2xlLmxvZygnQ2xlYXJlZCBhbGwgbWFya3MnKTtcbiAgICB9LFxuICAgIGVtaXRPcGVuOiAoKSA9PiB7XG4gICAgICBlbWl0QWxsKCdhY2Mtb3BlbicpO1xuICAgICAgY29uc29sZS5sb2coJ0VtaXR0ZWQgYWNjLW9wZW4nKTtcbiAgICB9LFxuICAgIGVtaXRDbG9zZTogKCkgPT4ge1xuICAgICAgZW1pdEFsbCgnYWNjLWNsb3NlJyk7XG4gICAgICBjb25zb2xlLmxvZygnRW1pdHRlZCBhY2MtY2xvc2UnKTtcbiAgICB9LFxuICAgIGNoZWNrV2ViZmxvdzogKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ1dlYmZsb3cgb2JqZWN0OicsIHdpbmRvdy5XZWJmbG93KTtcbiAgICAgIGNvbnNvbGUubG9nKCd3Zkl4OicsIHdmSXgpO1xuICAgIH0sXG4gICAgZ2V0TWFya2VkSXRlbXM6ICgpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW1zID0gcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjLWFuaW1hdGUtdGFyZ2V0Jyk7XG4gICAgICBjb25zb2xlLmxvZyhgRm91bmQgJHtpdGVtcy5sZW5ndGh9IGl0ZW1zIHdpdGggLmFjYy1hbmltYXRlLXRhcmdldCBjbGFzc2ApO1xuICAgICAgcmV0dXJuIGl0ZW1zO1xuICAgIH1cbiAgfTtcbiAgXG4gIGNvbnNvbGUubG9nKCdbQUNDT1JESU9OXSBEZWJ1ZyBmdW5jdGlvbnMgYXZhaWxhYmxlIGF0IHdpbmRvdy5fYWNjb3JkaW9uVGVzdCcpO1xufVxuIiwgIi8qKlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqICBNY0Nhbm4gV2Vic2l0ZSBcdTIwMTQgRXZlbnRzIFV0aWxpdHlcbiAqICBQdXJwb3NlOiBFbWl0IGJ1YmJsaW5nIEN1c3RvbUV2ZW50cyBjb21wYXRpYmxlIHdpdGggR1NBUC1VSSAod2luZG93IHNjb3BlKVxuICogIERhdGU6IDIwMjUtMTAtMjhcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVtaXQobmFtZSwgdGFyZ2V0ID0gd2luZG93LCBkZXRhaWwgPSB7fSl7XG4gIHRyeSB7IHRhcmdldC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChuYW1lLCB7IGJ1YmJsZXM6IHRydWUsIGNhbmNlbGFibGU6IHRydWUsIGRldGFpbCB9KSk7IH0gY2F0Y2gge31cbiAgdHJ5IHsgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KG5hbWUsIHsgZGV0YWlsIH0pKTsgfSBjYXRjaCB7fVxufVxuXG5cbiIsICIvKipcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiAgTWNDYW5uIFdlYnNpdGUgXHUyMDE0IFNjcm9sbCBMb2NrIChTaW1wbGlmaWVkKVxuICogIFB1cnBvc2U6IExvY2sgc2Nyb2xsIG9uIC5wZXJzcGVjdGl2ZS13cmFwcGVyIHdoZW4gbW9kYWwgaXMgb3BlblxuICogIERhdGU6IDIwMjUtMTEtMDZcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxubGV0IGlzTG9ja2VkID0gZmFsc2U7XG5sZXQgc2F2ZWRZID0gMDtcbmxldCB3cmFwcGVyID0gbnVsbDtcblxuLyoqXG4gKiBMb2NrIHNjcm9sbCBvbiAucGVyc3BlY3RpdmUtd3JhcHBlclxuICogXG4gKiBUaGlzIGFwcHJvYWNoIGxvY2tzIHRoZSBzY3JvbGwtc25hcCBjb250YWluZXIgaW5zdGVhZCBvZiBib2R5XG4gKiBIZXJlJ3Mgd2h5IFx1MjE5MiB0aGUgaG9tZXBhZ2UgdXNlcyAucGVyc3BlY3RpdmUtd3JhcHBlciBhcyB0aGUgc2Nyb2xsIGNvbnRhaW5lclxuICogXG4gKiBIb3cgaXQgd29ya3M6XG4gKiAxLiBGaW5kIC5wZXJzcGVjdGl2ZS13cmFwcGVyIChzY3JvbGwtc25hcCBjb250YWluZXIpXG4gKiAyLiBTYXZlIGN1cnJlbnQgc2Nyb2xsIHBvc2l0aW9uXG4gKiAzLiBTZXQgb3ZlcmZsb3c6aGlkZGVuIHRvIHByZXZlbnQgc2Nyb2xsaW5nXG4gKiA0LiBBZGQgLm1vZGFsLW9wZW4gY2xhc3MgZm9yIENTUyBob29rc1xuICogXG4gKiBGYWxscyBiYWNrIHRvIGJvZHkgaWYgd3JhcHBlciBub3QgZm91bmQgKG90aGVyIHBhZ2VzKVxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9ja1Njcm9sbCgpe1xuICBpZiAoaXNMb2NrZWQpIHJldHVybjtcbiAgaXNMb2NrZWQgPSB0cnVlO1xuICBcbiAgLy8gRmluZCB3cmFwcGVyIChvciBmYWxsIGJhY2sgdG8gYm9keSlcbiAgd3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wZXJzcGVjdGl2ZS13cmFwcGVyJykgfHwgZG9jdW1lbnQuYm9keTtcbiAgXG4gIC8vIFNhdmUgY3VycmVudCBzY3JvbGwgcG9zaXRpb24gXHUyMTkyIHdlJ2xsIHJlc3RvcmUgdGhpcyB3aGVuIHVubG9ja2luZ1xuICBpZiAod3JhcHBlciA9PT0gZG9jdW1lbnQuYm9keSkge1xuICAgIHNhdmVkWSA9IHdpbmRvdy5zY3JvbGxZIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgMDtcbiAgfSBlbHNlIHtcbiAgICBzYXZlZFkgPSB3cmFwcGVyLnNjcm9sbFRvcCB8fCAwO1xuICB9XG4gIFxuICAvLyBMb2NrIHNjcm9sbFxuICAvLyBGb3Igd3JhcHBlcjogc2ltcGx5IGhpZGUgb3ZlcmZsb3dcbiAgLy8gRm9yIGJvZHk6IHVzZSBwb3NpdGlvbjpmaXhlZCBhcHByb2FjaCAoaU9TIFNhZmFyaSBjb21wYXRpYmlsaXR5KVxuICBpZiAod3JhcHBlciA9PT0gZG9jdW1lbnQuYm9keSkge1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudG9wID0gYC0ke3NhdmVkWX1weGA7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5sZWZ0ID0gJzAnO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucmlnaHQgPSAnMCc7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgfVxuICBcbiAgd3JhcHBlci5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICB3cmFwcGVyLmNsYXNzTGlzdC5hZGQoJ21vZGFsLW9wZW4nKTtcbn1cblxuLyoqXG4gKiBVbmxvY2sgc2Nyb2xsIGFuZCByZXN0b3JlIHBvc2l0aW9uXG4gKiBcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZGVsYXlNcz0wXSAtIERlbGF5IGJlZm9yZSB1bmxvY2tpbmcgKGZvciBhbmltYXRpb24gY29vcmRpbmF0aW9uKVxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5sb2NrU2Nyb2xsKHsgZGVsYXlNcyA9IDAgfSA9IHt9KXtcbiAgaWYgKCFpc0xvY2tlZCkgcmV0dXJuO1xuICBcbiAgY29uc3QgdW5sb2NrID0gKCkgPT4ge1xuICAgIGlmICghd3JhcHBlcikgcmV0dXJuO1xuICAgIFxuICAgIC8vIFJlbW92ZSBvdmVyZmxvdyBsb2NrXG4gICAgd3JhcHBlci5zdHlsZS5vdmVyZmxvdyA9ICcnO1xuICAgIHdyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtb3BlbicpO1xuICAgIFxuICAgIC8vIFJlc3RvcmUgc2Nyb2xsIHBvc2l0aW9uXG4gICAgaWYgKHdyYXBwZXIgPT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIC8vIEJvZHk6IHJlbW92ZSBmaXhlZCBwb3NpdGlvbmluZyBhbmQgcmVzdG9yZSBzY3JvbGxcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucG9zaXRpb24gPSAnJztcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudG9wID0gJyc7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmxlZnQgPSAnJztcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucmlnaHQgPSAnJztcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUud2lkdGggPSAnJztcbiAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCBzYXZlZFkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBXcmFwcGVyOiByZXN0b3JlIHNjcm9sbFRvcFxuICAgICAgd3JhcHBlci5zY3JvbGxUb3AgPSBzYXZlZFk7XG4gICAgfVxuICAgIFxuICAgIGlzTG9ja2VkID0gZmFsc2U7XG4gICAgd3JhcHBlciA9IG51bGw7XG4gIH07XG4gIFxuICAvLyBPcHRpb25hbCBkZWxheSBcdTIxOTIgY29vcmRpbmF0ZSB3aXRoIGNsb3NpbmcgYW5pbWF0aW9uc1xuICAvLyBJZiBsaWdodGJveCBjbG9zZXMgd2l0aCBhbmltYXRpb24sIHdhaXQgZm9yIGl0IHRvIGZpbmlzaCBiZWZvcmUgdW5sb2NraW5nIHNjcm9sbFxuICBkZWxheU1zID4gMCA/IHNldFRpbWVvdXQodW5sb2NrLCBkZWxheU1zKSA6IHVubG9jaygpO1xufVxuXG5cbiIsICIvKipcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiAgTWNDYW5uIFdlYnNpdGUgXHUyMDE0IFZpbWVvIEhlbHBlclxuICogIFB1cnBvc2U6IE1vdW50L3JlcGxhY2UgVmltZW8gaWZyYW1lIHdpdGggcHJpdmFjeSBvcHRpb25zXG4gKiAgRGF0ZTogMjAyNS0xMC0yOFxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5jb25zb2xlLmxvZygnW1ZJTUVPXSBtb2R1bGUgbG9hZGVkJyk7XG5cbmZ1bmN0aW9uIHBhcnNlVmltZW9JZChpbnB1dCl7XG4gIGlmICghaW5wdXQpIHJldHVybiAnJztcbiAgY29uc3Qgc3RyID0gU3RyaW5nKGlucHV0KS50cmltKCk7XG4gIC8vIEFjY2VwdCBiYXJlIElEc1xuICBpZiAoL15cXGQrJC8udGVzdChzdHIpKSByZXR1cm4gc3RyO1xuICAvLyBFeHRyYWN0IGZyb20ga25vd24gVVJMIGZvcm1zXG4gIHRyeSB7XG4gICAgY29uc3QgdSA9IG5ldyBVUkwoc3RyLCAnaHR0cHM6Ly9leGFtcGxlLmNvbScpO1xuICAgIGNvbnN0IGhvc3QgPSB1Lmhvc3RuYW1lIHx8ICcnO1xuICAgIGlmIChob3N0LmluY2x1ZGVzKCd2aW1lby5jb20nKSl7XG4gICAgICAvLyAvdmlkZW8ve2lkfSBvciAve2lkfVxuICAgICAgY29uc3QgcGFydHMgPSB1LnBhdGhuYW1lLnNwbGl0KCcvJykuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgY29uc3QgbGFzdCA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdIHx8ICcnO1xuICAgICAgY29uc3QgaWQgPSBsYXN0Lm1hdGNoKC9cXGQrLyk/LlswXSB8fCAnJztcbiAgICAgIHJldHVybiBpZCB8fCAnJztcbiAgICB9XG4gIH0gY2F0Y2gge31cbiAgcmV0dXJuICcnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbW91bnRWaW1lbyhjb250YWluZXIsIGlucHV0SWQsIHBhcmFtcyA9IHt9KXtcbiAgaWYgKCFjb250YWluZXIpIHJldHVybjtcbiAgY29uc3QgaWQgPSBwYXJzZVZpbWVvSWQoaW5wdXRJZCk7XG4gIGlmICghaWQpeyBjb250YWluZXIuaW5uZXJIVE1MID0gJyc7IHJldHVybjsgfVxuICBjb25zdCBxdWVyeSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoeyBkbnQ6IDEsIC4uLnBhcmFtcyB9KS50b1N0cmluZygpO1xuICBjb25zdCBzcmMgPSBgaHR0cHM6Ly9wbGF5ZXIudmltZW8uY29tL3ZpZGVvLyR7aWR9PyR7cXVlcnl9YDtcbiAgY29uc3QgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gIGlmcmFtZS5zcmMgPSBzcmM7XG4gIC8vIE1pbmltYWwgYWxsb3ctbGlzdCB0byByZWR1Y2UgcGVybWlzc2lvbiBwb2xpY3kgd2FybmluZ3MgaW4gRGVzaWduZXJcbiAgaWZyYW1lLmFsbG93ID0gJ2F1dG9wbGF5OyBmdWxsc2NyZWVuOyBwaWN0dXJlLWluLXBpY3R1cmU7IGVuY3J5cHRlZC1tZWRpYSc7XG4gIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ2ZyYW1lYm9yZGVyJywgJzAnKTtcbiAgaWZyYW1lLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICBpZnJhbWUuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICBjb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpZnJhbWUpO1xufVxuXG5cbiIsICJ7XG4gIFwibmFtZVwiOiBcImxlbmlzXCIsXG4gIFwidmVyc2lvblwiOiBcIjEuMy4xNFwiLFxuICBcImRlc2NyaXB0aW9uXCI6IFwiSG93IHNtb290aCBzY3JvbGwgc2hvdWxkIGJlXCIsXG4gIFwidHlwZVwiOiBcIm1vZHVsZVwiLFxuICBcInNpZGVFZmZlY3RzXCI6IGZhbHNlLFxuICBcImF1dGhvclwiOiBcImRhcmtyb29tLmVuZ2luZWVyaW5nXCIsXG4gIFwibGljZW5zZVwiOiBcIk1JVFwiLFxuICBcInJlcG9zaXRvcnlcIjoge1xuICAgIFwidHlwZVwiOiBcImdpdFwiLFxuICAgIFwidXJsXCI6IFwiZ2l0K2h0dHBzOi8vZ2l0aHViLmNvbS9kYXJrcm9vbWVuZ2luZWVyaW5nL2xlbmlzLmdpdFwiXG4gIH0sXG4gIFwiYnVnc1wiOiB7XG4gICAgXCJ1cmxcIjogXCJodHRwczovL2dpdGh1Yi5jb20vZGFya3Jvb21lbmdpbmVlcmluZy9sZW5pcy9pc3N1ZXNcIlxuICB9LFxuICBcImhvbWVwYWdlXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL2Rhcmtyb29tZW5naW5lZXJpbmcvbGVuaXNcIixcbiAgXCJmdW5kaW5nXCI6IHtcbiAgICBcInR5cGVcIjogXCJnaXRodWJcIixcbiAgICBcInVybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9zcG9uc29ycy9kYXJrcm9vbWVuZ2luZWVyaW5nXCJcbiAgfSxcbiAgXCJrZXl3b3Jkc1wiOiBbXG4gICAgXCJzY3JvbGxcIixcbiAgICBcInNtb290aFwiLFxuICAgIFwibGVuaXNcIixcbiAgICBcInJlYWN0XCIsXG4gICAgXCJ2dWVcIlxuICBdLFxuICBcInNjcmlwdHNcIjoge1xuICAgIFwiYnVpbGRcIjogXCJwbnBtIGJ1aWxkOmNvcmUgJiYgcG5wbSBidWlsZDphbGxcIixcbiAgICBcImJ1aWxkOmNvcmVcIjogXCJ0c3VwIC0tY29uZmlnIHRzdXAuY29yZS50c1wiLFxuICAgIFwiYnVpbGQ6YWxsXCI6IFwidHN1cFwiLFxuICAgIFwiZGV2XCI6IFwicG5wbSBydW4gLXcgLS1wYXJhbGxlbCAvXmRldjouKi9cIixcbiAgICBcImRldjpidWlsZFwiOiBcInRzdXAgLS13YXRjaFwiLFxuICAgIFwiZGV2OnBsYXlncm91bmRcIjogXCJwbnBtIC0tZmlsdGVyIHBsYXlncm91bmQgZGV2XCIsXG4gICAgXCJkZXY6bnV4dFwiOiBcInBucG0gLS1maWx0ZXIgcGxheWdyb3VuZC1udXh0IGRldlwiLFxuICAgIFwicmVhZG1lXCI6IFwibm9kZSAuL3NjcmlwdHMvdXBkYXRlLXJlYWRtZS5qc1wiLFxuICAgIFwidmVyc2lvbjpkZXZcIjogXCJucG0gdmVyc2lvbiBwcmVyZWxlYXNlIC0tcHJlaWQgZGV2IC0tZm9yY2UgLS1uby1naXQtdGFnLXZlcnNpb25cIixcbiAgICBcInZlcnNpb246cGF0Y2hcIjogXCJucG0gdmVyc2lvbiBwYXRjaCAtLWZvcmNlIC0tbm8tZ2l0LXRhZy12ZXJzaW9uXCIsXG4gICAgXCJ2ZXJzaW9uOm1pbm9yXCI6IFwibnBtIHZlcnNpb24gbWlub3IgLS1mb3JjZSAtLW5vLWdpdC10YWctdmVyc2lvblwiLFxuICAgIFwidmVyc2lvbjptYWpvclwiOiBcIm5wbSB2ZXJzaW9uIG1ham9yIC0tZm9yY2UgLS1uby1naXQtdGFnLXZlcnNpb25cIixcbiAgICBcInBvc3R2ZXJzaW9uXCI6IFwicG5wbSBidWlsZCAmJiBwbnBtIHJlYWRtZVwiLFxuICAgIFwicHVibGlzaDpkZXZcIjogXCJucG0gcHVibGlzaCAtLXRhZyBkZXZcIixcbiAgICBcInB1Ymxpc2g6bWFpblwiOiBcIm5wbSBwdWJsaXNoXCJcbiAgfSxcbiAgXCJmaWxlc1wiOiBbXG4gICAgXCJkaXN0XCJcbiAgXSxcbiAgXCJkZXZEZXBlbmRlbmNpZXNcIjoge1xuICAgIFwidGVyc2VyXCI6IFwiXjUuMzcuMFwiLFxuICAgIFwidHN1cFwiOiBcIl44LjMuNVwiLFxuICAgIFwidHlwZXNjcmlwdFwiOiBcIl41LjcuM1wiXG4gIH0sXG4gIFwicGVlckRlcGVuZGVuY2llc1wiOiB7XG4gICAgXCJyZWFjdFwiOiBcIj49MTcuMC4wXCIsXG4gICAgXCJ2dWVcIjogXCI+PTMuMC4wXCIsXG4gICAgXCJAbnV4dC9raXRcIjogXCI+PTMuMC4wXCJcbiAgfSxcbiAgXCJwZWVyRGVwZW5kZW5jaWVzTWV0YVwiOiB7XG4gICAgXCJyZWFjdFwiOiB7XG4gICAgICBcIm9wdGlvbmFsXCI6IHRydWVcbiAgICB9LFxuICAgIFwidnVlXCI6IHtcbiAgICAgIFwib3B0aW9uYWxcIjogdHJ1ZVxuICAgIH0sXG4gICAgXCJAbnV4dC9raXRcIjoge1xuICAgICAgXCJvcHRpb25hbFwiOiB0cnVlXG4gICAgfVxuICB9LFxuICBcInVucGtnXCI6IFwiLi9kaXN0L2xlbmlzLm1qc1wiLFxuICBcIm1haW5cIjogXCIuL2Rpc3QvbGVuaXMubWpzXCIsXG4gIFwibW9kdWxlXCI6IFwiLi9kaXN0L2xlbmlzLm1qc1wiLFxuICBcInR5cGVzXCI6IFwiLi9kaXN0L2xlbmlzLmQudHNcIixcbiAgXCJleHBvcnRzXCI6IHtcbiAgICBcIi5cIjoge1xuICAgICAgXCJ0eXBlc1wiOiBcIi4vZGlzdC9sZW5pcy5kLnRzXCIsXG4gICAgICBcImRlZmF1bHRcIjogXCIuL2Rpc3QvbGVuaXMubWpzXCJcbiAgICB9LFxuICAgIFwiLi9yZWFjdFwiOiB7XG4gICAgICBcInR5cGVzXCI6IFwiLi9kaXN0L2xlbmlzLXJlYWN0LmQudHNcIixcbiAgICAgIFwiZGVmYXVsdFwiOiBcIi4vZGlzdC9sZW5pcy1yZWFjdC5tanNcIlxuICAgIH0sXG4gICAgXCIuL3NuYXBcIjoge1xuICAgICAgXCJ0eXBlc1wiOiBcIi4vZGlzdC9sZW5pcy1zbmFwLmQudHNcIixcbiAgICAgIFwiZGVmYXVsdFwiOiBcIi4vZGlzdC9sZW5pcy1zbmFwLm1qc1wiXG4gICAgfSxcbiAgICBcIi4vdnVlXCI6IHtcbiAgICAgIFwidHlwZXNcIjogXCIuL2Rpc3QvbGVuaXMtdnVlLmQudHNcIixcbiAgICAgIFwiZGVmYXVsdFwiOiBcIi4vZGlzdC9sZW5pcy12dWUubWpzXCJcbiAgICB9LFxuICAgIFwiLi9udXh0XCI6IHtcbiAgICAgIFwiZGVmYXVsdFwiOiBcIi4vZGlzdC9sZW5pcy12dWUtbnV4dC5tanNcIlxuICAgIH0sXG4gICAgXCIuL251eHQvcnVudGltZS8qXCI6IHtcbiAgICAgIFwiZGVmYXVsdFwiOiBcIi4vZGlzdC9udXh0L3J1bnRpbWUvKi5tanNcIlxuICAgIH0sXG4gICAgXCIuL2Rpc3QvKlwiOiBcIi4vZGlzdC8qXCJcbiAgfVxufVxuIiwgIi8qKlxyXG4gKiBDbGFtcCBhIHZhbHVlIGJldHdlZW4gYSBtaW5pbXVtIGFuZCBtYXhpbXVtIHZhbHVlXHJcbiAqXHJcbiAqIEBwYXJhbSBtaW4gTWluaW11bSB2YWx1ZVxyXG4gKiBAcGFyYW0gaW5wdXQgVmFsdWUgdG8gY2xhbXBcclxuICogQHBhcmFtIG1heCBNYXhpbXVtIHZhbHVlXHJcbiAqIEByZXR1cm5zIENsYW1wZWQgdmFsdWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGFtcChtaW46IG51bWJlciwgaW5wdXQ6IG51bWJlciwgbWF4OiBudW1iZXIpIHtcclxuICByZXR1cm4gTWF0aC5tYXgobWluLCBNYXRoLm1pbihpbnB1dCwgbWF4KSlcclxufVxyXG5cclxuLyoqXHJcbiAqIFRydW5jYXRlIGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIHRvIGEgc3BlY2lmaWVkIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlc1xyXG4gKlxyXG4gKiBAcGFyYW0gdmFsdWUgVmFsdWUgdG8gdHJ1bmNhdGVcclxuICogQHBhcmFtIGRlY2ltYWxzIE51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyB0byB0cnVuY2F0ZSB0b1xyXG4gKiBAcmV0dXJucyBUcnVuY2F0ZWQgdmFsdWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB0cnVuY2F0ZSh2YWx1ZTogbnVtYmVyLCBkZWNpbWFscyA9IDApIHtcclxuICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZS50b0ZpeGVkKGRlY2ltYWxzKSlcclxufVxyXG5cclxuLyoqXHJcbiAqICBMaW5lYXJseSBpbnRlcnBvbGF0ZSBiZXR3ZWVuIHR3byB2YWx1ZXMgdXNpbmcgYW4gYW1vdW50ICgwIDw9IHQgPD0gMSlcclxuICpcclxuICogQHBhcmFtIHggRmlyc3QgdmFsdWVcclxuICogQHBhcmFtIHkgU2Vjb25kIHZhbHVlXHJcbiAqIEBwYXJhbSB0IEFtb3VudCB0byBpbnRlcnBvbGF0ZSAoMCA8PSB0IDw9IDEpXHJcbiAqIEByZXR1cm5zIEludGVycG9sYXRlZCB2YWx1ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGxlcnAoeDogbnVtYmVyLCB5OiBudW1iZXIsIHQ6IG51bWJlcikge1xyXG4gIHJldHVybiAoMSAtIHQpICogeCArIHQgKiB5XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEYW1wIGEgdmFsdWUgb3ZlciB0aW1lIHVzaW5nIGEgZGFtcGluZyBmYWN0b3JcclxuICoge0BsaW5rIGh0dHA6Ly93d3cucm9yeWRyaXNjb2xsLmNvbS8yMDE2LzAzLzA3L2ZyYW1lLXJhdGUtaW5kZXBlbmRlbnQtZGFtcGluZy11c2luZy1sZXJwL31cclxuICpcclxuICogQHBhcmFtIHggSW5pdGlhbCB2YWx1ZVxyXG4gKiBAcGFyYW0geSBUYXJnZXQgdmFsdWVcclxuICogQHBhcmFtIGxhbWJkYSBEYW1waW5nIGZhY3RvclxyXG4gKiBAcGFyYW0gZHQgVGltZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHVwZGF0ZVxyXG4gKiBAcmV0dXJucyBEYW1wZWQgdmFsdWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkYW1wKHg6IG51bWJlciwgeTogbnVtYmVyLCBsYW1iZGE6IG51bWJlciwgZGVsdGFUaW1lOiBudW1iZXIpIHtcclxuICByZXR1cm4gbGVycCh4LCB5LCAxIC0gTWF0aC5leHAoLWxhbWJkYSAqIGRlbHRhVGltZSkpXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDYWxjdWxhdGUgdGhlIG1vZHVsbyBvZiB0aGUgZGl2aWRlbmQgYW5kIGRpdmlzb3Igd2hpbGUga2VlcGluZyB0aGUgcmVzdWx0IHdpdGhpbiB0aGUgc2FtZSBzaWduIGFzIHRoZSBkaXZpc29yXHJcbiAqIHtAbGluayBodHRwczovL2FuZ3VzY3JvbGwuY29tL2p1c3QvanVzdC1tb2R1bG99XHJcbiAqXHJcbiAqIEBwYXJhbSBuIERpdmlkZW5kXHJcbiAqIEBwYXJhbSBkIERpdmlzb3JcclxuICogQHJldHVybnMgTW9kdWxvXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbW9kdWxvKG46IG51bWJlciwgZDogbnVtYmVyKSB7XHJcbiAgcmV0dXJuICgobiAlIGQpICsgZCkgJSBkXHJcbn1cclxuIiwgImltcG9ydCB7IGNsYW1wLCBkYW1wIH0gZnJvbSAnLi9tYXRocydcclxuaW1wb3J0IHR5cGUgeyBFYXNpbmdGdW5jdGlvbiwgRnJvbVRvT3B0aW9ucywgT25VcGRhdGVDYWxsYmFjayB9IGZyb20gJy4vdHlwZXMnXHJcblxyXG4vKipcclxuICogQW5pbWF0ZSBjbGFzcyB0byBoYW5kbGUgdmFsdWUgYW5pbWF0aW9ucyB3aXRoIGxlcnBpbmcgb3IgZWFzaW5nXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGNvbnN0IGFuaW1hdGUgPSBuZXcgQW5pbWF0ZSgpXHJcbiAqIGFuaW1hdGUuZnJvbVRvKDAsIDEwMCwgeyBkdXJhdGlvbjogMSwgZWFzaW5nOiAodCkgPT4gdCB9KVxyXG4gKiBhbmltYXRlLmFkdmFuY2UoMC41KSAvLyA1MFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEFuaW1hdGUge1xyXG4gIGlzUnVubmluZyA9IGZhbHNlXHJcbiAgdmFsdWUgPSAwXHJcbiAgZnJvbSA9IDBcclxuICB0byA9IDBcclxuICBjdXJyZW50VGltZSA9IDBcclxuXHJcbiAgLy8gVGhlc2UgYXJlIGluc3RhbmNpYXRlZCBpbiB0aGUgZnJvbVRvIG1ldGhvZFxyXG4gIGxlcnA/OiBudW1iZXJcclxuICBkdXJhdGlvbj86IG51bWJlclxyXG4gIGVhc2luZz86IEVhc2luZ0Z1bmN0aW9uXHJcbiAgb25VcGRhdGU/OiBPblVwZGF0ZUNhbGxiYWNrXHJcblxyXG4gIC8qKlxyXG4gICAqIEFkdmFuY2UgdGhlIGFuaW1hdGlvbiBieSB0aGUgZ2l2ZW4gZGVsdGEgdGltZVxyXG4gICAqXHJcbiAgICogQHBhcmFtIGRlbHRhVGltZSAtIFRoZSB0aW1lIGluIHNlY29uZHMgdG8gYWR2YW5jZSB0aGUgYW5pbWF0aW9uXHJcbiAgICovXHJcbiAgYWR2YW5jZShkZWx0YVRpbWU6IG51bWJlcikge1xyXG4gICAgaWYgKCF0aGlzLmlzUnVubmluZykgcmV0dXJuXHJcblxyXG4gICAgbGV0IGNvbXBsZXRlZCA9IGZhbHNlXHJcblxyXG4gICAgaWYgKHRoaXMuZHVyYXRpb24gJiYgdGhpcy5lYXNpbmcpIHtcclxuICAgICAgdGhpcy5jdXJyZW50VGltZSArPSBkZWx0YVRpbWVcclxuICAgICAgY29uc3QgbGluZWFyUHJvZ3Jlc3MgPSBjbGFtcCgwLCB0aGlzLmN1cnJlbnRUaW1lIC8gdGhpcy5kdXJhdGlvbiwgMSlcclxuXHJcbiAgICAgIGNvbXBsZXRlZCA9IGxpbmVhclByb2dyZXNzID49IDFcclxuICAgICAgY29uc3QgZWFzZWRQcm9ncmVzcyA9IGNvbXBsZXRlZCA/IDEgOiB0aGlzLmVhc2luZyhsaW5lYXJQcm9ncmVzcylcclxuICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuZnJvbSArICh0aGlzLnRvIC0gdGhpcy5mcm9tKSAqIGVhc2VkUHJvZ3Jlc3NcclxuICAgIH0gZWxzZSBpZiAodGhpcy5sZXJwKSB7XHJcbiAgICAgIHRoaXMudmFsdWUgPSBkYW1wKHRoaXMudmFsdWUsIHRoaXMudG8sIHRoaXMubGVycCAqIDYwLCBkZWx0YVRpbWUpXHJcbiAgICAgIGlmIChNYXRoLnJvdW5kKHRoaXMudmFsdWUpID09PSB0aGlzLnRvKSB7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMudG9cclxuICAgICAgICBjb21wbGV0ZWQgPSB0cnVlXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIElmIG5vIGVhc2luZyBvciBsZXJwLCBqdXN0IGp1bXAgdG8gdGhlIGVuZCB2YWx1ZVxyXG4gICAgICB0aGlzLnZhbHVlID0gdGhpcy50b1xyXG4gICAgICBjb21wbGV0ZWQgPSB0cnVlXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNvbXBsZXRlZCkge1xyXG4gICAgICB0aGlzLnN0b3AoKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENhbGwgdGhlIG9uVXBkYXRlIGNhbGxiYWNrIHdpdGggdGhlIGN1cnJlbnQgdmFsdWUgYW5kIGNvbXBsZXRlZCBzdGF0dXNcclxuICAgIHRoaXMub25VcGRhdGU/Lih0aGlzLnZhbHVlLCBjb21wbGV0ZWQpXHJcbiAgfVxyXG5cclxuICAvKiogU3RvcCB0aGUgYW5pbWF0aW9uICovXHJcbiAgc3RvcCgpIHtcclxuICAgIHRoaXMuaXNSdW5uaW5nID0gZmFsc2VcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldCB1cCB0aGUgYW5pbWF0aW9uIGZyb20gYSBzdGFydGluZyB2YWx1ZSB0byBhbiBlbmRpbmcgdmFsdWVcclxuICAgKiB3aXRoIG9wdGlvbmFsIHBhcmFtZXRlcnMgZm9yIGxlcnBpbmcsIGR1cmF0aW9uLCBlYXNpbmcsIGFuZCBvblVwZGF0ZSBjYWxsYmFja1xyXG4gICAqXHJcbiAgICogQHBhcmFtIGZyb20gLSBUaGUgc3RhcnRpbmcgdmFsdWVcclxuICAgKiBAcGFyYW0gdG8gLSBUaGUgZW5kaW5nIHZhbHVlXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGZvciB0aGUgYW5pbWF0aW9uXHJcbiAgICovXHJcbiAgZnJvbVRvKFxyXG4gICAgZnJvbTogbnVtYmVyLFxyXG4gICAgdG86IG51bWJlcixcclxuICAgIHsgbGVycCwgZHVyYXRpb24sIGVhc2luZywgb25TdGFydCwgb25VcGRhdGUgfTogRnJvbVRvT3B0aW9uc1xyXG4gICkge1xyXG4gICAgdGhpcy5mcm9tID0gdGhpcy52YWx1ZSA9IGZyb21cclxuICAgIHRoaXMudG8gPSB0b1xyXG4gICAgdGhpcy5sZXJwID0gbGVycFxyXG4gICAgdGhpcy5kdXJhdGlvbiA9IGR1cmF0aW9uXHJcbiAgICB0aGlzLmVhc2luZyA9IGVhc2luZ1xyXG4gICAgdGhpcy5jdXJyZW50VGltZSA9IDBcclxuICAgIHRoaXMuaXNSdW5uaW5nID0gdHJ1ZVxyXG5cclxuICAgIG9uU3RhcnQ/LigpXHJcbiAgICB0aGlzLm9uVXBkYXRlID0gb25VcGRhdGVcclxuICB9XHJcbn1cclxuIiwgImV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZTxDQiBleHRlbmRzICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZD4oXHJcbiAgY2FsbGJhY2s6IENCLFxyXG4gIGRlbGF5OiBudW1iZXJcclxuKSB7XHJcbiAgbGV0IHRpbWVyOiBudW1iZXIgfCB1bmRlZmluZWRcclxuICByZXR1cm4gZnVuY3Rpb24gPFQ+KHRoaXM6IFQsIC4uLmFyZ3M6IFBhcmFtZXRlcnM8dHlwZW9mIGNhbGxiYWNrPikge1xyXG4gICAgbGV0IGNvbnRleHQgPSB0aGlzXHJcbiAgICBjbGVhclRpbWVvdXQodGltZXIpXHJcbiAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICB0aW1lciA9IHVuZGVmaW5lZFxyXG4gICAgICBjYWxsYmFjay5hcHBseShjb250ZXh0LCBhcmdzKVxyXG4gICAgfSwgZGVsYXkpXHJcbiAgfVxyXG59XHJcbiIsICJpbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gJy4vZGVib3VuY2UnXHJcblxyXG4vKipcclxuICogRGltZW5zaW9ucyBjbGFzcyB0byBoYW5kbGUgdGhlIHNpemUgb2YgdGhlIGNvbnRlbnQgYW5kIHdyYXBwZXJcclxuICpcclxuICogQGV4YW1wbGVcclxuICogY29uc3QgZGltZW5zaW9ucyA9IG5ldyBEaW1lbnNpb25zKHdyYXBwZXIsIGNvbnRlbnQpXHJcbiAqIGRpbWVuc2lvbnMub24oJ3Jlc2l6ZScsIChlKSA9PiB7XHJcbiAqICAgY29uc29sZS5sb2coZS53aWR0aCwgZS5oZWlnaHQpXHJcbiAqIH0pXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgRGltZW5zaW9ucyB7XHJcbiAgd2lkdGggPSAwXHJcbiAgaGVpZ2h0ID0gMFxyXG4gIHNjcm9sbEhlaWdodCA9IDBcclxuICBzY3JvbGxXaWR0aCA9IDBcclxuXHJcbiAgLy8gVGhlc2UgYXJlIGluc3RhbmNpYXRlZCBpbiB0aGUgY29uc3RydWN0b3IgYXMgdGhleSBuZWVkIGluZm9ybWF0aW9uIGZyb20gdGhlIG9wdGlvbnNcclxuICBwcml2YXRlIGRlYm91bmNlZFJlc2l6ZT86ICguLi5hcmdzOiB1bmtub3duW10pID0+IHZvaWRcclxuICBwcml2YXRlIHdyYXBwZXJSZXNpemVPYnNlcnZlcj86IFJlc2l6ZU9ic2VydmVyXHJcbiAgcHJpdmF0ZSBjb250ZW50UmVzaXplT2JzZXJ2ZXI/OiBSZXNpemVPYnNlcnZlclxyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgd3JhcHBlcjogSFRNTEVsZW1lbnQgfCBXaW5kb3cgfCBFbGVtZW50LFxyXG4gICAgcHJpdmF0ZSBjb250ZW50OiBIVE1MRWxlbWVudCB8IEVsZW1lbnQsXHJcbiAgICB7IGF1dG9SZXNpemUgPSB0cnVlLCBkZWJvdW5jZTogZGVib3VuY2VWYWx1ZSA9IDI1MCB9ID0ge31cclxuICApIHtcclxuICAgIGlmIChhdXRvUmVzaXplKSB7XHJcbiAgICAgIHRoaXMuZGVib3VuY2VkUmVzaXplID0gZGVib3VuY2UodGhpcy5yZXNpemUsIGRlYm91bmNlVmFsdWUpXHJcblxyXG4gICAgICBpZiAodGhpcy53cmFwcGVyIGluc3RhbmNlb2YgV2luZG93KSB7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuZGVib3VuY2VkUmVzaXplLCBmYWxzZSlcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLndyYXBwZXJSZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcih0aGlzLmRlYm91bmNlZFJlc2l6ZSlcclxuICAgICAgICB0aGlzLndyYXBwZXJSZXNpemVPYnNlcnZlci5vYnNlcnZlKHRoaXMud3JhcHBlcilcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5jb250ZW50UmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIodGhpcy5kZWJvdW5jZWRSZXNpemUpXHJcbiAgICAgIHRoaXMuY29udGVudFJlc2l6ZU9ic2VydmVyLm9ic2VydmUodGhpcy5jb250ZW50KVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucmVzaXplKClcclxuICB9XHJcblxyXG4gIGRlc3Ryb3koKSB7XHJcbiAgICB0aGlzLndyYXBwZXJSZXNpemVPYnNlcnZlcj8uZGlzY29ubmVjdCgpXHJcbiAgICB0aGlzLmNvbnRlbnRSZXNpemVPYnNlcnZlcj8uZGlzY29ubmVjdCgpXHJcblxyXG4gICAgaWYgKHRoaXMud3JhcHBlciA9PT0gd2luZG93ICYmIHRoaXMuZGVib3VuY2VkUmVzaXplKSB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmRlYm91bmNlZFJlc2l6ZSwgZmFsc2UpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXNpemUgPSAoKSA9PiB7XHJcbiAgICB0aGlzLm9uV3JhcHBlclJlc2l6ZSgpXHJcbiAgICB0aGlzLm9uQ29udGVudFJlc2l6ZSgpXHJcbiAgfVxyXG5cclxuICBvbldyYXBwZXJSZXNpemUgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy53cmFwcGVyIGluc3RhbmNlb2YgV2luZG93KSB7XHJcbiAgICAgIHRoaXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aFxyXG4gICAgICB0aGlzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy53aWR0aCA9IHRoaXMud3JhcHBlci5jbGllbnRXaWR0aFxyXG4gICAgICB0aGlzLmhlaWdodCA9IHRoaXMud3JhcHBlci5jbGllbnRIZWlnaHRcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uQ29udGVudFJlc2l6ZSA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLndyYXBwZXIgaW5zdGFuY2VvZiBXaW5kb3cpIHtcclxuICAgICAgdGhpcy5zY3JvbGxIZWlnaHQgPSB0aGlzLmNvbnRlbnQuc2Nyb2xsSGVpZ2h0XHJcbiAgICAgIHRoaXMuc2Nyb2xsV2lkdGggPSB0aGlzLmNvbnRlbnQuc2Nyb2xsV2lkdGhcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2Nyb2xsSGVpZ2h0ID0gdGhpcy53cmFwcGVyLnNjcm9sbEhlaWdodFxyXG4gICAgICB0aGlzLnNjcm9sbFdpZHRoID0gdGhpcy53cmFwcGVyLnNjcm9sbFdpZHRoXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXQgbGltaXQoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB4OiB0aGlzLnNjcm9sbFdpZHRoIC0gdGhpcy53aWR0aCxcclxuICAgICAgeTogdGhpcy5zY3JvbGxIZWlnaHQgLSB0aGlzLmhlaWdodCxcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwgIi8qKlxyXG4gKiBFbWl0dGVyIGNsYXNzIHRvIGhhbmRsZSBldmVudHNcclxuICogQGV4YW1wbGVcclxuICogY29uc3QgZW1pdHRlciA9IG5ldyBFbWl0dGVyKClcclxuICogZW1pdHRlci5vbignZXZlbnQnLCAoZGF0YSkgPT4ge1xyXG4gKiAgIGNvbnNvbGUubG9nKGRhdGEpXHJcbiAqIH0pXHJcbiAqIGVtaXR0ZXIuZW1pdCgnZXZlbnQnLCAnZGF0YScpXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgRW1pdHRlciB7XHJcbiAgcHJpdmF0ZSBldmVudHM6IFJlY29yZDxcclxuICAgIHN0cmluZyxcclxuICAgIEFycmF5PCguLi5hcmdzOiB1bmtub3duW10pID0+IHZvaWQ+IHwgdW5kZWZpbmVkXHJcbiAgPiA9IHt9XHJcblxyXG4gIC8qKlxyXG4gICAqIEVtaXQgYW4gZXZlbnQgd2l0aCB0aGUgZ2l2ZW4gZGF0YVxyXG4gICAqIEBwYXJhbSBldmVudCBFdmVudCBuYW1lXHJcbiAgICogQHBhcmFtIGFyZ3MgRGF0YSB0byBwYXNzIHRvIHRoZSBldmVudCBoYW5kbGVyc1xyXG4gICAqL1xyXG4gIGVtaXQoZXZlbnQ6IHN0cmluZywgLi4uYXJnczogdW5rbm93bltdKSB7XHJcbiAgICBsZXQgY2FsbGJhY2tzID0gdGhpcy5ldmVudHNbZXZlbnRdIHx8IFtdXHJcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gY2FsbGJhY2tzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNhbGxiYWNrc1tpXT8uKC4uLmFyZ3MpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGQgYSBjYWxsYmFjayB0byB0aGUgZXZlbnRcclxuICAgKiBAcGFyYW0gZXZlbnQgRXZlbnQgbmFtZVxyXG4gICAqIEBwYXJhbSBjYiBDYWxsYmFjayBmdW5jdGlvblxyXG4gICAqIEByZXR1cm5zIFVuc3Vic2NyaWJlIGZ1bmN0aW9uXHJcbiAgICovXHJcbiAgb248Q0IgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IHZvaWQ+KGV2ZW50OiBzdHJpbmcsIGNiOiBDQikge1xyXG4gICAgLy8gQWRkIHRoZSBjYWxsYmFjayB0byB0aGUgZXZlbnQncyBjYWxsYmFjayBsaXN0LCBvciBjcmVhdGUgYSBuZXcgbGlzdCB3aXRoIHRoZSBjYWxsYmFja1xyXG4gICAgdGhpcy5ldmVudHNbZXZlbnRdPy5wdXNoKGNiKSB8fCAodGhpcy5ldmVudHNbZXZlbnRdID0gW2NiXSlcclxuXHJcbiAgICAvLyBSZXR1cm4gYW4gdW5zdWJzY3JpYmUgZnVuY3Rpb25cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHRoaXMuZXZlbnRzW2V2ZW50XSA9IHRoaXMuZXZlbnRzW2V2ZW50XT8uZmlsdGVyKChpKSA9PiBjYiAhPT0gaSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbW92ZSBhIGNhbGxiYWNrIGZyb20gdGhlIGV2ZW50XHJcbiAgICogQHBhcmFtIGV2ZW50IEV2ZW50IG5hbWVcclxuICAgKiBAcGFyYW0gY2FsbGJhY2sgQ2FsbGJhY2sgZnVuY3Rpb25cclxuICAgKi9cclxuICBvZmY8Q0IgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IHZvaWQ+KGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBDQikge1xyXG4gICAgdGhpcy5ldmVudHNbZXZlbnRdID0gdGhpcy5ldmVudHNbZXZlbnRdPy5maWx0ZXIoKGkpID0+IGNhbGxiYWNrICE9PSBpKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVtb3ZlIGFsbCBldmVudCBsaXN0ZW5lcnMgYW5kIGNsZWFuIHVwXHJcbiAgICovXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIHRoaXMuZXZlbnRzID0ge31cclxuICB9XHJcbn1cclxuIiwgImltcG9ydCB7IEVtaXR0ZXIgfSBmcm9tICcuL2VtaXR0ZXInXHJcbmltcG9ydCB0eXBlIHsgVmlydHVhbFNjcm9sbENhbGxiYWNrIH0gZnJvbSAnLi90eXBlcydcclxuXHJcbmNvbnN0IExJTkVfSEVJR0hUID0gMTAwIC8gNlxyXG5jb25zdCBsaXN0ZW5lck9wdGlvbnM6IEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zID0geyBwYXNzaXZlOiBmYWxzZSB9XHJcblxyXG5leHBvcnQgY2xhc3MgVmlydHVhbFNjcm9sbCB7XHJcbiAgdG91Y2hTdGFydCA9IHtcclxuICAgIHg6IDAsXHJcbiAgICB5OiAwLFxyXG4gIH1cclxuICBsYXN0RGVsdGEgPSB7XHJcbiAgICB4OiAwLFxyXG4gICAgeTogMCxcclxuICB9XHJcbiAgd2luZG93ID0ge1xyXG4gICAgd2lkdGg6IDAsXHJcbiAgICBoZWlnaHQ6IDAsXHJcbiAgfVxyXG4gIHByaXZhdGUgZW1pdHRlciA9IG5ldyBFbWl0dGVyKClcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxyXG4gICAgcHJpdmF0ZSBvcHRpb25zID0geyB3aGVlbE11bHRpcGxpZXI6IDEsIHRvdWNoTXVsdGlwbGllcjogMSB9XHJcbiAgKSB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vbldpbmRvd1Jlc2l6ZSwgZmFsc2UpXHJcbiAgICB0aGlzLm9uV2luZG93UmVzaXplKClcclxuXHJcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzLm9uV2hlZWwsIGxpc3RlbmVyT3B0aW9ucylcclxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICAndG91Y2hzdGFydCcsXHJcbiAgICAgIHRoaXMub25Ub3VjaFN0YXJ0LFxyXG4gICAgICBsaXN0ZW5lck9wdGlvbnNcclxuICAgIClcclxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICAndG91Y2htb3ZlJyxcclxuICAgICAgdGhpcy5vblRvdWNoTW92ZSxcclxuICAgICAgbGlzdGVuZXJPcHRpb25zXHJcbiAgICApXHJcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uVG91Y2hFbmQsIGxpc3RlbmVyT3B0aW9ucylcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCBhbiBldmVudCBsaXN0ZW5lciBmb3IgdGhlIGdpdmVuIGV2ZW50IGFuZCBjYWxsYmFja1xyXG4gICAqXHJcbiAgICogQHBhcmFtIGV2ZW50IEV2ZW50IG5hbWVcclxuICAgKiBAcGFyYW0gY2FsbGJhY2sgQ2FsbGJhY2sgZnVuY3Rpb25cclxuICAgKi9cclxuICBvbihldmVudDogc3RyaW5nLCBjYWxsYmFjazogVmlydHVhbFNjcm9sbENhbGxiYWNrKSB7XHJcbiAgICByZXR1cm4gdGhpcy5lbWl0dGVyLm9uKGV2ZW50LCBjYWxsYmFjaylcclxuICB9XHJcblxyXG4gIC8qKiBSZW1vdmUgYWxsIGV2ZW50IGxpc3RlbmVycyBhbmQgY2xlYW4gdXAgKi9cclxuICBkZXN0cm95KCkge1xyXG4gICAgdGhpcy5lbWl0dGVyLmRlc3Ryb3koKVxyXG5cclxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uV2luZG93UmVzaXplLCBmYWxzZSlcclxuXHJcbiAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzLm9uV2hlZWwsIGxpc3RlbmVyT3B0aW9ucylcclxuICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxyXG4gICAgICAndG91Y2hzdGFydCcsXHJcbiAgICAgIHRoaXMub25Ub3VjaFN0YXJ0LFxyXG4gICAgICBsaXN0ZW5lck9wdGlvbnNcclxuICAgIClcclxuICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxyXG4gICAgICAndG91Y2htb3ZlJyxcclxuICAgICAgdGhpcy5vblRvdWNoTW92ZSxcclxuICAgICAgbGlzdGVuZXJPcHRpb25zXHJcbiAgICApXHJcbiAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcclxuICAgICAgJ3RvdWNoZW5kJyxcclxuICAgICAgdGhpcy5vblRvdWNoRW5kLFxyXG4gICAgICBsaXN0ZW5lck9wdGlvbnNcclxuICAgIClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEV2ZW50IGhhbmRsZXIgZm9yICd0b3VjaHN0YXJ0JyBldmVudFxyXG4gICAqXHJcbiAgICogQHBhcmFtIGV2ZW50IFRvdWNoIGV2ZW50XHJcbiAgICovXHJcbiAgb25Ub3VjaFN0YXJ0ID0gKGV2ZW50OiBUb3VjaEV2ZW50KSA9PiB7XHJcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gZXZlbnQudGFyZ2V0VG91Y2hlcyBpcyBub3QgZGVmaW5lZFxyXG4gICAgY29uc3QgeyBjbGllbnRYLCBjbGllbnRZIH0gPSBldmVudC50YXJnZXRUb3VjaGVzXHJcbiAgICAgID8gZXZlbnQudGFyZ2V0VG91Y2hlc1swXVxyXG4gICAgICA6IGV2ZW50XHJcblxyXG4gICAgdGhpcy50b3VjaFN0YXJ0LnggPSBjbGllbnRYXHJcbiAgICB0aGlzLnRvdWNoU3RhcnQueSA9IGNsaWVudFlcclxuXHJcbiAgICB0aGlzLmxhc3REZWx0YSA9IHtcclxuICAgICAgeDogMCxcclxuICAgICAgeTogMCxcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmVtaXR0ZXIuZW1pdCgnc2Nyb2xsJywge1xyXG4gICAgICBkZWx0YVg6IDAsXHJcbiAgICAgIGRlbHRhWTogMCxcclxuICAgICAgZXZlbnQsXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgLyoqIEV2ZW50IGhhbmRsZXIgZm9yICd0b3VjaG1vdmUnIGV2ZW50ICovXHJcbiAgb25Ub3VjaE1vdmUgPSAoZXZlbnQ6IFRvdWNoRXZlbnQpID0+IHtcclxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBldmVudC50YXJnZXRUb3VjaGVzIGlzIG5vdCBkZWZpbmVkXHJcbiAgICBjb25zdCB7IGNsaWVudFgsIGNsaWVudFkgfSA9IGV2ZW50LnRhcmdldFRvdWNoZXNcclxuICAgICAgPyBldmVudC50YXJnZXRUb3VjaGVzWzBdXHJcbiAgICAgIDogZXZlbnRcclxuXHJcbiAgICBjb25zdCBkZWx0YVggPSAtKGNsaWVudFggLSB0aGlzLnRvdWNoU3RhcnQueCkgKiB0aGlzLm9wdGlvbnMudG91Y2hNdWx0aXBsaWVyXHJcbiAgICBjb25zdCBkZWx0YVkgPSAtKGNsaWVudFkgLSB0aGlzLnRvdWNoU3RhcnQueSkgKiB0aGlzLm9wdGlvbnMudG91Y2hNdWx0aXBsaWVyXHJcblxyXG4gICAgdGhpcy50b3VjaFN0YXJ0LnggPSBjbGllbnRYXHJcbiAgICB0aGlzLnRvdWNoU3RhcnQueSA9IGNsaWVudFlcclxuXHJcbiAgICB0aGlzLmxhc3REZWx0YSA9IHtcclxuICAgICAgeDogZGVsdGFYLFxyXG4gICAgICB5OiBkZWx0YVksXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5lbWl0dGVyLmVtaXQoJ3Njcm9sbCcsIHtcclxuICAgICAgZGVsdGFYLFxyXG4gICAgICBkZWx0YVksXHJcbiAgICAgIGV2ZW50LFxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIG9uVG91Y2hFbmQgPSAoZXZlbnQ6IFRvdWNoRXZlbnQpID0+IHtcclxuICAgIHRoaXMuZW1pdHRlci5lbWl0KCdzY3JvbGwnLCB7XHJcbiAgICAgIGRlbHRhWDogdGhpcy5sYXN0RGVsdGEueCxcclxuICAgICAgZGVsdGFZOiB0aGlzLmxhc3REZWx0YS55LFxyXG4gICAgICBldmVudCxcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKiogRXZlbnQgaGFuZGxlciBmb3IgJ3doZWVsJyBldmVudCAqL1xyXG4gIG9uV2hlZWwgPSAoZXZlbnQ6IFdoZWVsRXZlbnQpID0+IHtcclxuICAgIGxldCB7IGRlbHRhWCwgZGVsdGFZLCBkZWx0YU1vZGUgfSA9IGV2ZW50XHJcblxyXG4gICAgY29uc3QgbXVsdGlwbGllclggPVxyXG4gICAgICBkZWx0YU1vZGUgPT09IDEgPyBMSU5FX0hFSUdIVCA6IGRlbHRhTW9kZSA9PT0gMiA/IHRoaXMud2luZG93LndpZHRoIDogMVxyXG4gICAgY29uc3QgbXVsdGlwbGllclkgPVxyXG4gICAgICBkZWx0YU1vZGUgPT09IDEgPyBMSU5FX0hFSUdIVCA6IGRlbHRhTW9kZSA9PT0gMiA/IHRoaXMud2luZG93LmhlaWdodCA6IDFcclxuXHJcbiAgICBkZWx0YVggKj0gbXVsdGlwbGllclhcclxuICAgIGRlbHRhWSAqPSBtdWx0aXBsaWVyWVxyXG5cclxuICAgIGRlbHRhWCAqPSB0aGlzLm9wdGlvbnMud2hlZWxNdWx0aXBsaWVyXHJcbiAgICBkZWx0YVkgKj0gdGhpcy5vcHRpb25zLndoZWVsTXVsdGlwbGllclxyXG5cclxuICAgIHRoaXMuZW1pdHRlci5lbWl0KCdzY3JvbGwnLCB7IGRlbHRhWCwgZGVsdGFZLCBldmVudCB9KVxyXG4gIH1cclxuXHJcbiAgb25XaW5kb3dSZXNpemUgPSAoKSA9PiB7XHJcbiAgICB0aGlzLndpbmRvdyA9IHtcclxuICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxyXG4gICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCxcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwgImltcG9ydCB7IHZlcnNpb24gfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlLmpzb24nXG5pbXBvcnQgeyBBbmltYXRlIH0gZnJvbSAnLi9hbmltYXRlJ1xuaW1wb3J0IHsgRGltZW5zaW9ucyB9IGZyb20gJy4vZGltZW5zaW9ucydcbmltcG9ydCB7IEVtaXR0ZXIgfSBmcm9tICcuL2VtaXR0ZXInXG5pbXBvcnQgeyBjbGFtcCwgbW9kdWxvIH0gZnJvbSAnLi9tYXRocydcbmltcG9ydCB0eXBlIHtcbiAgTGVuaXNFdmVudCxcbiAgTGVuaXNPcHRpb25zLFxuICBTY3JvbGxDYWxsYmFjayxcbiAgU2Nyb2xsaW5nLFxuICBTY3JvbGxUb09wdGlvbnMsXG4gIFVzZXJEYXRhLFxuICBWaXJ0dWFsU2Nyb2xsQ2FsbGJhY2ssXG4gIFZpcnR1YWxTY3JvbGxEYXRhLFxufSBmcm9tICcuL3R5cGVzJ1xuaW1wb3J0IHsgVmlydHVhbFNjcm9sbCB9IGZyb20gJy4vdmlydHVhbC1zY3JvbGwnXG5cbi8vIFRlY2huaWNhbCBleHBsYW5hdGlvblxuLy8gLSBsaXN0ZW4gdG8gJ3doZWVsJyBldmVudHNcbi8vIC0gcHJldmVudCAnd2hlZWwnIGV2ZW50IHRvIHByZXZlbnQgc2Nyb2xsXG4vLyAtIG5vcm1hbGl6ZSB3aGVlbCBkZWx0YVxuLy8gLSBhZGQgZGVsdGEgdG8gdGFyZ2V0U2Nyb2xsXG4vLyAtIGFuaW1hdGUgc2Nyb2xsIHRvIHRhcmdldFNjcm9sbCAoc21vb3RoIGNvbnRleHQpXG4vLyAtIGlmIGFuaW1hdGlvbiBpcyBub3QgcnVubmluZywgbGlzdGVuIHRvICdzY3JvbGwnIGV2ZW50cyAobmF0aXZlIGNvbnRleHQpXG5cbnR5cGUgT3B0aW9uYWxQaWNrPFQsIEYgZXh0ZW5kcyBrZXlvZiBUPiA9IE9taXQ8VCwgRj4gJiBQYXJ0aWFsPFBpY2s8VCwgRj4+XG5cbmNvbnN0IGRlZmF1bHRFYXNpbmcgPSAodDogbnVtYmVyKSA9PiBNYXRoLm1pbigxLCAxLjAwMSAtIE1hdGgucG93KDIsIC0xMCAqIHQpKVxuXG5leHBvcnQgY2xhc3MgTGVuaXMge1xuICBwcml2YXRlIF9pc1Njcm9sbGluZzogU2Nyb2xsaW5nID0gZmFsc2UgLy8gdHJ1ZSB3aGVuIHNjcm9sbCBpcyBhbmltYXRpbmdcbiAgcHJpdmF0ZSBfaXNTdG9wcGVkID0gZmFsc2UgLy8gdHJ1ZSBpZiB1c2VyIHNob3VsZCBub3QgYmUgYWJsZSB0byBzY3JvbGwgLSBlbmFibGUvZGlzYWJsZSBwcm9ncmFtbWF0aWNhbGx5XG4gIHByaXZhdGUgX2lzTG9ja2VkID0gZmFsc2UgLy8gc2FtZSBhcyBpc1N0b3BwZWQgYnV0IGVuYWJsZWQvZGlzYWJsZWQgd2hlbiBzY3JvbGwgcmVhY2hlcyB0YXJnZXRcbiAgcHJpdmF0ZSBfcHJldmVudE5leHROYXRpdmVTY3JvbGxFdmVudCA9IGZhbHNlXG4gIHByaXZhdGUgX3Jlc2V0VmVsb2NpdHlUaW1lb3V0OiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRUaW1lb3V0PiB8IG51bGwgPSBudWxsXG4gIHByaXZhdGUgX19yYWZJRDogbnVtYmVyIHwgbnVsbCA9IG51bGxcblxuICAvKipcbiAgICogV2hldGhlciBvciBub3QgdGhlIHVzZXIgaXMgdG91Y2hpbmcgdGhlIHNjcmVlblxuICAgKi9cbiAgaXNUb3VjaGluZz86IGJvb2xlYW5cbiAgLyoqXG4gICAqIFRoZSB0aW1lIGluIG1zIHNpbmNlIHRoZSBsZW5pcyBpbnN0YW5jZSB3YXMgY3JlYXRlZFxuICAgKi9cbiAgdGltZSA9IDBcbiAgLyoqXG4gICAqIFVzZXIgZGF0YSB0aGF0IHdpbGwgYmUgZm9yd2FyZGVkIHRocm91Z2ggdGhlIHNjcm9sbCBldmVudFxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBsZW5pcy5zY3JvbGxUbygxMDAsIHtcbiAgICogICB1c2VyRGF0YToge1xuICAgKiAgICAgZm9vOiAnYmFyJ1xuICAgKiAgIH1cbiAgICogfSlcbiAgICovXG4gIHVzZXJEYXRhOiBVc2VyRGF0YSA9IHt9XG4gIC8qKlxuICAgKiBUaGUgbGFzdCB2ZWxvY2l0eSBvZiB0aGUgc2Nyb2xsXG4gICAqL1xuICBsYXN0VmVsb2NpdHkgPSAwXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCB2ZWxvY2l0eSBvZiB0aGUgc2Nyb2xsXG4gICAqL1xuICB2ZWxvY2l0eSA9IDBcbiAgLyoqXG4gICAqIFRoZSBkaXJlY3Rpb24gb2YgdGhlIHNjcm9sbFxuICAgKi9cbiAgZGlyZWN0aW9uOiAxIHwgLTEgfCAwID0gMFxuICAvKipcbiAgICogVGhlIG9wdGlvbnMgcGFzc2VkIHRvIHRoZSBsZW5pcyBpbnN0YW5jZVxuICAgKi9cbiAgb3B0aW9uczogT3B0aW9uYWxQaWNrPFxuICAgIFJlcXVpcmVkPExlbmlzT3B0aW9ucz4sXG4gICAgJ2R1cmF0aW9uJyB8ICdlYXNpbmcnIHwgJ3ByZXZlbnQnIHwgJ3ZpcnR1YWxTY3JvbGwnXG4gID5cbiAgLyoqXG4gICAqIFRoZSB0YXJnZXQgc2Nyb2xsIHZhbHVlXG4gICAqL1xuICB0YXJnZXRTY3JvbGw6IG51bWJlclxuICAvKipcbiAgICogVGhlIGFuaW1hdGVkIHNjcm9sbCB2YWx1ZVxuICAgKi9cbiAgYW5pbWF0ZWRTY3JvbGw6IG51bWJlclxuXG4gIC8vIFRoZXNlIGFyZSBpbnN0YW5jaWF0ZWQgaGVyZSBhcyB0aGV5IGRvbid0IG5lZWQgaW5mb3JtYXRpb24gZnJvbSB0aGUgb3B0aW9uc1xuICBwcml2YXRlIHJlYWRvbmx5IGFuaW1hdGUgPSBuZXcgQW5pbWF0ZSgpXG4gIHByaXZhdGUgcmVhZG9ubHkgZW1pdHRlciA9IG5ldyBFbWl0dGVyKClcbiAgLy8gVGhlc2UgYXJlIGluc3RhbmNpYXRlZCBpbiB0aGUgY29uc3RydWN0b3IgYXMgdGhleSBuZWVkIGluZm9ybWF0aW9uIGZyb20gdGhlIG9wdGlvbnNcbiAgcmVhZG9ubHkgZGltZW5zaW9uczogRGltZW5zaW9ucyAvLyBUaGlzIGlzIG5vdCBwcml2YXRlIGJlY2F1c2UgaXQncyB1c2VkIGluIHRoZSBTbmFwIGNsYXNzXG4gIHByaXZhdGUgcmVhZG9ubHkgdmlydHVhbFNjcm9sbDogVmlydHVhbFNjcm9sbFxuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICB3cmFwcGVyID0gd2luZG93LFxuICAgIGNvbnRlbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsXG4gICAgZXZlbnRzVGFyZ2V0ID0gd3JhcHBlcixcbiAgICBzbW9vdGhXaGVlbCA9IHRydWUsXG4gICAgc3luY1RvdWNoID0gZmFsc2UsXG4gICAgc3luY1RvdWNoTGVycCA9IDAuMDc1LFxuICAgIHRvdWNoSW5lcnRpYUV4cG9uZW50ID0gMS43LFxuICAgIGR1cmF0aW9uLCAvLyBpbiBzZWNvbmRzXG4gICAgZWFzaW5nLFxuICAgIGxlcnAgPSAwLjEsXG4gICAgaW5maW5pdGUgPSBmYWxzZSxcbiAgICBvcmllbnRhdGlvbiA9ICd2ZXJ0aWNhbCcsIC8vIHZlcnRpY2FsLCBob3Jpem9udGFsXG4gICAgZ2VzdHVyZU9yaWVudGF0aW9uID0gb3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJyA/ICdib3RoJyA6ICd2ZXJ0aWNhbCcsIC8vIHZlcnRpY2FsLCBob3Jpem9udGFsLCBib3RoXG4gICAgdG91Y2hNdWx0aXBsaWVyID0gMSxcbiAgICB3aGVlbE11bHRpcGxpZXIgPSAxLFxuICAgIGF1dG9SZXNpemUgPSB0cnVlLFxuICAgIHByZXZlbnQsXG4gICAgdmlydHVhbFNjcm9sbCxcbiAgICBvdmVyc2Nyb2xsID0gdHJ1ZSxcbiAgICBhdXRvUmFmID0gZmFsc2UsXG4gICAgYW5jaG9ycyA9IGZhbHNlLFxuICAgIGF1dG9Ub2dnbGUgPSBmYWxzZSwgLy8gaHR0cHM6Ly9jYW5pdXNlLmNvbS8/c2VhcmNoPXRyYW5zaXRpb24tYmVoYXZpb3JcbiAgICBhbGxvd05lc3RlZFNjcm9sbCA9IGZhbHNlLFxuICAgIF9fZXhwZXJpbWVudGFsX19uYWl2ZURpbWVuc2lvbnMgPSBmYWxzZSxcbiAgfTogTGVuaXNPcHRpb25zID0ge30pIHtcbiAgICAvLyBTZXQgdmVyc2lvblxuICAgIHdpbmRvdy5sZW5pc1ZlcnNpb24gPSB2ZXJzaW9uXG5cbiAgICAvLyBDaGVjayBpZiB3cmFwcGVyIGlzIDxodG1sPiwgZmFsbGJhY2sgdG8gd2luZG93XG4gICAgaWYgKCF3cmFwcGVyIHx8IHdyYXBwZXIgPT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgICAgd3JhcHBlciA9IHdpbmRvd1xuICAgIH1cblxuICAgIC8vIGZsaXAgdG8gZWFzaW5nL3RpbWUgYmFzZWQgYW5pbWF0aW9uIGlmIGF0IGxlYXN0IG9uZSBvZiB0aGVtIGlzIHByb3ZpZGVkXG4gICAgaWYgKHR5cGVvZiBkdXJhdGlvbiA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGVhc2luZyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZWFzaW5nID0gZGVmYXVsdEVhc2luZ1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVhc2luZyA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZHVyYXRpb24gIT09ICdudW1iZXInKSB7XG4gICAgICBkdXJhdGlvbiA9IDFcbiAgICB9XG5cbiAgICAvLyBTZXR1cCBvcHRpb25zXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgd3JhcHBlcixcbiAgICAgIGNvbnRlbnQsXG4gICAgICBldmVudHNUYXJnZXQsXG4gICAgICBzbW9vdGhXaGVlbCxcbiAgICAgIHN5bmNUb3VjaCxcbiAgICAgIHN5bmNUb3VjaExlcnAsXG4gICAgICB0b3VjaEluZXJ0aWFFeHBvbmVudCxcbiAgICAgIGR1cmF0aW9uLFxuICAgICAgZWFzaW5nLFxuICAgICAgbGVycCxcbiAgICAgIGluZmluaXRlLFxuICAgICAgZ2VzdHVyZU9yaWVudGF0aW9uLFxuICAgICAgb3JpZW50YXRpb24sXG4gICAgICB0b3VjaE11bHRpcGxpZXIsXG4gICAgICB3aGVlbE11bHRpcGxpZXIsXG4gICAgICBhdXRvUmVzaXplLFxuICAgICAgcHJldmVudCxcbiAgICAgIHZpcnR1YWxTY3JvbGwsXG4gICAgICBvdmVyc2Nyb2xsLFxuICAgICAgYXV0b1JhZixcbiAgICAgIGFuY2hvcnMsXG4gICAgICBhdXRvVG9nZ2xlLFxuICAgICAgYWxsb3dOZXN0ZWRTY3JvbGwsXG4gICAgICBfX2V4cGVyaW1lbnRhbF9fbmFpdmVEaW1lbnNpb25zLFxuICAgIH1cblxuICAgIC8vIFNldHVwIGRpbWVuc2lvbnMgaW5zdGFuY2VcbiAgICB0aGlzLmRpbWVuc2lvbnMgPSBuZXcgRGltZW5zaW9ucyh3cmFwcGVyLCBjb250ZW50LCB7IGF1dG9SZXNpemUgfSlcblxuICAgIC8vIFNldHVwIGNsYXNzIG5hbWVcbiAgICB0aGlzLnVwZGF0ZUNsYXNzTmFtZSgpXG5cbiAgICAvLyBTZXQgdGhlIGluaXRpYWwgc2Nyb2xsIHZhbHVlIGZvciBhbGwgc2Nyb2xsIGluZm9ybWF0aW9uXG4gICAgdGhpcy50YXJnZXRTY3JvbGwgPSB0aGlzLmFuaW1hdGVkU2Nyb2xsID0gdGhpcy5hY3R1YWxTY3JvbGxcblxuICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lcnNcbiAgICB0aGlzLm9wdGlvbnMud3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLm9uTmF0aXZlU2Nyb2xsLCBmYWxzZSlcblxuICAgIHRoaXMub3B0aW9ucy53cmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbGVuZCcsIHRoaXMub25TY3JvbGxFbmQsIHtcbiAgICAgIGNhcHR1cmU6IHRydWUsXG4gICAgfSlcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuYW5jaG9ycyAmJiB0aGlzLm9wdGlvbnMud3JhcHBlciA9PT0gd2luZG93KSB7XG4gICAgICB0aGlzLm9wdGlvbnMud3JhcHBlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAnY2xpY2snLFxuICAgICAgICB0aGlzLm9uQ2xpY2sgYXMgRXZlbnRMaXN0ZW5lcixcbiAgICAgICAgZmFsc2VcbiAgICAgIClcbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnMud3JhcHBlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgJ3BvaW50ZXJkb3duJyxcbiAgICAgIHRoaXMub25Qb2ludGVyRG93biBhcyBFdmVudExpc3RlbmVyLFxuICAgICAgZmFsc2VcbiAgICApXG5cbiAgICAvLyBTZXR1cCB2aXJ0dWFsIHNjcm9sbCBpbnN0YW5jZVxuICAgIHRoaXMudmlydHVhbFNjcm9sbCA9IG5ldyBWaXJ0dWFsU2Nyb2xsKGV2ZW50c1RhcmdldCBhcyBIVE1MRWxlbWVudCwge1xuICAgICAgdG91Y2hNdWx0aXBsaWVyLFxuICAgICAgd2hlZWxNdWx0aXBsaWVyLFxuICAgIH0pXG4gICAgdGhpcy52aXJ0dWFsU2Nyb2xsLm9uKCdzY3JvbGwnLCB0aGlzLm9uVmlydHVhbFNjcm9sbClcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b1RvZ2dsZSkge1xuICAgICAgdGhpcy5yb290RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgdGhpcy5vblRyYW5zaXRpb25FbmQsIHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZSxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvUmFmKSB7XG4gICAgICB0aGlzLl9fcmFmSUQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5yYWYpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3kgdGhlIGxlbmlzIGluc3RhbmNlLCByZW1vdmUgYWxsIGV2ZW50IGxpc3RlbmVycyBhbmQgY2xlYW4gdXAgdGhlIGNsYXNzIG5hbWVcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5lbWl0dGVyLmRlc3Ryb3koKVxuXG4gICAgdGhpcy5vcHRpb25zLndyYXBwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICdzY3JvbGwnLFxuICAgICAgdGhpcy5vbk5hdGl2ZVNjcm9sbCxcbiAgICAgIGZhbHNlXG4gICAgKVxuXG4gICAgdGhpcy5vcHRpb25zLndyYXBwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsZW5kJywgdGhpcy5vblNjcm9sbEVuZCwge1xuICAgICAgY2FwdHVyZTogdHJ1ZSxcbiAgICB9KVxuXG4gICAgdGhpcy5vcHRpb25zLndyYXBwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICdwb2ludGVyZG93bicsXG4gICAgICB0aGlzLm9uUG9pbnRlckRvd24gYXMgRXZlbnRMaXN0ZW5lcixcbiAgICAgIGZhbHNlXG4gICAgKVxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hbmNob3JzICYmIHRoaXMub3B0aW9ucy53cmFwcGVyID09PSB3aW5kb3cpIHtcbiAgICAgIHRoaXMub3B0aW9ucy53cmFwcGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICdjbGljaycsXG4gICAgICAgIHRoaXMub25DbGljayBhcyBFdmVudExpc3RlbmVyLFxuICAgICAgICBmYWxzZVxuICAgICAgKVxuICAgIH1cblxuICAgIHRoaXMudmlydHVhbFNjcm9sbC5kZXN0cm95KClcbiAgICB0aGlzLmRpbWVuc2lvbnMuZGVzdHJveSgpXG5cbiAgICB0aGlzLmNsZWFuVXBDbGFzc05hbWUoKVxuXG4gICAgaWYgKHRoaXMuX19yYWZJRCkge1xuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fX3JhZklEKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIHRoZSBnaXZlbiBldmVudCBhbmQgY2FsbGJhY2tcbiAgICpcbiAgICogQHBhcmFtIGV2ZW50IEV2ZW50IG5hbWVcbiAgICogQHBhcmFtIGNhbGxiYWNrIENhbGxiYWNrIGZ1bmN0aW9uXG4gICAqIEByZXR1cm5zIFVuc3Vic2NyaWJlIGZ1bmN0aW9uXG4gICAqL1xuICBvbihldmVudDogJ3Njcm9sbCcsIGNhbGxiYWNrOiBTY3JvbGxDYWxsYmFjayk6ICgpID0+IHZvaWRcbiAgb24oZXZlbnQ6ICd2aXJ0dWFsLXNjcm9sbCcsIGNhbGxiYWNrOiBWaXJ0dWFsU2Nyb2xsQ2FsbGJhY2spOiAoKSA9PiB2b2lkXG4gIG9uKGV2ZW50OiBMZW5pc0V2ZW50LCBjYWxsYmFjazogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuZW1pdHRlci5vbihldmVudCwgY2FsbGJhY2spXG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFuIGV2ZW50IGxpc3RlbmVyIGZvciB0aGUgZ2l2ZW4gZXZlbnQgYW5kIGNhbGxiYWNrXG4gICAqXG4gICAqIEBwYXJhbSBldmVudCBFdmVudCBuYW1lXG4gICAqIEBwYXJhbSBjYWxsYmFjayBDYWxsYmFjayBmdW5jdGlvblxuICAgKi9cbiAgb2ZmKGV2ZW50OiAnc2Nyb2xsJywgY2FsbGJhY2s6IFNjcm9sbENhbGxiYWNrKTogdm9pZFxuICBvZmYoZXZlbnQ6ICd2aXJ0dWFsLXNjcm9sbCcsIGNhbGxiYWNrOiBWaXJ0dWFsU2Nyb2xsQ2FsbGJhY2spOiB2b2lkXG4gIG9mZihldmVudDogTGVuaXNFdmVudCwgY2FsbGJhY2s6IGFueSkge1xuICAgIHJldHVybiB0aGlzLmVtaXR0ZXIub2ZmKGV2ZW50LCBjYWxsYmFjaylcbiAgfVxuXG4gIHByaXZhdGUgb25TY3JvbGxFbmQgPSAoZTogRXZlbnQgfCBDdXN0b21FdmVudCkgPT4ge1xuICAgIGlmICghKGUgaW5zdGFuY2VvZiBDdXN0b21FdmVudCkpIHtcbiAgICAgIGlmICh0aGlzLmlzU2Nyb2xsaW5nID09PSAnc21vb3RoJyB8fCB0aGlzLmlzU2Nyb2xsaW5nID09PSBmYWxzZSkge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBkaXNwYXRjaFNjcm9sbGVuZEV2ZW50ID0gKCkgPT4ge1xuICAgIHRoaXMub3B0aW9ucy53cmFwcGVyLmRpc3BhdGNoRXZlbnQoXG4gICAgICBuZXcgQ3VzdG9tRXZlbnQoJ3Njcm9sbGVuZCcsIHtcbiAgICAgICAgYnViYmxlczogdGhpcy5vcHRpb25zLndyYXBwZXIgPT09IHdpbmRvdyxcbiAgICAgICAgLy8gY2FuY2VsYWJsZTogZmFsc2UsXG4gICAgICAgIGRldGFpbDoge1xuICAgICAgICAgIGxlbmlzU2Nyb2xsRW5kOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICApXG4gIH1cblxuICBwcml2YXRlIG9uVHJhbnNpdGlvbkVuZCA9IChldmVudDogVHJhbnNpdGlvbkV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnByb3BlcnR5TmFtZS5pbmNsdWRlcygnb3ZlcmZsb3cnKSkge1xuICAgICAgY29uc3QgcHJvcGVydHkgPSB0aGlzLmlzSG9yaXpvbnRhbCA/ICdvdmVyZmxvdy14JyA6ICdvdmVyZmxvdy15J1xuXG4gICAgICBjb25zdCBvdmVyZmxvdyA9IGdldENvbXB1dGVkU3R5bGUodGhpcy5yb290RWxlbWVudClbXG4gICAgICAgIHByb3BlcnR5IGFzIGtleW9mIENTU1N0eWxlRGVjbGFyYXRpb25cbiAgICAgIF0gYXMgc3RyaW5nXG5cbiAgICAgIGlmIChbJ2hpZGRlbicsICdjbGlwJ10uaW5jbHVkZXMob3ZlcmZsb3cpKSB7XG4gICAgICAgIHRoaXMuaW50ZXJuYWxTdG9wKClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaW50ZXJuYWxTdGFydCgpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzZXRTY3JvbGwoc2Nyb2xsOiBudW1iZXIpIHtcbiAgICAvLyBiZWhhdmlvcjogJ2luc3RhbnQnIGJ5cGFzc2VzIHRoZSBzY3JvbGwtYmVoYXZpb3IgQ1NTIHByb3BlcnR5XG5cbiAgICBpZiAodGhpcy5pc0hvcml6b250YWwpIHtcbiAgICAgIHRoaXMub3B0aW9ucy53cmFwcGVyLnNjcm9sbFRvKHsgbGVmdDogc2Nyb2xsLCBiZWhhdmlvcjogJ2luc3RhbnQnIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub3B0aW9ucy53cmFwcGVyLnNjcm9sbFRvKHsgdG9wOiBzY3JvbGwsIGJlaGF2aW9yOiAnaW5zdGFudCcgfSlcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIG9uQ2xpY2sgPSAoZXZlbnQ6IFBvaW50ZXJFdmVudCB8IE1vdXNlRXZlbnQpID0+IHtcbiAgICBjb25zdCBwYXRoID0gZXZlbnQuY29tcG9zZWRQYXRoKClcbiAgICBjb25zdCBhbmNob3IgPSBwYXRoLmZpbmQoXG4gICAgICAobm9kZSkgPT5cbiAgICAgICAgbm9kZSBpbnN0YW5jZW9mIEhUTUxBbmNob3JFbGVtZW50ICYmXG4gICAgICAgIG5vZGUuZ2V0QXR0cmlidXRlKCdocmVmJyk/LmluY2x1ZGVzKCcjJylcbiAgICApIGFzIEhUTUxBbmNob3JFbGVtZW50IHwgdW5kZWZpbmVkXG4gICAgaWYgKGFuY2hvcikge1xuICAgICAgY29uc3QgaHJlZiA9IGFuY2hvci5nZXRBdHRyaWJ1dGUoJ2hyZWYnKVxuXG4gICAgICBpZiAoaHJlZikge1xuICAgICAgICBjb25zdCBvcHRpb25zID1cbiAgICAgICAgICB0eXBlb2YgdGhpcy5vcHRpb25zLmFuY2hvcnMgPT09ICdvYmplY3QnICYmIHRoaXMub3B0aW9ucy5hbmNob3JzXG4gICAgICAgICAgICA/IHRoaXMub3B0aW9ucy5hbmNob3JzXG4gICAgICAgICAgICA6IHVuZGVmaW5lZFxuXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGAjJHtocmVmLnNwbGl0KCcjJylbMV19YFxuXG4gICAgICAgIHRoaXMuc2Nyb2xsVG8odGFyZ2V0LCBvcHRpb25zKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgb25Qb2ludGVyRG93biA9IChldmVudDogUG9pbnRlckV2ZW50IHwgTW91c2VFdmVudCkgPT4ge1xuICAgIGlmIChldmVudC5idXR0b24gPT09IDEpIHtcbiAgICAgIHRoaXMucmVzZXQoKVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgb25WaXJ0dWFsU2Nyb2xsID0gKGRhdGE6IFZpcnR1YWxTY3JvbGxEYXRhKSA9PiB7XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIHRoaXMub3B0aW9ucy52aXJ0dWFsU2Nyb2xsID09PSAnZnVuY3Rpb24nICYmXG4gICAgICB0aGlzLm9wdGlvbnMudmlydHVhbFNjcm9sbChkYXRhKSA9PT0gZmFsc2VcbiAgICApXG4gICAgICByZXR1cm5cblxuICAgIGNvbnN0IHsgZGVsdGFYLCBkZWx0YVksIGV2ZW50IH0gPSBkYXRhXG5cbiAgICB0aGlzLmVtaXR0ZXIuZW1pdCgndmlydHVhbC1zY3JvbGwnLCB7IGRlbHRhWCwgZGVsdGFZLCBldmVudCB9KVxuXG4gICAgLy8ga2VlcCB6b29tIGZlYXR1cmVcbiAgICBpZiAoZXZlbnQuY3RybEtleSkgcmV0dXJuXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGlmIChldmVudC5sZW5pc1N0b3BQcm9wYWdhdGlvbikgcmV0dXJuXG5cbiAgICBjb25zdCBpc1RvdWNoID0gZXZlbnQudHlwZS5pbmNsdWRlcygndG91Y2gnKVxuICAgIGNvbnN0IGlzV2hlZWwgPSBldmVudC50eXBlLmluY2x1ZGVzKCd3aGVlbCcpXG5cbiAgICB0aGlzLmlzVG91Y2hpbmcgPSBldmVudC50eXBlID09PSAndG91Y2hzdGFydCcgfHwgZXZlbnQudHlwZSA9PT0gJ3RvdWNobW92ZSdcbiAgICAvLyBpZiAoZXZlbnQudHlwZSA9PT0gJ3RvdWNoZW5kJykge1xuICAgIC8vICAgY29uc29sZS5sb2coJ3RvdWNoZW5kJywgdGhpcy5zY3JvbGwpXG4gICAgLy8gICAvLyB0aGlzLmxhc3RWZWxvY2l0eSA9IHRoaXMudmVsb2NpdHlcbiAgICAvLyAgIC8vIHRoaXMudmVsb2NpdHkgPSAwXG4gICAgLy8gICAvLyB0aGlzLmlzU2Nyb2xsaW5nID0gZmFsc2VcbiAgICAvLyAgIHRoaXMuZW1pdCh7IHR5cGU6ICd0b3VjaGVuZCcgfSlcbiAgICAvLyAgIC8vIGFsZXJ0KCd0b3VjaGVuZCcpXG4gICAgLy8gICByZXR1cm5cbiAgICAvLyB9XG5cbiAgICBjb25zdCBpc0NsaWNrT3JUYXAgPSBkZWx0YVggPT09IDAgJiYgZGVsdGFZID09PSAwXG5cbiAgICBjb25zdCBpc1RhcFRvU3RvcCA9XG4gICAgICB0aGlzLm9wdGlvbnMuc3luY1RvdWNoICYmXG4gICAgICBpc1RvdWNoICYmXG4gICAgICBldmVudC50eXBlID09PSAndG91Y2hzdGFydCcgJiZcbiAgICAgIGlzQ2xpY2tPclRhcCAmJlxuICAgICAgIXRoaXMuaXNTdG9wcGVkICYmXG4gICAgICAhdGhpcy5pc0xvY2tlZFxuXG4gICAgaWYgKGlzVGFwVG9TdG9wKSB7XG4gICAgICB0aGlzLnJlc2V0KClcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIGNvbnN0IGlzUHVsbFRvUmVmcmVzaCA9XG4gICAgLy8gICB0aGlzLm9wdGlvbnMuZ2VzdHVyZU9yaWVudGF0aW9uID09PSAndmVydGljYWwnICYmXG4gICAgLy8gICB0aGlzLnNjcm9sbCA9PT0gMCAmJlxuICAgIC8vICAgIXRoaXMub3B0aW9ucy5pbmZpbml0ZSAmJlxuICAgIC8vICAgZGVsdGFZIDw9IDUgLy8gdG91Y2ggcHVsbCB0byByZWZyZXNoLCBub3QgcmVsaWFibGUgeWV0XG5cbiAgICBjb25zdCBpc1Vua25vd25HZXN0dXJlID1cbiAgICAgICh0aGlzLm9wdGlvbnMuZ2VzdHVyZU9yaWVudGF0aW9uID09PSAndmVydGljYWwnICYmIGRlbHRhWSA9PT0gMCkgfHxcbiAgICAgICh0aGlzLm9wdGlvbnMuZ2VzdHVyZU9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcgJiYgZGVsdGFYID09PSAwKVxuXG4gICAgaWYgKGlzQ2xpY2tPclRhcCB8fCBpc1Vua25vd25HZXN0dXJlKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZygncHJldmVudCcpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBjYXRjaCBpZiBzY3JvbGxpbmcgb24gbmVzdGVkIHNjcm9sbCBlbGVtZW50c1xuICAgIGxldCBjb21wb3NlZFBhdGggPSBldmVudC5jb21wb3NlZFBhdGgoKVxuICAgIGNvbXBvc2VkUGF0aCA9IGNvbXBvc2VkUGF0aC5zbGljZSgwLCBjb21wb3NlZFBhdGguaW5kZXhPZih0aGlzLnJvb3RFbGVtZW50KSkgLy8gcmVtb3ZlIHBhcmVudHMgZWxlbWVudHNcblxuICAgIGNvbnN0IHByZXZlbnQgPSB0aGlzLm9wdGlvbnMucHJldmVudFxuXG4gICAgaWYgKFxuICAgICAgISFjb21wb3NlZFBhdGguZmluZChcbiAgICAgICAgKG5vZGUpID0+XG4gICAgICAgICAgbm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmXG4gICAgICAgICAgKCh0eXBlb2YgcHJldmVudCA9PT0gJ2Z1bmN0aW9uJyAmJiBwcmV2ZW50Py4obm9kZSkpIHx8XG4gICAgICAgICAgICBub2RlLmhhc0F0dHJpYnV0ZT8uKCdkYXRhLWxlbmlzLXByZXZlbnQnKSB8fFxuICAgICAgICAgICAgKGlzVG91Y2ggJiYgbm9kZS5oYXNBdHRyaWJ1dGU/LignZGF0YS1sZW5pcy1wcmV2ZW50LXRvdWNoJykpIHx8XG4gICAgICAgICAgICAoaXNXaGVlbCAmJiBub2RlLmhhc0F0dHJpYnV0ZT8uKCdkYXRhLWxlbmlzLXByZXZlbnQtd2hlZWwnKSkgfHxcbiAgICAgICAgICAgICh0aGlzLm9wdGlvbnMuYWxsb3dOZXN0ZWRTY3JvbGwgJiZcbiAgICAgICAgICAgICAgdGhpcy5jaGVja05lc3RlZFNjcm9sbChub2RlLCB7IGRlbHRhWCwgZGVsdGFZIH0pKSlcbiAgICAgIClcbiAgICApXG4gICAgICByZXR1cm5cblxuICAgIGlmICh0aGlzLmlzU3RvcHBlZCB8fCB0aGlzLmlzTG9ja2VkKSB7XG4gICAgICBpZiAoZXZlbnQuY2FuY2VsYWJsZSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpIC8vIHRoaXMgd2lsbCBzdG9wIGZvcndhcmRpbmcgdGhlIGV2ZW50IHRvIHRoZSBwYXJlbnQsIHRoaXMgaXMgcHJvYmxlbWF0aWNcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IGlzU21vb3RoID1cbiAgICAgICh0aGlzLm9wdGlvbnMuc3luY1RvdWNoICYmIGlzVG91Y2gpIHx8XG4gICAgICAodGhpcy5vcHRpb25zLnNtb290aFdoZWVsICYmIGlzV2hlZWwpXG5cbiAgICBpZiAoIWlzU21vb3RoKSB7XG4gICAgICB0aGlzLmlzU2Nyb2xsaW5nID0gJ25hdGl2ZSdcbiAgICAgIHRoaXMuYW5pbWF0ZS5zdG9wKClcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGV2ZW50LmxlbmlzU3RvcFByb3BhZ2F0aW9uID0gdHJ1ZVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgbGV0IGRlbHRhID0gZGVsdGFZXG4gICAgaWYgKHRoaXMub3B0aW9ucy5nZXN0dXJlT3JpZW50YXRpb24gPT09ICdib3RoJykge1xuICAgICAgZGVsdGEgPSBNYXRoLmFicyhkZWx0YVkpID4gTWF0aC5hYnMoZGVsdGFYKSA/IGRlbHRhWSA6IGRlbHRhWFxuICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmdlc3R1cmVPcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICBkZWx0YSA9IGRlbHRhWFxuICAgIH1cblxuICAgIGlmIChcbiAgICAgICF0aGlzLm9wdGlvbnMub3ZlcnNjcm9sbCB8fFxuICAgICAgdGhpcy5vcHRpb25zLmluZmluaXRlIHx8XG4gICAgICAodGhpcy5vcHRpb25zLndyYXBwZXIgIT09IHdpbmRvdyAmJlxuICAgICAgICB0aGlzLmxpbWl0ID4gMCAmJlxuICAgICAgICAoKHRoaXMuYW5pbWF0ZWRTY3JvbGwgPiAwICYmIHRoaXMuYW5pbWF0ZWRTY3JvbGwgPCB0aGlzLmxpbWl0KSB8fFxuICAgICAgICAgICh0aGlzLmFuaW1hdGVkU2Nyb2xsID09PSAwICYmIGRlbHRhWSA+IDApIHx8XG4gICAgICAgICAgKHRoaXMuYW5pbWF0ZWRTY3JvbGwgPT09IHRoaXMubGltaXQgJiYgZGVsdGFZIDwgMCkpKVxuICAgICkge1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgZXZlbnQubGVuaXNTdG9wUHJvcGFnYXRpb24gPSB0cnVlXG4gICAgICAvLyBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuICAgIH1cblxuICAgIGlmIChldmVudC5jYW5jZWxhYmxlKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgfVxuXG4gICAgY29uc3QgaXNTeW5jVG91Y2ggPSBpc1RvdWNoICYmIHRoaXMub3B0aW9ucy5zeW5jVG91Y2hcbiAgICBjb25zdCBpc1RvdWNoRW5kID0gaXNUb3VjaCAmJiBldmVudC50eXBlID09PSAndG91Y2hlbmQnXG5cbiAgICBjb25zdCBoYXNUb3VjaEluZXJ0aWEgPSBpc1RvdWNoRW5kXG5cbiAgICBpZiAoaGFzVG91Y2hJbmVydGlhKSB7XG4gICAgICAvLyBkZWx0YSA9IHRoaXMudmVsb2NpdHkgKiB0aGlzLm9wdGlvbnMudG91Y2hJbmVydGlhTXVsdGlwbGllclxuICAgICAgZGVsdGEgPVxuICAgICAgICBNYXRoLnNpZ24odGhpcy52ZWxvY2l0eSkgKlxuICAgICAgICBNYXRoLnBvdyhNYXRoLmFicyh0aGlzLnZlbG9jaXR5KSwgdGhpcy5vcHRpb25zLnRvdWNoSW5lcnRpYUV4cG9uZW50KVxuICAgIH1cblxuICAgIHRoaXMuc2Nyb2xsVG8odGhpcy50YXJnZXRTY3JvbGwgKyBkZWx0YSwge1xuICAgICAgcHJvZ3JhbW1hdGljOiBmYWxzZSxcbiAgICAgIC4uLihpc1N5bmNUb3VjaFxuICAgICAgICA/IHtcbiAgICAgICAgICAgIGxlcnA6IGhhc1RvdWNoSW5lcnRpYSA/IHRoaXMub3B0aW9ucy5zeW5jVG91Y2hMZXJwIDogMSxcbiAgICAgICAgICAgIC8vIGltbWVkaWF0ZTogIWhhc1RvdWNoSW5lcnRpYSxcbiAgICAgICAgICB9XG4gICAgICAgIDoge1xuICAgICAgICAgICAgbGVycDogdGhpcy5vcHRpb25zLmxlcnAsXG4gICAgICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmR1cmF0aW9uLFxuICAgICAgICAgICAgZWFzaW5nOiB0aGlzLm9wdGlvbnMuZWFzaW5nLFxuICAgICAgICAgIH0pLFxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogRm9yY2UgbGVuaXMgdG8gcmVjYWxjdWxhdGUgdGhlIGRpbWVuc2lvbnNcbiAgICovXG4gIHJlc2l6ZSgpIHtcbiAgICB0aGlzLmRpbWVuc2lvbnMucmVzaXplKClcbiAgICB0aGlzLmFuaW1hdGVkU2Nyb2xsID0gdGhpcy50YXJnZXRTY3JvbGwgPSB0aGlzLmFjdHVhbFNjcm9sbFxuICAgIHRoaXMuZW1pdCgpXG4gIH1cblxuICBwcml2YXRlIGVtaXQoKSB7XG4gICAgdGhpcy5lbWl0dGVyLmVtaXQoJ3Njcm9sbCcsIHRoaXMpXG4gIH1cblxuICBwcml2YXRlIG9uTmF0aXZlU2Nyb2xsID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLl9yZXNldFZlbG9jaXR5VGltZW91dCAhPT0gbnVsbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3Jlc2V0VmVsb2NpdHlUaW1lb3V0KVxuICAgICAgdGhpcy5fcmVzZXRWZWxvY2l0eVRpbWVvdXQgPSBudWxsXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3ByZXZlbnROZXh0TmF0aXZlU2Nyb2xsRXZlbnQpIHtcbiAgICAgIHRoaXMuX3ByZXZlbnROZXh0TmF0aXZlU2Nyb2xsRXZlbnQgPSBmYWxzZVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXNTY3JvbGxpbmcgPT09IGZhbHNlIHx8IHRoaXMuaXNTY3JvbGxpbmcgPT09ICduYXRpdmUnKSB7XG4gICAgICBjb25zdCBsYXN0U2Nyb2xsID0gdGhpcy5hbmltYXRlZFNjcm9sbFxuICAgICAgdGhpcy5hbmltYXRlZFNjcm9sbCA9IHRoaXMudGFyZ2V0U2Nyb2xsID0gdGhpcy5hY3R1YWxTY3JvbGxcbiAgICAgIHRoaXMubGFzdFZlbG9jaXR5ID0gdGhpcy52ZWxvY2l0eVxuICAgICAgdGhpcy52ZWxvY2l0eSA9IHRoaXMuYW5pbWF0ZWRTY3JvbGwgLSBsYXN0U2Nyb2xsXG4gICAgICB0aGlzLmRpcmVjdGlvbiA9IE1hdGguc2lnbihcbiAgICAgICAgdGhpcy5hbmltYXRlZFNjcm9sbCAtIGxhc3RTY3JvbGxcbiAgICAgICkgYXMgTGVuaXNbJ2RpcmVjdGlvbiddXG5cbiAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgdGhpcy5pc1Njcm9sbGluZyA9ICduYXRpdmUnXG4gICAgICB9XG5cbiAgICAgIHRoaXMuZW1pdCgpXG5cbiAgICAgIGlmICh0aGlzLnZlbG9jaXR5ICE9PSAwKSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0VmVsb2NpdHlUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5sYXN0VmVsb2NpdHkgPSB0aGlzLnZlbG9jaXR5XG4gICAgICAgICAgdGhpcy52ZWxvY2l0eSA9IDBcbiAgICAgICAgICB0aGlzLmlzU2Nyb2xsaW5nID0gZmFsc2VcbiAgICAgICAgICB0aGlzLmVtaXQoKVxuICAgICAgICB9LCA0MDApXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZXNldCgpIHtcbiAgICB0aGlzLmlzTG9ja2VkID0gZmFsc2VcbiAgICB0aGlzLmlzU2Nyb2xsaW5nID0gZmFsc2VcbiAgICB0aGlzLmFuaW1hdGVkU2Nyb2xsID0gdGhpcy50YXJnZXRTY3JvbGwgPSB0aGlzLmFjdHVhbFNjcm9sbFxuICAgIHRoaXMubGFzdFZlbG9jaXR5ID0gdGhpcy52ZWxvY2l0eSA9IDBcbiAgICB0aGlzLmFuaW1hdGUuc3RvcCgpXG4gIH1cblxuICAvKipcbiAgICogU3RhcnQgbGVuaXMgc2Nyb2xsIGFmdGVyIGl0IGhhcyBiZWVuIHN0b3BwZWRcbiAgICovXG4gIHN0YXJ0KCkge1xuICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHJldHVyblxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvVG9nZ2xlKSB7XG4gICAgICB0aGlzLnJvb3RFbGVtZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdvdmVyZmxvdycpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGlzLmludGVybmFsU3RhcnQoKVxuICB9XG5cbiAgcHJpdmF0ZSBpbnRlcm5hbFN0YXJ0KCkge1xuICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHJldHVyblxuXG4gICAgdGhpcy5yZXNldCgpXG4gICAgdGhpcy5pc1N0b3BwZWQgPSBmYWxzZVxuICAgIHRoaXMuZW1pdCgpXG4gIH1cblxuICAvKipcbiAgICogU3RvcCBsZW5pcyBzY3JvbGxcbiAgICovXG4gIHN0b3AoKSB7XG4gICAgaWYgKHRoaXMuaXNTdG9wcGVkKSByZXR1cm5cblxuICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b1RvZ2dsZSkge1xuICAgICAgdGhpcy5yb290RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnb3ZlcmZsb3cnLCAnY2xpcCcpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGlzLmludGVybmFsU3RvcCgpXG4gIH1cblxuICBwcml2YXRlIGludGVybmFsU3RvcCgpIHtcbiAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHJldHVyblxuXG4gICAgdGhpcy5yZXNldCgpXG4gICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlXG4gICAgdGhpcy5lbWl0KClcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgZm9yIGxlbmlzXG4gICAqXG4gICAqIEBwYXJhbSB0aW1lIFRoZSB0aW1lIGluIG1zIGZyb20gYW4gZXh0ZXJuYWwgY2xvY2sgbGlrZSBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYCBvciBUZW1wdXNcbiAgICovXG4gIHJhZiA9ICh0aW1lOiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBkZWx0YVRpbWUgPSB0aW1lIC0gKHRoaXMudGltZSB8fCB0aW1lKVxuICAgIHRoaXMudGltZSA9IHRpbWVcblxuICAgIHRoaXMuYW5pbWF0ZS5hZHZhbmNlKGRlbHRhVGltZSAqIDAuMDAxKVxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvUmFmKSB7XG4gICAgICB0aGlzLl9fcmFmSUQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5yYWYpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNjcm9sbCB0byBhIHRhcmdldCB2YWx1ZVxuICAgKlxuICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgdmFsdWUgdG8gc2Nyb2xsIHRvXG4gICAqIEBwYXJhbSBvcHRpb25zIFRoZSBvcHRpb25zIGZvciB0aGUgc2Nyb2xsXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGxlbmlzLnNjcm9sbFRvKDEwMCwge1xuICAgKiAgIG9mZnNldDogMTAwLFxuICAgKiAgIGR1cmF0aW9uOiAxLFxuICAgKiAgIGVhc2luZzogKHQpID0+IDEgLSBNYXRoLmNvcygodCAqIE1hdGguUEkpIC8gMiksXG4gICAqICAgbGVycDogMC4xLFxuICAgKiAgIG9uU3RhcnQ6ICgpID0+IHtcbiAgICogICAgIGNvbnNvbGUubG9nKCdvblN0YXJ0JylcbiAgICogICB9LFxuICAgKiAgIG9uQ29tcGxldGU6ICgpID0+IHtcbiAgICogICAgIGNvbnNvbGUubG9nKCdvbkNvbXBsZXRlJylcbiAgICogICB9LFxuICAgKiB9KVxuICAgKi9cbiAgc2Nyb2xsVG8oXG4gICAgdGFyZ2V0OiBudW1iZXIgfCBzdHJpbmcgfCBIVE1MRWxlbWVudCxcbiAgICB7XG4gICAgICBvZmZzZXQgPSAwLFxuICAgICAgaW1tZWRpYXRlID0gZmFsc2UsXG4gICAgICBsb2NrID0gZmFsc2UsXG4gICAgICBkdXJhdGlvbiA9IHRoaXMub3B0aW9ucy5kdXJhdGlvbixcbiAgICAgIGVhc2luZyA9IHRoaXMub3B0aW9ucy5lYXNpbmcsXG4gICAgICBsZXJwID0gdGhpcy5vcHRpb25zLmxlcnAsXG4gICAgICBvblN0YXJ0LFxuICAgICAgb25Db21wbGV0ZSxcbiAgICAgIGZvcmNlID0gZmFsc2UsIC8vIHNjcm9sbCBldmVuIGlmIHN0b3BwZWRcbiAgICAgIHByb2dyYW1tYXRpYyA9IHRydWUsIC8vIGNhbGxlZCBmcm9tIG91dHNpZGUgb2YgdGhlIGNsYXNzXG4gICAgICB1c2VyRGF0YSxcbiAgICB9OiBTY3JvbGxUb09wdGlvbnMgPSB7fVxuICApIHtcbiAgICBpZiAoKHRoaXMuaXNTdG9wcGVkIHx8IHRoaXMuaXNMb2NrZWQpICYmICFmb3JjZSkgcmV0dXJuXG5cbiAgICAvLyBrZXl3b3Jkc1xuICAgIGlmIChcbiAgICAgIHR5cGVvZiB0YXJnZXQgPT09ICdzdHJpbmcnICYmXG4gICAgICBbJ3RvcCcsICdsZWZ0JywgJ3N0YXJ0JywgJyMnXS5pbmNsdWRlcyh0YXJnZXQpXG4gICAgKSB7XG4gICAgICB0YXJnZXQgPSAwXG4gICAgfSBlbHNlIGlmIChcbiAgICAgIHR5cGVvZiB0YXJnZXQgPT09ICdzdHJpbmcnICYmXG4gICAgICBbJ2JvdHRvbScsICdyaWdodCcsICdlbmQnXS5pbmNsdWRlcyh0YXJnZXQpXG4gICAgKSB7XG4gICAgICB0YXJnZXQgPSB0aGlzLmxpbWl0XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBub2RlXG5cbiAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBDU1Mgc2VsZWN0b3JcbiAgICAgICAgbm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KVxuXG4gICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgIGlmICh0YXJnZXQgPT09ICcjdG9wJykge1xuICAgICAgICAgICAgdGFyZ2V0ID0gMFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0xlbmlzOiBUYXJnZXQgbm90IGZvdW5kJywgdGFyZ2V0KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiB0YXJnZXQ/Lm5vZGVUeXBlKSB7XG4gICAgICAgIC8vIE5vZGUgZWxlbWVudFxuICAgICAgICBub2RlID0gdGFyZ2V0XG4gICAgICB9XG5cbiAgICAgIGlmIChub2RlKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMud3JhcHBlciAhPT0gd2luZG93KSB7XG4gICAgICAgICAgLy8gbmVzdGVkIHNjcm9sbCBvZmZzZXQgY29ycmVjdGlvblxuICAgICAgICAgIGNvbnN0IHdyYXBwZXJSZWN0ID0gdGhpcy5yb290RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgICAgIG9mZnNldCAtPSB0aGlzLmlzSG9yaXpvbnRhbCA/IHdyYXBwZXJSZWN0LmxlZnQgOiB3cmFwcGVyUmVjdC50b3BcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlY3QgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG5cbiAgICAgICAgdGFyZ2V0ID1cbiAgICAgICAgICAodGhpcy5pc0hvcml6b250YWwgPyByZWN0LmxlZnQgOiByZWN0LnRvcCkgKyB0aGlzLmFuaW1hdGVkU2Nyb2xsXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB0YXJnZXQgIT09ICdudW1iZXInKSByZXR1cm5cblxuICAgIHRhcmdldCArPSBvZmZzZXRcbiAgICB0YXJnZXQgPSBNYXRoLnJvdW5kKHRhcmdldClcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuaW5maW5pdGUpIHtcbiAgICAgIGlmIChwcm9ncmFtbWF0aWMpIHtcbiAgICAgICAgdGhpcy50YXJnZXRTY3JvbGwgPSB0aGlzLmFuaW1hdGVkU2Nyb2xsID0gdGhpcy5zY3JvbGxcblxuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IHRhcmdldCAtIHRoaXMuYW5pbWF0ZWRTY3JvbGxcblxuICAgICAgICBpZiAoZGlzdGFuY2UgPiB0aGlzLmxpbWl0IC8gMikge1xuICAgICAgICAgIHRhcmdldCA9IHRhcmdldCAtIHRoaXMubGltaXRcbiAgICAgICAgfSBlbHNlIGlmIChkaXN0YW5jZSA8IC10aGlzLmxpbWl0IC8gMikge1xuICAgICAgICAgIHRhcmdldCA9IHRhcmdldCArIHRoaXMubGltaXRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXQgPSBjbGFtcCgwLCB0YXJnZXQsIHRoaXMubGltaXQpXG4gICAgfVxuXG4gICAgaWYgKHRhcmdldCA9PT0gdGhpcy50YXJnZXRTY3JvbGwpIHtcbiAgICAgIG9uU3RhcnQ/Lih0aGlzKVxuICAgICAgb25Db21wbGV0ZT8uKHRoaXMpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGlzLnVzZXJEYXRhID0gdXNlckRhdGEgPz8ge31cblxuICAgIGlmIChpbW1lZGlhdGUpIHtcbiAgICAgIHRoaXMuYW5pbWF0ZWRTY3JvbGwgPSB0aGlzLnRhcmdldFNjcm9sbCA9IHRhcmdldFxuICAgICAgdGhpcy5zZXRTY3JvbGwodGhpcy5zY3JvbGwpXG4gICAgICB0aGlzLnJlc2V0KClcbiAgICAgIHRoaXMucHJldmVudE5leHROYXRpdmVTY3JvbGxFdmVudCgpXG4gICAgICB0aGlzLmVtaXQoKVxuICAgICAgb25Db21wbGV0ZT8uKHRoaXMpXG4gICAgICB0aGlzLnVzZXJEYXRhID0ge31cblxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaFNjcm9sbGVuZEV2ZW50KClcbiAgICAgIH0pXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoIXByb2dyYW1tYXRpYykge1xuICAgICAgdGhpcy50YXJnZXRTY3JvbGwgPSB0YXJnZXRcbiAgICB9XG5cbiAgICAvLyBmbGlwIHRvIGVhc2luZy90aW1lIGJhc2VkIGFuaW1hdGlvbiBpZiBhdCBsZWFzdCBvbmUgb2YgdGhlbSBpcyBwcm92aWRlZFxuICAgIGlmICh0eXBlb2YgZHVyYXRpb24gPT09ICdudW1iZXInICYmIHR5cGVvZiBlYXNpbmcgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGVhc2luZyA9IGRlZmF1bHRFYXNpbmdcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlYXNpbmcgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGR1cmF0aW9uICE9PSAnbnVtYmVyJykge1xuICAgICAgZHVyYXRpb24gPSAxXG4gICAgfVxuXG4gICAgdGhpcy5hbmltYXRlLmZyb21Ubyh0aGlzLmFuaW1hdGVkU2Nyb2xsLCB0YXJnZXQsIHtcbiAgICAgIGR1cmF0aW9uLFxuICAgICAgZWFzaW5nLFxuICAgICAgbGVycCxcbiAgICAgIG9uU3RhcnQ6ICgpID0+IHtcbiAgICAgICAgLy8gc3RhcnRlZFxuICAgICAgICBpZiAobG9jaykgdGhpcy5pc0xvY2tlZCA9IHRydWVcbiAgICAgICAgdGhpcy5pc1Njcm9sbGluZyA9ICdzbW9vdGgnXG4gICAgICAgIG9uU3RhcnQ/Lih0aGlzKVxuICAgICAgfSxcbiAgICAgIG9uVXBkYXRlOiAodmFsdWU6IG51bWJlciwgY29tcGxldGVkOiBib29sZWFuKSA9PiB7XG4gICAgICAgIHRoaXMuaXNTY3JvbGxpbmcgPSAnc21vb3RoJ1xuXG4gICAgICAgIC8vIHVwZGF0ZWRcbiAgICAgICAgdGhpcy5sYXN0VmVsb2NpdHkgPSB0aGlzLnZlbG9jaXR5XG4gICAgICAgIHRoaXMudmVsb2NpdHkgPSB2YWx1ZSAtIHRoaXMuYW5pbWF0ZWRTY3JvbGxcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBNYXRoLnNpZ24odGhpcy52ZWxvY2l0eSkgYXMgTGVuaXNbJ2RpcmVjdGlvbiddXG5cbiAgICAgICAgdGhpcy5hbmltYXRlZFNjcm9sbCA9IHZhbHVlXG4gICAgICAgIHRoaXMuc2V0U2Nyb2xsKHRoaXMuc2Nyb2xsKVxuXG4gICAgICAgIGlmIChwcm9ncmFtbWF0aWMpIHtcbiAgICAgICAgICAvLyB3aGVlbCBkdXJpbmcgcHJvZ3JhbW1hdGljIHNob3VsZCBzdG9wIGl0XG4gICAgICAgICAgdGhpcy50YXJnZXRTY3JvbGwgPSB2YWx1ZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjb21wbGV0ZWQpIHRoaXMuZW1pdCgpXG5cbiAgICAgICAgaWYgKGNvbXBsZXRlZCkge1xuICAgICAgICAgIHRoaXMucmVzZXQoKVxuICAgICAgICAgIHRoaXMuZW1pdCgpXG4gICAgICAgICAgb25Db21wbGV0ZT8uKHRoaXMpXG4gICAgICAgICAgdGhpcy51c2VyRGF0YSA9IHt9XG5cbiAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaFNjcm9sbGVuZEV2ZW50KClcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgLy8gYXZvaWQgZW1pdHRpbmcgZXZlbnQgdHdpY2VcbiAgICAgICAgICB0aGlzLnByZXZlbnROZXh0TmF0aXZlU2Nyb2xsRXZlbnQoKVxuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pXG4gIH1cblxuICBwcml2YXRlIHByZXZlbnROZXh0TmF0aXZlU2Nyb2xsRXZlbnQoKSB7XG4gICAgdGhpcy5fcHJldmVudE5leHROYXRpdmVTY3JvbGxFdmVudCA9IHRydWVcblxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICB0aGlzLl9wcmV2ZW50TmV4dE5hdGl2ZVNjcm9sbEV2ZW50ID0gZmFsc2VcbiAgICB9KVxuICB9XG5cbiAgcHJpdmF0ZSBjaGVja05lc3RlZFNjcm9sbChcbiAgICBub2RlOiBIVE1MRWxlbWVudCxcbiAgICB7IGRlbHRhWCwgZGVsdGFZIH06IHsgZGVsdGFYOiBudW1iZXI7IGRlbHRhWTogbnVtYmVyIH1cbiAgKSB7XG4gICAgY29uc3QgdGltZSA9IERhdGUubm93KClcblxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBjb25zdCBjYWNoZSA9IChub2RlLl9sZW5pcyA/Pz0ge30pXG5cbiAgICBsZXQgaGFzT3ZlcmZsb3dYLFxuICAgICAgaGFzT3ZlcmZsb3dZLFxuICAgICAgaXNTY3JvbGxhYmxlWCxcbiAgICAgIGlzU2Nyb2xsYWJsZVksXG4gICAgICBzY3JvbGxXaWR0aCxcbiAgICAgIHNjcm9sbEhlaWdodCxcbiAgICAgIGNsaWVudFdpZHRoLFxuICAgICAgY2xpZW50SGVpZ2h0XG5cbiAgICBjb25zdCBnZXN0dXJlT3JpZW50YXRpb24gPSB0aGlzLm9wdGlvbnMuZ2VzdHVyZU9yaWVudGF0aW9uXG5cbiAgICBpZiAodGltZSAtIChjYWNoZS50aW1lID8/IDApID4gMjAwMCkge1xuICAgICAgY2FjaGUudGltZSA9IERhdGUubm93KClcblxuICAgICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG5vZGUpXG4gICAgICBjYWNoZS5jb21wdXRlZFN0eWxlID0gY29tcHV0ZWRTdHlsZVxuXG4gICAgICBjb25zdCBvdmVyZmxvd1hTdHJpbmcgPSBjb21wdXRlZFN0eWxlLm92ZXJmbG93WFxuICAgICAgY29uc3Qgb3ZlcmZsb3dZU3RyaW5nID0gY29tcHV0ZWRTdHlsZS5vdmVyZmxvd1lcblxuICAgICAgaGFzT3ZlcmZsb3dYID0gWydhdXRvJywgJ292ZXJsYXknLCAnc2Nyb2xsJ10uaW5jbHVkZXMob3ZlcmZsb3dYU3RyaW5nKVxuICAgICAgaGFzT3ZlcmZsb3dZID0gWydhdXRvJywgJ292ZXJsYXknLCAnc2Nyb2xsJ10uaW5jbHVkZXMob3ZlcmZsb3dZU3RyaW5nKVxuICAgICAgY2FjaGUuaGFzT3ZlcmZsb3dYID0gaGFzT3ZlcmZsb3dYXG4gICAgICBjYWNoZS5oYXNPdmVyZmxvd1kgPSBoYXNPdmVyZmxvd1lcblxuICAgICAgaWYgKCFoYXNPdmVyZmxvd1ggJiYgIWhhc092ZXJmbG93WSkgcmV0dXJuIGZhbHNlIC8vIGlmIG5vIG92ZXJmbG93LCBpdCdzIG5vdCBzY3JvbGxhYmxlIG5vIG1hdHRlciB3aGF0LCBlYXJseSByZXR1cm4gc2F2ZXMgc29tZSBjb21wdXRhdGlvbnNcbiAgICAgIGlmIChnZXN0dXJlT3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcgJiYgIWhhc092ZXJmbG93WSkgcmV0dXJuIGZhbHNlXG4gICAgICBpZiAoZ2VzdHVyZU9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcgJiYgIWhhc092ZXJmbG93WCkgcmV0dXJuIGZhbHNlXG5cbiAgICAgIHNjcm9sbFdpZHRoID0gbm9kZS5zY3JvbGxXaWR0aFxuICAgICAgc2Nyb2xsSGVpZ2h0ID0gbm9kZS5zY3JvbGxIZWlnaHRcblxuICAgICAgY2xpZW50V2lkdGggPSBub2RlLmNsaWVudFdpZHRoXG4gICAgICBjbGllbnRIZWlnaHQgPSBub2RlLmNsaWVudEhlaWdodFxuXG4gICAgICBpc1Njcm9sbGFibGVYID0gc2Nyb2xsV2lkdGggPiBjbGllbnRXaWR0aFxuICAgICAgaXNTY3JvbGxhYmxlWSA9IHNjcm9sbEhlaWdodCA+IGNsaWVudEhlaWdodFxuXG4gICAgICBjYWNoZS5pc1Njcm9sbGFibGVYID0gaXNTY3JvbGxhYmxlWFxuICAgICAgY2FjaGUuaXNTY3JvbGxhYmxlWSA9IGlzU2Nyb2xsYWJsZVlcbiAgICAgIGNhY2hlLnNjcm9sbFdpZHRoID0gc2Nyb2xsV2lkdGhcbiAgICAgIGNhY2hlLnNjcm9sbEhlaWdodCA9IHNjcm9sbEhlaWdodFxuICAgICAgY2FjaGUuY2xpZW50V2lkdGggPSBjbGllbnRXaWR0aFxuICAgICAgY2FjaGUuY2xpZW50SGVpZ2h0ID0gY2xpZW50SGVpZ2h0XG4gICAgfSBlbHNlIHtcbiAgICAgIGlzU2Nyb2xsYWJsZVggPSBjYWNoZS5pc1Njcm9sbGFibGVYXG4gICAgICBpc1Njcm9sbGFibGVZID0gY2FjaGUuaXNTY3JvbGxhYmxlWVxuICAgICAgaGFzT3ZlcmZsb3dYID0gY2FjaGUuaGFzT3ZlcmZsb3dYXG4gICAgICBoYXNPdmVyZmxvd1kgPSBjYWNoZS5oYXNPdmVyZmxvd1lcbiAgICAgIHNjcm9sbFdpZHRoID0gY2FjaGUuc2Nyb2xsV2lkdGhcbiAgICAgIHNjcm9sbEhlaWdodCA9IGNhY2hlLnNjcm9sbEhlaWdodFxuICAgICAgY2xpZW50V2lkdGggPSBjYWNoZS5jbGllbnRXaWR0aFxuICAgICAgY2xpZW50SGVpZ2h0ID0gY2FjaGUuY2xpZW50SGVpZ2h0XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgKCFoYXNPdmVyZmxvd1ggJiYgIWhhc092ZXJmbG93WSkgfHxcbiAgICAgICghaXNTY3JvbGxhYmxlWCAmJiAhaXNTY3JvbGxhYmxlWSlcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmIChnZXN0dXJlT3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcgJiYgKCFoYXNPdmVyZmxvd1kgfHwgIWlzU2Nyb2xsYWJsZVkpKVxuICAgICAgcmV0dXJuIGZhbHNlXG5cbiAgICBpZiAoXG4gICAgICBnZXN0dXJlT3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJyAmJlxuICAgICAgKCFoYXNPdmVyZmxvd1ggfHwgIWlzU2Nyb2xsYWJsZVgpXG4gICAgKVxuICAgICAgcmV0dXJuIGZhbHNlXG5cbiAgICBsZXQgb3JpZW50YXRpb246ICd4JyB8ICd5JyB8IHVuZGVmaW5lZFxuXG4gICAgaWYgKGdlc3R1cmVPcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICBvcmllbnRhdGlvbiA9ICd4J1xuICAgIH0gZWxzZSBpZiAoZ2VzdHVyZU9yaWVudGF0aW9uID09PSAndmVydGljYWwnKSB7XG4gICAgICBvcmllbnRhdGlvbiA9ICd5J1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBpc1Njcm9sbGluZ1ggPSBkZWx0YVggIT09IDBcbiAgICAgIGNvbnN0IGlzU2Nyb2xsaW5nWSA9IGRlbHRhWSAhPT0gMFxuXG4gICAgICBpZiAoaXNTY3JvbGxpbmdYICYmIGhhc092ZXJmbG93WCAmJiBpc1Njcm9sbGFibGVYKSB7XG4gICAgICAgIG9yaWVudGF0aW9uID0gJ3gnXG4gICAgICB9XG5cbiAgICAgIGlmIChpc1Njcm9sbGluZ1kgJiYgaGFzT3ZlcmZsb3dZICYmIGlzU2Nyb2xsYWJsZVkpIHtcbiAgICAgICAgb3JpZW50YXRpb24gPSAneSdcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIW9yaWVudGF0aW9uKSByZXR1cm4gZmFsc2VcblxuICAgIGxldCBzY3JvbGwsIG1heFNjcm9sbCwgZGVsdGEsIGhhc092ZXJmbG93LCBpc1Njcm9sbGFibGVcblxuICAgIGlmIChvcmllbnRhdGlvbiA9PT0gJ3gnKSB7XG4gICAgICBzY3JvbGwgPSBub2RlLnNjcm9sbExlZnRcbiAgICAgIG1heFNjcm9sbCA9IHNjcm9sbFdpZHRoIC0gY2xpZW50V2lkdGhcbiAgICAgIGRlbHRhID0gZGVsdGFYXG5cbiAgICAgIGhhc092ZXJmbG93ID0gaGFzT3ZlcmZsb3dYXG4gICAgICBpc1Njcm9sbGFibGUgPSBpc1Njcm9sbGFibGVYXG4gICAgfSBlbHNlIGlmIChvcmllbnRhdGlvbiA9PT0gJ3knKSB7XG4gICAgICBzY3JvbGwgPSBub2RlLnNjcm9sbFRvcFxuICAgICAgbWF4U2Nyb2xsID0gc2Nyb2xsSGVpZ2h0IC0gY2xpZW50SGVpZ2h0XG4gICAgICBkZWx0YSA9IGRlbHRhWVxuXG4gICAgICBoYXNPdmVyZmxvdyA9IGhhc092ZXJmbG93WVxuICAgICAgaXNTY3JvbGxhYmxlID0gaXNTY3JvbGxhYmxlWVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBjb25zdCB3aWxsU2Nyb2xsID0gZGVsdGEgPiAwID8gc2Nyb2xsIDwgbWF4U2Nyb2xsIDogc2Nyb2xsID4gMFxuXG4gICAgcmV0dXJuIHdpbGxTY3JvbGwgJiYgaGFzT3ZlcmZsb3cgJiYgaXNTY3JvbGxhYmxlXG4gIH1cblxuICAvKipcbiAgICogVGhlIHJvb3QgZWxlbWVudCBvbiB3aGljaCBsZW5pcyBpcyBpbnN0YW5jZWRcbiAgICovXG4gIGdldCByb290RWxlbWVudCgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5vcHRpb25zLndyYXBwZXIgPT09IHdpbmRvd1xuICAgICAgICA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudFxuICAgICAgICA6IHRoaXMub3B0aW9ucy53cmFwcGVyXG4gICAgKSBhcyBIVE1MRWxlbWVudFxuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBsaW1pdCB3aGljaCBpcyB0aGUgbWF4aW11bSBzY3JvbGwgdmFsdWVcbiAgICovXG4gIGdldCBsaW1pdCgpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLl9fZXhwZXJpbWVudGFsX19uYWl2ZURpbWVuc2lvbnMpIHtcbiAgICAgIGlmICh0aGlzLmlzSG9yaXpvbnRhbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb290RWxlbWVudC5zY3JvbGxXaWR0aCAtIHRoaXMucm9vdEVsZW1lbnQuY2xpZW50V2lkdGhcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvb3RFbGVtZW50LnNjcm9sbEhlaWdodCAtIHRoaXMucm9vdEVsZW1lbnQuY2xpZW50SGVpZ2h0XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmRpbWVuc2lvbnMubGltaXRbdGhpcy5pc0hvcml6b250YWwgPyAneCcgOiAneSddXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgb3Igbm90IHRoZSBzY3JvbGwgaXMgaG9yaXpvbnRhbFxuICAgKi9cbiAgZ2V0IGlzSG9yaXpvbnRhbCgpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLm9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCdcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYWN0dWFsIHNjcm9sbCB2YWx1ZVxuICAgKi9cbiAgZ2V0IGFjdHVhbFNjcm9sbCgpIHtcbiAgICAvLyB2YWx1ZSBicm93c2VyIHRha2VzIGludG8gYWNjb3VudFxuICAgIC8vIGl0IGhhcyB0byBiZSB0aGlzIHdheSBiZWNhdXNlIG9mIERPQ1RZUEUgZGVjbGFyYXRpb25cbiAgICBjb25zdCB3cmFwcGVyID0gdGhpcy5vcHRpb25zLndyYXBwZXIgYXMgV2luZG93IHwgSFRNTEVsZW1lbnRcblxuICAgIHJldHVybiB0aGlzLmlzSG9yaXpvbnRhbFxuICAgICAgPyAod3JhcHBlciBhcyBXaW5kb3cpLnNjcm9sbFggPz8gKHdyYXBwZXIgYXMgSFRNTEVsZW1lbnQpLnNjcm9sbExlZnRcbiAgICAgIDogKHdyYXBwZXIgYXMgV2luZG93KS5zY3JvbGxZID8/ICh3cmFwcGVyIGFzIEhUTUxFbGVtZW50KS5zY3JvbGxUb3BcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBzY3JvbGwgdmFsdWVcbiAgICovXG4gIGdldCBzY3JvbGwoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5pbmZpbml0ZVxuICAgICAgPyBtb2R1bG8odGhpcy5hbmltYXRlZFNjcm9sbCwgdGhpcy5saW1pdClcbiAgICAgIDogdGhpcy5hbmltYXRlZFNjcm9sbFxuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBwcm9ncmVzcyBvZiB0aGUgc2Nyb2xsIHJlbGF0aXZlIHRvIHRoZSBsaW1pdFxuICAgKi9cbiAgZ2V0IHByb2dyZXNzKCkge1xuICAgIC8vIGF2b2lkIHByb2dyZXNzIHRvIGJlIE5hTlxuICAgIHJldHVybiB0aGlzLmxpbWl0ID09PSAwID8gMSA6IHRoaXMuc2Nyb2xsIC8gdGhpcy5saW1pdFxuICB9XG5cbiAgLyoqXG4gICAqIEN1cnJlbnQgc2Nyb2xsIHN0YXRlXG4gICAqL1xuICBnZXQgaXNTY3JvbGxpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzU2Nyb2xsaW5nXG4gIH1cblxuICBwcml2YXRlIHNldCBpc1Njcm9sbGluZyh2YWx1ZTogU2Nyb2xsaW5nKSB7XG4gICAgaWYgKHRoaXMuX2lzU2Nyb2xsaW5nICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5faXNTY3JvbGxpbmcgPSB2YWx1ZVxuICAgICAgdGhpcy51cGRhdGVDbGFzc05hbWUoKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBsZW5pcyBpcyBzdG9wcGVkXG4gICAqL1xuICBnZXQgaXNTdG9wcGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9pc1N0b3BwZWRcbiAgfVxuXG4gIHByaXZhdGUgc2V0IGlzU3RvcHBlZCh2YWx1ZTogYm9vbGVhbikge1xuICAgIGlmICh0aGlzLl9pc1N0b3BwZWQgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLl9pc1N0b3BwZWQgPSB2YWx1ZVxuICAgICAgdGhpcy51cGRhdGVDbGFzc05hbWUoKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBsZW5pcyBpcyBsb2NrZWRcbiAgICovXG4gIGdldCBpc0xvY2tlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNMb2NrZWRcbiAgfVxuXG4gIHByaXZhdGUgc2V0IGlzTG9ja2VkKHZhbHVlOiBib29sZWFuKSB7XG4gICAgaWYgKHRoaXMuX2lzTG9ja2VkICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5faXNMb2NrZWQgPSB2YWx1ZVxuICAgICAgdGhpcy51cGRhdGVDbGFzc05hbWUoKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBsZW5pcyBpcyBzbW9vdGggc2Nyb2xsaW5nXG4gICAqL1xuICBnZXQgaXNTbW9vdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNTY3JvbGxpbmcgPT09ICdzbW9vdGgnXG4gIH1cblxuICAvKipcbiAgICogVGhlIGNsYXNzIG5hbWUgYXBwbGllZCB0byB0aGUgd3JhcHBlciBlbGVtZW50XG4gICAqL1xuICBnZXQgY2xhc3NOYW1lKCkge1xuICAgIGxldCBjbGFzc05hbWUgPSAnbGVuaXMnXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvVG9nZ2xlKSBjbGFzc05hbWUgKz0gJyBsZW5pcy1hdXRvVG9nZ2xlJ1xuICAgIGlmICh0aGlzLmlzU3RvcHBlZCkgY2xhc3NOYW1lICs9ICcgbGVuaXMtc3RvcHBlZCdcbiAgICBpZiAodGhpcy5pc0xvY2tlZCkgY2xhc3NOYW1lICs9ICcgbGVuaXMtbG9ja2VkJ1xuICAgIGlmICh0aGlzLmlzU2Nyb2xsaW5nKSBjbGFzc05hbWUgKz0gJyBsZW5pcy1zY3JvbGxpbmcnXG4gICAgaWYgKHRoaXMuaXNTY3JvbGxpbmcgPT09ICdzbW9vdGgnKSBjbGFzc05hbWUgKz0gJyBsZW5pcy1zbW9vdGgnXG4gICAgcmV0dXJuIGNsYXNzTmFtZVxuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVDbGFzc05hbWUoKSB7XG4gICAgdGhpcy5jbGVhblVwQ2xhc3NOYW1lKClcblxuICAgIHRoaXMucm9vdEVsZW1lbnQuY2xhc3NOYW1lID1cbiAgICAgIGAke3RoaXMucm9vdEVsZW1lbnQuY2xhc3NOYW1lfSAke3RoaXMuY2xhc3NOYW1lfWAudHJpbSgpXG4gIH1cblxuICBwcml2YXRlIGNsZWFuVXBDbGFzc05hbWUoKSB7XG4gICAgdGhpcy5yb290RWxlbWVudC5jbGFzc05hbWUgPSB0aGlzLnJvb3RFbGVtZW50LmNsYXNzTmFtZVxuICAgICAgLnJlcGxhY2UoL2xlbmlzKC1cXHcrKT8vZywgJycpXG4gICAgICAudHJpbSgpXG4gIH1cbn1cbiIsICIvKipcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiAgTWNDYW5uIFdlYnNpdGUgXHUyMDE0IFNtb290aCBTY3JvbGwgKExlbmlzKVxuICogIFB1cnBvc2U6IFdlaWdodGVkIG1vbWVudHVtIHNjcm9sbGluZyB3aXRoIHNuYXAgc3VwcG9ydFxuICogIERhdGU6IDIwMjUtMTEtMDVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IExlbmlzIGZyb20gJ2xlbmlzJztcblxuY29uc29sZS5sb2coJ1tTTU9PVEgtU0NST0xMXSBNb2R1bGUgbG9hZGVkJyk7XG5cbmxldCBsZW5pc0luc3RhbmNlID0gbnVsbDtcblxuLyoqXG4gKiBJbml0aWFsaXplIExlbmlzIHNtb290aCBzY3JvbGxcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gQ29uZmlndXJhdGlvbiBvcHRpb25zXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubGVycD0wLjFdIC0gTGVycCBmYWN0b3IgZm9yIG1vbWVudHVtIChsb3dlciA9IGhlYXZpZXIsIDAuMDUtMC4yKVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNuYXBMZXJwPTAuMTVdIC0gTGVycCBmb3IgcGFnZXMgd2l0aCBzY3JvbGwtc25hcCAobGlnaHRlciBmb3IgY3Jpc3Agc25hcHBpbmcpXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmluZmluaXRlPWZhbHNlXSAtIEVuYWJsZSBpbmZpbml0ZSBzY3JvbGxcbiAqIEByZXR1cm5zIHtMZW5pc3xudWxsfSAtIExlbmlzIGluc3RhbmNlIG9yIG51bGwgaWYgaW5pdGlhbGl6YXRpb24gZmFpbHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRTbW9vdGhTY3JvbGwob3B0aW9ucyA9IHt9KSB7XG4gIGlmIChsZW5pc0luc3RhbmNlKSB7XG4gICAgY29uc29sZS5sb2coJ1tTTU9PVEgtU0NST0xMXSBBbHJlYWR5IGluaXRpYWxpemVkJyk7XG4gICAgcmV0dXJuIGxlbmlzSW5zdGFuY2U7XG4gIH1cblxuICAvLyBEZXRlY3QgaWYgd2UncmUgb24gYSBwYWdlIHdpdGggc2Nyb2xsLXNuYXAgKGhvbWVwYWdlKVxuICBjb25zdCBoYXNTbmFwQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBlcnNwZWN0aXZlLXdyYXBwZXInKSAhPT0gbnVsbDtcbiAgXG4gIC8vIFNraXAgaW5pdGlhbGl6YXRpb24gb24gcGFnZXMgd2l0aCBzY3JvbGwtc25hcCBjb250YWluZXJzXG4gIC8vIFRob3NlIHBhZ2VzIGhhdmUgdGhlaXIgb3duIHNjcm9sbCBjb250YWluZXIgYW5kIG5hdGl2ZSBzbmFwIHdvcmtzIGJldHRlclxuICBpZiAoaGFzU25hcENvbnRhaW5lciAmJiAhb3B0aW9ucy5mb3JjZUVuYWJsZU9uU25hcCkge1xuICAgIGNvbnNvbGUubG9nKCdbU01PT1RILVNDUk9MTF0gXHUyNkEwXHVGRTBGIFNraXBwZWQgLSBwYWdlIGhhcyBzY3JvbGwtc25hcCBjb250YWluZXInKTtcbiAgICBjb25zb2xlLmxvZygnW1NNT09USC1TQ1JPTExdIFVzaW5nIG5hdGl2ZSBzY3JvbGxpbmcgZm9yIG9wdGltYWwgc25hcCBiZWhhdmlvcicpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIFxuICAvLyBVc2Ugc3RhbmRhcmQgbGVycCBmb3IgcGFnZXMgd2l0aG91dCBzbmFwXG4gIGNvbnN0IGRlZmF1bHRMZXJwID0gb3B0aW9ucy5sZXJwID8/IDAuMDg7XG4gIFxuICBjb25zdCBjb25maWcgPSB7XG4gICAgbGVycDogZGVmYXVsdExlcnAsXG4gICAgZHVyYXRpb246IDEuMiwgICAgICAgICAgICAgIC8vIFNjcm9sbCBkdXJhdGlvbiBmYWN0b3JcbiAgICBvcmllbnRhdGlvbjogJ3ZlcnRpY2FsJywgICAgLy8gJ3ZlcnRpY2FsJyB8ICdob3Jpem9udGFsJ1xuICAgIGdlc3R1cmVPcmllbnRhdGlvbjogJ3ZlcnRpY2FsJyxcbiAgICBzbW9vdGhXaGVlbDogdHJ1ZSxcbiAgICBzbW9vdGhUb3VjaDogZmFsc2UsICAgICAgICAgLy8gS2VlcCBuYXRpdmUgdG91Y2ggZm9yIG1vYmlsZSAoYmV0dGVyIHdpdGggc25hcClcbiAgICB3aGVlbE11bHRpcGxpZXI6IDEuMCwgICAgICAgLy8gQWRqdXN0IHNjcm9sbCBzcGVlZCAoaGlnaGVyID0gZmFzdGVyKVxuICAgIHRvdWNoTXVsdGlwbGllcjogMi4wLFxuICAgIGluZmluaXRlOiBvcHRpb25zLmluZmluaXRlID8/IGZhbHNlLFxuICAgIC4uLm9wdGlvbnNcbiAgfTtcblxuICB0cnkge1xuICAgIGxlbmlzSW5zdGFuY2UgPSBuZXcgTGVuaXMoY29uZmlnKTtcblxuICAgIC8vIFJBRiBsb29wIGZvciBzbW9vdGggc2Nyb2xsXG4gICAgZnVuY3Rpb24gcmFmKHRpbWUpIHtcbiAgICAgIGxlbmlzSW5zdGFuY2UucmFmKHRpbWUpO1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJhZik7XG4gICAgfVxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShyYWYpO1xuXG4gICAgLy8gSW50ZWdyYXRlIHdpdGggR1NBUCBTY3JvbGxUcmlnZ2VyIGlmIGF2YWlsYWJsZVxuICAgIGlmICh3aW5kb3cuZ3NhcCAmJiB3aW5kb3cuU2Nyb2xsVHJpZ2dlcikge1xuICAgICAgbGVuaXNJbnN0YW5jZS5vbignc2Nyb2xsJywgU2Nyb2xsVHJpZ2dlci51cGRhdGUpO1xuICAgICAgXG4gICAgICAvLyBUZWxsIEdTQVAgdG8gdXNlIExlbmlzJ3Mgc2Nyb2xsIHZhbHVlc1xuICAgICAgd2luZG93LmdzYXAudGlja2VyLmFkZCgodGltZSkgPT4ge1xuICAgICAgICBsZW5pc0luc3RhbmNlLnJhZih0aW1lICogMTAwMCk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gRGlzYWJsZSBsYWcgc21vb3RoaW5nIGluIEdTQVAgdGlja2VyXG4gICAgICB3aW5kb3cuZ3NhcC50aWNrZXIubGFnU21vb3RoaW5nKDApO1xuICAgIH1cblxuICAgIC8vIEV4cG9zZSBzdG9wL3N0YXJ0IG1ldGhvZHMgZm9yIGxpZ2h0Ym94L21vZGFsIGludGVncmF0aW9uXG4gICAgd2luZG93LkFwcCA9IHdpbmRvdy5BcHAgfHwge307XG4gICAgd2luZG93LkFwcC5zbW9vdGhTY3JvbGwgPSB7XG4gICAgICBzdG9wOiAoKSA9PiBsZW5pc0luc3RhbmNlLnN0b3AoKSxcbiAgICAgIHN0YXJ0OiAoKSA9PiBsZW5pc0luc3RhbmNlLnN0YXJ0KCksXG4gICAgICBpbnN0YW5jZTogbGVuaXNJbnN0YW5jZVxuICAgIH07XG5cbiAgICBjb25zb2xlLmxvZyhgW1NNT09USC1TQ1JPTExdIFx1MjcxMyBJbml0aWFsaXplZCB3aXRoIG1vbWVudHVtIHNjcm9sbGluZyAobGVycDogJHtkZWZhdWx0TGVycH0pYCk7XG4gICAgcmV0dXJuIGxlbmlzSW5zdGFuY2U7XG5cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcignW1NNT09USC1TQ1JPTExdIFx1Mjc0QyBJbml0IGVycm9yOicsIGVycik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBTdG9wIHNtb290aCBzY3JvbGwgKHVzZWZ1bCBmb3IgbW9kYWxzL2xpZ2h0Ym94ZXMpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdG9wU21vb3RoU2Nyb2xsKCkge1xuICBpZiAobGVuaXNJbnN0YW5jZSkge1xuICAgIGxlbmlzSW5zdGFuY2Uuc3RvcCgpO1xuICB9XG59XG5cbi8qKlxuICogU3RhcnQgc21vb3RoIHNjcm9sbFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRTbW9vdGhTY3JvbGwoKSB7XG4gIGlmIChsZW5pc0luc3RhbmNlKSB7XG4gICAgbGVuaXNJbnN0YW5jZS5zdGFydCgpO1xuICB9XG59XG5cbi8qKlxuICogRGVzdHJveSBzbW9vdGggc2Nyb2xsIGluc3RhbmNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXN0cm95U21vb3RoU2Nyb2xsKCkge1xuICBpZiAobGVuaXNJbnN0YW5jZSkge1xuICAgIGxlbmlzSW5zdGFuY2UuZGVzdHJveSgpO1xuICAgIGxlbmlzSW5zdGFuY2UgPSBudWxsO1xuICAgIGNvbnNvbGUubG9nKCdbU01PT1RILVNDUk9MTF0gRGVzdHJveWVkJyk7XG4gIH1cbn1cblxuLyoqXG4gKiBJbml0aWFsaXplIExlbmlzIGZvciBhIHNwZWNpZmljIGNvbnRhaW5lciBlbGVtZW50IChlLmcuLCBsaWdodGJveCBvdmVybGF5KVxuICogVXNlcyB0aGUgc2FtZSBzZXR0aW5ncyBhcyBtYWluIHNtb290aCBzY3JvbGwgZm9yIGNvbnNpc3RlbmN5XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fHN0cmluZ30gY29udGFpbmVyIC0gQ29udGFpbmVyIGVsZW1lbnQgb3Igc2VsZWN0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gQ29uZmlndXJhdGlvbiBvcHRpb25zIChzYW1lIGFzIG1haW4gc21vb3RoIHNjcm9sbClcbiAqIEByZXR1cm5zIHtMZW5pc3xudWxsfSAtIExlbmlzIGluc3RhbmNlIG9yIG51bGwgaWYgaW5pdGlhbGl6YXRpb24gZmFpbHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRDb250YWluZXJTY3JvbGwoY29udGFpbmVyLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgZWxlbWVudCA9IHR5cGVvZiBjb250YWluZXIgPT09ICdzdHJpbmcnIFxuICAgID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXIpIFxuICAgIDogY29udGFpbmVyO1xuICBcbiAgaWYgKCFlbGVtZW50KSB7XG4gICAgY29uc29sZS53YXJuKGBbU01PT1RILVNDUk9MTF0gQ29udGFpbmVyIG5vdCBmb3VuZDogJHtjb250YWluZXJ9YCk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBVc2Ugc2FtZSBkZWZhdWx0IGNvbmZpZyBhcyBtYWluIHNtb290aCBzY3JvbGxcbiAgY29uc3QgZGVmYXVsdExlcnAgPSBvcHRpb25zLmxlcnAgPz8gMC4wODtcbiAgXG4gIC8vIEZvciBjb250YWluZXIgc2Nyb2xsaW5nLCBMZW5pcyBuZWVkcyB3cmFwcGVyIChzY3JvbGwgY29udGFpbmVyKSBhbmQgY29udGVudCAoc2Nyb2xsYWJsZSBlbGVtZW50KVxuICAvLyBJZiBubyBleHBsaWNpdCBjb250ZW50IGlzIHByb3ZpZGVkLCB1c2UgdGhlIGNvbnRhaW5lcidzIGZpcnN0IGNoaWxkIG9yIHRoZSBjb250YWluZXIgaXRzZWxmXG4gIGNvbnN0IGNvbnRlbnRFbGVtZW50ID0gb3B0aW9ucy5jb250ZW50IFxuICAgID8gKHR5cGVvZiBvcHRpb25zLmNvbnRlbnQgPT09ICdzdHJpbmcnID8gZWxlbWVudC5xdWVyeVNlbGVjdG9yKG9wdGlvbnMuY29udGVudCkgOiBvcHRpb25zLmNvbnRlbnQpXG4gICAgOiAoZWxlbWVudC5jaGlsZHJlbi5sZW5ndGggPiAwID8gZWxlbWVudC5jaGlsZHJlblswXSA6IGVsZW1lbnQpO1xuICBcbiAgY29uc3QgY29uZmlnID0ge1xuICAgIHdyYXBwZXI6IGVsZW1lbnQsICAvLyBTY3JvbGwgY29udGFpbmVyXG4gICAgY29udGVudDogY29udGVudEVsZW1lbnQsICAvLyBTY3JvbGxhYmxlIGNvbnRlbnQgaW5zaWRlIHdyYXBwZXJcbiAgICBsZXJwOiBkZWZhdWx0TGVycCxcbiAgICBkdXJhdGlvbjogMS4yLFxuICAgIG9yaWVudGF0aW9uOiAndmVydGljYWwnLFxuICAgIGdlc3R1cmVPcmllbnRhdGlvbjogJ3ZlcnRpY2FsJyxcbiAgICBzbW9vdGhXaGVlbDogdHJ1ZSxcbiAgICBzbW9vdGhUb3VjaDogZmFsc2UsICAvLyBLZWVwIG5hdGl2ZSB0b3VjaCBmb3IgbW9iaWxlXG4gICAgd2hlZWxNdWx0aXBsaWVyOiAxLjAsXG4gICAgdG91Y2hNdWx0aXBsaWVyOiAyLjAsXG4gICAgaW5maW5pdGU6IGZhbHNlLFxuICAgIC4uLm9wdGlvbnNcbiAgfTtcblxuICAvLyBSZW1vdmUgd3JhcHBlci9jb250ZW50IGZyb20gb3B0aW9ucyB0byBhdm9pZCBkdXBsaWNhdGlvblxuICBkZWxldGUgY29uZmlnLndyYXBwZXI7XG4gIGRlbGV0ZSBjb25maWcuY29udGVudDtcblxuICB0cnkge1xuICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IExlbmlzKHtcbiAgICAgIHdyYXBwZXI6IGVsZW1lbnQsXG4gICAgICBjb250ZW50OiBjb250ZW50RWxlbWVudCxcbiAgICAgIC4uLmNvbmZpZ1xuICAgIH0pO1xuXG4gICAgLy8gUkFGIGxvb3AgZm9yIHNtb290aCBzY3JvbGxcbiAgICBmdW5jdGlvbiByYWYodGltZSkge1xuICAgICAgaW5zdGFuY2UucmFmKHRpbWUpO1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJhZik7XG4gICAgfVxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShyYWYpO1xuXG4gICAgLy8gSW50ZWdyYXRlIHdpdGggR1NBUCBTY3JvbGxUcmlnZ2VyIGlmIGF2YWlsYWJsZVxuICAgIGlmICh3aW5kb3cuZ3NhcCAmJiB3aW5kb3cuU2Nyb2xsVHJpZ2dlcikge1xuICAgICAgaW5zdGFuY2Uub24oJ3Njcm9sbCcsIFNjcm9sbFRyaWdnZXIudXBkYXRlKTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhgW1NNT09USC1TQ1JPTExdIFx1MjcxMyBDb250YWluZXIgc2Nyb2xsIGluaXRpYWxpemVkIGZvciAke3R5cGVvZiBjb250YWluZXIgPT09ICdzdHJpbmcnID8gY29udGFpbmVyIDogZWxlbWVudC5jbGFzc05hbWUgfHwgJ2VsZW1lbnQnfWApO1xuICAgIHJldHVybiBpbnN0YW5jZTtcblxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbU01PT1RILVNDUk9MTF0gXHUyNzRDIENvbnRhaW5lciBzY3JvbGwgaW5pdCBlcnJvcjonLCBlcnIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogU2Nyb2xsIHRvIGEgdGFyZ2V0IGVsZW1lbnQgb3IgcG9zaXRpb25cbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcnxIVE1MRWxlbWVudH0gdGFyZ2V0IC0gU2VsZWN0b3IsIHBvc2l0aW9uLCBvciBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFNjcm9sbCBvcHRpb25zIChvZmZzZXQsIGR1cmF0aW9uLCBldGMuKVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2Nyb2xsVG8odGFyZ2V0LCBvcHRpb25zID0ge30pIHtcbiAgaWYgKGxlbmlzSW5zdGFuY2UpIHtcbiAgICBsZW5pc0luc3RhbmNlLnNjcm9sbFRvKHRhcmdldCwgb3B0aW9ucyk7XG4gIH1cbn1cblxuIiwgIi8qKlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqICBNY0Nhbm4gV2Vic2l0ZSBcdTIwMTQgTGlnaHRib3ggTW9kdWxlXG4gKiAgUHVycG9zZTogRHluYW1pYyBwcm9qZWN0IGxpZ2h0Ym94IHdpdGggSlNPTiBkYXRhIGFuZCBzdGF0ZSBtYWNoaW5lXG4gKiAgRGF0ZTogMjAyNS0xMS0wNlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQgeyBlbWl0IH0gZnJvbSAnLi4vY29yZS9ldmVudHMuanMnO1xuaW1wb3J0IHsgbG9ja1Njcm9sbCwgdW5sb2NrU2Nyb2xsIH0gZnJvbSAnLi4vY29yZS9zY3JvbGxsb2NrLmpzJztcbmltcG9ydCB7IG1vdW50VmltZW8gfSBmcm9tICcuL3ZpbWVvLmpzJztcbmltcG9ydCB7IGluaXRDb250YWluZXJTY3JvbGwgfSBmcm9tICcuL3Ntb290aC1zY3JvbGwuanMnO1xuaW1wb3J0IHByb2plY3REYXRhSnNvbiBmcm9tICcuLi9kYXRhL3Byb2plY3QtZGF0YS5qc29uJztcblxuY29uc29sZS5sb2coJ1tMSUdIVEJPWF0gTW9kdWxlIGxvYWRlZCcpO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNUQVRFIE1BQ0hJTkVcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jb25zdCBTVEFURSA9IHtcbiAgSURMRTogJ2lkbGUnLFxuICBPUEVOSU5HOiAnb3BlbmluZycsXG4gIE9QRU46ICdvcGVuJyxcbiAgQ0xPU0lORzogJ2Nsb3NpbmcnXG59O1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIE1PRFVMRSBTVEFURVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmxldCBjdXJyZW50U3RhdGUgPSBTVEFURS5JRExFO1xubGV0IHByb2plY3REYXRhID0gbnVsbDtcbmxldCBsYXN0Rm9jdXMgPSBudWxsO1xubGV0IG92ZXJsYXlMZW5pcyA9IG51bGw7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0TGlnaHRib3goeyBcbiAgcm9vdCA9ICcjbGlnaHRib3gnLFxuICBvcGVuRHVyYXRpb24gPSAxMDAwLCAgLy8gSU1QT1JUQU5UOiBNdXN0IG1hdGNoIFdlYmZsb3cgSVgzICdsYjpvcGVuJyBhbmltYXRpb24gZHVyYXRpb25cbiAgY2xvc2VEdXJhdGlvbiA9IDEwMDAgIC8vIElNUE9SVEFOVDogTXVzdCBtYXRjaCBXZWJmbG93IElYMyAnbGI6Y2xvc2UnIGFuaW1hdGlvbiBkdXJhdGlvblxufSA9IHt9KSB7XG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBTRVRVUCAmIERPTSBSRUZFUkVOQ0VTXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBcbiAgY29uc3QgbGIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHJvb3QpO1xuICBpZiAoIWxiKSB7IFxuICAgIGNvbnNvbGUubG9nKCdbTElHSFRCT1hdIFx1Mjc0QyBFbGVtZW50IG5vdCBmb3VuZCcpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGlubmVyID0gbGIucXVlcnlTZWxlY3RvcignLmxpZ2h0Ym94X19pbm5lcicpO1xuICBjb25zdCB2aWRlb0FyZWEgPSBsYi5xdWVyeVNlbGVjdG9yKCcudmlkZW8tYXJlYScpO1xuICBjb25zdCBvdmVybGF5ID0gbGIucXVlcnlTZWxlY3RvcignLmxpZ2h0Ym94X19vdmVybGF5Jyk7XG4gIGNvbnN0IGNsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Nsb3NlLWJ0bicpO1xuICBjb25zdCBzbGlkZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGUnKTtcbiAgY29uc3QgcHJlZmVyc1JlZHVjZWQgPSBtYXRjaE1lZGlhKCcocHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogcmVkdWNlKScpLm1hdGNoZXM7XG5cbiAgLy8gQ29udGVudCBpbmplY3Rpb24gdGFyZ2V0cyAoSURzLCBub3QgY2xhc3NlcylcbiAgY29uc3QgY2xpZW50RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGlnaHRib3gtY2xpZW50Jyk7XG4gIGNvbnN0IHRpdGxlRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGlnaHRib3gtdGl0bGUnKTtcbiAgY29uc3QgdHJ1dGhFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsaWdodGJveC10cnV0aCcpO1xuICBjb25zdCB0cnV0aFdlbGxUb2xkRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGlnaHRib3gtdHJ1dGh3ZWxsdG9sZCcpO1xuICBjb25zdCBkZXNjcmlwdGlvbkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xpZ2h0Ym94LWRlc2NyaXB0aW9uJyk7XG4gIGNvbnN0IGF3YXJkc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsaWdodGJveC1hd2FyZHMnKTtcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gSU5JVElBTElaQVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFxuICAvLyBTZXQgYWNjZXNzaWJpbGl0eSBhdHRyaWJ1dGVzXG4gIGxiLnNldEF0dHJpYnV0ZSgncm9sZScsIGxiLmdldEF0dHJpYnV0ZSgncm9sZScpIHx8ICdkaWFsb2cnKTtcbiAgbGIuc2V0QXR0cmlidXRlKCdhcmlhLW1vZGFsJywgbGIuZ2V0QXR0cmlidXRlKCdhcmlhLW1vZGFsJykgfHwgJ3RydWUnKTtcbiAgbGIuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gIGxiLnNldEF0dHJpYnV0ZSgnZGF0YS1zdGF0ZScsIFNUQVRFLklETEUpO1xuICBcbiAgLy8gRW5zdXJlIHNjcm9sbCBpcyB1bmxvY2tlZCBvbiBwYWdlIGxvYWRcbiAgdW5sb2NrU2Nyb2xsKHsgZGVsYXlNczogMCB9KTtcbiAgXG4gIC8vIExvYWQgcHJvamVjdCBkYXRhIGZyb20gYnVuZGxlZCBKU09OXG4gIHByb2plY3REYXRhID0gcHJvamVjdERhdGFKc29uO1xuICBjb25zdCBwcm9qZWN0Q291bnQgPSBPYmplY3Qua2V5cyhwcm9qZWN0RGF0YSkubGVuZ3RoO1xuICBjb25zb2xlLmxvZyhgW0xJR0hUQk9YXSBcdTI3MTMgTG9hZGVkICR7cHJvamVjdENvdW50fSBwcm9qZWN0JHtwcm9qZWN0Q291bnQgIT09IDEgPyAncycgOiAnJ30gZnJvbSBidW5kbGVkIGRhdGFgKTtcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gVkFMSURBVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgXG4gIGNvbnNvbGUubG9nKCdcXG5cdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDEnKTtcbiAgY29uc29sZS5sb2coJ1x1RDgzRFx1REQwRCBMSUdIVEJPWCBTRVRVUCBWQUxJREFUSU9OJyk7XG4gIGNvbnNvbGUubG9nKCdcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcXG4nKTtcblxuICBjb25zb2xlLmxvZygnMVx1RkUwRlx1MjBFMyAgTWFpbiBDb250YWluZXInKTtcbiAgY29uc29sZS5sb2coYCAgIFx1MjcxMyBGb3VuZDogJHtyb290fWApO1xuICBjb25zb2xlLmxvZyhgICAgXHUyNzEzIFN0YXRlIG1hY2hpbmUgaW5pdGlhbGl6ZWQ6ICR7Y3VycmVudFN0YXRlfWApO1xuICBjb25zb2xlLmxvZyhgICAgXHUyM0YxXHVGRTBGICBPcGVuIGR1cmF0aW9uOiAke29wZW5EdXJhdGlvbn1tcyAobXVzdCBtYXRjaCBXZWJmbG93ICdsYjpvcGVuJyBhbmltYXRpb24pYCk7XG4gIGNvbnNvbGUubG9nKGAgICBcdTIzRjFcdUZFMEYgIENsb3NlIGR1cmF0aW9uOiAke2Nsb3NlRHVyYXRpb259bXMgKG11c3QgbWF0Y2ggV2ViZmxvdyAnbGI6Y2xvc2UnIGFuaW1hdGlvbilgKTtcbiAgXG4gIGNvbnNvbGUubG9nKCdcXG4yXHVGRTBGXHUyMEUzICBDb250ZW50IEluamVjdGlvbiBUYXJnZXRzJyk7XG4gIGNvbnNvbGUubG9nKGAgICAke2NsaWVudEVsID8gJ1x1MjcxMycgOiAnXHUyNzRDJ30gI2xpZ2h0Ym94LWNsaWVudGApO1xuICBjb25zb2xlLmxvZyhgICAgJHt0aXRsZUVsID8gJ1x1MjcxMycgOiAnXHUyNzRDJ30gI2xpZ2h0Ym94LXRpdGxlYCk7XG4gIGNvbnNvbGUubG9nKGAgICAke3RydXRoRWwgPyAnXHUyNzEzJyA6ICdcdTI3NEMnfSAjbGlnaHRib3gtdHJ1dGhgKTtcbiAgY29uc29sZS5sb2coYCAgICR7dHJ1dGhXZWxsVG9sZEVsID8gJ1x1MjcxMycgOiAnXHUyNzRDJ30gI2xpZ2h0Ym94LXRydXRod2VsbHRvbGRgKTtcbiAgY29uc29sZS5sb2coYCAgICR7ZGVzY3JpcHRpb25FbCA/ICdcdTI3MTMnIDogJ1x1Mjc0Qyd9ICNsaWdodGJveC1kZXNjcmlwdGlvbmApO1xuICBjb25zb2xlLmxvZyhgICAgJHthd2FyZHNDb250YWluZXIgPyAnXHUyNzEzJyA6ICdcdTI3NEMnfSAjbGlnaHRib3gtYXdhcmRzYCk7XG4gIGNvbnNvbGUubG9nKGAgICAke3ZpZGVvQXJlYSA/ICdcdTI3MTMnIDogJ1x1Mjc0Qyd9IC52aWRlby1hcmVhYCk7XG4gIFxuICBjb25zb2xlLmxvZygnXFxuM1x1RkUwRlx1MjBFMyAgU2xpZGUgVHJpZ2dlcnMnKTtcbiAgY29uc29sZS5sb2coYCAgIFx1MjcxMyBGb3VuZDogJHtzbGlkZXMubGVuZ3RofSAuc2xpZGUgZWxlbWVudHNgKTtcbiAgXG4gIC8vIFZhbGlkYXRlIHNsaWRlIGRhdGEgaW1tZWRpYXRlbHkgKGRhdGEgaXMgYWxyZWFkeSBsb2FkZWQpXG4gIHZhbGlkYXRlU2xpZGVEYXRhKCk7XG4gIFxuICBjb25zb2xlLmxvZygnXFxuNFx1RkUwRlx1MjBFMyAgV2ViZmxvdyBJWCBTZXR1cCcpO1xuICBjb25zdCB3Zkl4ID0gKHdpbmRvdy5XZWJmbG93ICYmIHdpbmRvdy5XZWJmbG93LnJlcXVpcmUpXG4gICAgPyAod2luZG93LldlYmZsb3cucmVxdWlyZSgnaXgzJykgfHwgd2luZG93LldlYmZsb3cucmVxdWlyZSgnaXgyJykpXG4gICAgOiBudWxsO1xuICBcbiAgaWYgKHdmSXgpIHtcbiAgICBjb25zdCB2ZXJzaW9uID0gd2luZG93LldlYmZsb3cucmVxdWlyZSgnaXgzJykgPyAnSVgzJyA6ICdJWDInO1xuICAgIGNvbnNvbGUubG9nKGAgICBcdTI3MTMgV2ViZmxvdyAke3ZlcnNpb259IGRldGVjdGVkYCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS53YXJuKCcgICBcdTI2QTBcdUZFMEYgIFdlYmZsb3cgSVggTk9UIGRldGVjdGVkJyk7XG4gIH1cbiAgXG4gIGNvbnNvbGUubG9nKCdcXG4gICBcdUQ4M0RcdURDQ0IgUmVxdWlyZWQgQ3VzdG9tIEV2ZW50cyBpbiBXZWJmbG93OicpO1xuICBjb25zb2xlLmxvZygnICAgICAgXHUyMDIyIFwibGI6b3BlblwiIFx1MjE5MiB0cmlnZ2VycyBvcGVuIGFuaW1hdGlvbicpO1xuICBjb25zb2xlLmxvZygnICAgICAgXHUyMDIyIFwibGI6Y2xvc2VcIiBcdTIxOTIgdHJpZ2dlcnMgY2xvc2UgYW5pbWF0aW9uJyk7XG4gIGNvbnNvbGUubG9nKGAgICAgICBcdTIwMjIgRHVyYXRpb25zIE1VU1QgbWF0Y2g6IG9wZW49JHtvcGVuRHVyYXRpb259bXMsIGNsb3NlPSR7Y2xvc2VEdXJhdGlvbn1tc2ApO1xuICBcbiAgY29uc29sZS5sb2coJ1xcblx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMScpO1xuICBjb25zb2xlLmxvZygnXHUyNzA1IFZBTElEQVRJT04gQ09NUExFVEVcXG4nKTtcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gSEVMUEVSIEZVTkNUSU9OU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgXG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBzbGlkZSBkYXRhIGF0dHJpYnV0ZXMgYWdhaW5zdCBsb2FkZWQgSlNPTlxuICAgKi9cbiAgZnVuY3Rpb24gdmFsaWRhdGVTbGlkZURhdGEoKSB7XG4gICAgaWYgKCFwcm9qZWN0RGF0YSkgcmV0dXJuO1xuICAgIFxuICAgIGxldCB2YWxpZFNsaWRlcyA9IDA7XG4gICAgbGV0IG1pc3NpbmdEYXRhID0gW107XG4gICAgXG4gICAgc2xpZGVzLmZvckVhY2goKHNsaWRlLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgcHJvamVjdElkID0gc2xpZGUuZGF0YXNldC5wcm9qZWN0O1xuICAgICAgaWYgKCFwcm9qZWN0SWQpIHtcbiAgICAgICAgbWlzc2luZ0RhdGEucHVzaChgU2xpZGUgJHtpbmRleH06IG1pc3NpbmcgZGF0YS1wcm9qZWN0IGF0dHJpYnV0ZWApO1xuICAgICAgfSBlbHNlIGlmICghcHJvamVjdERhdGFbcHJvamVjdElkXSkge1xuICAgICAgICBtaXNzaW5nRGF0YS5wdXNoKGBTbGlkZSAke2luZGV4fTogcHJvamVjdCBJRCBcIiR7cHJvamVjdElkfVwiIG5vdCBmb3VuZCBpbiBKU09OYCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWxpZFNsaWRlcysrO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGBbTElHSFRCT1hdIFx1MjcxMyBWYWxpZCBzbGlkZXM6ICR7dmFsaWRTbGlkZXN9LyR7c2xpZGVzLmxlbmd0aH1gKTtcbiAgICBpZiAobWlzc2luZ0RhdGEubGVuZ3RoID4gMCkge1xuICAgICAgY29uc29sZS53YXJuKCdbTElHSFRCT1hdIFx1MjZBMFx1RkUwRiAgSXNzdWVzIGZvdW5kOicpO1xuICAgICAgbWlzc2luZ0RhdGEuZm9yRWFjaChtc2cgPT4gY29uc29sZS53YXJuKGAgICAtICR7bXNnfWApKTtcbiAgICB9XG4gIH1cbiAgXG4gIC8qKlxuICAgKiBFbWl0IGN1c3RvbSBldmVudCB2aWEgV2ViZmxvdyBJWCBmb3IgR1NBUCBhbmltYXRpb25zXG4gICAqL1xuICBmdW5jdGlvbiBlbWl0V2ViZmxvd0V2ZW50KG5hbWUpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKHdpbmRvdy5XZWJmbG93ICYmIHdpbmRvdy5XZWJmbG93LnJlcXVpcmUpIHtcbiAgICAgICAgY29uc3Qgd2ZJeCA9IHdpbmRvdy5XZWJmbG93LnJlcXVpcmUoJ2l4MycpIHx8IHdpbmRvdy5XZWJmbG93LnJlcXVpcmUoJ2l4MicpO1xuICAgICAgICBpZiAod2ZJeCAmJiB0eXBlb2Ygd2ZJeC5lbWl0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgd2ZJeC5lbWl0KG5hbWUpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBcdUQ4M0NcdURGQUMgW0xJR0hUQk9YXSBUcmlnZ2VyZWQgYW5pbWF0aW9uOiBcIiR7bmFtZX1cImApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgXHUyNkEwXHVGRTBGICBbTElHSFRCT1hdIENhbm5vdCBlbWl0IFwiJHtuYW1lfVwiIC0gd2ZJeC5lbWl0IG5vdCBhdmFpbGFibGVgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBcdTI2QTBcdUZFMEYgIFtMSUdIVEJPWF0gQ2Fubm90IGVtaXQgXCIke25hbWV9XCIgLSBXZWJmbG93IElYIG5vdCBhdmFpbGFibGVgKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihgXHUyNzRDIFtMSUdIVEJPWF0gRXJyb3IgZW1pdHRpbmcgXCIke25hbWV9XCI6YCwgZXJyKTtcbiAgICB9XG4gICAgXG4gICAgLy8gQWx3YXlzIGVtaXQgd2luZG93IGV2ZW50IGZvciBleHRlcm5hbCBsaXN0ZW5lcnNcbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQobmFtZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ha2UgYWxsIHBhZ2UgY29udGVudCBleGNlcHQgbGlnaHRib3ggaW5lcnRcbiAgICovXG4gIGZ1bmN0aW9uIHNldFBhZ2VJbmVydChvbikge1xuICAgIGNvbnN0IHNpYmxpbmdzID0gQXJyYXkuZnJvbShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKS5maWx0ZXIobiA9PiBuICE9PSBsYik7XG4gICAgc2libGluZ3MuZm9yRWFjaChuID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICgnaW5lcnQnIGluIG4pIG4uaW5lcnQgPSAhIW9uO1xuICAgICAgfSBjYXRjaCB7fVxuICAgICAgaWYgKG9uKSBuLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgZWxzZSBuLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFwIGZvY3VzIHdpdGhpbiBsaWdodGJveCB3aGVuIFRhYiBpcyBwcmVzc2VkXG4gICAqL1xuICBmdW5jdGlvbiB0cmFwRm9jdXMoZSkge1xuICAgIGlmIChlLmtleSAhPT0gJ1RhYicpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBmb2N1c2FibGVzID0gbGIucXVlcnlTZWxlY3RvckFsbChbXG4gICAgICAnYVtocmVmXScsJ2J1dHRvbicsJ2lucHV0Jywnc2VsZWN0JywndGV4dGFyZWEnLFxuICAgICAgJ1t0YWJpbmRleF06bm90KFt0YWJpbmRleD1cIi0xXCJdKSdcbiAgICBdLmpvaW4oJywnKSk7XG4gICAgXG4gICAgY29uc3QgbGlzdCA9IEFycmF5LmZyb20oZm9jdXNhYmxlcykuZmlsdGVyKFxuICAgICAgZWwgPT4gIWVsLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSAmJiAhZWwuZ2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicpXG4gICAgKTtcbiAgICBcbiAgICBpZiAobGlzdC5sZW5ndGggPT09IDApIHsgXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7IFxuICAgICAgKGlubmVyIHx8IGxiKS5mb2N1cygpOyBcbiAgICAgIHJldHVybjsgXG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGZpcnN0ID0gbGlzdFswXTtcbiAgICBjb25zdCBsYXN0ID0gbGlzdFtsaXN0Lmxlbmd0aCAtIDFdO1xuICAgIFxuICAgIGlmIChlLnNoaWZ0S2V5ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGZpcnN0KSB7IFxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyBcbiAgICAgIGxhc3QuZm9jdXMoKTsgXG4gICAgfSBlbHNlIGlmICghZS5zaGlmdEtleSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBsYXN0KSB7IFxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyBcbiAgICAgIGZpcnN0LmZvY3VzKCk7IFxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgcHJvamVjdCBkYXRhIGJ5IElEXG4gICAqL1xuICBmdW5jdGlvbiBnZXRQcm9qZWN0QnlJZChpZCkge1xuICAgIGlmICghcHJvamVjdERhdGFbaWRdKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBbTElHSFRCT1hdIFx1Mjc0QyBQcm9qZWN0IFwiJHtpZH1cIiBub3QgZm91bmQgaW4gSlNPTmApO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBwcm9qZWN0RGF0YVtpZF07XG4gIH1cblxuICAvKipcbiAgICogV2FpdCBmb3IgYWxsIGltYWdlcyB0byBsb2FkIGFuZCBkZWNvZGVcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIHdhaXRGb3JJbWFnZXMoaW1hZ2VVcmxzKSB7XG4gICAgaWYgKCFpbWFnZVVybHMgfHwgaW1hZ2VVcmxzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGBbTElHSFRCT1hdIFx1MjNGMyBMb2FkaW5nICR7aW1hZ2VVcmxzLmxlbmd0aH0gaW1hZ2VzLi4uYCk7XG4gICAgXG4gICAgY29uc3QgcHJvbWlzZXMgPSBpbWFnZVVybHMubWFwKHVybCA9PiB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICBpbWcuZGVjb2RlKClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHJlc29sdmUoKSlcbiAgICAgICAgICAgIC5jYXRjaCgoKSA9PiByZXNvbHZlKCkpOyAvLyBEZWNvZGUgZmFpbGVkLCBidXQgY29udGludWVcbiAgICAgICAgfTtcbiAgICAgICAgaW1nLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGBbTElHSFRCT1hdIFx1MjZBMFx1RkUwRiAgRmFpbGVkIHRvIGxvYWQgaW1hZ2U6ICR7dXJsfWApO1xuICAgICAgICAgIHJlc29sdmUoKTsgLy8gRG9uJ3QgYmxvY2sgb24gZmFpbGVkIGltYWdlc1xuICAgICAgICB9O1xuICAgICAgICBpbWcuc3JjID0gdXJsO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgIGNvbnNvbGUubG9nKGBbTElHSFRCT1hdIFx1MjcxMyBBbGwgaW1hZ2VzIGxvYWRlZGApO1xuICB9XG5cbiAgLyoqXG4gICAqIEluamVjdCBwcm9qZWN0IGNvbnRlbnQgaW50byBsaWdodGJveCBET01cbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIGluamVjdENvbnRlbnQocHJvamVjdCkge1xuICAgIGNvbnNvbGUubG9nKGBbTElHSFRCT1hdIFx1RDgzRFx1RENERCBJbmplY3RpbmcgY29udGVudCBmb3I6ICR7cHJvamVjdC50aXRsZX1gKTtcbiAgICBcbiAgICAvLyBJbmplY3QgdGV4dCBjb250ZW50XG4gICAgaWYgKGNsaWVudEVsKSBjbGllbnRFbC50ZXh0Q29udGVudCA9IHByb2plY3QuY2xpZW50IHx8ICcnO1xuICAgIGlmICh0aXRsZUVsKSB0aXRsZUVsLnRleHRDb250ZW50ID0gcHJvamVjdC50aXRsZSB8fCAnJztcbiAgICBpZiAodHJ1dGhFbCkgdHJ1dGhFbC50ZXh0Q29udGVudCA9IHByb2plY3QudHJ1dGggfHwgJyc7XG4gICAgaWYgKHRydXRoV2VsbFRvbGRFbCkgdHJ1dGhXZWxsVG9sZEVsLnRleHRDb250ZW50ID0gcHJvamVjdC50cnV0aFdlbGxUb2xkIHx8ICcnO1xuICAgIGlmIChkZXNjcmlwdGlvbkVsKSBkZXNjcmlwdGlvbkVsLnRleHRDb250ZW50ID0gcHJvamVjdC5kZXNjcmlwdGlvbiB8fCAnJztcbiAgICBcbiAgICAvLyBJbmplY3QgYXdhcmQgaW1hZ2VzXG4gICAgaWYgKGF3YXJkc0NvbnRhaW5lciAmJiBwcm9qZWN0LmF3YXJkcykge1xuICAgICAgYXdhcmRzQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgICAgcHJvamVjdC5hd2FyZHMuZm9yRWFjaCh1cmwgPT4ge1xuICAgICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgaW1nLnNyYyA9IHVybDtcbiAgICAgICAgaW1nLmFsdCA9ICdBd2FyZCc7XG4gICAgICAgIGltZy5sb2FkaW5nID0gJ2VhZ2VyJzsgLy8gTG9hZCBpbW1lZGlhdGVseSwgbm90IGxhenlcbiAgICAgICAgYXdhcmRzQ29udGFpbmVyLmFwcGVuZENoaWxkKGltZyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gTW91bnQgVmltZW8gdmlkZW9cbiAgICBpZiAodmlkZW9BcmVhICYmIHByb2plY3QudmltZW9JZCkge1xuICAgICAgbW91bnRWaW1lbyh2aWRlb0FyZWEsIHByb2plY3QudmltZW9JZCwgeyBcbiAgICAgICAgYXV0b3BsYXk6IDEsIFxuICAgICAgICBtdXRlZDogMSxcbiAgICAgICAgYXV0b3BhdXNlOiAwLFxuICAgICAgICBjb250cm9sczogMCwgXG4gICAgICAgIGJhY2tncm91bmQ6IDEsXG4gICAgICAgIHBsYXlzaW5saW5lOiAxLCBcbiAgICAgICAgbG9vcDogMSxcbiAgICAgICAgZG50OiAxIFxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vIFdhaXQgZm9yIGF3YXJkIGltYWdlcyB0byBsb2FkIGJlZm9yZSBvcGVuaW5nXG4gICAgaWYgKHByb2plY3QuYXdhcmRzICYmIHByb2plY3QuYXdhcmRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGF3YWl0IHdhaXRGb3JJbWFnZXMocHJvamVjdC5hd2FyZHMpO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZyhgW0xJR0hUQk9YXSBcdTI3MTMgQ29udGVudCBpbmplY3RlZGApO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBzdGF0ZSBhbmQgdXBkYXRlIGRhdGEtc3RhdGUgYXR0cmlidXRlXG4gICAqL1xuICBmdW5jdGlvbiBzZXRTdGF0ZShuZXdTdGF0ZSkge1xuICAgIGN1cnJlbnRTdGF0ZSA9IG5ld1N0YXRlO1xuICAgIGxiLnNldEF0dHJpYnV0ZSgnZGF0YS1zdGF0ZScsIG5ld1N0YXRlKTtcbiAgICBjb25zb2xlLmxvZyhgW0xJR0hUQk9YXSBTdGF0ZTogJHtuZXdTdGF0ZX1gKTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBDT1JFIEZVTkNUSU9OU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgXG4gIC8qKlxuICAgKiBPcGVuIGxpZ2h0Ym94IHdpdGggY29udGVudCBmcm9tIGNsaWNrZWQgc2xpZGVcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIG9wZW5Gcm9tU2xpZGUoc2xpZGUpIHtcbiAgICAvLyBHdWFyZDogb25seSBvcGVuIGZyb20gSURMRSBzdGF0ZVxuICAgIGlmIChjdXJyZW50U3RhdGUgIT09IFNUQVRFLklETEUpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbTElHSFRCT1hdIFx1MjZBMFx1RkUwRiAgQ2Fubm90IG9wZW4gLSBhbHJlYWR5IG9wZW5pbmcvb3Blbi9jbG9zaW5nJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFZhbGlkYXRlIGRhdGEtcHJvamVjdCBhdHRyaWJ1dGVcbiAgICBjb25zdCBwcm9qZWN0SWQgPSBzbGlkZT8uZGF0YXNldD8ucHJvamVjdDtcbiAgICBpZiAoIXByb2plY3RJZCkge1xuICAgICAgY29uc29sZS5lcnJvcignW0xJR0hUQk9YXSBcdTI3NEMgU2xpZGUgbWlzc2luZyBkYXRhLXByb2plY3QgYXR0cmlidXRlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIEdldCBwcm9qZWN0IGRhdGFcbiAgICBjb25zdCBwcm9qZWN0ID0gZ2V0UHJvamVjdEJ5SWQocHJvamVjdElkKTtcbiAgICBpZiAoIXByb2plY3QpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFtMSUdIVEJPWF0gXHUyNzRDIFByb2plY3QgXCIke3Byb2plY3RJZH1cIiBub3QgZm91bmQgaW4gSlNPTmApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBDaGFuZ2Ugc3RhdGUgdG8gT1BFTklOR1xuICAgIHNldFN0YXRlKFNUQVRFLk9QRU5JTkcpO1xuICAgIFxuICAgIC8vIFNhdmUgZm9jdXMgZm9yIHJlc3RvcmF0aW9uXG4gICAgbGFzdEZvY3VzID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID8gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA6IG51bGw7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIEluamVjdCBjb250ZW50IGFuZCB3YWl0IGZvciBpbWFnZXMgdG8gbG9hZFxuICAgICAgYXdhaXQgaW5qZWN0Q29udGVudChwcm9qZWN0KTtcbiAgICAgIFxuICAgICAgLy8gTG9jayBzY3JvbGwgYW5kIG1ha2UgYmFja2dyb3VuZCBpbmVydFxuICAgICAgc2V0UGFnZUluZXJ0KHRydWUpO1xuICAgICAgbG9ja1Njcm9sbCgpO1xuICAgICAgXG4gICAgICAvLyBTdG9wIHNtb290aCBzY3JvbGwgaWYgYWN0aXZlXG4gICAgICBpZiAod2luZG93LkFwcD8uc21vb3RoU2Nyb2xsPy5zdG9wKSB7XG4gICAgICAgIHdpbmRvdy5BcHAuc21vb3RoU2Nyb2xsLnN0b3AoKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIEFSSUFcbiAgICAgIGxiLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcbiAgICAgIFxuICAgICAgLy8gVHJpZ2dlciBHU0FQIG9wZW4gYW5pbWF0aW9uIHZpYSBXZWJmbG93IElYXG4gICAgICAvLyBHU0FQIHdpbGwgaGFuZGxlIHZpc2liaWxpdHkgKG9wYWNpdHksIGRpc3BsYXksIGV0Yy4pXG4gICAgICBlbWl0V2ViZmxvd0V2ZW50KCdsYjpvcGVuJyk7XG4gICAgICBcbiAgICAgIC8vIFdhaXQgZm9yIEdTQVAgYW5pbWF0aW9uIHRvIGNvbXBsZXRlLCB0aGVuIGNhbGwgZmluaXNoT3BlblxuICAgICAgLy8gSU1QT1JUQU5UOiBUaGlzIGR1cmF0aW9uIE1VU1QgbWF0Y2ggV2ViZmxvdyBJWDMgYW5pbWF0aW9uIGR1cmF0aW9uXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZmluaXNoT3BlbigpO1xuICAgICAgfSwgb3BlbkR1cmF0aW9uKTtcbiAgICAgIFxuICAgICAgLy8gRW1pdCBldmVudCBmb3IgZXh0ZXJuYWwgbGlzdGVuZXJzXG4gICAgICBlbWl0KCdMSUdIVEJPWF9PUEVOJywgbGIsIHByb2plY3QpO1xuICAgICAgXG4gICAgfSBjYXRjaChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tMSUdIVEJPWF0gXHUyNzRDIEVycm9yIG9wZW5pbmc6JywgZXJyKTtcbiAgICAgIC8vIFJldmVydCB0byBJRExFIG9uIGVycm9yXG4gICAgICBzZXRTdGF0ZShTVEFURS5JRExFKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gR1NBUCBvcGVuIGFuaW1hdGlvbiBjb21wbGV0ZXNcbiAgICovXG4gIGZ1bmN0aW9uIGZpbmlzaE9wZW4oKSB7XG4gICAgY29uc29sZS5sb2coJ1tMSUdIVEJPWF0gXHUyNzEzIE9wZW4gYW5pbWF0aW9uIGNvbXBsZXRlJyk7XG4gICAgXG4gICAgLy8gQ2hhbmdlIHN0YXRlIHRvIE9QRU4gXHUyMTkyIGFsbG93IGNsb3NpbmdcbiAgICBzZXRTdGF0ZShTVEFURS5PUEVOKTtcbiAgICBcbiAgICAvLyBJbml0aWFsaXplIHNtb290aCBzY3JvbGwgZm9yIG92ZXJsYXkgaWYgaXQgZXhpc3RzXG4gICAgaWYgKG92ZXJsYXkpIHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIG92ZXJsYXlMZW5pcyA9IGluaXRDb250YWluZXJTY3JvbGwob3ZlcmxheSwge1xuICAgICAgICAgIGxlcnA6IDAuMDgsXG4gICAgICAgICAgc21vb3RoV2hlZWw6IHRydWUsXG4gICAgICAgICAgc21vb3RoVG91Y2g6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vIFNldCBmb2N1cyB0byBsaWdodGJveCBmb3Iga2V5Ym9hcmQgbmF2aWdhdGlvblxuICAgIGxiLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgKGlubmVyIHx8IGxiKS5mb2N1cygpO1xuICAgIH0pO1xuICAgIFxuICAgIGVtaXQoJ0xJR0hUQk9YX09QRU5FRCcsIGxiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZSBsaWdodGJveCB3aXRoIGFuaW1hdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gcmVxdWVzdENsb3NlKCkge1xuICAgIC8vIEd1YXJkOiBvbmx5IGNsb3NlIGZyb20gT1BFTiBzdGF0ZVxuICAgIGlmIChjdXJyZW50U3RhdGUgIT09IFNUQVRFLk9QRU4pIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbTElHSFRCT1hdIFx1MjZBMFx1RkUwRiAgQ2Fubm90IGNsb3NlIC0gbm90IG9wZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hhbmdlIHN0YXRlIHRvIENMT1NJTkdcbiAgICBzZXRTdGF0ZShTVEFURS5DTE9TSU5HKTtcbiAgICBcbiAgICAvLyBFbWl0IGV2ZW50IGZvciBleHRlcm5hbCBsaXN0ZW5lcnNcbiAgICBlbWl0KCdMSUdIVEJPWF9DTE9TRScsIGxiKTtcbiAgICBcbiAgICAvLyBUcmlnZ2VyIEdTQVAgY2xvc2UgYW5pbWF0aW9uIHZpYSBXZWJmbG93IElYXG4gICAgLy8gR1NBUCB3aWxsIGhhbmRsZSB2aXNpYmlsaXR5IChmYWRlIG91dCwgZXRjLilcbiAgICBlbWl0V2ViZmxvd0V2ZW50KCdsYjpjbG9zZScpO1xuICAgIFxuICAgIC8vIENhbGN1bGF0ZSBkZWxheSBiYXNlZCBvbiB1c2VyJ3MgbW90aW9uIHByZWZlcmVuY2VcbiAgICBjb25zdCBoaWRlRGVsYXkgPSBwcmVmZXJzUmVkdWNlZCA/IDAgOiBjbG9zZUR1cmF0aW9uO1xuICAgIFxuICAgIC8vIFdhaXQgZm9yIEdTQVAgYW5pbWF0aW9uIHRvIGNvbXBsZXRlLCB0aGVuIGNhbGwgZmluaXNoQ2xvc2VcbiAgICAvLyBJTVBPUlRBTlQ6IFRoaXMgZHVyYXRpb24gTVVTVCBtYXRjaCBXZWJmbG93IElYMyBhbmltYXRpb24gZHVyYXRpb25cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGZpbmlzaENsb3NlKCk7XG4gICAgfSwgaGlkZURlbGF5KTtcbiAgICBcbiAgICAvLyBVbmxvY2sgc2Nyb2xsICh3aXRoIGRlbGF5IHRvIGNvb3JkaW5hdGUgd2l0aCBhbmltYXRpb24pXG4gICAgdW5sb2NrU2Nyb2xsKHsgXG4gICAgICBkZWxheU1zOiBwcmVmZXJzUmVkdWNlZCA/IDAgOiBjbG9zZUR1cmF0aW9uIFxuICAgIH0pO1xuICAgIFxuICAgIC8vIFJlc3RhcnQgc21vb3RoIHNjcm9sbCBpZiBhY3RpdmVcbiAgICBpZiAod2luZG93LkFwcD8uc21vb3RoU2Nyb2xsPy5zdGFydCkge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHdpbmRvdy5BcHAuc21vb3RoU2Nyb2xsLnN0YXJ0KCk7XG4gICAgICB9LCBoaWRlRGVsYXkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBHU0FQIGNsb3NlIGFuaW1hdGlvbiBjb21wbGV0ZXNcbiAgICovXG4gIGZ1bmN0aW9uIGZpbmlzaENsb3NlKCkge1xuICAgIGNvbnNvbGUubG9nKCdbTElHSFRCT1hdIFx1MjcxMyBDbG9zZSBhbmltYXRpb24gY29tcGxldGUnKTtcbiAgICBcbiAgICAvLyBVcGRhdGUgQVJJQVxuICAgIGxiLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgIFxuICAgIC8vIE1ha2UgcGFnZSBhY2Nlc3NpYmxlIGFnYWluXG4gICAgc2V0UGFnZUluZXJ0KGZhbHNlKTtcbiAgICBcbiAgICAvLyBDbGVhciBjb250ZW50XG4gICAgaWYgKHZpZGVvQXJlYSkgdmlkZW9BcmVhLmlubmVySFRNTCA9ICcnO1xuICAgIGlmIChhd2FyZHNDb250YWluZXIpIGF3YXJkc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICBpZiAoY2xpZW50RWwpIGNsaWVudEVsLnRleHRDb250ZW50ID0gJyc7XG4gICAgaWYgKHRpdGxlRWwpIHRpdGxlRWwudGV4dENvbnRlbnQgPSAnJztcbiAgICBpZiAodHJ1dGhFbCkgdHJ1dGhFbC50ZXh0Q29udGVudCA9ICcnO1xuICAgIGlmICh0cnV0aFdlbGxUb2xkRWwpIHRydXRoV2VsbFRvbGRFbC50ZXh0Q29udGVudCA9ICcnO1xuICAgIGlmIChkZXNjcmlwdGlvbkVsKSBkZXNjcmlwdGlvbkVsLnRleHRDb250ZW50ID0gJyc7XG4gICAgXG4gICAgLy8gRGVzdHJveSBvdmVybGF5IHNtb290aCBzY3JvbGwgaW5zdGFuY2VcbiAgICBpZiAob3ZlcmxheUxlbmlzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBvdmVybGF5TGVuaXMuZGVzdHJveSgpO1xuICAgICAgICBvdmVybGF5TGVuaXMgPSBudWxsO1xuICAgICAgICBjb25zb2xlLmxvZygnW0xJR0hUQk9YXSBcdTI3MTMgT3ZlcmxheSBzbW9vdGggc2Nyb2xsIGRlc3Ryb3llZCcpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignW0xJR0hUQk9YXSBFcnJvciBkZXN0cm95aW5nIG92ZXJsYXkgc2Nyb2xsOicsIGVycik7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIFJlc3RvcmUgZm9jdXMgdG8gZWxlbWVudCB0aGF0IG9wZW5lZCBsaWdodGJveFxuICAgIGlmIChsYXN0Rm9jdXMgJiYgZG9jdW1lbnQuYm9keS5jb250YWlucyhsYXN0Rm9jdXMpKSB7XG4gICAgICBsYXN0Rm9jdXMuZm9jdXMoKTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hhbmdlIHN0YXRlIHRvIElETEUgXHUyMTkyIHJlYWR5IHRvIG9wZW4gYWdhaW5cbiAgICBzZXRTdGF0ZShTVEFURS5JRExFKTtcbiAgICBcbiAgICBlbWl0KCdMSUdIVEJPWF9DTE9TRUQnLCBsYik7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gRVZFTlQgTElTVEVORVJTXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBcbiAgLyoqXG4gICAqIE9QRU4gVFJJR0dFUjogQ2xpY2sgb24gLnNsaWRlIGVsZW1lbnRzXG4gICAqIFxuICAgKiBFYWNoIC5zbGlkZSBtdXN0IGhhdmUgZGF0YS1wcm9qZWN0IGF0dHJpYnV0ZSBtYXRjaGluZyBhIGtleSBpbiBwcm9qZWN0LWRhdGEuanNvblxuICAgKiBDbGlja2luZyB0cmlnZ2VyczogY29udGVudCBsb2FkIFx1MjE5MiBpbWFnZSBwcmVsb2FkIFx1MjE5MiBHU0FQIGFuaW1hdGlvbiBcdTIxOTIgb3BlblxuICAgKi9cbiAgc2xpZGVzLmZvckVhY2goKHNsaWRlLCBpbmRleCkgPT4ge1xuICAgIHNsaWRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBvcGVuRnJvbVNsaWRlKHNsaWRlKTtcbiAgICB9LCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xuICB9KTtcblxuICAvKipcbiAgICogQ0xPU0UgVFJJR0dFUiAxOiBDbG9zZSBidXR0b24gKCNjbG9zZS1idG4pXG4gICAqIFxuICAgKiBXaGVuICNjbG9zZS1idG4gaXMgY2xpY2tlZDpcbiAgICogMS4gQ2hlY2sgc3RhdGUgaXMgT1BFTiAocHJldmVudHMgY2xvc2luZyBkdXJpbmcgdHJhbnNpdGlvbnMpXG4gICAqIDIuIENhbGwgcmVxdWVzdENsb3NlKCkgXHUyMTkyIGVtaXRzICdsYjpjbG9zZScgZXZlbnQgdG8gV2ViZmxvdyBJWFxuICAgKiAzLiBXZWJmbG93IEdTQVAgYW5pbWF0aW9uIHBsYXlzOiBvcGFjaXR5IDFcdTIxOTIwLCBzY2FsZSAxLjBcdTIxOTIwLjk1LCBkaXNwbGF5IGZsZXhcdTIxOTJub25lXG4gICAqIDQuIEFmdGVyIGFuaW1hdGlvbiBkdXJhdGlvbiAoMTAwMG1zKSwgZmluaXNoQ2xvc2UoKSBydW5zIGNsZWFudXBcbiAgICovXG4gIGlmIChjbG9zZUJ0bikge1xuICAgIGNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBpZiAoY3VycmVudFN0YXRlID09PSBTVEFURS5PUEVOKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbTElHSFRCT1hdIFx1RDgzQ1x1REZBRiBDbG9zZSBidXR0b24gY2xpY2tlZCcpO1xuICAgICAgICByZXF1ZXN0Q2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLndhcm4oJ1tMSUdIVEJPWF0gXHUyNkEwXHVGRTBGICAjY2xvc2UtYnRuIG5vdCBmb3VuZCAtIG9ubHkgRXNjYXBlIGtleSB3aWxsIGNsb3NlJyk7XG4gIH1cblxuICAvKipcbiAgICogQ0xPU0UgVFJJR0dFUiAyOiBFc2NhcGUga2V5XG4gICAqIFxuICAgKiBXaGVuIEVzY2FwZSBpcyBwcmVzc2VkOlxuICAgKiAxLiBDaGVjayBzdGF0ZSBpcyBPUEVOIChwcmV2ZW50cyBjbG9zaW5nIGR1cmluZyB0cmFuc2l0aW9ucylcbiAgICogMi4gQ2FsbCByZXF1ZXN0Q2xvc2UoKSBcdTIxOTIgZW1pdHMgJ2xiOmNsb3NlJyBldmVudCB0byBXZWJmbG93IElYXG4gICAqIDMuIFdlYmZsb3cgR1NBUCBhbmltYXRpb24gcGxheXM6IG9wYWNpdHkgMVx1MjE5MjAsIHNjYWxlIDEuMFx1MjE5MjAuOTUsIGRpc3BsYXkgZmxleFx1MjE5Mm5vbmVcbiAgICogNC4gQWZ0ZXIgYW5pbWF0aW9uIGR1cmF0aW9uICgxMDAwbXMpLCBmaW5pc2hDbG9zZSgpIHJ1bnMgY2xlYW51cFxuICAgKiBcbiAgICogVGFiIGtleSBpcyBoYW5kbGVkIHNlcGFyYXRlbHkgZm9yIGZvY3VzIHRyYXBwaW5nIChrZWVwcyBmb2N1cyBpbnNpZGUgbGlnaHRib3gpXG4gICAqL1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZSA9PiB7XG4gICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gU1RBVEUuT1BFTikge1xuICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICBjb25zb2xlLmxvZygnW0xJR0hUQk9YXSBcdUQ4M0NcdURGQUYgRXNjYXBlIGtleSBwcmVzc2VkJyk7XG4gICAgICAgIHJlcXVlc3RDbG9zZSgpO1xuICAgICAgfVxuICAgICAgaWYgKGUua2V5ID09PSAnVGFiJykge1xuICAgICAgICB0cmFwRm9jdXMoZSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgXG4gIGNvbnNvbGUubG9nKCdbTElHSFRCT1hdIFx1MjcxMyBJbml0aWFsaXplZCBhbmQgcmVhZHlcXG4nKTtcbn1cbiIsICIvKipcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiAgTWNDYW5uIFdlYnNpdGUgXHUyMDE0IFdlYmZsb3cgU2Nyb2xsVHJpZ2dlciBCcmlkZ2VcbiAqICBQdXJwb3NlOiBUcmlnZ2VyIFdlYmZsb3cgSVggaW50ZXJhY3Rpb25zIHZpYSBHU0FQIFNjcm9sbFRyaWdnZXJcbiAqICBEYXRlOiAyMDI1LTEwLTMwXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmNvbnNvbGUubG9nKCdbV0VCRkxPV10gbW9kdWxlIGxvYWRlZCcpO1xuXG4vKipcbiAqIEluaXRpYWxpemUgR1NBUCBTY3JvbGxUcmlnZ2VyIFx1MjE5MiBXZWJmbG93IElYIGJyaWRnZS5cbiAqXG4gKiBCZWhhdmlvcjpcbiAqICAxLiBMb2dvIGFwcGVhcnMgd2hlbiAjaW50cm8tc2xpZGUgaXMgc2Nyb2xsZWQgb3V0IGJ5IDgwJSAoMjAlIHZpc2libGUpXG4gKiAgMi4gTG9nbyBkaXNhcHBlYXJzIHdoZW4gI2ludHJvLXNsaWRlIGlzIHNjcm9sbGVkIGluIGJ5IDIwJSAoMjAlIHZpc2libGUpXG4gKlxuICogVXNlcyBwZXJjZW50YWdlLWJhc2VkIHRyaWdnZXJzOlxuICogIC0gYXBwZWFyVHJpZ2dlcjogVHJpZ2dlcnMgd2hlbiBzbGlkZSB0b3AgcmVhY2hlcyA4MCUgZG93biB0aGUgdmlld3BvcnQgKDgwJSBzY3JvbGxlZCBvdXQpXG4gKiAgLSBoaWRlVHJpZ2dlcjogVHJpZ2dlcnMgd2hlbiBzbGlkZSB0b3AgcmVhY2hlcyAyMCUgZG93biB0aGUgdmlld3BvcnQgKDIwJSBzY3JvbGxlZCBpbilcbiAqXG4gKiBSZXF1aXJlbWVudHMgaW4gV2ViZmxvdzpcbiAqICAtIGxvZ28taGlkZTogQ29udHJvbCBcdTIxOTIgUmV2ZXJzZSAocmV2ZXJzZSBhbmltYXRpb24pXG4gKiAgLSBsb2dvLWFwcGVhcjogQ29udHJvbCBcdTIxOTIgUGxheSBmcm9tIHN0YXJ0IChmb3J3YXJkIGFuaW1hdGlvbilcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNjcm9sbGVyU2VsZWN0b3I9Jy5wZXJzcGVjdGl2ZS13cmFwcGVyJ11cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5oaWRlRXZlbnROYW1lPSdsb2dvLWhpZGUnXVxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmFwcGVhckV2ZW50TmFtZT0nbG9nby1hcHBlYXInXVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5tYXJrZXJzPWZhbHNlXVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdFdlYmZsb3dTY3JvbGxUcmlnZ2VycyhvcHRpb25zID0ge30pe1xuICBjb25zdCBzY3JvbGxlclNlbGVjdG9yID0gb3B0aW9ucy5zY3JvbGxlclNlbGVjdG9yIHx8ICcucGVyc3BlY3RpdmUtd3JhcHBlcic7XG4gIGNvbnN0IGhpZGVFdmVudE5hbWUgPSBvcHRpb25zLmhpZGVFdmVudE5hbWUgfHwgb3B0aW9ucy5zaHJpbmtFdmVudE5hbWUgfHwgJ2xvZ28taGlkZSc7XG4gIGNvbnN0IGFwcGVhckV2ZW50TmFtZSA9IG9wdGlvbnMuYXBwZWFyRXZlbnROYW1lIHx8IG9wdGlvbnMuZ3Jvd0V2ZW50TmFtZSB8fCAnbG9nby1hcHBlYXInO1xuICBjb25zdCBtYXJrZXJzID0gISFvcHRpb25zLm1hcmtlcnM7XG5cbiAgZnVuY3Rpb24gb25XaW5kb3dMb2FkKGNiKXtcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykgeyBzZXRUaW1lb3V0KGNiLCAwKTsgcmV0dXJuOyB9XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBjYiwgeyBvbmNlOiB0cnVlIH0pO1xuICB9XG5cbiAgb25XaW5kb3dMb2FkKGZ1bmN0aW9uKCl7XG4gICAgY29uc3QgV2ViZmxvdyA9IHdpbmRvdy5XZWJmbG93IHx8IFtdO1xuICAgIFxuICAgIFdlYmZsb3cucHVzaChmdW5jdGlvbigpe1xuICAgICAgLy8gR2V0IFdlYmZsb3cgSVggQVBJICh0cnkgaXgzIGZpcnN0LCBmYWxsYmFjayB0byBpeDIpXG4gICAgICBjb25zdCB3Zkl4ID0gKHdpbmRvdy5XZWJmbG93ICYmIHdpbmRvdy5XZWJmbG93LnJlcXVpcmUpIFxuICAgICAgICA/ICh3aW5kb3cuV2ViZmxvdy5yZXF1aXJlKCdpeDMnKSB8fCB3aW5kb3cuV2ViZmxvdy5yZXF1aXJlKCdpeDInKSlcbiAgICAgICAgOiBudWxsO1xuICAgICAgY29uc3QgU2Nyb2xsVHJpZ2dlciA9IHdpbmRvdy5TY3JvbGxUcmlnZ2VyO1xuICAgICAgXG4gICAgICBpZiAoIXdmSXggfHwgIVNjcm9sbFRyaWdnZXIpIHsgcmV0dXJuOyB9XG5cbiAgICAgIGNvbnN0IHNjcm9sbGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzY3JvbGxlclNlbGVjdG9yKTtcbiAgICAgIGlmICghc2Nyb2xsZXIpIHsgcmV0dXJuOyB9XG5cbiAgICAgIC8vIEZpbmQgI2ludHJvLXNsaWRlIGVsZW1lbnQgKHRyaWdnZXIgZm9yIGxvZ28gYW5pbWF0aW9uKVxuICAgICAgY29uc3QgZHJpdmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ludHJvLXNsaWRlJyk7XG4gICAgICBpZiAoIWRyaXZlcikgeyBcbiAgICAgICAgY29uc29sZS5lcnJvcignW1dFQkZMT1ddIERyaXZlciBzbGlkZSAoI2ludHJvLXNsaWRlKSBub3QgZm91bmQnKTtcbiAgICAgICAgcmV0dXJuOyBcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coJ1tXRUJGTE9XXSBTZXR1cCBjb21wbGV0ZTonLCB7IFxuICAgICAgICBzY3JvbGxlcjogISFzY3JvbGxlciwgXG4gICAgICAgIGRyaXZlcjogISFkcml2ZXIsXG4gICAgICAgIHdmSXg6ICEhd2ZJeCwgXG4gICAgICAgIFNjcm9sbFRyaWdnZXI6ICEhU2Nyb2xsVHJpZ2dlcixcbiAgICAgICAgaGlkZUV2ZW50OiBoaWRlRXZlbnROYW1lLFxuICAgICAgICBhcHBlYXJFdmVudDogYXBwZWFyRXZlbnROYW1lXG4gICAgICB9KTtcblxuICAgICAgLy8gVHJhY2sgc3RhdGUgdG8gcHJldmVudCBkdXBsaWNhdGUgZXZlbnRzXG4gICAgICBsZXQgbG9nb1Zpc2libGUgPSBmYWxzZTsgLy8gVHJhY2sgaWYgbG9nbyBpcyBjdXJyZW50bHkgdmlzaWJsZVxuICAgICAgbGV0IGxhc3RTY3JvbGxEaXJlY3Rpb24gPSBudWxsO1xuXG4gICAgICAvLyBUcmlnZ2VyIDE6IGxvZ28tYXBwZWFyIHdoZW4gc2xpZGUgaXMgc2Nyb2xsZWQgb3V0IGJ5IDgwJSAoMjAlIHZpc2libGUpXG4gICAgICAvLyBXaGVuIDgwJSBpcyBzY3JvbGxlZCBvdXQsIHNsaWRlIGJvdHRvbSBzaG91bGQgYmUgYXQgMjAlIG9mIHZpZXdwb3J0XG4gICAgICBTY3JvbGxUcmlnZ2VyLmNyZWF0ZSh7XG4gICAgICAgIHRyaWdnZXI6IGRyaXZlcixcbiAgICAgICAgc2Nyb2xsZXI6IHNjcm9sbGVyLFxuICAgICAgICBzdGFydDogJ2JvdHRvbSAyMCUnLCAvLyBXaGVuIHNsaWRlIGJvdHRvbSByZWFjaGVzIDIwJSBkb3duIHZpZXdwb3J0ICg4MCUgc2Nyb2xsZWQgb3V0KVxuICAgICAgICBtYXJrZXJzOiBtYXJrZXJzLFxuICAgICAgICBcbiAgICAgICAgb25FbnRlcjogKCkgPT4ge1xuICAgICAgICAgIC8vIFNjcm9sbGluZyBET1dOOiBzbGlkZSBib3R0b20gaGFzIHJlYWNoZWQgMjAlIFx1MjE5MiA4MCUgc2Nyb2xsZWQgb3V0IFx1MjE5MiBhcHBlYXJcbiAgICAgICAgICBpZiAoIWxvZ29WaXNpYmxlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1dFQkZMT1ddIFx1MjcxMyBlbWl0IGFwcGVhciAoODAlIHNjcm9sbGVkIG91dCk6JywgYXBwZWFyRXZlbnROYW1lKTtcbiAgICAgICAgICAgICAgd2ZJeC5lbWl0KGFwcGVhckV2ZW50TmFtZSk7XG4gICAgICAgICAgICAgIGxvZ29WaXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gY2F0Y2goZXJyKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tXRUJGTE9XXSBFcnJvciBlbWl0dGluZyBhcHBlYXI6JywgZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBUcmlnZ2VyIDI6IGxvZ28taGlkZSB3aGVuIHNsaWRlIGlzIHNjcm9sbGVkIGluIGJ5IDIwJSAoMjAlIHZpc2libGUpXG4gICAgICAvLyBVc2Ugb25MZWF2ZUJhY2sgd2hpY2ggZmlyZXMgd2hlbiBzY3JvbGxpbmcgVVAgcGFzdCB0aGUgc3RhcnQgcG9pbnRcbiAgICAgIFNjcm9sbFRyaWdnZXIuY3JlYXRlKHtcbiAgICAgICAgdHJpZ2dlcjogZHJpdmVyLFxuICAgICAgICBzY3JvbGxlcjogc2Nyb2xsZXIsXG4gICAgICAgIHN0YXJ0OiAnYm90dG9tIDIwJScsIC8vIFNhbWUgdHJpZ2dlciBwb2ludCBhcyBhcHBlYXIgLSB3aGVuIHNsaWRlIGJvdHRvbSByZWFjaGVzIDIwJVxuICAgICAgICBtYXJrZXJzOiBtYXJrZXJzLFxuICAgICAgICBcbiAgICAgICAgb25MZWF2ZUJhY2s6ICgpID0+IHtcbiAgICAgICAgICAvLyBTY3JvbGxpbmcgVVAgcGFzdCB0aGUgMjAlIHBvaW50IFx1MjE5MiBsb2dvIHNob3VsZCBoaWRlXG4gICAgICAgICAgaWYgKGxvZ29WaXNpYmxlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1dFQkZMT1ddIFx1MjcxMyBlbWl0IGhpZGUgKHNjcm9sbGVkIGJhY2sgdXAgcGFzdCAyMCUpOicsIGhpZGVFdmVudE5hbWUpO1xuICAgICAgICAgICAgICB3Zkl4LmVtaXQoaGlkZUV2ZW50TmFtZSk7XG4gICAgICAgICAgICAgIGxvZ29WaXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB9IGNhdGNoKGVycikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbV0VCRkxPV10gRXJyb3IgZW1pdHRpbmcgaGlkZTonLCBlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdbV0VCRkxPV10gU2Nyb2xsVHJpZ2dlciBpbml0aWFsaXplZCcpO1xuICAgICAgXG4gICAgICAvLyBSZWZyZXNoIFNjcm9sbFRyaWdnZXIgdG8gZW5zdXJlIHRyaWdnZXJzIGFyZSBwcm9wZXJseSBpbml0aWFsaXplZFxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgU2Nyb2xsVHJpZ2dlci5yZWZyZXNoKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59XG4iLCAiLyoqXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogIE1jQ2FubiBXZWJzaXRlIFx1MjAxNCBTbGlkZSBUcmFuc2l0aW9uIE9ic2VydmVyXG4gKiAgUHVycG9zZTogRGV0ZWN0IHNsaWRlIHRyYW5zaXRpb25zIHVzaW5nIEludGVyc2VjdGlvbk9ic2VydmVyXG4gKiAgRGF0ZTogMjAyNS0wMS1YWFxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5jb25zb2xlLmxvZygnW1NMSURFLU9CU0VSVkVSXSBtb2R1bGUgbG9hZGVkJyk7XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBzbGlkZSB0cmFuc2l0aW9uIG9ic2VydmVyIHVzaW5nIEludGVyc2VjdGlvbk9ic2VydmVyLlxuICpcbiAqIEJlaGF2aW9yOlxuICogIDEuIFdhdGNoICNpbnRyby1zbGlkZSBlbGVtZW50IGZvciBpbnRlcnNlY3Rpb24gY2hhbmdlc1xuICogIDIuIFdoZW4gc2xpZGUgZmluaXNoZXMgc2Nyb2xsaW5nIG91dCAoaW50ZXJzZWN0aW9uUmF0aW8gZ29lcyBmcm9tID4wIHRvIDApOiBlbWl0IGxvZ28tYXBwZWFyXG4gKiAgMy4gV2hlbiBzbGlkZSBzdGFydHMgc2Nyb2xsaW5nIGJhY2sgaW4gKGludGVyc2VjdGlvblJhdGlvIGdvZXMgZnJvbSAwIHRvID4wKTogZW1pdCBsb2dvLWhpZGVcbiAqXG4gKiBVc2VzIGludGVyc2VjdGlvblJhdGlvIHRvIGRldGVjdCBwcmVjaXNlIHRpbWluZzpcbiAqICAtIGxvZ28tYXBwZWFyOiBGaXJlcyB3aGVuIHNsaWRlIGJlY29tZXMgY29tcGxldGVseSBub24taW50ZXJzZWN0aW5nIChmaW5pc2hlZCBzY3JvbGxpbmcgb3V0KVxuICogIC0gbG9nby1oaWRlOiBGaXJlcyB3aGVuIHNsaWRlIHN0YXJ0cyBpbnRlcnNlY3RpbmcgKGp1c3QgYmVnaW5zIHRvIGFwcGVhcilcbiAqXG4gKiBSZXF1aXJlbWVudHMgaW4gV2ViZmxvdzpcbiAqICAtIGxvZ28tYXBwZWFyOiBDb250cm9sIFx1MjE5MiBQbGF5IGZyb20gc3RhcnQgKGZvcndhcmQgYW5pbWF0aW9uKVxuICogIC0gbG9nby1oaWRlOiBDb250cm9sIFx1MjE5MiBSZXZlcnNlIChyZXZlcnNlIGFuaW1hdGlvbilcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNjcm9sbGVyU2VsZWN0b3I9Jy5wZXJzcGVjdGl2ZS13cmFwcGVyJ11cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy50YXJnZXRTbGlkZVNlbGVjdG9yPScjaW50cm8tc2xpZGUnXVxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmFwcGVhckV2ZW50TmFtZT0nbG9nby1hcHBlYXInXVxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmhpZGVFdmVudE5hbWU9J2xvZ28taGlkZSddXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudGhyZXNob2xkPTBdIC0gSW50ZXJzZWN0aW9uIHRocmVzaG9sZCAoMCA9IGFueSBpbnRlcnNlY3Rpb24pXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0U2xpZGVUcmFuc2l0aW9uT2JzZXJ2ZXIob3B0aW9ucyA9IHt9KXtcbiAgY29uc3Qgc2Nyb2xsZXJTZWxlY3RvciA9IG9wdGlvbnMuc2Nyb2xsZXJTZWxlY3RvciB8fCAnLnBlcnNwZWN0aXZlLXdyYXBwZXInO1xuICBjb25zdCB0YXJnZXRTbGlkZVNlbGVjdG9yID0gb3B0aW9ucy50YXJnZXRTbGlkZVNlbGVjdG9yIHx8ICcjaW50cm8tc2xpZGUnO1xuICBjb25zdCBhcHBlYXJFdmVudE5hbWUgPSBvcHRpb25zLmFwcGVhckV2ZW50TmFtZSB8fCAnbG9nby1hcHBlYXInO1xuICBjb25zdCBoaWRlRXZlbnROYW1lID0gb3B0aW9ucy5oaWRlRXZlbnROYW1lIHx8IG9wdGlvbnMuZGlzYXBwZWFyRXZlbnROYW1lIHx8ICdsb2dvLWhpZGUnO1xuICBjb25zdCB0aHJlc2hvbGQgPSBvcHRpb25zLnRocmVzaG9sZCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy50aHJlc2hvbGQgOiAwO1xuXG4gIGZ1bmN0aW9uIG9uV2luZG93TG9hZChjYil7XG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHsgc2V0VGltZW91dChjYiwgMCk7IHJldHVybjsgfVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgY2IsIHsgb25jZTogdHJ1ZSB9KTtcbiAgfVxuXG4gIG9uV2luZG93TG9hZChmdW5jdGlvbigpe1xuICAgIGNvbnN0IFdlYmZsb3cgPSB3aW5kb3cuV2ViZmxvdyB8fCBbXTtcbiAgICBcbiAgICBXZWJmbG93LnB1c2goZnVuY3Rpb24oKXtcbiAgICAgIC8vIEdldCBXZWJmbG93IElYIEFQSSAodHJ5IGl4MyBmaXJzdCwgZmFsbGJhY2sgdG8gaXgyKVxuICAgICAgY29uc3Qgd2ZJeCA9ICh3aW5kb3cuV2ViZmxvdyAmJiB3aW5kb3cuV2ViZmxvdy5yZXF1aXJlKSBcbiAgICAgICAgPyAod2luZG93LldlYmZsb3cucmVxdWlyZSgnaXgzJykgfHwgd2luZG93LldlYmZsb3cucmVxdWlyZSgnaXgyJykpXG4gICAgICAgIDogbnVsbDtcbiAgICAgIFxuICAgICAgaWYgKCF3Zkl4KSB7IFxuICAgICAgICBjb25zb2xlLndhcm4oJ1tTTElERS1PQlNFUlZFUl0gV2ViZmxvdyBJWCBBUEkgbm90IGZvdW5kJyk7XG4gICAgICAgIHJldHVybjsgXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHNjcm9sbGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzY3JvbGxlclNlbGVjdG9yKTtcbiAgICAgIGlmICghc2Nyb2xsZXIpIHsgXG4gICAgICAgIGNvbnNvbGUud2FybignW1NMSURFLU9CU0VSVkVSXSBTY3JvbGxlciBub3QgZm91bmQ6Jywgc2Nyb2xsZXJTZWxlY3Rvcik7XG4gICAgICAgIHJldHVybjsgXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRhcmdldFNsaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXRTbGlkZVNlbGVjdG9yKTtcbiAgICAgIGlmICghdGFyZ2V0U2xpZGUpIHsgXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tTTElERS1PQlNFUlZFUl0gVGFyZ2V0IHNsaWRlIG5vdCBmb3VuZDonLCB0YXJnZXRTbGlkZVNlbGVjdG9yKTtcbiAgICAgICAgcmV0dXJuOyBcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coJ1tTTElERS1PQlNFUlZFUl0gU2V0dXAgY29tcGxldGU6JywgeyBcbiAgICAgICAgc2Nyb2xsZXI6ICEhc2Nyb2xsZXIsIFxuICAgICAgICB0YXJnZXRTbGlkZTogISF0YXJnZXRTbGlkZSxcbiAgICAgICAgd2ZJeDogISF3Zkl4LFxuICAgICAgICBhcHBlYXJFdmVudDogYXBwZWFyRXZlbnROYW1lLFxuICAgICAgICBoaWRlRXZlbnQ6IGhpZGVFdmVudE5hbWUsXG4gICAgICAgIHRocmVzaG9sZDogdGhyZXNob2xkXG4gICAgICB9KTtcblxuICAgICAgLy8gVHJhY2sgcHJldmlvdXMgaW50ZXJzZWN0aW9uIHN0YXRlIHRvIGRldGVjdCB0cmFuc2l0aW9uc1xuICAgICAgLy8gSW5pdGlhbGl6ZSBieSBjaGVja2luZyBhY3R1YWwgc3RhdGUgZmlyc3RcbiAgICAgIGxldCB3YXNJbnRlcnNlY3RpbmcgPSBudWxsOyAvLyBudWxsID0gbm90IGluaXRpYWxpemVkIHlldFxuICAgICAgbGV0IGxhc3RSYXRpbyA9IG51bGw7IC8vIFRyYWNrIHByZXZpb3VzIHJhdGlvIHRvIGRldGVjdCBkaXJlY3Rpb25cbiAgICAgIGxldCBsb2dvVmlzaWJsZSA9IGZhbHNlOyAvLyBUcmFjayBsb2dvIHN0YXRlIHRvIHByZXZlbnQgZHVwbGljYXRlIGV2ZW50c1xuICAgICAgbGV0IG9ic2VydmVyID0gbnVsbDtcblxuICAgICAgLy8gU2luZ2xlIG9ic2VydmVyIHRoYXQgdHJhY2tzIGludGVyc2VjdGlvbiByYXRpbyBjaGFuZ2VzXG4gICAgICBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgICAgZnVuY3Rpb24oZW50cmllcykge1xuICAgICAgICAgIGVudHJpZXMuZm9yRWFjaChmdW5jdGlvbihlbnRyeSkge1xuICAgICAgICAgICAgY29uc3QgaXNJbnRlcnNlY3RpbmcgPSBlbnRyeS5pc0ludGVyc2VjdGluZztcbiAgICAgICAgICAgIGNvbnN0IGludGVyc2VjdGlvblJhdGlvID0gZW50cnkuaW50ZXJzZWN0aW9uUmF0aW87XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgc3RhdGUgb24gZmlyc3QgY2FsbGJhY2sgLSBkb24ndCBlbWl0IGV2ZW50c1xuICAgICAgICAgICAgaWYgKHdhc0ludGVyc2VjdGluZyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICB3YXNJbnRlcnNlY3RpbmcgPSBpc0ludGVyc2VjdGluZztcbiAgICAgICAgICAgICAgbGFzdFJhdGlvID0gaW50ZXJzZWN0aW9uUmF0aW87XG4gICAgICAgICAgICAgIC8vIFNldCBpbml0aWFsIGxvZ28gc3RhdGUgYmFzZWQgb24gcmF0aW9cbiAgICAgICAgICAgICAgbG9nb1Zpc2libGUgPSBpbnRlcnNlY3Rpb25SYXRpbyA+IDAuMjtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tTTElERS1PQlNFUlZFUl0gSW5pdGlhbCBzdGF0ZTonLCB7IGlzSW50ZXJzZWN0aW5nLCBpbnRlcnNlY3Rpb25SYXRpbywgbG9nb1Zpc2libGUgfSk7XG4gICAgICAgICAgICAgIHJldHVybjsgLy8gRG9uJ3QgZW1pdCBldmVudHMgb24gZmlyc3QgY2FsbGJhY2tcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gTG9nbyBhcHBlYXI6IHdoZW4gc2xpZGUgaXMgc2Nyb2xsZWQgb3V0IGJ5IDgwJSAoMjAlIG9yIGxlc3MgdmlzaWJsZSlcbiAgICAgICAgICAgIC8vIFRyaWdnZXIgd2hlbiByYXRpbyBjcm9zc2VzIGZyb20gYWJvdmUgMC4yIHRvIGF0IG9yIGJlbG93IDAuMlxuICAgICAgICAgICAgaWYgKCFsb2dvVmlzaWJsZSAmJiBsYXN0UmF0aW8gIT09IG51bGwgJiYgbGFzdFJhdGlvID4gMC4yICYmIGludGVyc2VjdGlvblJhdGlvIDw9IDAuMikge1xuICAgICAgICAgICAgICAvLyBTbGlkZSBoYXMgc2Nyb2xsZWQgb3V0IGJ5IDgwJSBcdTIxOTIgbG9nby1hcHBlYXJcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1NMSURFLU9CU0VSVkVSXSBcdTI3MTMgZW1pdCBhcHBlYXIgKDgwJSBzY3JvbGxlZCBvdXQsIDIwJSB2aXNpYmxlKTonLCBhcHBlYXJFdmVudE5hbWUsIHsgbGFzdFJhdGlvLCBpbnRlcnNlY3Rpb25SYXRpbyB9KTtcbiAgICAgICAgICAgICAgICB3Zkl4LmVtaXQoYXBwZWFyRXZlbnROYW1lKTtcbiAgICAgICAgICAgICAgICBsb2dvVmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgd2FzSW50ZXJzZWN0aW5nID0gZmFsc2U7IC8vIFVwZGF0ZSBzdGF0ZSBpbW1lZGlhdGVseVxuICAgICAgICAgICAgICB9IGNhdGNoKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tTTElERS1PQlNFUlZFUl0gRXJyb3IgZW1pdHRpbmcgYXBwZWFyOicsIGVycik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbGFzdFJhdGlvID0gaW50ZXJzZWN0aW9uUmF0aW87XG4gICAgICAgICAgICAgIHJldHVybjsgLy8gRG9uJ3QgdXBkYXRlIHN0YXRlIGFnYWluIGJlbG93XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIExvZ28gaGlkZTogd2hlbiBzbGlkZSBpcyBzY3JvbGxlZCBpbiBieSAyMCUgKDIwJSBvciBtb3JlIHZpc2libGUpXG4gICAgICAgICAgICAvLyBUcmlnZ2VyIHdoZW4gcmF0aW8gY3Jvc3NlcyBmcm9tIGJlbG93IDAuMiB0byBhdCBvciBhYm92ZSAwLjJcbiAgICAgICAgICAgIGlmIChsb2dvVmlzaWJsZSAmJiBsYXN0UmF0aW8gIT09IG51bGwgJiYgbGFzdFJhdGlvIDwgMC4yICYmIGludGVyc2VjdGlvblJhdGlvID49IDAuMikge1xuICAgICAgICAgICAgICAvLyBTbGlkZSBoYXMgc2Nyb2xsZWQgaW4gYnkgMjAlIFx1MjE5MiBsb2dvLWhpZGVcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1NMSURFLU9CU0VSVkVSXSBcdTI3MTMgZW1pdCBoaWRlICgyMCUgc2Nyb2xsZWQgaW4sIDIwJSB2aXNpYmxlKTonLCBoaWRlRXZlbnROYW1lLCB7IGxhc3RSYXRpbywgaW50ZXJzZWN0aW9uUmF0aW8sIHdhc0ludGVyc2VjdGluZyB9KTtcbiAgICAgICAgICAgICAgICB3Zkl4LmVtaXQoaGlkZUV2ZW50TmFtZSk7XG4gICAgICAgICAgICAgICAgbG9nb1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB3YXNJbnRlcnNlY3RpbmcgPSB0cnVlOyAvLyBVcGRhdGUgc3RhdGUgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgICAgfSBjYXRjaChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbU0xJREUtT0JTRVJWRVJdIEVycm9yIGVtaXR0aW5nIGhpZGU6JywgZXJyKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsYXN0UmF0aW8gPSBpbnRlcnNlY3Rpb25SYXRpbztcbiAgICAgICAgICAgICAgcmV0dXJuOyAvLyBEb24ndCB1cGRhdGUgc3RhdGUgYWdhaW4gYmVsb3dcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIHN0YXRlIGZvciBuZXh0IGNoZWNrIChvbmx5IGlmIG5vIGV2ZW50IHdhcyBlbWl0dGVkKVxuICAgICAgICAgICAgd2FzSW50ZXJzZWN0aW5nID0gaXNJbnRlcnNlY3Rpbmc7XG4gICAgICAgICAgICBsYXN0UmF0aW8gPSBpbnRlcnNlY3Rpb25SYXRpbztcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHJvb3Q6IHNjcm9sbGVyLFxuICAgICAgICAgIHJvb3RNYXJnaW46ICcwcHgnLFxuICAgICAgICAgIHRocmVzaG9sZDogWzAsIDAuMSwgMC4yLCAwLjMsIDAuNCwgMC41LCAwLjYsIDAuNywgMC44LCAwLjksIDEuMF0gLy8gTXVsdGlwbGUgdGhyZXNob2xkcyB0byBkZXRlY3QgY3Jvc3NpbmcgMC4yXG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIC8vIFN0YXJ0IG9ic2VydmluZyB0aGUgdGFyZ2V0IHNsaWRlXG4gICAgICBvYnNlcnZlci5vYnNlcnZlKHRhcmdldFNsaWRlKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ1tTTElERS1PQlNFUlZFUl0gT2JzZXJ2ZXIgaW5pdGlhbGl6ZWQgYW5kIHdhdGNoaW5nOicsIHRhcmdldFNsaWRlU2VsZWN0b3IpO1xuICAgICAgXG4gICAgICAvLyBSZXR1cm4gY2xlYW51cCBmdW5jdGlvblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgICAgIGlmIChvYnNlcnZlcikge1xuICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICBvYnNlcnZlciA9IG51bGw7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tTTElERS1PQlNFUlZFUl0gT2JzZXJ2ZXIgZGlzY29ubmVjdGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIH0pO1xufVxuXG5cbiIsICIvKipcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiAgTWNDYW5uIFdlYnNpdGUgXHUyMDE0IEFwcCBFbnRyeVxuICogIFB1cnBvc2U6IFdpcmUgbW9kdWxlcyBhbmQgZXhwb3NlIG1pbmltYWwgZmFjYWRlXG4gKiAgRGF0ZTogMjAyNS0xMC0yOFxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQgeyBpbml0UHJlbG9hZGVyIH0gZnJvbSAnLi9tb2R1bGVzL3ByZWxvYWRlci5qcyc7XG5pbXBvcnQgeyBpbml0QWNjb3JkaW9uIH0gZnJvbSAnLi9tb2R1bGVzL2FjY29yZGlvbi5qcyc7XG5pbXBvcnQgeyBpbml0TGlnaHRib3ggfSBmcm9tICcuL21vZHVsZXMvbGlnaHRib3guanMnO1xuaW1wb3J0IHsgaW5pdFdlYmZsb3dTY3JvbGxUcmlnZ2VycyB9IGZyb20gJy4vbW9kdWxlcy93ZWJmbG93LXNjcm9sbHRyaWdnZXIuanMnO1xuaW1wb3J0IHsgaW5pdFNsaWRlVHJhbnNpdGlvbk9ic2VydmVyIH0gZnJvbSAnLi9tb2R1bGVzL3NsaWRlLXRyYW5zaXRpb24tb2JzZXJ2ZXIuanMnO1xuaW1wb3J0IHsgaW5pdFNtb290aFNjcm9sbCB9IGZyb20gJy4vbW9kdWxlcy9zbW9vdGgtc2Nyb2xsLmpzJztcblxuLyoqXG4gKiBFeHBhbmRzIGlmcmFtZSAnYWxsb3cnIGF0dHJpYnV0ZXMgdG8gcmVkdWNlIERlc2lnbmVyIHBlcm1pc3Npb24gd2FybmluZ3NcbiAqIFVwZGF0ZWQgZm9yIFZpbWVvIHZpZGVvIHN1cHBvcnRcbiAqL1xuZnVuY3Rpb24gcGF0Y2hWaW1lb0FsbG93VG9rZW5zKCkge1xuICBjb25zdCB0b2tlbnMgPSBbJ2F1dG9wbGF5JywgJ2Z1bGxzY3JlZW4nLCAncGljdHVyZS1pbi1waWN0dXJlJywgJ2VuY3J5cHRlZC1tZWRpYSddO1xuICBjb25zdCBzZWxlY3RvciA9IFtcbiAgICAnaWZyYW1lW3NyYyo9XCJ2aW1lby5jb21cIl0nLFxuICAgICdpZnJhbWVbc3JjKj1cInBsYXllci52aW1lby5jb21cIl0nXG4gIF0uam9pbignLCcpO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpLmZvckVhY2goaWZyID0+IHtcbiAgICBjb25zdCBjdXJyZW50ID0gKGlmci5nZXRBdHRyaWJ1dGUoJ2FsbG93JykgfHwgJycpXG4gICAgICAuc3BsaXQoJzsnKVxuICAgICAgLm1hcCh0b2tlbiA9PiB0b2tlbi50cmltKCkpXG4gICAgICAuZmlsdGVyKEJvb2xlYW4pO1xuICAgIGNvbnN0IHVwZGF0ZWQgPSBBcnJheS5mcm9tKG5ldyBTZXQoWy4uLmN1cnJlbnQsIC4uLnRva2Vuc10pKS5qb2luKCc7ICcpO1xuICAgIGlmci5zZXRBdHRyaWJ1dGUoJ2FsbG93JywgdXBkYXRlZCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIEFwcCBlbnRyeXBvaW50OiB3aXJlcyB1cCBtb2R1bGVzIGFuZCBmZWF0dXJlc1xuICogXG4gKiBJbml0aWFsaXphdGlvbiBvcmRlciBtYXR0ZXJzOlxuICogMS4gUHJlbG9hZGVyIHJ1bnMgRklSU1QgXHUyMTkyIHByZWZldGNoIHZpZGVvcyBiZWZvcmUgc2hvd2luZyBjb250ZW50XG4gKiAyLiBBZnRlciBwcmVsb2FkZXIgXHUyMTkyIHNtb290aCBzY3JvbGwgYW5kIFVJIG1vZHVsZXNcbiAqIDMuIExvZ28gYW5pbWF0aW9uIFx1MjE5MiBzZXBhcmF0ZSBzeXN0ZW0gKG9wdGlvbmFsKVxuICogXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICovXG5mdW5jdGlvbiBpbml0KG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgbGlnaHRib3hSb290ID0gJyNsaWdodGJveCcsXG4gICAgdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBmYWxzZSxcbiAgICBsZXJwID0gMC4xLFxuICAgIHNuYXBMZXJwID0gMC4xNSxcbiAgICBzbW9vdGhTY3JvbGwgPSB7fSxcbiAgICBwcmVsb2FkZXIgPSB7fVxuICB9ID0gb3B0aW9ucztcblxuICAvLyAwLiBQcmVsb2FkZXIgKHJ1bnMgZmlyc3QsIGJsb2NrcyB1bnRpbCB2aWRlb3MgcmVhZHkpXG4gIC8vIEFkZCBib2R5IGNsYXNzIHRvIGxvY2sgc2Nyb2xsIGR1cmluZyBwcmVsb2FkXG4gIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgncHJlbG9hZGVyLWFjdGl2ZScpO1xuICBcbiAgY29uc3QgcHJlbG9hZGVyQ29uZmlnID0ge1xuICAgIHNlbGVjdG9yOiAnI3ByZWxvYWRlcicsXG4gICAgdmlkZW9TZWxlY3RvcjogJ3ZpZGVvW2RhdGEtd2YtaWdub3JlXSwgdmlkZW9bYXV0b3BsYXldLCB2aWRlb1tkYXRhLWF1dG9wbGF5XScsXG4gICAgdmltZW9QcmVsb2FkOiAncHJlZmV0Y2gnLCAvLyAnbm9uZScsICdwcmVmZXRjaCcgKHJlY29tbWVuZGVkKSwgJ3ByZWJ1ZmZlcicgKGFnZ3Jlc3NpdmUpXG4gICAgdmltZW9CdWZmZXJMaW1pdDogNSwgICAgICAvLyBNYXggVmltZW8gdmlkZW9zIHRvIHByZWJ1ZmZlciBpZiB1c2luZyAncHJlYnVmZmVyJ1xuICAgIG1pbkxvYWRUaW1lOiAxMDAwLFxuICAgIHB1bHNlRHVyYXRpb246IDMwMDAsXG4gICAgcHVsc2VPcGFjaXR5OiAwLjIsXG4gICAgLi4ucHJlbG9hZGVyXG4gIH07XG4gIFxuICBpbml0UHJlbG9hZGVyKHByZWxvYWRlckNvbmZpZyk7XG5cbiAgLy8gMS4gU21vb3RoIHNjcm9sbCAoc2hvdWxkIHJ1biBlYXJseSwgYmVmb3JlIHRyaWdnZXJzKVxuICAvLyBUaGlzIG5lZWRzIHRvIGluaXRpYWxpemUgZmlyc3QgYmVjYXVzZSBHU0FQIFNjcm9sbFRyaWdnZXIgc3luY3Mgd2l0aCBpdFxuICAvLyBJZiBvdGhlciBtb2R1bGVzIHRyeSB0byB1c2Ugc2Nyb2xsIHBvc2l0aW9uIGJlZm9yZSB0aGlzIGlzIHJlYWR5LCB0aW1pbmcgaXNzdWVzIG9jY3VyXG4gIGluaXRTbW9vdGhTY3JvbGwoe1xuICAgIGxlcnAsXG4gICAgc25hcExlcnAsXG4gICAgLi4uc21vb3RoU2Nyb2xsXG4gIH0pO1xuXG4gIC8vIDIuIFVJIE1vZHVsZXNcbiAgLy8gVGhlc2UgYXJlIGluZGVwZW5kZW50IFx1MjE5MiBvcmRlciBkb2Vzbid0IG1hdHRlciBtdWNoXG4gIGluaXRBY2NvcmRpb24oeyBzZWxlY3RvcjogJy5hY2NvcmRlb24nIH0pO1xuICBcbiAgLy8gSU1QT1JUQU5UOiBvcGVuRHVyYXRpb24gYW5kIGNsb3NlRHVyYXRpb24gTVVTVCBtYXRjaCBXZWJmbG93IElYMyBhbmltYXRpb24gZHVyYXRpb25zXG4gIC8vIFVwZGF0ZSB0aGVzZSB2YWx1ZXMgaWYgeW91IGNoYW5nZSBhbmltYXRpb24gc3BlZWRzIGluIFdlYmZsb3dcbiAgLy8gXG4gIC8vIFByb2plY3QgZGF0YSBpcyBub3cgYnVuZGxlZCBpbnRvIGFwcC5qcyAtIG5vIGV4dGVybmFsIEpTT04gZmlsZSBuZWVkZWQhXG4gIGluaXRMaWdodGJveCh7IFxuICAgIHJvb3Q6IGxpZ2h0Ym94Um9vdCwgXG4gICAgb3BlbkR1cmF0aW9uOiAxMDAwLCAgIC8vIE11c3QgbWF0Y2ggJ2xiOm9wZW4nIGFuaW1hdGlvbiBkdXJhdGlvbiBpbiBXZWJmbG93XG4gICAgY2xvc2VEdXJhdGlvbjogMTAwMCAgIC8vIE11c3QgbWF0Y2ggJ2xiOmNsb3NlJyBhbmltYXRpb24gZHVyYXRpb24gaW4gV2ViZmxvd1xuICB9KTtcblxuICAvLyAzLiBMb2dvIGFuaW1hdGlvbiAoSW50ZXJzZWN0aW9uT2JzZXJ2ZXItYmFzZWQgcHJlZmVycmVkKVxuICAvLyBUaGlzIGlzIHdyYXBwZWQgaW4gdHJ5LWNhdGNoIGJlY2F1c2UgaXQncyBub24tY3JpdGljYWxcbiAgLy8gSWYgaXQgZmFpbHMsIHNpdGUgc3RpbGwgd29ya3MgZmluZVxuICB0cnkge1xuICAgIGlmICh1c2VJbnRlcnNlY3Rpb25PYnNlcnZlcikge1xuICAgICAgLy8gTmV3IHN5c3RlbSBcdTIxOTIgbW9yZSByZWxpYWJsZSB3aXRoIHNjcm9sbC1zbmFwIGFuZCBMZW5pc1xuICAgICAgLy8gVXNlcyBJbnRlcnNlY3Rpb25PYnNlcnZlciBpbnN0ZWFkIG9mIHNjcm9sbCBwb3NpdGlvbiBjYWxjdWxhdGlvbnNcbiAgICAgIGluaXRTbGlkZVRyYW5zaXRpb25PYnNlcnZlcih7XG4gICAgICAgIHNjcm9sbGVyU2VsZWN0b3I6ICcucGVyc3BlY3RpdmUtd3JhcHBlcicsXG4gICAgICAgIHRhcmdldFNsaWRlU2VsZWN0b3I6ICcjaW50cm8tc2xpZGUnLFxuICAgICAgICBhcHBlYXJFdmVudE5hbWU6ICdsb2dvLWFwcGVhcicsXG4gICAgICAgIGhpZGVFdmVudE5hbWU6ICdsb2dvLWhpZGUnLFxuICAgICAgICB0aHJlc2hvbGQ6IDAuMVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIExlZ2FjeSBzeXN0ZW0gXHUyMTkyIEdTQVAgU2Nyb2xsVHJpZ2dlci1iYXNlZFxuICAgICAgLy8gU3RpbGwgd29ya3MgYnV0IGxlc3MgY29tcGF0aWJsZSB3aXRoIHNjcm9sbC1zbmFwIGNvbnRhaW5lcnNcbiAgICAgIGluaXRXZWJmbG93U2Nyb2xsVHJpZ2dlcnMoe1xuICAgICAgICBzY3JvbGxlclNlbGVjdG9yOiAnLnBlcnNwZWN0aXZlLXdyYXBwZXInLFxuICAgICAgICBoaWRlRXZlbnROYW1lOiAnbG9nby1oaWRlJyxcbiAgICAgICAgYXBwZWFyRXZlbnROYW1lOiAnbG9nby1hcHBlYXInXG4gICAgICB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIEZhaWwgc2lsZW50bHk7IGxvZ28gYW5pbWF0aW9uIGlzIG5vbi1jcml0aWNhbFxuICAgIC8vIERvbid0IGxvZyBlcnJvciBcdTIxOTIgYXZvaWQgY29uc29sZSBub2lzZSBpbiBwcm9kdWN0aW9uXG4gIH1cblxuICAvLyBOb3RlOiBzbGlkZSBzbmFwcGluZyBpcyBDU1Mtb25seSBpbiBgLnBlcnNwZWN0aXZlLXdyYXBwZXJgXG4gIC8vIFdlIGRvbid0IHVzZSBKUyBmb3Igc25hcHBpbmcgXHUyMTkyIG5hdGl2ZSBDU1Mgc2Nyb2xsLXNuYXAgaXMgc21vb3RoZXJcbn1cblxuLy8gRXhwb3NlIEFwcC5pbml0IGZvciBXZWJmbG93L0Rlc2lnbmVyIGhvb2tzXG53aW5kb3cuQXBwID0gd2luZG93LkFwcCB8fCB7fTtcbndpbmRvdy5BcHAuaW5pdCA9IGluaXQ7XG5cbi8vIERPTSByZWFkeSBhdXRvLWluaXRcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdcXG5cdTI1NTRcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTcnKTtcbiAgY29uc29sZS5sb2coJ1x1MjU1MSAgICAgTWNDYW5uIFdlYnNpdGUgLSBJbml0aWFsaXphdGlvbiBTdGFydGluZyAgICAgICAgXHUyNTUxJyk7XG4gIGNvbnNvbGUubG9nKCdcdTI1NUFcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NURcXG4nKTtcbiAgXG4gIHRyeSB7XG4gICAgcGF0Y2hWaW1lb0FsbG93VG9rZW5zKCk7IC8vIFBhdGNoIFZpbWVvIGlmcmFtZSBwZXJtaXNzaW9uc1xuICAgIGluaXQoKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnXFxuXHUyNTU0XHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTU3Jyk7XG4gICAgY29uc29sZS5sb2coJ1x1MjU1MSAgICAgXHUyNzA1IEFsbCBTeXN0ZW1zIEluaXRpYWxpemVkIFN1Y2Nlc3NmdWxseSAgICAgICAgIFx1MjU1MScpO1xuICAgIGNvbnNvbGUubG9nKCdcdTI1NUFcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NURcXG4nKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcignW0FQUF0gXHUyNzRDIEluaXRpYWxpemF0aW9uIGVycm9yOicsIGVycik7XG4gIH1cbn0pO1xuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7O0FBQUE7QUFBQSxJQUNFLHFCQUFxQjtBQUFBLE1BQ25CLFFBQVU7QUFBQSxNQUNWLE9BQVM7QUFBQSxNQUNULE9BQVM7QUFBQSxNQUNULGVBQWlCO0FBQUEsTUFDakIsYUFBZTtBQUFBLE1BQ2YsUUFBVTtBQUFBLE1BQ1YsU0FBVztBQUFBLE1BQ1gsUUFBVTtBQUFBLFFBQ1I7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBQUEsSUFDQSwwQkFBMEI7QUFBQSxNQUN4QixRQUFVO0FBQUEsTUFDVixPQUFTO0FBQUEsTUFDVCxPQUFTO0FBQUEsTUFDVCxlQUFpQjtBQUFBLE1BQ2pCLGFBQWU7QUFBQSxNQUNmLFFBQVU7QUFBQSxNQUNWLFNBQVc7QUFBQSxNQUNYLFFBQVU7QUFBQSxRQUNSO0FBQUEsUUFDQTtBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBQUEsSUFDQSwyQkFBMkI7QUFBQSxNQUN6QixRQUFVO0FBQUEsTUFDVixPQUFTO0FBQUEsTUFDVCxPQUFTO0FBQUEsTUFDVCxlQUFpQjtBQUFBLE1BQ2pCLGFBQWU7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RUFBRSxVQUFVLGFBQWEsQ0FBQztBQU14QyxpQkFBYTtBQUFBLE1BQ1gsTUFBTTtBQUFBLE1BQ04sY0FBYztBQUFBO0FBQUEsTUFDZCxlQUFlO0FBQUE7QUFBQSxJQUNqQixDQUFDO0FBS0QsUUFBSTtBQUNGLFVBQUkseUJBQXlCO0FBRzNCLG9DQUE0QjtBQUFBLFVBQzFCLGtCQUFrQjtBQUFBLFVBQ2xCLHFCQUFxQjtBQUFBLFVBQ3JCLGlCQUFpQjtBQUFBLFVBQ2pCLGVBQWU7QUFBQSxVQUNmLFdBQVc7QUFBQSxRQUNiLENBQUM7QUFBQSxNQUNILE9BQU87QUFHTCxrQ0FBMEI7QUFBQSxVQUN4QixrQkFBa0I7QUFBQSxVQUNsQixlQUFlO0FBQUEsVUFDZixpQkFBaUI7QUFBQSxRQUNuQixDQUFDO0FBQUEsTUFDSDtBQUFBLElBQ0YsU0FBUyxLQUFLO0FBQUEsSUFHZDtBQUFBLEVBSUY7QUFHQSxTQUFPLE1BQU0sT0FBTyxPQUFPLENBQUM7QUFDNUIsU0FBTyxJQUFJLE9BQU87QUFHbEIsV0FBUyxpQkFBaUIsb0JBQW9CLE1BQU07QUFDbEQsWUFBUSxJQUFJLG9WQUE0RDtBQUN4RSxZQUFRLElBQUksbUVBQXlEO0FBQ3JFLFlBQVEsSUFBSSxvVkFBNEQ7QUFFeEUsUUFBSTtBQUNGLDRCQUFzQjtBQUN0QixXQUFLO0FBRUwsY0FBUSxJQUFJLG9WQUE0RDtBQUN4RSxjQUFRLElBQUksdUVBQXdEO0FBQ3BFLGNBQVEsSUFBSSxvVkFBNEQ7QUFBQSxJQUMxRSxTQUFTLEtBQUs7QUFDWixjQUFRLE1BQU0sc0NBQWlDLEdBQUc7QUFBQSxJQUNwRDtBQUFBLEVBQ0YsQ0FBQzsiLAogICJuYW1lcyI6IFsicHJvamVjdERhdGEiLCAicHJvamVjdERhdGEiLCAibGVycCIsICJ3cmFwcGVyIiwgIl9hIiwgInZlcnNpb24iLCAid2ZJeCIsICJTY3JvbGxUcmlnZ2VyIiwgImxlcnAiXQp9Cg==
