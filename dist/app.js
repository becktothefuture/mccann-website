(()=>{var Ee=Object.defineProperty;var Te=(e,o,t)=>o in e?Ee(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t;var d=(e,o,t)=>Te(e,typeof o!="symbol"?o+"":o,t);function V(e,o=window,t={}){try{o.dispatchEvent(new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t}))}catch{}try{window.dispatchEvent(new CustomEvent(e,{detail:t}))}catch{}}var I;function Oe(){if(I)return I;let e=0,o=()=>{let t=window.gsap||window.TweenMax||window.TweenLite;t?(I=t.gsap||t,console.log("[DIRECT-GSAP] \u2705 GSAP found and cached. Version:",I.version||"Legacy")):e<20?(e++,setTimeout(o,250)):console.log("[DIRECT-GSAP] \u274C GSAP not found after 5 seconds, animations disabled")};o()}Oe();function Y(){if(!I){console.log("[DIRECT-GSAP] Open animation skipped: GSAP not available.");return}let e=document.querySelectorAll(".acc-animate-target");e.length!==0&&(console.log(`[DIRECT-GSAP] \u{1F3AC} Animating ${e.length} items OPEN`),I.killTweensOf&&I.killTweensOf(e),I.set(e,{opacity:0,y:30,scale:.98}),I.to(e,{opacity:1,y:0,scale:1,duration:.4,stagger:.08,ease:"power2.out",onComplete:()=>{console.log("[DIRECT-GSAP] \u2705 Open animation complete"),I.set(e,{clearProps:"all"})}}))}function j(){if(!I){console.log("[DIRECT-GSAP] Close animation skipped: GSAP not available.");return}let e=document.querySelectorAll(".acc-animate-target");e.length!==0&&(console.log(`[DIRECT-GSAP] \u{1F3AC} Animating ${e.length} items CLOSE`),I.killTweensOf&&I.killTweensOf(e),I.to(e,{opacity:0,y:-20,scale:.98,duration:.25,stagger:{each:.04,from:"end"},ease:"power2.out",onComplete:()=>{console.log("[DIRECT-GSAP] \u2705 Close animation complete")}}))}window.directGSAPTest={testOpen:()=>{console.log("[DIRECT-GSAP] Manual test: OPEN"),document.querySelectorAll(".acc-item").forEach(e=>e.classList.add("acc-animate-target")),Y()},testClose:()=>{console.log("[DIRECT-GSAP] Manual test: CLOSE"),document.querySelectorAll(".acc-item").forEach(e=>e.classList.add("acc-animate-target")),j()},checkGSAP:()=>{let e=!!I;return console.log("[DIRECT-GSAP] GSAP available:",e),e}};console.log("[ACCORDION] Module loaded");function se(e={}){let{selector:o=".accordeon"}=e,t=document.querySelector(o);if(!t){console.log("[ACCORDION] \u274C Root element not found:",o);return}console.log("[ACCORDION] \u2713 Root element found:",o),window._accordionRoot=t,window._accordionDebug=!0;let n=i=>i==null?void 0:i.querySelector(":scope > .acc-list"),s=i=>{let r=i.parentElement;return r!=null&&r.classList.contains("acc-list")?r:t},c=(...i)=>{try{console.log("[ACCORDION]",...i)}catch{}},m=i=>{var r;return(r=i==null?void 0:i.classList)!=null&&r.contains("acc-section")?"section":"item"},a=i=>{let r=i==null?void 0:i.querySelector(":scope > .acc-trigger");return((r==null?void 0:r.textContent)||"").trim().replace(/\s+/g," ").slice(0,80)},u="acc-trigger--active";function v(i,r=!0){let h=i.querySelectorAll(":scope > .acc-item");h.forEach(f=>{r?f.classList.add("acc-animate-target"):f.classList.remove("acc-animate-target")}),c(`Marked ${h.length} items for ${r?"show":"hide"} animation in panel ${i.id}`);let l=t.querySelectorAll(".acc-animate-target");c(`Total elements with acc-animate-target class in DOM: ${l.length}`),l.forEach(f=>{c(`  - ${f.className} | Text: ${(f.textContent||"").trim().slice(0,50)}`)})}function w(){t.querySelectorAll(".acc-animate-target").forEach(i=>{i.classList.remove("acc-animate-target")})}let S=window.Webflow&&window.Webflow.require?window.Webflow.require("ix3")||window.Webflow.require("ix2"):null;c("Webflow IX available:",!!S);function p(i){try{if(S&&typeof S.emit=="function"){c(`\u{1F3AF} EMITTING via wfIx.emit: "${i}"`),S.emit(i);let r=t.querySelectorAll(".acc-animate-target");c(`  \u2192 ${r.length} elements have acc-animate-target class when "${i}" fires`)}}catch(r){c("wfIx.emit error",r&&r.message)}try{window.dispatchEvent(new CustomEvent(i)),c(`\u{1F4E2} EMITTING via window.dispatchEvent: "${i}"`)}catch(r){c("window.dispatchEvent error",r&&r.message)}}function y(i){let r=[];i==="acc-open"&&r.push("accordeon-open"),i==="acc-close"&&r.push("accordeon-close"),[i,...r].forEach(h=>p(h))}let O=t.querySelectorAll(".acc-trigger");O.forEach((i,r)=>{let h=i.closest(".acc-section, .acc-item"),l=n(h);if(l){let f=l.id||`acc-panel-${r}`;l.id=f,i.setAttribute("aria-controls",f),i.setAttribute("aria-expanded","false")}}),c("bootstrapped",O.length,"triggers");function L(i){var h;c("expand start",{id:i.id,children:(h=i.children)==null?void 0:h.length,h:i.scrollHeight}),i.classList.add("is-active"),Array.from(i.querySelectorAll(":scope > .acc-item")).forEach(l=>{l.style.removeProperty("opacity"),l.style.removeProperty("visibility"),l.style.removeProperty("transform")}),i.style.maxHeight=i.scrollHeight+"px",i.dataset.state="opening";let r=l=>{l.propertyName==="max-height"&&(i.removeEventListener("transitionend",r),i.dataset.state==="opening"&&(i.style.maxHeight="none",i.dataset.state="open",c("expanded",{id:i.id})))};i.addEventListener("transitionend",r)}function E(i){let r=i.style.maxHeight==="none"?i.scrollHeight:parseFloat(i.style.maxHeight||0);i.style.maxHeight=(r||i.scrollHeight)+"px",i.offsetHeight,i.style.maxHeight="0px",i.dataset.state="closing";let h=l=>{l.propertyName==="max-height"&&(i.removeEventListener("transitionend",h),i.dataset.state="collapsed",i.classList.remove("is-active"),v(i,!1),c("collapsed",{id:i.id}))};i.addEventListener("transitionend",h)}function R(i){let r=s(i);if(!r)return;let h=i.matches(".acc-section")?"acc-section":"acc-item";Array.from(r.children).forEach(l=>{var b;if(l===i||!l.classList.contains(h))return;let f=n(l);if(f&&(f.dataset.state==="open"||f.dataset.state==="opening")){c("close sibling",{kind:h,label:a(l),id:f.id}),w(),v(f,!0),setTimeout(()=>y("acc-close"),10),E(f);let C=l.querySelector(":scope > .acc-trigger");C==null||C.setAttribute("aria-expanded","false"),(b=C==null?void 0:C.classList)==null||b.remove(u)}})}function A(i){(i||t).querySelectorAll(".acc-item > .acc-list").forEach(h=>{var l;if(h.dataset.state==="open"||h.dataset.state==="opening"){E(h);let f=h.closest(".acc-item"),b=f==null?void 0:f.querySelector(":scope > .acc-trigger");b==null||b.setAttribute("aria-expanded","false"),(l=b==null?void 0:b.classList)==null||l.remove(u)}})}function M(i){var f,b;let r=n(i);if(!r)return;let h=i.querySelector(":scope > .acc-trigger"),l=!(r.dataset.state==="open"||r.dataset.state==="opening");c("toggle",{kind:m(i),opening:l,label:a(i),id:r.id}),l&&R(i),m(i)==="section"&&A(l?t:i),l?(w(),v(r,!0),setTimeout(()=>{let C=r.querySelectorAll(":scope > .acc-item.acc-animate-target");c("emit acc-open",{id:r.id,markedItems:C.length,totalItems:r.querySelectorAll(":scope > .acc-item").length}),y("acc-open"),Y()},10),L(r),h==null||h.setAttribute("aria-expanded","true"),(f=h==null?void 0:h.classList)==null||f.add(u)):(w(),v(r,!0),setTimeout(()=>{let C=r.querySelectorAll(":scope > .acc-item.acc-animate-target");c("emit acc-close",{id:r.id,markedItems:C.length,totalItems:r.querySelectorAll(":scope > .acc-item").length}),y("acc-close"),j()},10),E(r),h==null||h.setAttribute("aria-expanded","false"),(b=h==null?void 0:h.classList)==null||b.remove(u))}document.body.classList.add("js-prep"),t.querySelectorAll(".acc-list").forEach(i=>{i.style.maxHeight="0px",i.dataset.state="collapsed"}),Array.from(t.querySelectorAll(":scope > .acc-item")).forEach(i=>{i.style.removeProperty("opacity"),i.style.removeProperty("visibility"),i.style.removeProperty("transform")}),requestAnimationFrame(()=>document.body.classList.remove("js-prep")),t.addEventListener("click",i=>{let r=i.target.closest(".acc-trigger");if(!r||!t.contains(r))return;i.preventDefault();let h=r.closest(".acc-section, .acc-item");c("click",{label:(r.textContent||"").trim().replace(/\s+/g," ").slice(0,80)}),h&&M(h)}),t.addEventListener("keydown",i=>{let r=i.target.closest(".acc-trigger");if(!r||!t.contains(r)||i.key!=="Enter"&&i.key!==" ")return;i.preventDefault();let h=r.closest(".acc-section, .acc-item");c("keydown",{key:i.key,label:(r.textContent||"").trim().replace(/\s+/g," ").slice(0,80)}),h&&M(h)});let k=new ResizeObserver(i=>{i.forEach(({target:r})=>{r.dataset.state==="open"?r.style.maxHeight="none":r.dataset.state==="opening"&&(r.style.maxHeight=r.scrollHeight+"px")})});t.querySelectorAll(".acc-list").forEach(i=>k.observe(i)),window._accordionTest={markItems:i=>{let r=document.getElementById(i)||t.querySelector(".acc-list");r&&(v(r,!0),console.log("Marked items in panel:",r))},clearMarks:()=>{w(),console.log("Cleared all marks")},emitOpen:()=>{y("acc-open"),console.log("Emitted acc-open")},emitClose:()=>{y("acc-close"),console.log("Emitted acc-close")},checkWebflow:()=>{console.log("Webflow object:",window.Webflow),console.log("wfIx:",S)},getMarkedItems:()=>{let i=t.querySelectorAll(".acc-animate-target");return console.log(`Found ${i.length} items with .acc-animate-target class`),i}},console.log("[ACCORDION] Debug functions available at window._accordionTest")}var G=!1,K=0;function re(){G||(G=!0,K=window.scrollY||document.documentElement.scrollTop||0,document.body.style.position="fixed",document.body.style.top=`-${K}px`,document.body.style.left="0",document.body.style.right="0",document.body.style.width="100%",document.body.style.overflow="hidden",document.body.classList.add("modal-open"))}function Q({delayMs:e=0}={}){if(!G)return;let o=()=>{document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.width="",document.body.style.overflow="",document.body.classList.remove("modal-open"),window.scrollTo(0,K),G=!1};e>0?setTimeout(o,e):o()}console.log("[VIMEO] module loaded");function Le(e){var t;if(!e)return"";let o=String(e).trim();if(/^\d+$/.test(o))return o;try{let n=new URL(o,"https://example.com");if((n.hostname||"").includes("vimeo.com")){let c=n.pathname.split("/").filter(Boolean);return((t=(c[c.length-1]||"").match(/\d+/))==null?void 0:t[0])||""||""}}catch{}return""}function le(e,o,t={}){if(!e)return;let n=Le(o);if(!n){e.innerHTML="";return}let s=new URLSearchParams({dnt:1,...t}).toString(),c=`https://player.vimeo.com/video/${n}?${s}`,m=document.createElement("iframe");m.src=c,m.allow="autoplay; fullscreen; picture-in-picture; encrypted-media",m.setAttribute("frameborder","0"),m.style.width="100%",m.style.height="100%",e.innerHTML="",e.appendChild(m)}var xe="1.3.14";function he(e,o,t){return Math.max(e,Math.min(o,t))}function Ce(e,o,t){return(1-t)*e+t*o}function Re(e,o,t,n){return Ce(e,o,1-Math.exp(-t*n))}function Ae(e,o){return(e%o+o)%o}var Me=class{constructor(){d(this,"isRunning",!1);d(this,"value",0);d(this,"from",0);d(this,"to",0);d(this,"currentTime",0);d(this,"lerp");d(this,"duration");d(this,"easing");d(this,"onUpdate")}advance(e){var t;if(!this.isRunning)return;let o=!1;if(this.duration&&this.easing){this.currentTime+=e;let n=he(0,this.currentTime/this.duration,1);o=n>=1;let s=o?1:this.easing(n);this.value=this.from+(this.to-this.from)*s}else this.lerp?(this.value=Re(this.value,this.to,this.lerp*60,e),Math.round(this.value)===this.to&&(this.value=this.to,o=!0)):(this.value=this.to,o=!0);o&&this.stop(),(t=this.onUpdate)==null||t.call(this,this.value,o)}stop(){this.isRunning=!1}fromTo(e,o,{lerp:t,duration:n,easing:s,onStart:c,onUpdate:m}){this.from=this.value=e,this.to=o,this.lerp=t,this.duration=n,this.easing=s,this.currentTime=0,this.isRunning=!0,c==null||c(),this.onUpdate=m}};function Ie(e,o){let t;return function(...n){let s=this;clearTimeout(t),t=setTimeout(()=>{t=void 0,e.apply(s,n)},o)}}var We=class{constructor(e,o,{autoResize:t=!0,debounce:n=250}={}){d(this,"width",0);d(this,"height",0);d(this,"scrollHeight",0);d(this,"scrollWidth",0);d(this,"debouncedResize");d(this,"wrapperResizeObserver");d(this,"contentResizeObserver");d(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});d(this,"onWrapperResize",()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});d(this,"onContentResize",()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=e,this.content=o,t&&(this.debouncedResize=Ie(this.resize,n),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var e,o;(e=this.wrapperResizeObserver)==null||e.disconnect(),(o=this.contentResizeObserver)==null||o.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},de=class{constructor(){d(this,"events",{})}emit(e,...o){var n;let t=this.events[e]||[];for(let s=0,c=t.length;s<c;s++)(n=t[s])==null||n.call(t,...o)}on(e,o){var t;return(t=this.events[e])!=null&&t.push(o)||(this.events[e]=[o]),()=>{var n;this.events[e]=(n=this.events[e])==null?void 0:n.filter(s=>o!==s)}}off(e,o){var t;this.events[e]=(t=this.events[e])==null?void 0:t.filter(n=>o!==n)}destroy(){this.events={}}},ce=100/6,q={passive:!1},ke=class{constructor(e,o={wheelMultiplier:1,touchMultiplier:1}){d(this,"touchStart",{x:0,y:0});d(this,"lastDelta",{x:0,y:0});d(this,"window",{width:0,height:0});d(this,"emitter",new de);d(this,"onTouchStart",e=>{let{clientX:o,clientY:t}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=o,this.touchStart.y=t,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})});d(this,"onTouchMove",e=>{let{clientX:o,clientY:t}=e.targetTouches?e.targetTouches[0]:e,n=-(o-this.touchStart.x)*this.options.touchMultiplier,s=-(t-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=o,this.touchStart.y=t,this.lastDelta={x:n,y:s},this.emitter.emit("scroll",{deltaX:n,deltaY:s,event:e})});d(this,"onTouchEnd",e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})});d(this,"onWheel",e=>{let{deltaX:o,deltaY:t,deltaMode:n}=e,s=n===1?ce:n===2?this.window.width:1,c=n===1?ce:n===2?this.window.height:1;o*=s,t*=c,o*=this.options.wheelMultiplier,t*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:o,deltaY:t,event:e})});d(this,"onWindowResize",()=>{this.window={width:window.innerWidth,height:window.innerHeight}});this.element=e,this.options=o,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,q),this.element.addEventListener("touchstart",this.onTouchStart,q),this.element.addEventListener("touchmove",this.onTouchMove,q),this.element.addEventListener("touchend",this.onTouchEnd,q)}on(e,o){return this.emitter.on(e,o)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,q),this.element.removeEventListener("touchstart",this.onTouchStart,q),this.element.removeEventListener("touchmove",this.onTouchMove,q),this.element.removeEventListener("touchend",this.onTouchEnd,q)}},ae=e=>Math.min(1,1.001-Math.pow(2,-10*e)),Z=class{constructor({wrapper:e=window,content:o=document.documentElement,eventsTarget:t=e,smoothWheel:n=!0,syncTouch:s=!1,syncTouchLerp:c=.075,touchInertiaExponent:m=1.7,duration:a,easing:u,lerp:v=.1,infinite:w=!1,orientation:S="vertical",gestureOrientation:p=S==="horizontal"?"both":"vertical",touchMultiplier:y=1,wheelMultiplier:O=1,autoResize:L=!0,prevent:E,virtualScroll:R,overscroll:A=!0,autoRaf:M=!1,anchors:k=!1,autoToggle:i=!1,allowNestedScroll:r=!1,__experimental__naiveDimensions:h=!1}={}){d(this,"_isScrolling",!1);d(this,"_isStopped",!1);d(this,"_isLocked",!1);d(this,"_preventNextNativeScrollEvent",!1);d(this,"_resetVelocityTimeout",null);d(this,"__rafID",null);d(this,"isTouching");d(this,"time",0);d(this,"userData",{});d(this,"lastVelocity",0);d(this,"velocity",0);d(this,"direction",0);d(this,"options");d(this,"targetScroll");d(this,"animatedScroll");d(this,"animate",new Me);d(this,"emitter",new de);d(this,"dimensions");d(this,"virtualScroll");d(this,"onScrollEnd",e=>{e instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&e.stopPropagation()});d(this,"dispatchScrollendEvent",()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))});d(this,"onTransitionEnd",e=>{if(e.propertyName.includes("overflow")){let o=this.isHorizontal?"overflow-x":"overflow-y",t=getComputedStyle(this.rootElement)[o];["hidden","clip"].includes(t)?this.internalStop():this.internalStart()}});d(this,"onClick",e=>{let t=e.composedPath().find(n=>{var s;return n instanceof HTMLAnchorElement&&((s=n.getAttribute("href"))==null?void 0:s.includes("#"))});if(t){let n=t.getAttribute("href");if(n){let s=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0,c=`#${n.split("#")[1]}`;this.scrollTo(c,s)}}});d(this,"onPointerDown",e=>{e.button===1&&this.reset()});d(this,"onVirtualScroll",e=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(e)===!1)return;let{deltaX:o,deltaY:t,event:n}=e;if(this.emitter.emit("virtual-scroll",{deltaX:o,deltaY:t,event:n}),n.ctrlKey||n.lenisStopPropagation)return;let s=n.type.includes("touch"),c=n.type.includes("wheel");this.isTouching=n.type==="touchstart"||n.type==="touchmove";let m=o===0&&t===0;if(this.options.syncTouch&&s&&n.type==="touchstart"&&m&&!this.isStopped&&!this.isLocked){this.reset();return}let u=this.options.gestureOrientation==="vertical"&&t===0||this.options.gestureOrientation==="horizontal"&&o===0;if(m||u)return;let v=n.composedPath();v=v.slice(0,v.indexOf(this.rootElement));let w=this.options.prevent;if(v.find(E=>{var R,A,M;return E instanceof HTMLElement&&(typeof w=="function"&&(w==null?void 0:w(E))||((R=E.hasAttribute)==null?void 0:R.call(E,"data-lenis-prevent"))||s&&((A=E.hasAttribute)==null?void 0:A.call(E,"data-lenis-prevent-touch"))||c&&((M=E.hasAttribute)==null?void 0:M.call(E,"data-lenis-prevent-wheel"))||this.options.allowNestedScroll&&this.checkNestedScroll(E,{deltaX:o,deltaY:t}))}))return;if(this.isStopped||this.isLocked){n.cancelable&&n.preventDefault();return}if(!(this.options.syncTouch&&s||this.options.smoothWheel&&c)){this.isScrolling="native",this.animate.stop(),n.lenisStopPropagation=!0;return}let p=t;this.options.gestureOrientation==="both"?p=Math.abs(t)>Math.abs(o)?t:o:this.options.gestureOrientation==="horizontal"&&(p=o),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&this.limit>0&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&t>0||this.animatedScroll===this.limit&&t<0))&&(n.lenisStopPropagation=!0),n.cancelable&&n.preventDefault();let y=s&&this.options.syncTouch,L=s&&n.type==="touchend";L&&(p=Math.sign(this.velocity)*Math.pow(Math.abs(this.velocity),this.options.touchInertiaExponent)),this.scrollTo(this.targetScroll+p,{programmatic:!1,...y?{lerp:L?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})});d(this,"onNativeScroll",()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){let e=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-e,this.direction=Math.sign(this.animatedScroll-e),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}});d(this,"raf",e=>{let o=e-(this.time||e);this.time=e,this.animate.advance(o*.001),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))});window.lenisVersion=xe,(!e||e===document.documentElement)&&(e=window),typeof a=="number"&&typeof u!="function"?u=ae:typeof u=="function"&&typeof a!="number"&&(a=1),this.options={wrapper:e,content:o,eventsTarget:t,smoothWheel:n,syncTouch:s,syncTouchLerp:c,touchInertiaExponent:m,duration:a,easing:u,lerp:v,infinite:w,gestureOrientation:p,orientation:S,touchMultiplier:y,wheelMultiplier:O,autoResize:L,prevent:E,virtualScroll:R,overscroll:A,autoRaf:M,anchors:k,autoToggle:i,allowNestedScroll:r,__experimental__naiveDimensions:h},this.dimensions=new We(e,o,{autoResize:L}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new ke(t,{touchMultiplier:y,wheelMultiplier:O}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoToggle&&this.rootElement.addEventListener("transitionend",this.onTransitionEnd,{passive:!0}),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(e,o){return this.emitter.on(e,o)}off(e,o){return this.emitter.off(e,o)}setScroll(e){this.isHorizontal?this.options.wrapper.scrollTo({left:e,behavior:"instant"}):this.options.wrapper.scrollTo({top:e,behavior:"instant"})}resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){if(this.isStopped){if(this.options.autoToggle){this.rootElement.style.removeProperty("overflow");return}this.internalStart()}}internalStart(){this.isStopped&&(this.reset(),this.isStopped=!1,this.emit())}stop(){if(!this.isStopped){if(this.options.autoToggle){this.rootElement.style.setProperty("overflow","clip");return}this.internalStop()}}internalStop(){this.isStopped||(this.reset(),this.isStopped=!0,this.emit())}scrollTo(e,{offset:o=0,immediate:t=!1,lock:n=!1,duration:s=this.options.duration,easing:c=this.options.easing,lerp:m=this.options.lerp,onStart:a,onComplete:u,force:v=!1,programmatic:w=!0,userData:S}={}){if(!((this.isStopped||this.isLocked)&&!v)){if(typeof e=="string"&&["top","left","start","#"].includes(e))e=0;else if(typeof e=="string"&&["bottom","right","end"].includes(e))e=this.limit;else{let p;if(typeof e=="string"?(p=document.querySelector(e),p||(e==="#top"?e=0:console.warn("Lenis: Target not found",e))):e instanceof HTMLElement&&(e!=null&&e.nodeType)&&(p=e),p){if(this.options.wrapper!==window){let O=this.rootElement.getBoundingClientRect();o-=this.isHorizontal?O.left:O.top}let y=p.getBoundingClientRect();e=(this.isHorizontal?y.left:y.top)+this.animatedScroll}}if(typeof e=="number"){if(e+=o,e=Math.round(e),this.options.infinite){if(w){this.targetScroll=this.animatedScroll=this.scroll;let p=e-this.animatedScroll;p>this.limit/2?e=e-this.limit:p<-this.limit/2&&(e=e+this.limit)}}else e=he(0,e,this.limit);if(e===this.targetScroll){a==null||a(this),u==null||u(this);return}if(this.userData=S!=null?S:{},t){this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),u==null||u(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}w||(this.targetScroll=e),typeof s=="number"&&typeof c!="function"?c=ae:typeof c=="function"&&typeof s!="number"&&(s=1),this.animate.fromTo(this.animatedScroll,e,{duration:s,easing:c,lerp:m,onStart:()=>{n&&(this.isLocked=!0),this.isScrolling="smooth",a==null||a(this)},onUpdate:(p,y)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=p-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=p,this.setScroll(this.scroll),w&&(this.targetScroll=p),y||this.emit(),y&&(this.reset(),this.emit(),u==null||u(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}checkNestedScroll(e,{deltaX:o,deltaY:t}){var i,r;let n=Date.now(),s=(i=e._lenis)!=null?i:e._lenis={},c,m,a,u,v,w,S,p,y=this.options.gestureOrientation;if(n-((r=s.time)!=null?r:0)>2e3){s.time=Date.now();let h=window.getComputedStyle(e);s.computedStyle=h;let l=h.overflowX,f=h.overflowY;if(c=["auto","overlay","scroll"].includes(l),m=["auto","overlay","scroll"].includes(f),s.hasOverflowX=c,s.hasOverflowY=m,!c&&!m||y==="vertical"&&!m||y==="horizontal"&&!c)return!1;v=e.scrollWidth,w=e.scrollHeight,S=e.clientWidth,p=e.clientHeight,a=v>S,u=w>p,s.isScrollableX=a,s.isScrollableY=u,s.scrollWidth=v,s.scrollHeight=w,s.clientWidth=S,s.clientHeight=p}else a=s.isScrollableX,u=s.isScrollableY,c=s.hasOverflowX,m=s.hasOverflowY,v=s.scrollWidth,w=s.scrollHeight,S=s.clientWidth,p=s.clientHeight;if(!c&&!m||!a&&!u||y==="vertical"&&(!m||!u)||y==="horizontal"&&(!c||!a))return!1;let O;if(y==="horizontal")O="x";else if(y==="vertical")O="y";else{let h=o!==0,l=t!==0;h&&c&&a&&(O="x"),l&&m&&u&&(O="y")}if(!O)return!1;let L,E,R,A,M;if(O==="x")L=e.scrollLeft,E=v-S,R=o,A=c,M=a;else if(O==="y")L=e.scrollTop,E=w-p,R=t,A=m,M=u;else return!1;return(R>0?L<E:L>0)&&A&&M}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){var o,t;let e=this.options.wrapper;return this.isHorizontal?(o=e.scrollX)!=null?o:e.scrollLeft:(t=e.scrollY)!=null?t:e.scrollTop}get scroll(){return this.options.infinite?Ae(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(e){this._isScrolling!==e&&(this._isScrolling=e,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(e){this._isStopped!==e&&(this._isStopped=e,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(e){this._isLocked!==e&&(this._isLocked=e,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let e="lenis";return this.options.autoToggle&&(e+=" lenis-autoToggle"),this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isScrolling==="smooth"&&(e+=" lenis-smooth"),e}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};console.log("[SMOOTH-SCROLL] Module loaded");var D=null;function ue(e={}){var s,c;if(D)return console.log("[SMOOTH-SCROLL] Already initialized"),D;if(document.querySelector(".perspective-wrapper")!==null&&!e.forceEnableOnSnap)return console.log("[SMOOTH-SCROLL] \u26A0\uFE0F Skipped - page has scroll-snap container"),console.log("[SMOOTH-SCROLL] Using native scrolling for optimal snap behavior"),null;let t=(s=e.lerp)!=null?s:.08,n={lerp:t,duration:1.2,orientation:"vertical",gestureOrientation:"vertical",smoothWheel:!0,smoothTouch:!1,wheelMultiplier:1,touchMultiplier:2,infinite:(c=e.infinite)!=null?c:!1,...e};try{let m=function(a){D.raf(a),requestAnimationFrame(m)};return D=new Z(n),requestAnimationFrame(m),window.gsap&&window.ScrollTrigger&&(D.on("scroll",ScrollTrigger.update),window.gsap.ticker.add(a=>{D.raf(a*1e3)}),window.gsap.ticker.lagSmoothing(0)),window.App=window.App||{},window.App.smoothScroll={stop:()=>D.stop(),start:()=>D.start(),instance:D},console.log(`[SMOOTH-SCROLL] \u2713 Initialized with momentum scrolling (lerp: ${t})`),D}catch(m){return console.error("[SMOOTH-SCROLL] \u274C Init error:",m),null}}function me(e,o={}){var m;let t=typeof e=="string"?document.querySelector(e):e;if(!t)return console.warn(`[SMOOTH-SCROLL] Container not found: ${e}`),null;let n=(m=o.lerp)!=null?m:.08,s=o.content?typeof o.content=="string"?t.querySelector(o.content):o.content:t.children.length>0?t.children[0]:t,c={wrapper:t,content:s,lerp:n,duration:1.2,orientation:"vertical",gestureOrientation:"vertical",smoothWheel:!0,smoothTouch:!1,wheelMultiplier:1,touchMultiplier:2,infinite:!1,...o};delete c.wrapper,delete c.content;try{let u=function(v){a.raf(v),requestAnimationFrame(u)},a=new Z({wrapper:t,content:s,...c});return requestAnimationFrame(u),window.gsap&&window.ScrollTrigger&&a.on("scroll",ScrollTrigger.update),console.log(`[SMOOTH-SCROLL] \u2713 Container scroll initialized for ${typeof e=="string"?e:t.className||"element"}`),a}catch(a){return console.error("[SMOOTH-SCROLL] \u274C Container scroll init error:",a),null}}console.log("[LIGHTBOX] Module loaded");function pe({root:e="#lightbox",closeDelayMs:o=1e3}={}){let t=document.querySelector(e);if(!t){console.log("[LIGHTBOX] Element not found");return}let n=t.querySelector(".lightbox__inner"),s=t.querySelector(".video-area"),c=t.querySelector(".lightbox__overlay"),m=t.querySelector("#close-btn"),a=document.querySelectorAll(".slide"),u=matchMedia("(prefers-reduced-motion: reduce)").matches,v=!1,w=null,S=null;if(t.setAttribute("role",t.getAttribute("role")||"dialog"),t.setAttribute("aria-modal",t.getAttribute("aria-modal")||"true"),t.setAttribute("aria-hidden","true"),t.classList.remove("is-open"),t.style.setProperty("visibility","hidden","important"),t.style.setProperty("opacity","0","important"),t.style.setProperty("pointer-events","none","important"),Q({delayMs:0}),console.log(`
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501`),console.log("\u{1F50D} LIGHTBOX WEBFLOW SETUP VALIDATION"),console.log(`\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501
`),console.log("1\uFE0F\u20E3  Main Container (#lightbox)"),console.log("   \u2713 Found: #lightbox element exists"),console.log(`   \u2713 Has class: ${t.classList.contains("lightbox")?".lightbox \u2713":"\u274C MISSING .lightbox class"}`),console.log(`
2\uFE0F\u20E3  Inner Container (.lightbox__inner)`),n?console.log("   \u2713 Found: .lightbox__inner exists"):console.warn("   \u26A0\uFE0F  NOT FOUND: .lightbox__inner (backdrop close will target entire #lightbox)"),console.log(`
3\uFE0F\u20E3  Video Container (.video-area)`),s?console.log("   \u2713 Found: .video-area exists (ready for Vimeo videos)"):console.warn("   \u26A0\uFE0F  NOT FOUND: .video-area (videos will not display)"),console.log(`
3\uFE0F\u20E3.5 Overlay Container (.lightbox__overlay)`),c?(console.log("   \u2713 Found: .lightbox__overlay exists (smooth scroll will be applied)"),console.log("   \u2139\uFE0F  Structure: .lightbox__overlay is sibling of .lightbox__inner")):console.log("   \u2139\uFE0F  .lightbox__overlay not found (no overlay scroll will be initialized)"),console.log(`
4\uFE0F\u20E3  Close Button (#close-btn)`),m?(console.log("   \u2713 Found: #close-btn exists"),console.log("   \u2139\uFE0F  Make sure #close-btn has NO Webflow click interactions")):console.warn("   \u26A0\uFE0F  NOT FOUND: #close-btn (only backdrop/Escape will close)"),console.log(`
5\uFE0F\u20E3  Trigger Elements (.slide)`),console.log(`   \u2713 Found: ${a.length} .slide elements`),a.length===0)console.warn("   \u26A0\uFE0F  NO SLIDES: Lightbox will not open (no triggers)");else{let l=0;a.forEach(f=>{f.dataset.video&&l++}),console.log(`   \u2139\uFE0F  ${l}/${a.length} slides have data-video attribute`)}console.log(`
6\uFE0F\u20E3  CSS Classes`);let p=window.getComputedStyle(t),y=p.position,O=p.zIndex,L=p.opacity,E=p.visibility;console.log(`   ${y==="fixed"?"\u2713":"\u274C"} position: ${y} (should be 'fixed')`),console.log(`   ${O==="9999"?"\u2713":"\u26A0\uFE0F"} z-index: ${O} (recommended: 9999)`),console.log(`   ${parseFloat(L)===0?"\u2713":"\u26A0\uFE0F"} opacity: ${L} (should be 0 when closed)`),console.log(`   ${E==="hidden"?"\u2713":"\u26A0\uFE0F"} visibility: ${E} (should be 'hidden' when closed)`);let R=t.style.display;R&&R!=="none"&&R!=="block"&&console.warn(`   \u26A0\uFE0F  Unexpected inline display: ${R}`),console.log(`
7\uFE0F\u20E3  Webflow Interactions (IX)`);let A=window.Webflow&&window.Webflow.require?window.Webflow.require("ix3")||window.Webflow.require("ix2"):null;if(A){let l=window.Webflow.require("ix3")?"IX3":"IX2";console.log(`   \u2713 Webflow ${l} detected`),console.log(`   \u2713 wfIx.emit available: ${typeof A.emit=="function"}`)}else console.warn("   \u26A0\uFE0F  Webflow IX NOT detected (animations will not play)");console.log(`
8\uFE0F\u20E3  Required Custom Events in Webflow`),console.log("   \u{1F4CB} You must create these in Webflow \u2192 Interactions:"),console.log('      \u2022 Event name: "lb:open" (case-sensitive)'),console.log("        - Trigger: Custom Event \u2192 lb:open"),console.log("        - Target: #lightbox"),console.log("        - Animation: Fade in / scale / your choice"),console.log("        - Control: Play from start"),console.log('      \u2022 Event name: "lb:close" (case-sensitive)'),console.log("        - Trigger: Custom Event \u2192 lb:close"),console.log("        - Target: #lightbox"),console.log("        - Animation: Fade out / scale / your choice"),console.log("        - Control: Play from start"),console.log("        - Duration: Should be \u2264 1000ms"),console.log(`
9\uFE0F\u20E3  Common Issues to Avoid`),console.log("   \u274C Don't set display:none on #lightbox in Webflow"),console.log("   \u274C Don't override position:fixed on #lightbox"),console.log("   \u274C Don't add click interactions to #close-btn in Webflow"),console.log("   \u274C Don't add click interactions to .slide elements in Webflow"),console.log(`
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501`),console.log(`\u2705 LIGHTBOX VALIDATION COMPLETE
`);function M(l){try{if(window.Webflow&&window.Webflow.require){let f=window.Webflow.require("ix3")||window.Webflow.require("ix2");f&&typeof f.emit=="function"?(f.emit(l),console.log(`\u{1F3AC} [LIGHTBOX] Triggered animation: "${l}"`),console.log(`   \u2139\uFE0F  Check Webflow \u2192 Interactions for custom event: "${l}"`)):console.warn(`\u26A0\uFE0F  [LIGHTBOX] Cannot emit "${l}" - wfIx.emit not available`)}else console.warn(`\u26A0\uFE0F  [LIGHTBOX] Cannot emit "${l}" - Webflow IX not available`)}catch(f){console.error(`\u274C [LIGHTBOX] Error emitting "${l}":`,f)}}function k(l){Array.from(document.body.children).filter(b=>b!==t).forEach(b=>{try{"inert"in b&&(b.inert=!!l)}catch{}l?b.setAttribute("aria-hidden","true"):b.removeAttribute("aria-hidden")})}function i(l){if(l.key!=="Tab")return;let f=t.querySelectorAll(["a[href]","button","input","select","textarea",'[tabindex]:not([tabindex="-1"])'].join(",")),b=Array.from(f).filter(H=>!H.hasAttribute("disabled")&&!H.getAttribute("aria-hidden"));if(b.length===0){l.preventDefault(),(n||t).focus();return}let C=b[0],U=b[b.length-1];l.shiftKey&&document.activeElement===C?(l.preventDefault(),U.focus()):!l.shiftKey&&document.activeElement===U&&(l.preventDefault(),C.focus())}function r(l){var B,_,P,F,X;if(v)return;v=!0,w=document.activeElement instanceof HTMLElement?document.activeElement:null;let f=((B=l==null?void 0:l.dataset)==null?void 0:B.video)||"",b=((_=l==null?void 0:l.dataset)==null?void 0:_.title)||"",C=((P=l==null?void 0:l.dataset)==null?void 0:P.text)||"",H=/\.webflow\.com$/.test(location.hostname)||/canvas\.webflow\.com$/.test(location.hostname)?0:1;s&&f&&le(s,f,{autoplay:H,muted:1,autopause:0,controls:0,background:1,playsinline:1,loop:1,dnt:1}),t.style.removeProperty("visibility"),t.style.removeProperty("opacity"),t.style.removeProperty("pointer-events"),t.classList.add("is-open"),t.setAttribute("aria-hidden","false"),k(!0),re(),(X=(F=window.App)==null?void 0:F.smoothScroll)!=null&&X.stop&&window.App.smoothScroll.stop(),M("lb:open"),c&&requestAnimationFrame(()=>{S=me(c,{lerp:.08,smoothWheel:!0,smoothTouch:!1})}),t.setAttribute("tabindex","-1"),requestAnimationFrame(()=>{(n||t).focus()}),V("LIGHTBOX_OPEN",t,{video:f,title:b,text:C})}function h(){var f,b;if(!v)return;V("LIGHTBOX_CLOSE",t),M("lb:close");let l=u?0:o;setTimeout(()=>{if(t.setAttribute("aria-hidden","true"),t.classList.remove("is-open"),k(!1),s&&(s.innerHTML=""),S)try{S.destroy(),S=null,console.log("[LIGHTBOX] \u2713 Overlay smooth scroll destroyed")}catch(C){console.warn("[LIGHTBOX] Error destroying overlay scroll:",C)}w&&document.body.contains(w)&&w.focus(),v=!1,V("LIGHTBOX_CLOSED_DONE",t)},l),Q({delayMs:u?0:o}),(b=(f=window.App)==null?void 0:f.smoothScroll)!=null&&b.start&&setTimeout(()=>{window.App.smoothScroll.start()},l)}a.forEach((l,f)=>{l.addEventListener("click",b=>{b.preventDefault(),b.stopPropagation(),r(l)},{passive:!1})}),t.addEventListener("click",l=>{(n&&!l.target.closest(".lightbox__inner")||!n&&l.target===t)&&h()}),m&&m.addEventListener("click",l=>{l.preventDefault(),l.stopPropagation(),h()}),document.addEventListener("keydown",l=>{t.classList.contains("is-open")&&(l.key==="Escape"&&h(),l.key==="Tab"&&i(l))})}console.log("[WEBFLOW] module loaded");function fe(e={}){let o=e.scrollerSelector||".perspective-wrapper",t=e.shrinkEventName||e.playEventName||"logo-shrink",n=e.growEventName||"logo-grow",s=!!e.markers;function c(m){if(document.readyState==="complete"){setTimeout(m,0);return}window.addEventListener("load",m,{once:!0})}c(function(){(window.Webflow||[]).push(function(){let a=window.Webflow&&window.Webflow.require?window.Webflow.require("ix3")||window.Webflow.require("ix2"):null,u=window.ScrollTrigger;if(!a||!u)return;let v=document.querySelector(o);if(!v)return;let w=document.querySelector("#intro-slide");if(!w){console.error("[WEBFLOW] Driver slide (#intro-slide) not found");return}console.log("[WEBFLOW] Setup complete:",{scroller:!!v,driver:!!w,wfIx:!!a,ScrollTrigger:!!u,shrinkEvent:t,growEvent:n}),u.create({trigger:w,scroller:v,start:"top top",end:"top -10%",markers:s,onLeave:()=>{try{console.log("[WEBFLOW] emit shrink (scrolled down):",t),a.emit(t)}catch(S){console.error("[WEBFLOW] Error emitting shrink:",S)}},onEnterBack:()=>{try{console.log("[WEBFLOW] emit grow (scrolled back up):",n),a.emit(n)}catch(S){console.error("[WEBFLOW] Error emitting grow:",S)}}}),console.log("[WEBFLOW] ScrollTrigger initialized"),requestAnimationFrame(()=>{u.refresh(),setTimeout(()=>{try{console.log("[WEBFLOW] emit grow (initial load):",n),a.emit(n)}catch(S){console.error("[WEBFLOW] Error emitting initial grow:",S)}},200)})})})}console.log("[SLIDE-OBSERVER] module loaded");function ge(e={}){let o=e.scrollerSelector||".perspective-wrapper",t=e.targetSlideSelector||"#intro-slide",n=e.appearEventName||"logo-appear",s=e.disappearEventName||"logo-disappear",c=e.threshold!==void 0?e.threshold:.1;function m(a){if(document.readyState==="complete"){setTimeout(a,0);return}window.addEventListener("load",a,{once:!0})}m(function(){(window.Webflow||[]).push(function(){let u=window.Webflow&&window.Webflow.require?window.Webflow.require("ix3")||window.Webflow.require("ix2"):null;if(!u){console.warn("[SLIDE-OBSERVER] Webflow IX API not found");return}let v=document.querySelector(o);if(!v){console.warn("[SLIDE-OBSERVER] Scroller not found:",o);return}let w=document.querySelector(t);if(!w){console.error("[SLIDE-OBSERVER] Target slide not found:",t);return}console.log("[SLIDE-OBSERVER] Setup complete:",{scroller:!!v,targetSlide:!!w,wfIx:!!u,appearEvent:n,disappearEvent:s,threshold:c});let S=!0,p=null;return p=new IntersectionObserver(function(y){y.forEach(function(O){let L=O.isIntersecting;if(L!==S)if(S=L,S)try{console.log("[SLIDE-OBSERVER] emit disappear (slide in view):",s),u.emit(s)}catch(E){console.error("[SLIDE-OBSERVER] Error emitting disappear:",E)}else try{console.log("[SLIDE-OBSERVER] emit appear (slide out of view):",n),u.emit(n)}catch(E){console.error("[SLIDE-OBSERVER] Error emitting appear:",E)}})},{root:v,rootMargin:"0px",threshold:c}),p.observe(w),console.log("[SLIDE-OBSERVER] Observer initialized and watching:",t),function(){p&&(p.disconnect(),p=null,console.log("[SLIDE-OBSERVER] Observer disconnected"))}})})}var $={watch:"watch",read:"read",click:"click",scroll:"scroll",drag:"drag","back-to-top":"back to top",explore:"explore","learn-more":"learn more",view:"view",download:"download",share:"share",next:"next",previous:"previous",close:"close",open:"open",play:"play",pause:"pause",expand:"expand",collapse:"collapse"};console.log("[CUSTOM-CURSOR] Module loaded");function we(e={}){let{cursorSelector:o=".cursor",labelSelector:t=".cursor__label",lerp:n=.15,edgeMultiplier:s=2,edgeThreshold:c=.1}=e;if(matchMedia("(prefers-reduced-motion: reduce)").matches){console.log("[CUSTOM-CURSOR] Skipped - user prefers reduced motion");return}let a=document.querySelector(o);if(!a){console.warn(`[CUSTOM-CURSOR] \u274C Element not found: ${o}`);return}let u=a.querySelector(t);if(!u){console.warn(`[CUSTOM-CURSOR] \u274C Label element not found: ${t}`);return}let v=a.closest(".cursor-wrapper");v&&v!==document.body&&(console.log("[CUSTOM-CURSOR] \u{1F527} Moving cursor to body level (was inside wrapper)"),document.body.appendChild(a),v.children.length===0&&v.remove());let w=window.innerWidth/2,S=window.innerHeight/2,p=w,y=S,O=null,L=!1,E="ontouchstart"in window||navigator.maxTouchPoints>0,R=window.matchMedia("(max-width: 768px)").matches,A=!1;try{A=window.matchMedia("(pointer: coarse)").matches}catch{A=R&&E}let M=A&&R,k=!1,i=0,r=0,h=null,l=null;console.log(`
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501`),console.log("[CUSTOM-CURSOR] \u{1F3AF} INITIALIZATION"),console.log(`\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501
`),console.log(`[CUSTOM-CURSOR] \u2713 Cursor element: ${o}`),console.log(`[CUSTOM-CURSOR] \u2713 Label element: ${t}`),console.log(`[CUSTOM-CURSOR] \u2713 Mode: ${M?"Mobile (drag)":"Desktop (follow)"}`),console.log(`[CUSTOM-CURSOR] \u2139\uFE0F  Detection: screen=${R?"small":"large"}, touch=${E}, pointer=${A?"coarse":"fine"}`),console.log(`[CUSTOM-CURSOR] \u2713 Lerp: ${n}`),console.log(`[CUSTOM-CURSOR] \u2713 Edge multiplier: ${s}x`),console.log(`[CUSTOM-CURSOR] \u2713 Edge threshold: ${c*100}%`),console.log(`[CUSTOM-CURSOR] \u2713 Label mappings loaded: ${Object.keys($).length} entries`),a.style.setProperty("--cursor-x",`${w}px`),a.style.setProperty("--cursor-y",`${S}px`),a.style.opacity="0",document.documentElement.style.cursor="none",document.body.style.cursor="none";let f=document.createElement("style");f.id="custom-cursor-override",f.textContent=`
    /* Hide default cursor globally */
    *, *::before, *::after {
      cursor: none !important;
    }
    
    /* Allow cursor for accessibility tools (screen readers focus indicators) */
    [role="button"]:focus,
    a:focus,
    button:focus,
    input:focus,
    textarea:focus,
    select:focus,
    [tabindex]:focus {
      outline: 2px solid currentColor;
      outline-offset: 2px;
    }
    
    /* Keep cursor hidden even on hover */
    a:hover,
    button:hover,
    [role="button"]:hover {
      cursor: none !important;
    }
  `,document.head.appendChild(f),console.log("[CUSTOM-CURSOR] \u2713 Default cursor hidden globally"),console.log("[CUSTOM-CURSOR] \u2713 Accessibility focus indicators preserved");function b(T,g){let x=window.innerWidth,N=window.innerHeight,W=T/x,z=g/N,ve=Math.min(W,1-W),ye=Math.min(z,1-z),ne=Math.min(ve,ye);if(ne<c){let be=ne/c;return 1+(s-1)*(1-be)}return 1/s}function C(){if(!a||!document.body.contains(a)){console.warn("[CUSTOM-CURSOR] \u26A0\uFE0F Cursor element lost, stopping animation"),O&&(cancelAnimationFrame(O),O=null);return}let T=p-w,g=y-S,x=.01;if(Math.abs(T)<x&&Math.abs(g)<x)w=p,S=y;else{let N=b(w,S),W=n*N;w+=T*W,S+=g*W}w=Math.max(0,Math.min(w,window.innerWidth)),S=Math.max(0,Math.min(S,window.innerHeight)),a.style.setProperty("--cursor-x",`${w}px`),a.style.setProperty("--cursor-y",`${S}px`),O=requestAnimationFrame(C)}function U(){L||(L=!0,a.style.opacity="1",a.style.transition="opacity 0.2s ease",console.log("[CUSTOM-CURSOR] Cursor shown"))}function H(){L&&(L=!1,a.style.opacity="0",console.log("[CUSTOM-CURSOR] Cursor hidden"))}function B(T){if(!T||!document.body.contains(T))return null;let g=T,x=10,N=0;for(;g&&N<x;){if(g===a||g.classList.contains("cursor")||g.classList.contains("cursor-wrapper")){g=g.parentElement,N++;continue}if(g.dataset.cursor)return g;let W=g.tagName;if(W==="VIDEO"||W==="A"||W==="BUTTON"||g.getAttribute("role")==="button"||g.hasAttribute("href")||g.hasAttribute("onclick")||g.querySelector("video"))return g;g=g.parentElement,N++}return null}function _(T){if(!u)return;let g="",x=B(T);if(x){let W=x.dataset.cursor;if(W&&(g=$[W]||""),!g){let z=x.tagName;z==="VIDEO"||x.closest("video")?g=$.watch||"watch":z==="A"&&x.href&&!x.href.startsWith("#")?g=$.read||"read":(z==="BUTTON"||x.getAttribute("role")==="button")&&(g=$.click||"click")}}let N=u.textContent;g&&g!==N?(u.textContent=g,a.classList.add("has-label"),u.classList.add("is-visible"),console.log(`[CUSTOM-CURSOR] Label: "${g}" (from ${(x==null?void 0:x.tagName)||"unknown"})`)):!g&&N&&(u.textContent="",a.classList.remove("has-label"),u.classList.remove("is-visible"),console.log("[CUSTOM-CURSOR] Label cleared"))}function P(T){h&&cancelAnimationFrame(h),h=requestAnimationFrame(()=>{T!==l&&(_(T),l=T)})}function F(T){p=T.clientX,y=T.clientY,p=Math.max(0,Math.min(p,window.innerWidth)),y=Math.max(0,Math.min(y,window.innerHeight)),U();let g=document.elementFromPoint(T.clientX,T.clientY);P(g)}function X(T){!T.relatedTarget&&T.clientY<=0&&(H(),console.log("[CUSTOM-CURSOR] Mouse left viewport"))}function J(T){let g=T.touches[0];if(!g)return;k=!0,i=g.clientX,r=g.clientY,p=i,y=r,U();let x=document.elementFromPoint(g.clientX,g.clientY);P(x),console.log("[CUSTOM-CURSOR] Touch start")}function ee(T){if(!k)return;T.preventDefault();let g=T.touches[0];if(!g)return;p=g.clientX,y=g.clientY;let x=document.elementFromPoint(g.clientX,g.clientY);P(x)}function te(){k=!1,console.log("[CUSTOM-CURSOR] Touch end")}M?(document.addEventListener("touchstart",J,{passive:!1}),document.addEventListener("touchmove",ee,{passive:!1}),document.addEventListener("touchend",te,{passive:!0}),console.log("[CUSTOM-CURSOR] \u2713 Touch event listeners attached (mobile)")):(window.addEventListener("mousemove",F,{passive:!0,capture:!0}),document.addEventListener("mouseleave",X,{passive:!0}),console.log("[CUSTOM-CURSOR] \u2713 Mouse event listeners attached (desktop)"),console.log("[CUSTOM-CURSOR] \u2139\uFE0F  Using window for mousemove to catch all movements")),O=requestAnimationFrame(C),console.log("[CUSTOM-CURSOR] \u2713 Animation loop started");let oe;window.addEventListener("resize",()=>{clearTimeout(oe),oe=setTimeout(()=>{w=Math.min(w,window.innerWidth),S=Math.min(S,window.innerHeight),p=Math.min(p,window.innerWidth),y=Math.min(y,window.innerHeight),console.log("[CUSTOM-CURSOR] Viewport resized")},100)},{passive:!0});let ie=()=>{O&&(cancelAnimationFrame(O),O=null),h&&(cancelAnimationFrame(h),h=null),M?(document.removeEventListener("touchstart",J),document.removeEventListener("touchmove",ee),document.removeEventListener("touchend",te)):(window.removeEventListener("mousemove",F,{capture:!0}),document.removeEventListener("mouseleave",X));let T=document.getElementById("custom-cursor-override");T&&T.remove(),document.documentElement.style.cursor="",document.body.style.cursor="",console.log("[CUSTOM-CURSOR] Cleaned up")};return window.App=window.App||{},window.App.customCursor={cleanup:ie,show:U,hide:H,updateLabel:_},console.log(`
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501`),console.log(`[CUSTOM-CURSOR] \u2705 INITIALIZED SUCCESSFULLY
`),{cleanup:ie,showCursor:U,hideCursor:H,updateLabel:_}}function De(){let e=["autoplay","fullscreen","picture-in-picture","encrypted-media"],o=['iframe[src*="vimeo.com"]','iframe[src*="player.vimeo.com"]'].join(",");document.querySelectorAll(o).forEach(t=>{let n=(t.getAttribute("allow")||"").split(";").map(c=>c.trim()).filter(Boolean),s=Array.from(new Set([...n,...e])).join("; ");t.setAttribute("allow",s)})}function Se(e={}){let{lightboxRoot:o="#lightbox",useIntersectionObserver:t=!1,lerp:n=.1,snapLerp:s=.15,smoothScroll:c={}}=e;ue({lerp:n,snapLerp:s,...c}),se({selector:".accordeon"}),pe({root:o,closeDelayMs:1e3}),we();try{t?ge({scrollerSelector:".perspective-wrapper",targetSlideSelector:"#intro-slide",appearEventName:"logo-appear",disappearEventName:"logo-disappear",threshold:.1}):fe({scrollerSelector:".perspective-wrapper",shrinkEventName:"logo-shrink",growEventName:"logo-grow"})}catch{}}window.App=window.App||{};window.App.init=Se;document.addEventListener("DOMContentLoaded",()=>{console.log(`
\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557`),console.log("\u2551     McCann Website - Initialization Starting        \u2551"),console.log(`\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D
`);try{De(),Se(),console.log(`
\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557`),console.log("\u2551     \u2705 All Systems Initialized Successfully         \u2551"),console.log(`\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D
`)}catch(e){console.error("[APP] \u274C Initialization error:",e)}});})();
