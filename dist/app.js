(() => {
  var __defProp = Object.defineProperty;
  var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
  var __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);

  // src/data/project-data.json
  var project_data_default = {
    "loreal-final-copy": {
      client: "L'Or\xE9al Paris",
      title: "The Final Copy of Ilon Specht",
      truth: "Women have inherent worth and deserve to be seen, heard, and valued.",
      truthWellTold: "Because You're Worth It",
      description: `Fifty years after "Because I'm Worth It" was written, its meaning had become eroded by time. What began as a statement of rebellion had softened into a tagline \u2014 spoken everywhere but rarely felt. Our idea was not to reinterpret it, but to reclaim it. We did so by going back to where the line began, to Ilon Specht, the young McCann copywriter who fought so hard to bring those words to life. We worked with two-time Oscar-winning filmmaker Ben Proudfoot to capture Specht, now in her senior years and facing a terminal illness, in her New York apartment. She reflects on making the original ad at a time when so many forces were working against her, and, all throughout, her fire and unfiltered voice come to life: sharp, defiant and unapologetic. No brand messaging. No product shots. Just truth. The ultimate embodiment of "I'm worth it." We gave Ilon Specht back her words and her authorship. We didn't modernize her line. We reminded the world of its original power, and the world listened.`,
      impact: "More than 75% of people who saw the film reported that it changed their perception of the brand",
      vimeoId: "1131846355",
      vimeoPreviewId: "255887033",
      awards: [
        "award-generic-1.jpg",
        "award-generic-2.jpg",
        "award-generic-3.jpg"
      ]
    },
    "mastercard-abracadabra": {
      client: "Mastercard",
      title: "Abracadabra: From Fan to Featured",
      truth: "Music fans want to live their passion, not just listen to it.",
      truthWellTold: "From Fan to Featured",
      description: "Gen Z doesn't just watch culture, they make it. So Mastercard turned Lady Gaga's music video into a fan-powered audition, with choreography by Parris Goebel, creators leading the charge, and Gaga amplifying every step. We partnered with viral dance creators to teach the moves, model participation, and rally their communities. Mastercard and Gaga fueled the movement by liking, reposting, and celebrating fans across platforms. The strategy was rooted in Gen Z's desire for self-expression and social connection \u2014 turning fan behavior into the engine of engagement. The result: 1.4 billion views, TikTok's top branded hashtag, and Mastercard's biggest-ever Gen Z brand lift.",
      impact: "Mastercard's biggest-ever Gen Z brand lift",
      vimeoId: "1130327297",
      vimeoPreviewId: "255887033",
      awards: [
        "award-generic-1.jpg",
        "award-generic-2.jpg"
      ]
    },
    "xbox-everyday-tactician": {
      client: "Xbox",
      title: "The Everyday Tactician",
      truth: "Football Manager gamers don't just play the game, they study it.",
      truthWellTold: "Xbox turned game intelligence into real-world influence",
      description: "Modern football is dominated by a few rich clubs that can afford to hire big teams of coaches and analysts, which means smaller clubs struggle to compete for talent. For the launch of Football Manager 24 \u2014 the most realistic football simulator \u2014 Xbox helped the small club Bromley FC recruit their next tactician from an untapped talent pool: gamers. The announcement made headlines everywhere, and people from around the world applied. Nathan Owolabi, a dedicated Football Manager player, got the job. He used data from the game to help the club win in the real world, developing formations, finding new strategies, and uncovering the opposition's weaknesses. The story of this unusual approach to football was told in a 60+ minute documentary on TNT Sports \u2014 the UK's biggest sports broadcaster. With the help of a gamer, the club achieved its best season in its 132-year history, ultimately gaining promotion to League Two for the first time ever. Xbox saw a dramatic increase in Football Manager players on console, and Football Manager 24 became the most-played game in the history of the franchise.",
      impact: "190% increase in Xbox players for Football Manager 24, which became the most-played game in the history of the franchise",
      vimeoId: "1130327360",
      vimeoPreviewId: "255887033",
      awards: [
        "award-generic-1.jpg",
        "award-generic-2.jpg",
        "award-generic-3.jpg"
      ]
    },
    "chevrolet-100-years": {
      client: "Chevrolet",
      title: "100 Years of Chevrolet",
      truth: "The future is born out of the past. Every Chevrolet that's carried us along the way continues to drive us forward.",
      truthWellTold: "For 100 years, always driving toward the future",
      description: "Chevrolet celebrated 100 years in Brazil with a 360\xBA campaign that revisited defining moments in the nation's history. In the hero film, from the rise of industry to women's right to vote, from the dream of a new capital to the return of democracy, from World Cup celebrations to reconnection after the pandemic, each scene was chosen to reflect the country's progress and the brand's enduring presence throughout. The story is told through immersive cinematography, 3D transitions, and iconic vehicles that act as portals through time. Every frame was carefully crafted, combining historical accuracy with emotional depth. Narrated by Fernanda Torres, one of Brazil's most celebrated actresses, the film aired nationally on Chevrolet's 100th anniversary. More than a celebration, it became a statement about memory, progress, and connection, reminding Brazilians that Chevrolet has not just been a car brand, but a part of their country's journey.",
      impact: "#1 position in brand consideration \u2014 6 p.p. ahead of 2nd place and 9 p.p. ahead of 3rd. #1 position in engagement across the category, with 44\xD7 more interactions than the brand's overall average. 470,000 real experiences delivered through the Spotify activation. Strongest Brand Power in the industry in Brazil's automotive industry during the period.",
      vimeoId: "1130337601",
      vimeoPreviewId: "255887033",
      awards: [
        "award-generic-1.jpg"
      ]
    },
    "mastercard-inclusive-by-design": {
      client: "Mastercard",
      title: "Inclusive by Design",
      truth: "An inclusive global financial system is good for humanity and business.",
      truthWellTold: "Doing well by doing good.",
      description: `When Mastercard and McCann debuted "Priceless" in 1997, the campaign captured people's hearts with a breakthrough idea: in a world of conspicuous consumption, what really matters are the things that money can't buy \u2014 like taking your child to their first game at the ballpark. Mastercard and McCann realized that to continue to deliver on "Priceless," the brand platform could not ignore the 1.4 billion people globally excluded from the financial system due to discrimination, exploitation, and more. With financial inclusion now central to Mastercard's brand purpose, "Priceless" has evolved beyond messaging into groundbreaking product innovations, tools, and platforms. Among them: the "True Name" card, allowing transgender individuals to have their real names inscribed on their credit cards; the "Touch Card" system that lets sight-impaired consumers to distinguish their credit, debit, and pre-paid cards by touch; the "Where to Settle" tool that helps Ukrainian refugees in Poland find the ideal areas to make their new homes; the "Where to Start" tool that helps create a symbiotic financial ecosystem between resettled Ukrainian refugees and their Polish neighbors; and the new "Life Donor Card" and "ATM Voting" projects, which have turned millions of users into organ donors and helped citizens decide how the government uses their money, respectively.`,
      impact: "+89% increase in brand value since 2018",
      vimeoId: "1130338763",
      vimeoPreviewId: "255887033",
      awards: [
        "award-generic-1.jpg",
        "award-generic-2.jpg",
        "award-generic-3.jpg"
      ]
    },
    "puck-recipe-for-change": {
      client: "Puck",
      title: "Recipe for Change",
      truth: "Cultural knowledge is economic power.",
      truthWellTold: "From local kitchens to global restaurant tables",
      description: `As Lebanon faced one of the worst economic and humanitarian crises in modern history, traditional aid models and retail logistics collapsed, leaving displaced women with no income and limited support. Puck, a trusted Middle Eastern dairy brand, saw an opportunity in what remained: the women's family recipes, passed down for generations. "Recipe for Change" transformed these cultural heirlooms into intellectual property by licensing the recipes to Lebanese and fusion restaurants around the world. Each dish sold generated income, with 50% of profits going directly to the women behind them. The strategy reframed these women not as victims, but as business partners, restoring dignity and agency. Launched during Ramadan, a time rooted in generosity, the campaign created a scalable B2B2C model that connected communities across borders. It not only supported displaced women but also drove new revenue for restaurants and redefined how brands can build equity, empathy, and economic impact during crisis.`,
      impact: "+16.67% profit increase, +56% rise in footfall for participating restaurants, +807.12% revenue for the women behind the recipes",
      vimeoId: "1130327170",
      vimeoPreviewId: "255887033",
      awards: [
        "award-generic-1.jpg",
        "award-generic-2.jpg"
      ]
    },
    "kids-help-phone": {
      client: "Kids Help Phone",
      title: "Help",
      truth: 'Adults define "help" as something youth only need in crisis.',
      truthWellTold: "Help means everything",
      description: `"Help" is a powerful film, marking the next chapter of Kids Help Phone's Feel Out Loud platform. The film reimagines The Beatles' "Help!" to explore what "help" truly means to young people today \u2014 from everyday struggles to urgent crises. Blending live action, CGI, and emotional metaphor, it visualizes real youth experiences drawn from over 50 million data points that have been aggregated and anonymized from real conversations with youth.`,
      impact: "In 2023, 49% of youth said that without KHP, they would have ignored their issue entirely \u2014 a major barrier to positive mental health outcomes.",
      vimeoId: "1130327957",
      vimeoPreviewId: "255887033",
      awards: []
    },
    "aldi-kevin-carrot": {
      client: "ALDI",
      title: "Kevin the Carrot's Christmas Mission",
      truth: "Living well everyday isn't about spending more but enjoying more. Because having the best Christmas possible should be something everyone can afford to have, not just dream about.",
      truthWellTold: "Have a Cracking Christmas with Aldi",
      description: 'In a festive campaign, a snowy Christmas Eve village loses its sparkle when Dr. Humbug and her crew steal the "Christmas Spirit." Santa calls on Kevin the Carrot to save the day, sending him on a daring mission to infiltrate Humbug Headquarters. With clever disguises, his wife Katie, and a few comedic close calls, Kevin works to restore joy to the village. The story ends with the humbugs learning that "Christmas is better when goodwill is returned."',
      impact: `The ad achieved the highest possible 5.9-star rating in System1's analysis for both short and long-term effects (the sixth consecutive year Aldi's Christmas campaign had scored the highest in the rankings). Kevin was also named the UK's favourite Christmas ad of all time, and Aldi's reported a 3.4% increase in total sales in 2024, the brand's "best Christmas ever."`,
      vimeoId: "1130327081",
      vimeoPreviewId: "255887033",
      awards: []
    },
    "xbox-cheeky-controller": {
      client: "Xbox",
      title: "Cheeky Controller",
      truth: "Irreverence is Deadpool's true superpower.",
      truthWellTold: "Deadpool's greatest asset is his\u2026",
      description: `The highly anticipated theatrical release of Marvel Studios' "Deadpool & Wolverine" was an unmissable pop culture moment, and Xbox aimed to capture the attention of the movie's fanbase alongside other brands vying for consumer engagement. By authentically blending Xbox's technological edge with Deadpool's irreverent humor, we created a culturally iconic retail promotion with a competition at its core. Rather than rely on predictable character assets, we launched The Cheeky Controller \u2014 a limited-edition collectible modeled after Deadpool's most talked-about body part \u2014 as an exclusive prize in a global sweepstakes. This unexpected twist on character merchandising not only ignited fan frenzy and drove massive earned media, it also deepened brand engagement and delivered a 25% sales uplift on the Microsoft Store, proving the power of bold retail ideas to cut through.`,
      impact: "+25% sales increase on the Microsoft Store",
      vimeoId: "000000000",
      vimeoPreviewId: "255887033",
      awards: [
        "award-generic-1.jpg",
        "award-generic-2.jpg"
      ]
    },
    "mcdonalds-not-first-dates": {
      client: "McDonald's",
      title: "Not for First Dates",
      truth: "While McDonald's may not mark the beginning of love, it often becomes part of love's journey \u2014 for second dates, late-night comfort, and everyday rituals.",
      truthWellTold: "Not for first dates. But for every other one.",
      description: `By embracing a viral moment that its restaurant "wasn't for first dates," McDonald's reignited emotional connection with the audience by celebrating second, fifth, and forever dates through intimate, honest storytelling.`,
      impact: "",
      vimeoId: "4194cb55da",
      vimeoPreviewId: "255887033",
      awards: [
        "award-generic-1.jpg"
      ]
    },
    "just-eat-did-somebody-say": {
      client: "Just Eat",
      title: "Did Somebody Say",
      truth: "Getting what you want, when you want it, is modern life's greatest joy.",
      truthWellTold: "Did Somebody Say",
      description: `Just Eat UK&I and McCann London launched a fresh take on the iconic "Did Somebody Say" campaign, starring UK garage legend Craig David. Celebrating neighbourhoods and community spirit, the new campaign brings a distinctly local "flava" to the platform. Craig David's garage-inspired remix of the famous jingle soundtracks a lively journey through "Impossible Street," showcasing diverse households and the many ways Just Eat serves everyday moments \u2014 from cosy takeaways to last-minute groceries. Directed by Romain Chassaing, the campaign spans TV, cinema, radio, and social, spotlighting Just Eat's deep connection to local culture.`,
      impact: "Since launching, ad recognition is now at 67% (category average is 38%), profits have increased by 56%, and the UK has experienced +24% YOY revenue growth. Best of all, Just Eat has taken its rightful place as number 1 in the food delivery category, all whilst entertaining the world.",
      vimeoId: "1130326849",
      vimeoPreviewId: "255887033",
      awards: []
    },
    "prada-paradigme": {
      client: "Prada",
      title: "Paradigme",
      truth: "There's no singular version of masculinity. Each individual creates their own paradigm.",
      truthWellTold: "What if there's another way?",
      description: `With a cinematic film starring brand ambassador Tom Holland, Prada Beauty unveiled its new masculine fragrance, Paradigme. Created by McCann Paris and directed by Oscar-winner Thomas Vinterberg, the two-minute spot follows Holland as he reflects on life's possibilities, asking, "What if there's another way?" Through moments of introspection, movement, and creativity, the film captures themes of growth and self-discovery, echoing the fragrance's spirit of redefining one's path. Blending emotional storytelling with striking visuals, Paradigme celebrates authenticity and curiosity. The campaign launched globally across TV, cinema, and social platforms, embodying Prada's call to "create your paradigm."`,
      impact: "",
      vimeoId: "1130327867",
      vimeoPreviewId: "255887033",
      awards: []
    }
  };

  // src/modules/preloader.js
  console.log("[PRELOADER] Module loaded");
  var preloaderEl = null;
  var signetEl = null;
  var progressEl = null;
  var logEl = null;
  var animationFrameId = null;
  var showDebugLog = true;
  var resizeTimeoutId = null;
  var isResizing = false;
  var resizeFadeDuration = 150;
  var resizeShowDelayTimeoutId = null;
  var lastResizeCoverHideTime = 0;
  var resizeShowDelay = 800;
  var eventLeadMs = 100;
  var wfIx = window.Webflow && window.Webflow.require ? window.Webflow.require("ix3") || window.Webflow.require("ix2") : null;
  function initPreloader({
    selector = "#preloader",
    videoSelector = "video[data-wf-ignore], video[autoplay], video[data-autoplay]",
    vimeoPreload = "prefetch",
    // 'none', 'prefetch', 'prebuffer'
    vimeoBufferLimit = 5,
    projectData: projectData2 = project_data_default,
    minLoadTime = 1e3,
    showDebugLog: debugLogOption = true,
    pulseDuration = 3e3,
    pulseOpacity = 0.2,
    enableResizeCover = true,
    resizeFadeDuration: fadeDuration = 150,
    resizeShowDelay: showDelay = 800,
    eventLeadMs: leadMs = 100
  } = {}) {
    showDebugLog = debugLogOption;
    resizeFadeDuration = fadeDuration;
    resizeShowDelay = showDelay;
    eventLeadMs = leadMs;
    log("Initializing preloader...");
    document.body.classList.add("preloader-active");
    document.body.style.overflow = "hidden";
    preloaderEl = document.querySelector(selector);
    if (!preloaderEl) {
      console.error("[PRELOADER] \u274C Preloader element not found");
      return;
    }
    preloaderEl.style.display = "flex";
    preloaderEl.style.position = "fixed";
    preloaderEl.style.zIndex = "999999";
    if (enableResizeCover) {
      initResizeCover();
    }
    signetEl = preloaderEl.querySelector(".preloader__signet");
    progressEl = preloaderEl.querySelector(".preloader__progress");
    if (!signetEl) {
      console.error("[PRELOADER] \u274C Signet element not found");
      return;
    }
    if (showDebugLog) {
      createLogElement();
    }
    log("\u2713 Elements found", "success");
    log("\u2713 Pulse animation starting", "info");
    animatePulse(pulseDuration, pulseOpacity);
    const startTime = performance.now();
    Promise.all([
      prefetchVideos(videoSelector),
      preloadVimeoVideos(projectData2, vimeoPreload, vimeoBufferLimit)
    ]).then(() => {
      const elapsed = performance.now() - startTime;
      const remaining = Math.max(0, minLoadTime - elapsed);
      log(`\u2713 All media loaded in ${Math.round(elapsed)}ms`, "success");
      if (remaining > 0) {
        log(`Waiting ${Math.round(remaining)}ms (min display time)...`, "info");
      }
      setTimeout(() => {
        hidePreloader();
      }, remaining);
    }).catch((err) => {
      console.error("[PRELOADER] \u274C Error:", err);
      log(`\u274C Error loading media: ${err.message}`, "error");
      const elapsed = performance.now() - startTime;
      const remaining = Math.max(0, minLoadTime - elapsed);
      setTimeout(() => {
        log("Hiding despite errors (graceful degradation)", "warning");
        hidePreloader();
      }, remaining);
    });
  }
  function hidePreloaderManually() {
    hidePreloader();
  }
  function createLogElement() {
    if (!preloaderEl || logEl) return;
    logEl = document.createElement("div");
    logEl.className = "preloader__log";
    logEl.setAttribute("aria-live", "polite");
    logEl.setAttribute("aria-atomic", "false");
    preloaderEl.appendChild(logEl);
    log("Debug log initialized", "info");
  }
  function log(message, type = "info") {
    const timestamp = (/* @__PURE__ */ new Date()).toLocaleTimeString("en-US", {
      hour12: false,
      hour: "2-digit",
      minute: "2-digit",
      second: "2-digit",
      fractionalSecondDigits: 3
    });
    const consoleMessage = `[PRELOADER] ${message}`;
    switch (type) {
      case "error":
        console.error(consoleMessage);
        break;
      case "warning":
        console.warn(consoleMessage);
        break;
      case "success":
      case "info":
      default:
        console.log(consoleMessage);
    }
    if (!showDebugLog || !logEl) return;
    const entry = document.createElement("div");
    entry.className = `preloader__log-entry preloader__log-entry--${type}`;
    entry.textContent = `${timestamp} ${message}`;
    logEl.appendChild(entry);
    logEl.scrollTop = logEl.scrollHeight;
    const entries = logEl.querySelectorAll(".preloader__log-entry");
    if (entries.length > 20) {
      entries[0].remove();
    }
  }
  async function prefetchVideos(selector) {
    const videos = Array.from(document.querySelectorAll(selector));
    if (videos.length === 0) {
      log("\u26A0 No videos found to prefetch", "warning");
      return;
    }
    log(`\u{1F3AC} Found ${videos.length} video(s) to prefetch`, "info");
    let loadedCount = 0;
    const videoPromises = videos.map(
      (video, index) => prefetchSingleVideo(video, index + 1, videos.length, () => {
        loadedCount++;
        updateProgress(loadedCount, videos.length);
      })
    );
    const results = await Promise.allSettled(videoPromises);
    const successful = results.filter((r) => r.status === "fulfilled").length;
    const failed = results.filter((r) => r.status === "rejected").length;
    if (failed > 0) {
      log(`\u26A0 ${failed} video(s) failed to load`, "warning");
    }
    log(`\u2713 ${successful}/${videos.length} video(s) ready`, "success");
  }
  function prefetchSingleVideo(video, index, total, onProgress) {
    return new Promise((resolve, reject) => {
      if (video.readyState >= 3) {
        log(`\u2713 Video ${index}/${total} already loaded`, "success");
        onProgress();
        resolve(video);
        return;
      }
      const onCanPlay = () => {
        log(`\u2713 Video ${index}/${total} ready`, "success");
        cleanup();
        onProgress();
        resolve(video);
      };
      const onError = (err) => {
        log(`\u26A0 Video ${index}/${total} failed`, "warning");
        cleanup();
        reject(err);
      };
      const onTimeout = () => {
        log(`\u26A0 Video ${index}/${total} timeout (10s)`, "warning");
        cleanup();
        reject(new Error("Video load timeout"));
      };
      const cleanup = () => {
        video.removeEventListener("canplaythrough", onCanPlay);
        video.removeEventListener("canplay", onCanPlay);
        video.removeEventListener("error", onError);
        clearTimeout(timeoutId);
      };
      const timeoutId = setTimeout(onTimeout, 1e4);
      video.addEventListener("canplaythrough", onCanPlay, { once: true });
      video.addEventListener("canplay", onCanPlay, { once: true });
      video.addEventListener("error", onError, { once: true });
      if (video.readyState === 0) {
        log(`Loading video ${index}/${total}...`, "info");
        video.load();
      }
    });
  }
  function updateProgress(current, total) {
    if (!progressEl) return;
    const percentage = Math.round(current / total * 100);
    progressEl.textContent = `${percentage}%`;
    progressEl.setAttribute("aria-valuenow", percentage);
  }
  async function preloadVimeoVideos(projectData2, strategy = "prefetch", bufferLimit = 5) {
    if (strategy === "none") {
      log("\u23ED Vimeo preloading disabled", "info");
      return;
    }
    const vimeoIds = Object.values(projectData2).map((project) => project == null ? void 0 : project.vimeoId).filter((id) => id && id !== "000000000" && id !== "null" && id !== null);
    if (vimeoIds.length === 0) {
      log("\u26A0 No valid Vimeo IDs found in project data", "warning");
      return;
    }
    log(`\u{1F3AC} Found ${vimeoIds.length} Vimeo video(s) in project data`, "info");
    switch (strategy) {
      case "prebuffer":
        return prebufferVimeoIframes(vimeoIds, bufferLimit);
      case "prefetch":
      default:
        return addVimeoPrefetchHints(vimeoIds);
    }
  }
  function addVimeoPrefetchHints(vimeoIds) {
    log(`\u{1F517} Adding prefetch hints for ${vimeoIds.length} Vimeo video(s)`, "info");
    vimeoIds.forEach((id, index) => {
      const link = document.createElement("link");
      link.rel = "prefetch";
      link.href = `https://player.vimeo.com/video/${id}`;
      link.as = "document";
      document.head.appendChild(link);
      log(`\u2713 Vimeo ${index + 1}/${vimeoIds.length} prefetch hint added`, "success");
    });
    log("\u2713 All Vimeo prefetch hints added (lightweight)", "success");
    return Promise.resolve();
  }
  function prebufferVimeoIframes(vimeoIds, bufferLimit = 5) {
    const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
    if (connection && connection.effectiveType !== "4g") {
      log("\u26A0 Skipping Vimeo prebuffer (slow connection detected)", "warning");
      log("\u2713 Falling back to prefetch hints only", "info");
      return addVimeoPrefetchHints(vimeoIds);
    }
    if (isMobile) {
      log("\u26A0 Skipping Vimeo prebuffer (mobile device detected)", "warning");
      log("\u2713 Falling back to prefetch hints only", "info");
      return addVimeoPrefetchHints(vimeoIds);
    }
    const idsToBuffer = vimeoIds.slice(0, bufferLimit);
    if (idsToBuffer.length < vimeoIds.length) {
      log(`\u26A0 Limiting prebuffer to first ${bufferLimit} videos`, "warning");
      const remaining = vimeoIds.slice(bufferLimit);
      remaining.forEach((id) => {
        const link = document.createElement("link");
        link.rel = "prefetch";
        link.href = `https://player.vimeo.com/video/${id}`;
        link.as = "document";
        document.head.appendChild(link);
      });
    }
    log(`\u{1F3AC} Prebuffering ${idsToBuffer.length} Vimeo video(s)`, "info");
    return new Promise((resolve) => {
      const container = document.createElement("div");
      container.id = "vimeo-prebuffer-container";
      container.style.cssText = `
      position: fixed;
      left: -9999px;
      top: -9999px;
      width: 1px;
      height: 1px;
      opacity: 0;
      pointer-events: none;
      z-index: -1;
    `;
      container.setAttribute("aria-hidden", "true");
      let buffered = 0;
      idsToBuffer.forEach((id, index) => {
        const iframe = document.createElement("iframe");
        iframe.src = `https://player.vimeo.com/video/${id}?muted=1&autoplay=1&background=1&quality=360p`;
        iframe.allow = "autoplay";
        iframe.width = "1";
        iframe.height = "1";
        iframe.loading = "eager";
        log(`Loading Vimeo ${index + 1}/${idsToBuffer.length} (ID: ${id})...`, "info");
        setTimeout(() => {
          buffered++;
          log(`\u2713 Vimeo ${index + 1}/${idsToBuffer.length} prebuffered`, "success");
          iframe.remove();
          if (buffered === idsToBuffer.length) {
            container.remove();
            log(`\u2713 All Vimeo videos prebuffered`, "success");
            resolve();
          }
        }, 8e3);
        container.appendChild(iframe);
      });
      document.body.appendChild(container);
    });
  }
  function emitLoadCompleted() {
    try {
      if (wfIx == null ? void 0 : wfIx.emit) wfIx.emit("load-completed");
    } catch (_) {
    }
    try {
      window.dispatchEvent(new CustomEvent("load-completed"));
    } catch (_) {
    }
    log('\u{1F3AF} Emitted "load-completed" event', "success");
  }
  function hidePreloader() {
    if (!preloaderEl) return;
    log("\u{1F3AF} Hiding preloader...", "info");
    stopAnimations();
    const prefersReduced = matchMedia("(prefers-reduced-motion: reduce)").matches;
    if (prefersReduced) {
      emitLoadCompleted();
      setTimeout(() => {
        preloaderEl.style.display = "none";
        document.body.classList.remove("preloader-active");
        window.dispatchEvent(new CustomEvent("preloader:complete"));
        log("\u2713 Preloader complete", "success");
      }, eventLeadMs);
      return;
    }
    preloaderEl.classList.add("is-revealing");
    setTimeout(() => {
      emitLoadCompleted();
    }, 250 - eventLeadMs);
    setTimeout(() => {
      preloaderEl.style.display = "none";
      document.body.classList.remove("preloader-active");
      window.dispatchEvent(new CustomEvent("preloader:complete"));
      log("\u2713 Preloader complete", "success");
    }, 250);
  }
  function animatePulse(duration = 3e3, opacityRange = 0.2) {
    if (!signetEl) return;
    const startTime = performance.now();
    function loop(currentTime) {
      const progress = (currentTime - startTime) % duration / duration;
      const opacity = 1 - opacityRange / 2 + Math.sin(progress * Math.PI * 2) * (opacityRange / 2);
      signetEl.style.setProperty("--pulse-opacity", opacity);
      animationFrameId = requestAnimationFrame(loop);
    }
    animationFrameId = requestAnimationFrame(loop);
    log(`\u2713 Pulse animation started (duration: ${duration}ms, opacity: ${1 - opacityRange}-1.0)`, "success");
  }
  function stopAnimations() {
    if (animationFrameId) {
      cancelAnimationFrame(animationFrameId);
      animationFrameId = null;
    }
  }
  function initResizeCover() {
    if (!preloaderEl) return;
    let isResizingActive = false;
    function handleResizeStart() {
      if (isResizingActive) return;
      isResizingActive = true;
      isResizing = true;
      const timeSinceLastHide = performance.now() - lastResizeCoverHideTime;
      const shouldDelay = timeSinceLastHide < resizeShowDelay;
      if (shouldDelay) {
        if (resizeShowDelayTimeoutId) {
          clearTimeout(resizeShowDelayTimeoutId);
        }
        const remainingDelay = resizeShowDelay - timeSinceLastHide;
        resizeShowDelayTimeoutId = setTimeout(() => {
          if (isResizing && isResizingActive) {
            showResizeCover();
          } else {
            isResizingActive = false;
            isResizing = false;
          }
        }, remainingDelay);
      } else {
        showResizeCover();
      }
    }
    function handleResizeEnd() {
      if (!isResizingActive) return;
      if (resizeShowDelayTimeoutId) {
        clearTimeout(resizeShowDelayTimeoutId);
        resizeShowDelayTimeoutId = null;
      }
      isResizingActive = false;
      isResizing = false;
      hideResizeCover();
    }
    function handleResize() {
      handleResizeStart();
      if (resizeTimeoutId) {
        clearTimeout(resizeTimeoutId);
      }
      resizeTimeoutId = setTimeout(() => {
        handleResizeEnd();
      }, 100);
    }
    window.addEventListener("resize", handleResize, { passive: true });
    log(`\u2713 Resize cover enabled (fade: ${resizeFadeDuration}ms, show delay: ${resizeShowDelay}ms)`, "success");
  }
  function showResizeCover() {
    if (!preloaderEl) return;
    const prefersReduced = matchMedia("(prefers-reduced-motion: reduce)").matches;
    if (prefersReduced) {
      preloaderEl.style.display = "flex";
      preloaderEl.classList.add("is-resizing");
      return;
    }
    preloaderEl.style.setProperty("--resize-fade-duration", `${resizeFadeDuration}ms`);
    preloaderEl.style.display = "flex";
    preloaderEl.style.position = "fixed";
    preloaderEl.style.zIndex = "999999";
    preloaderEl.classList.remove("is-revealing");
    preloaderEl.classList.add("is-resizing", "is-resize-visible");
    preloaderEl.style.opacity = "1";
    preloaderEl.style.visibility = "visible";
    preloaderEl.style.transition = "none";
  }
  function hideResizeCover() {
    if (!preloaderEl) return;
    const isInitialPreload = document.body.classList.contains("preloader-active") && !preloaderEl.classList.contains("is-revealing");
    const prefersReduced = matchMedia("(prefers-reduced-motion: reduce)").matches;
    if (prefersReduced) {
      preloaderEl.classList.remove("is-resizing", "is-resize-visible");
      if (!isInitialPreload) {
        preloaderEl.style.display = "none";
      }
      return;
    }
    preloaderEl.classList.remove("is-resize-visible");
    preloaderEl.style.transition = `opacity ${resizeFadeDuration}ms cubic-bezier(0.4, 0, 0.2, 1), visibility ${resizeFadeDuration}ms step-end`;
    requestAnimationFrame(() => {
      if (preloaderEl) {
        preloaderEl.style.opacity = "0";
      }
    });
    setTimeout(() => {
      if (preloaderEl && !isResizing) {
        preloaderEl.classList.remove("is-resizing");
        preloaderEl.style.opacity = "";
        preloaderEl.style.visibility = "";
        preloaderEl.style.transition = "";
        if (!isInitialPreload) {
          preloaderEl.style.display = "none";
        }
        lastResizeCoverHideTime = performance.now();
      }
    }, resizeFadeDuration);
  }
  function cleanupPreloader() {
    stopAnimations();
    if (resizeTimeoutId) {
      clearTimeout(resizeTimeoutId);
      resizeTimeoutId = null;
    }
    if (resizeShowDelayTimeoutId) {
      clearTimeout(resizeShowDelayTimeoutId);
      resizeShowDelayTimeoutId = null;
    }
    preloaderEl = null;
    signetEl = null;
    progressEl = null;
    logEl = null;
    isResizing = false;
    lastResizeCoverHideTime = 0;
    log("Cleaned up", "info");
  }
  if (typeof window !== "undefined") {
    window.App = window.App || {};
    window.App.preloader = {
      cleanup: cleanupPreloader,
      hide: hidePreloaderManually
    };
  }

  // src/modules/accordion.js
  console.log("[ACCORDION] Module loaded");
  function initAccordion(options = {}) {
    const { selector = ".accordeon" } = options;
    const root = document.querySelector(selector);
    if (!root) {
      console.log("[ACCORDION] \u274C Root element not found:", selector);
      return;
    }
    console.log("[ACCORDION] \u2713 Root element found:", selector);
    window._accordionRoot = root;
    window._accordionDebug = true;
    const panelOf = (item) => item == null ? void 0 : item.querySelector(":scope > .acc-list");
    const groupOf = (item) => {
      const parent = item.parentElement;
      return (parent == null ? void 0 : parent.classList.contains("acc-list")) ? parent : root;
    };
    const dbg = (...args) => {
      try {
        console.log("[ACCORDION]", ...args);
      } catch (_) {
      }
    };
    const itemKind = (el) => {
      var _a;
      return ((_a = el == null ? void 0 : el.classList) == null ? void 0 : _a.contains("acc-section")) ? "section" : "item";
    };
    const labelOf = (el) => {
      const t = el == null ? void 0 : el.querySelector(":scope > .acc-trigger");
      return ((t == null ? void 0 : t.textContent) || "").trim().replace(/\s+/g, " ").slice(0, 80);
    };
    const ACTIVE_TRIGGER_CLASS = "acc-trigger--active";
    function markItemsForAnimation(panel, show = true) {
      const items = panel.querySelectorAll(":scope > .acc-item");
      items.forEach((item) => {
        if (show) {
          item.classList.add("acc-animate-target");
        } else {
          item.classList.remove("acc-animate-target");
        }
      });
      dbg(`Marked ${items.length} items for ${show ? "show" : "hide"} animation in panel ${panel.id}`);
    }
    function clearAllAnimationMarkers() {
      root.querySelectorAll(".acc-animate-target").forEach((el) => {
        el.classList.remove("acc-animate-target");
      });
    }
    const wfIx2 = window.Webflow && window.Webflow.require ? window.Webflow.require("ix3") || window.Webflow.require("ix2") : null;
    dbg("Webflow IX available:", !!wfIx2);
    function emitIx(name) {
      try {
        if (wfIx2 && typeof wfIx2.emit === "function") {
          dbg(`\u{1F3AF} EMITTING via wfIx.emit: "${name}"`);
          wfIx2.emit(name);
        }
      } catch (err) {
        dbg("wfIx.emit error", err && err.message);
      }
      try {
        window.dispatchEvent(new CustomEvent(name));
        dbg(`\u{1F4E2} EMITTING via window.dispatchEvent: "${name}"`);
      } catch (err) {
        dbg("window.dispatchEvent error", err && err.message);
      }
    }
    function emitAll(primary) {
      const aliases = [];
      if (primary === "acc-open") aliases.push("accordeon-open");
      if (primary === "acc-close") aliases.push("accordeon-close");
      [primary, ...aliases].forEach((ev) => emitIx(ev));
    }
    const triggers = root.querySelectorAll(".acc-trigger");
    triggers.forEach((t, i) => {
      const item = t.closest(".acc-section, .acc-item");
      const p = panelOf(item);
      if (p) {
        const pid = p.id || `acc-panel-${i}`;
        p.id = pid;
        t.setAttribute("aria-controls", pid);
        t.setAttribute("aria-expanded", "false");
      }
    });
    dbg("bootstrapped", triggers.length, "triggers");
    function expand(p) {
      var _a;
      dbg("expand start", { id: p.id, children: (_a = p.children) == null ? void 0 : _a.length });
      p.classList.add("is-active", "acc-list--expanding");
      p.dataset.state = "opening";
      const onEnd = (e) => {
        if (e.propertyName !== "max-height") return;
        if (p.dataset.state === "opening") {
          p.classList.remove("acc-list--expanding");
          p.classList.add("acc-list--expanded");
          p.dataset.state = "open";
          dbg("expanded", { id: p.id });
        }
      };
      p.addEventListener("transitionend", onEnd, { once: true });
    }
    function collapse(p) {
      dbg("collapse start", { id: p.id });
      p.classList.remove("acc-list--expanding", "acc-list--expanded");
      p.dataset.state = "closing";
      const onEnd = (e) => {
        if (e.propertyName !== "max-height") return;
        if (p.dataset.state === "closing") {
          p.dataset.state = "collapsed";
          p.classList.remove("is-active");
          markItemsForAnimation(p, false);
          dbg("collapsed", { id: p.id });
        }
      };
      p.addEventListener("transitionend", onEnd, { once: true });
    }
    function closeSiblings(item) {
      const group = groupOf(item);
      if (!group) return;
      const want = item.matches(".acc-section") ? "acc-section" : "acc-item";
      Array.from(group.children).forEach((sib) => {
        var _a;
        if (sib === item || !sib.classList.contains(want)) return;
        const p = panelOf(sib);
        if (p && (p.dataset.state === "open" || p.dataset.state === "opening")) {
          dbg("close sibling", { kind: want, label: labelOf(sib), id: p.id });
          clearAllAnimationMarkers();
          markItemsForAnimation(p, true);
          requestAnimationFrame(() => emitAll("acc-close"));
          collapse(p);
          const trig = sib.querySelector(":scope > .acc-trigger");
          trig == null ? void 0 : trig.setAttribute("aria-expanded", "false");
          (_a = trig == null ? void 0 : trig.classList) == null ? void 0 : _a.remove(ACTIVE_TRIGGER_CLASS);
        }
      });
    }
    function resetAllL2Under(container) {
      const scope = container || root;
      scope.querySelectorAll(".acc-item > .acc-list").forEach((p) => {
        var _a;
        if (p.dataset.state === "open" || p.dataset.state === "opening") {
          collapse(p);
          const it = p.closest(".acc-item");
          const t = it == null ? void 0 : it.querySelector(":scope > .acc-trigger");
          t == null ? void 0 : t.setAttribute("aria-expanded", "false");
          (_a = t == null ? void 0 : t.classList) == null ? void 0 : _a.remove(ACTIVE_TRIGGER_CLASS);
        }
      });
    }
    function toggle(item) {
      var _a, _b;
      const p = panelOf(item);
      if (!p) return;
      const trig = item.querySelector(":scope > .acc-trigger");
      const opening = !(p.dataset.state === "open" || p.dataset.state === "opening");
      dbg("toggle", { kind: itemKind(item), opening, label: labelOf(item), id: p.id });
      if (opening) closeSiblings(item);
      if (itemKind(item) === "section") {
        if (opening) resetAllL2Under(root);
        else resetAllL2Under(item);
      }
      if (opening) {
        clearAllAnimationMarkers();
        markItemsForAnimation(p, true);
        requestAnimationFrame(() => {
          dbg("emit acc-open", { id: p.id });
          emitAll("acc-open");
        });
        expand(p);
        trig == null ? void 0 : trig.setAttribute("aria-expanded", "true");
        (_a = trig == null ? void 0 : trig.classList) == null ? void 0 : _a.add(ACTIVE_TRIGGER_CLASS);
      } else {
        clearAllAnimationMarkers();
        markItemsForAnimation(p, true);
        requestAnimationFrame(() => {
          dbg("emit acc-close", { id: p.id });
          emitAll("acc-close");
        });
        collapse(p);
        trig == null ? void 0 : trig.setAttribute("aria-expanded", "false");
        (_b = trig == null ? void 0 : trig.classList) == null ? void 0 : _b.remove(ACTIVE_TRIGGER_CLASS);
      }
    }
    document.body.classList.add("js-prep");
    root.querySelectorAll(".acc-list").forEach((p) => {
      p.dataset.state = "collapsed";
    });
    requestAnimationFrame(() => {
      document.body.classList.remove("js-prep");
    });
    function handleInteraction(e) {
      const t = e.target.closest(".acc-trigger");
      if (!t || !root.contains(t)) return;
      if (e.type === "keydown" && e.key !== "Enter" && e.key !== " ") return;
      e.preventDefault();
      const item = t.closest(".acc-section, .acc-item");
      if (item) {
        dbg(e.type, { label: (t.textContent || "").trim().replace(/\s+/g, " ").slice(0, 80) });
        toggle(item);
      }
    }
    root.addEventListener("click", handleInteraction);
    root.addEventListener("keydown", handleInteraction);
    const ro = new ResizeObserver((entries) => {
      entries.forEach(({ target: p }) => {
        if (p.dataset.state === "open") {
          if (!p.classList.contains("acc-list--expanded")) {
            p.classList.add("acc-list--expanded");
          }
        }
      });
    });
    root.querySelectorAll(".acc-list").forEach((p) => ro.observe(p));
    window._accordionTest = {
      markItems: (panelId) => {
        const panel = document.getElementById(panelId) || root.querySelector(".acc-list");
        if (panel) {
          markItemsForAnimation(panel, true);
          console.log("Marked items in panel:", panel);
        }
      },
      clearMarks: () => {
        clearAllAnimationMarkers();
        console.log("Cleared all marks");
      },
      emitOpen: () => {
        emitAll("acc-open");
        console.log("Emitted acc-open");
      },
      emitClose: () => {
        emitAll("acc-close");
        console.log("Emitted acc-close");
      },
      checkWebflow: () => {
        console.log("Webflow object:", window.Webflow);
        console.log("wfIx:", wfIx2);
      },
      getMarkedItems: () => {
        const items = root.querySelectorAll(".acc-animate-target");
        console.log(`Found ${items.length} items with .acc-animate-target class`);
        return items;
      }
    };
    console.log("[ACCORDION] Debug functions available at window._accordionTest");
  }

  // src/core/events.js
  function emit(name, target = window, detail = {}) {
    try {
      target.dispatchEvent(new CustomEvent(name, { bubbles: true, cancelable: true, detail }));
    } catch {
    }
    try {
      window.dispatchEvent(new CustomEvent(name, { detail }));
    } catch {
    }
  }

  // src/core/scrolllock.js
  var isLocked = false;
  var savedY = 0;
  var wrapper = null;
  function lockScroll() {
    if (isLocked) return;
    isLocked = true;
    wrapper = document.querySelector(".perspective-wrapper") || document.body;
    if (wrapper === document.body) {
      savedY = window.scrollY || document.documentElement.scrollTop || 0;
    } else {
      savedY = wrapper.scrollTop || 0;
    }
    if (wrapper === document.body) {
      document.body.style.position = "fixed";
      document.body.style.top = `-${savedY}px`;
      document.body.style.left = "0";
      document.body.style.right = "0";
      document.body.style.width = "100%";
    }
    wrapper.style.overflow = "hidden";
    wrapper.classList.add("modal-open");
  }
  function unlockScroll({ delayMs = 0 } = {}) {
    if (!isLocked) return;
    const unlock = () => {
      if (!wrapper) return;
      wrapper.style.overflow = "";
      wrapper.classList.remove("modal-open");
      if (wrapper === document.body) {
        document.body.style.position = "";
        document.body.style.top = "";
        document.body.style.left = "";
        document.body.style.right = "";
        document.body.style.width = "";
        window.scrollTo(0, savedY);
      } else {
        wrapper.scrollTop = savedY;
      }
      isLocked = false;
      wrapper = null;
    };
    delayMs > 0 ? setTimeout(unlock, delayMs) : unlock();
  }

  // src/modules/vimeo.js
  console.log("[VIMEO] module loaded");
  function parseVimeoId(input) {
    var _a;
    if (!input) return "";
    const str = String(input).trim();
    if (/^\d+$/.test(str)) return str;
    try {
      const u = new URL(str, "https://example.com");
      const host = u.hostname || "";
      if (host.includes("vimeo.com")) {
        const parts = u.pathname.split("/").filter(Boolean);
        const last = parts[parts.length - 1] || "";
        const id = ((_a = last.match(/\d+/)) == null ? void 0 : _a[0]) || "";
        return id || "";
      }
    } catch {
    }
    return "";
  }
  function mountVimeo(container, inputId, params = {}) {
    if (!container) return;
    const id = parseVimeoId(inputId);
    if (!id) {
      container.innerHTML = "";
      return;
    }
    const query = new URLSearchParams({ dnt: 1, ...params }).toString();
    const src = `https://player.vimeo.com/video/${id}?${query}`;
    const iframe = document.createElement("iframe");
    iframe.src = src;
    iframe.allow = "autoplay; fullscreen; picture-in-picture; encrypted-media";
    iframe.setAttribute("frameborder", "0");
    iframe.setAttribute("allowfullscreen", "");
    iframe.style.cssText = `
    position: absolute;
    top: 50%;
    left: 50%;
    /* Sizes are set dynamically to achieve true cover */
    width: 100%;
    height: 100%;
    transform: translate(-50%, -50%);
    border: 0;
  `;
    container.innerHTML = "";
    container.appendChild(iframe);
    const prevOverflow = container.style.overflow;
    if (!container.style.position || container.style.position === "static") {
      container.style.position = "relative";
    }
    container.style.overflow = "hidden";
    ensureVimeoApi().then(() => {
      const player = new (window.Vimeo && window.Vimeo.Player ? window.Vimeo.Player : function() {
      })(iframe);
      if (!player || !player.getVideoWidth) {
        fitIframeToCover(container, iframe, 16 / 9, 1.02);
        return;
      }
      Promise.all([player.getVideoWidth(), player.getVideoHeight()]).then(([vw, vh]) => {
        const ratio = vw && vh ? vw / vh : 16 / 9;
        fitIframeToCover(container, iframe, ratio, 1.02);
        const ro = new ResizeObserver(() => fitIframeToCover(container, iframe, ratio, 1.02));
        ro.observe(container);
        window.addEventListener("resize", () => fitIframeToCover(container, iframe, ratio, 1.02), { passive: true });
      }).catch(() => {
        fitIframeToCover(container, iframe, 16 / 9, 1.02);
      });
    });
  }
  function ensureVimeoApi() {
    if (window.Vimeo && window.Vimeo.Player) return Promise.resolve();
    return new Promise((resolve) => {
      const existing = document.querySelector('script[src*="player.vimeo.com/api/player.js"]');
      if (existing) {
        existing.addEventListener("load", () => resolve());
        return;
      }
      const s = document.createElement("script");
      s.src = "https://player.vimeo.com/api/player.js";
      s.async = true;
      s.onload = () => resolve();
      s.onerror = () => resolve();
      document.head.appendChild(s);
    });
  }
  function fitIframeToCover(container, iframe, videoRatio, overscan = 1) {
    const rect = container.getBoundingClientRect();
    const cw = Math.max(1, rect.width);
    const ch = Math.max(1, rect.height);
    const containerRatio = cw / ch;
    let w, h;
    if (containerRatio > videoRatio) {
      w = cw;
      h = cw / videoRatio;
    } else {
      h = ch;
      w = ch * videoRatio;
    }
    const ow = Math.ceil(w * overscan);
    const oh = Math.ceil(h * overscan);
    iframe.style.width = `${ow}px`;
    iframe.style.height = `${oh}px`;
    iframe.style.top = "50%";
    iframe.style.left = "50%";
    iframe.style.transform = "translate(-50%, -50%)";
  }

  // node_modules/lenis/dist/lenis.mjs
  var version = "1.3.14";
  function clamp(min, input, max) {
    return Math.max(min, Math.min(input, max));
  }
  function lerp(x, y, t) {
    return (1 - t) * x + t * y;
  }
  function damp(x, y, lambda, deltaTime) {
    return lerp(x, y, 1 - Math.exp(-lambda * deltaTime));
  }
  function modulo(n, d) {
    return (n % d + d) % d;
  }
  var Animate = class {
    constructor() {
      __publicField(this, "isRunning", false);
      __publicField(this, "value", 0);
      __publicField(this, "from", 0);
      __publicField(this, "to", 0);
      __publicField(this, "currentTime", 0);
      // These are instanciated in the fromTo method
      __publicField(this, "lerp");
      __publicField(this, "duration");
      __publicField(this, "easing");
      __publicField(this, "onUpdate");
    }
    /**
     * Advance the animation by the given delta time
     *
     * @param deltaTime - The time in seconds to advance the animation
     */
    advance(deltaTime) {
      var _a;
      if (!this.isRunning) return;
      let completed = false;
      if (this.duration && this.easing) {
        this.currentTime += deltaTime;
        const linearProgress = clamp(0, this.currentTime / this.duration, 1);
        completed = linearProgress >= 1;
        const easedProgress = completed ? 1 : this.easing(linearProgress);
        this.value = this.from + (this.to - this.from) * easedProgress;
      } else if (this.lerp) {
        this.value = damp(this.value, this.to, this.lerp * 60, deltaTime);
        if (Math.round(this.value) === this.to) {
          this.value = this.to;
          completed = true;
        }
      } else {
        this.value = this.to;
        completed = true;
      }
      if (completed) {
        this.stop();
      }
      (_a = this.onUpdate) == null ? void 0 : _a.call(this, this.value, completed);
    }
    /** Stop the animation */
    stop() {
      this.isRunning = false;
    }
    /**
     * Set up the animation from a starting value to an ending value
     * with optional parameters for lerping, duration, easing, and onUpdate callback
     *
     * @param from - The starting value
     * @param to - The ending value
     * @param options - Options for the animation
     */
    fromTo(from, to, { lerp: lerp2, duration, easing, onStart, onUpdate }) {
      this.from = this.value = from;
      this.to = to;
      this.lerp = lerp2;
      this.duration = duration;
      this.easing = easing;
      this.currentTime = 0;
      this.isRunning = true;
      onStart == null ? void 0 : onStart();
      this.onUpdate = onUpdate;
    }
  };
  function debounce(callback, delay) {
    let timer;
    return function(...args) {
      let context = this;
      clearTimeout(timer);
      timer = setTimeout(() => {
        timer = void 0;
        callback.apply(context, args);
      }, delay);
    };
  }
  var Dimensions = class {
    constructor(wrapper2, content, { autoResize = true, debounce: debounceValue = 250 } = {}) {
      __publicField(this, "width", 0);
      __publicField(this, "height", 0);
      __publicField(this, "scrollHeight", 0);
      __publicField(this, "scrollWidth", 0);
      // These are instanciated in the constructor as they need information from the options
      __publicField(this, "debouncedResize");
      __publicField(this, "wrapperResizeObserver");
      __publicField(this, "contentResizeObserver");
      __publicField(this, "resize", () => {
        this.onWrapperResize();
        this.onContentResize();
      });
      __publicField(this, "onWrapperResize", () => {
        if (this.wrapper instanceof Window) {
          this.width = window.innerWidth;
          this.height = window.innerHeight;
        } else {
          this.width = this.wrapper.clientWidth;
          this.height = this.wrapper.clientHeight;
        }
      });
      __publicField(this, "onContentResize", () => {
        if (this.wrapper instanceof Window) {
          this.scrollHeight = this.content.scrollHeight;
          this.scrollWidth = this.content.scrollWidth;
        } else {
          this.scrollHeight = this.wrapper.scrollHeight;
          this.scrollWidth = this.wrapper.scrollWidth;
        }
      });
      this.wrapper = wrapper2;
      this.content = content;
      if (autoResize) {
        this.debouncedResize = debounce(this.resize, debounceValue);
        if (this.wrapper instanceof Window) {
          window.addEventListener("resize", this.debouncedResize, false);
        } else {
          this.wrapperResizeObserver = new ResizeObserver(this.debouncedResize);
          this.wrapperResizeObserver.observe(this.wrapper);
        }
        this.contentResizeObserver = new ResizeObserver(this.debouncedResize);
        this.contentResizeObserver.observe(this.content);
      }
      this.resize();
    }
    destroy() {
      var _a, _b;
      (_a = this.wrapperResizeObserver) == null ? void 0 : _a.disconnect();
      (_b = this.contentResizeObserver) == null ? void 0 : _b.disconnect();
      if (this.wrapper === window && this.debouncedResize) {
        window.removeEventListener("resize", this.debouncedResize, false);
      }
    }
    get limit() {
      return {
        x: this.scrollWidth - this.width,
        y: this.scrollHeight - this.height
      };
    }
  };
  var Emitter = class {
    constructor() {
      __publicField(this, "events", {});
    }
    /**
     * Emit an event with the given data
     * @param event Event name
     * @param args Data to pass to the event handlers
     */
    emit(event, ...args) {
      var _a;
      let callbacks = this.events[event] || [];
      for (let i = 0, length = callbacks.length; i < length; i++) {
        (_a = callbacks[i]) == null ? void 0 : _a.call(callbacks, ...args);
      }
    }
    /**
     * Add a callback to the event
     * @param event Event name
     * @param cb Callback function
     * @returns Unsubscribe function
     */
    on(event, cb) {
      var _a;
      ((_a = this.events[event]) == null ? void 0 : _a.push(cb)) || (this.events[event] = [cb]);
      return () => {
        var _a2;
        this.events[event] = (_a2 = this.events[event]) == null ? void 0 : _a2.filter((i) => cb !== i);
      };
    }
    /**
     * Remove a callback from the event
     * @param event Event name
     * @param callback Callback function
     */
    off(event, callback) {
      var _a;
      this.events[event] = (_a = this.events[event]) == null ? void 0 : _a.filter((i) => callback !== i);
    }
    /**
     * Remove all event listeners and clean up
     */
    destroy() {
      this.events = {};
    }
  };
  var LINE_HEIGHT = 100 / 6;
  var listenerOptions = { passive: false };
  var VirtualScroll = class {
    constructor(element, options = { wheelMultiplier: 1, touchMultiplier: 1 }) {
      __publicField(this, "touchStart", {
        x: 0,
        y: 0
      });
      __publicField(this, "lastDelta", {
        x: 0,
        y: 0
      });
      __publicField(this, "window", {
        width: 0,
        height: 0
      });
      __publicField(this, "emitter", new Emitter());
      /**
       * Event handler for 'touchstart' event
       *
       * @param event Touch event
       */
      __publicField(this, "onTouchStart", (event) => {
        const { clientX, clientY } = event.targetTouches ? event.targetTouches[0] : event;
        this.touchStart.x = clientX;
        this.touchStart.y = clientY;
        this.lastDelta = {
          x: 0,
          y: 0
        };
        this.emitter.emit("scroll", {
          deltaX: 0,
          deltaY: 0,
          event
        });
      });
      /** Event handler for 'touchmove' event */
      __publicField(this, "onTouchMove", (event) => {
        const { clientX, clientY } = event.targetTouches ? event.targetTouches[0] : event;
        const deltaX = -(clientX - this.touchStart.x) * this.options.touchMultiplier;
        const deltaY = -(clientY - this.touchStart.y) * this.options.touchMultiplier;
        this.touchStart.x = clientX;
        this.touchStart.y = clientY;
        this.lastDelta = {
          x: deltaX,
          y: deltaY
        };
        this.emitter.emit("scroll", {
          deltaX,
          deltaY,
          event
        });
      });
      __publicField(this, "onTouchEnd", (event) => {
        this.emitter.emit("scroll", {
          deltaX: this.lastDelta.x,
          deltaY: this.lastDelta.y,
          event
        });
      });
      /** Event handler for 'wheel' event */
      __publicField(this, "onWheel", (event) => {
        let { deltaX, deltaY, deltaMode } = event;
        const multiplierX = deltaMode === 1 ? LINE_HEIGHT : deltaMode === 2 ? this.window.width : 1;
        const multiplierY = deltaMode === 1 ? LINE_HEIGHT : deltaMode === 2 ? this.window.height : 1;
        deltaX *= multiplierX;
        deltaY *= multiplierY;
        deltaX *= this.options.wheelMultiplier;
        deltaY *= this.options.wheelMultiplier;
        this.emitter.emit("scroll", { deltaX, deltaY, event });
      });
      __publicField(this, "onWindowResize", () => {
        this.window = {
          width: window.innerWidth,
          height: window.innerHeight
        };
      });
      this.element = element;
      this.options = options;
      window.addEventListener("resize", this.onWindowResize, false);
      this.onWindowResize();
      this.element.addEventListener("wheel", this.onWheel, listenerOptions);
      this.element.addEventListener(
        "touchstart",
        this.onTouchStart,
        listenerOptions
      );
      this.element.addEventListener(
        "touchmove",
        this.onTouchMove,
        listenerOptions
      );
      this.element.addEventListener("touchend", this.onTouchEnd, listenerOptions);
    }
    /**
     * Add an event listener for the given event and callback
     *
     * @param event Event name
     * @param callback Callback function
     */
    on(event, callback) {
      return this.emitter.on(event, callback);
    }
    /** Remove all event listeners and clean up */
    destroy() {
      this.emitter.destroy();
      window.removeEventListener("resize", this.onWindowResize, false);
      this.element.removeEventListener("wheel", this.onWheel, listenerOptions);
      this.element.removeEventListener(
        "touchstart",
        this.onTouchStart,
        listenerOptions
      );
      this.element.removeEventListener(
        "touchmove",
        this.onTouchMove,
        listenerOptions
      );
      this.element.removeEventListener(
        "touchend",
        this.onTouchEnd,
        listenerOptions
      );
    }
  };
  var defaultEasing = (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t));
  var Lenis = class {
    constructor({
      wrapper: wrapper2 = window,
      content = document.documentElement,
      eventsTarget = wrapper2,
      smoothWheel = true,
      syncTouch = false,
      syncTouchLerp = 0.075,
      touchInertiaExponent = 1.7,
      duration,
      // in seconds
      easing,
      lerp: lerp2 = 0.1,
      infinite = false,
      orientation = "vertical",
      // vertical, horizontal
      gestureOrientation = orientation === "horizontal" ? "both" : "vertical",
      // vertical, horizontal, both
      touchMultiplier = 1,
      wheelMultiplier = 1,
      autoResize = true,
      prevent,
      virtualScroll,
      overscroll = true,
      autoRaf = false,
      anchors = false,
      autoToggle = false,
      // https://caniuse.com/?search=transition-behavior
      allowNestedScroll = false,
      __experimental__naiveDimensions = false
    } = {}) {
      __publicField(this, "_isScrolling", false);
      // true when scroll is animating
      __publicField(this, "_isStopped", false);
      // true if user should not be able to scroll - enable/disable programmatically
      __publicField(this, "_isLocked", false);
      // same as isStopped but enabled/disabled when scroll reaches target
      __publicField(this, "_preventNextNativeScrollEvent", false);
      __publicField(this, "_resetVelocityTimeout", null);
      __publicField(this, "__rafID", null);
      /**
       * Whether or not the user is touching the screen
       */
      __publicField(this, "isTouching");
      /**
       * The time in ms since the lenis instance was created
       */
      __publicField(this, "time", 0);
      /**
       * User data that will be forwarded through the scroll event
       *
       * @example
       * lenis.scrollTo(100, {
       *   userData: {
       *     foo: 'bar'
       *   }
       * })
       */
      __publicField(this, "userData", {});
      /**
       * The last velocity of the scroll
       */
      __publicField(this, "lastVelocity", 0);
      /**
       * The current velocity of the scroll
       */
      __publicField(this, "velocity", 0);
      /**
       * The direction of the scroll
       */
      __publicField(this, "direction", 0);
      /**
       * The options passed to the lenis instance
       */
      __publicField(this, "options");
      /**
       * The target scroll value
       */
      __publicField(this, "targetScroll");
      /**
       * The animated scroll value
       */
      __publicField(this, "animatedScroll");
      // These are instanciated here as they don't need information from the options
      __publicField(this, "animate", new Animate());
      __publicField(this, "emitter", new Emitter());
      // These are instanciated in the constructor as they need information from the options
      __publicField(this, "dimensions");
      // This is not private because it's used in the Snap class
      __publicField(this, "virtualScroll");
      __publicField(this, "onScrollEnd", (e) => {
        if (!(e instanceof CustomEvent)) {
          if (this.isScrolling === "smooth" || this.isScrolling === false) {
            e.stopPropagation();
          }
        }
      });
      __publicField(this, "dispatchScrollendEvent", () => {
        this.options.wrapper.dispatchEvent(
          new CustomEvent("scrollend", {
            bubbles: this.options.wrapper === window,
            // cancelable: false,
            detail: {
              lenisScrollEnd: true
            }
          })
        );
      });
      __publicField(this, "onTransitionEnd", (event) => {
        if (event.propertyName.includes("overflow")) {
          const property = this.isHorizontal ? "overflow-x" : "overflow-y";
          const overflow = getComputedStyle(this.rootElement)[property];
          if (["hidden", "clip"].includes(overflow)) {
            this.internalStop();
          } else {
            this.internalStart();
          }
        }
      });
      __publicField(this, "onClick", (event) => {
        const path = event.composedPath();
        const anchor = path.find(
          (node) => {
            var _a;
            return node instanceof HTMLAnchorElement && ((_a = node.getAttribute("href")) == null ? void 0 : _a.includes("#"));
          }
        );
        if (anchor) {
          const href = anchor.getAttribute("href");
          if (href) {
            const options = typeof this.options.anchors === "object" && this.options.anchors ? this.options.anchors : void 0;
            const target = `#${href.split("#")[1]}`;
            this.scrollTo(target, options);
          }
        }
      });
      __publicField(this, "onPointerDown", (event) => {
        if (event.button === 1) {
          this.reset();
        }
      });
      __publicField(this, "onVirtualScroll", (data) => {
        if (typeof this.options.virtualScroll === "function" && this.options.virtualScroll(data) === false)
          return;
        const { deltaX, deltaY, event } = data;
        this.emitter.emit("virtual-scroll", { deltaX, deltaY, event });
        if (event.ctrlKey) return;
        if (event.lenisStopPropagation) return;
        const isTouch = event.type.includes("touch");
        const isWheel = event.type.includes("wheel");
        this.isTouching = event.type === "touchstart" || event.type === "touchmove";
        const isClickOrTap = deltaX === 0 && deltaY === 0;
        const isTapToStop = this.options.syncTouch && isTouch && event.type === "touchstart" && isClickOrTap && !this.isStopped && !this.isLocked;
        if (isTapToStop) {
          this.reset();
          return;
        }
        const isUnknownGesture = this.options.gestureOrientation === "vertical" && deltaY === 0 || this.options.gestureOrientation === "horizontal" && deltaX === 0;
        if (isClickOrTap || isUnknownGesture) {
          return;
        }
        let composedPath = event.composedPath();
        composedPath = composedPath.slice(0, composedPath.indexOf(this.rootElement));
        const prevent = this.options.prevent;
        if (!!composedPath.find(
          (node) => {
            var _a, _b, _c;
            return node instanceof HTMLElement && (typeof prevent === "function" && (prevent == null ? void 0 : prevent(node)) || ((_a = node.hasAttribute) == null ? void 0 : _a.call(node, "data-lenis-prevent")) || isTouch && ((_b = node.hasAttribute) == null ? void 0 : _b.call(node, "data-lenis-prevent-touch")) || isWheel && ((_c = node.hasAttribute) == null ? void 0 : _c.call(node, "data-lenis-prevent-wheel")) || this.options.allowNestedScroll && this.checkNestedScroll(node, { deltaX, deltaY }));
          }
        ))
          return;
        if (this.isStopped || this.isLocked) {
          if (event.cancelable) {
            event.preventDefault();
          }
          return;
        }
        const isSmooth = this.options.syncTouch && isTouch || this.options.smoothWheel && isWheel;
        if (!isSmooth) {
          this.isScrolling = "native";
          this.animate.stop();
          event.lenisStopPropagation = true;
          return;
        }
        let delta = deltaY;
        if (this.options.gestureOrientation === "both") {
          delta = Math.abs(deltaY) > Math.abs(deltaX) ? deltaY : deltaX;
        } else if (this.options.gestureOrientation === "horizontal") {
          delta = deltaX;
        }
        if (!this.options.overscroll || this.options.infinite || this.options.wrapper !== window && this.limit > 0 && (this.animatedScroll > 0 && this.animatedScroll < this.limit || this.animatedScroll === 0 && deltaY > 0 || this.animatedScroll === this.limit && deltaY < 0)) {
          event.lenisStopPropagation = true;
        }
        if (event.cancelable) {
          event.preventDefault();
        }
        const isSyncTouch = isTouch && this.options.syncTouch;
        const isTouchEnd = isTouch && event.type === "touchend";
        const hasTouchInertia = isTouchEnd;
        if (hasTouchInertia) {
          delta = Math.sign(this.velocity) * Math.pow(Math.abs(this.velocity), this.options.touchInertiaExponent);
        }
        this.scrollTo(this.targetScroll + delta, {
          programmatic: false,
          ...isSyncTouch ? {
            lerp: hasTouchInertia ? this.options.syncTouchLerp : 1
            // immediate: !hasTouchInertia,
          } : {
            lerp: this.options.lerp,
            duration: this.options.duration,
            easing: this.options.easing
          }
        });
      });
      __publicField(this, "onNativeScroll", () => {
        if (this._resetVelocityTimeout !== null) {
          clearTimeout(this._resetVelocityTimeout);
          this._resetVelocityTimeout = null;
        }
        if (this._preventNextNativeScrollEvent) {
          this._preventNextNativeScrollEvent = false;
          return;
        }
        if (this.isScrolling === false || this.isScrolling === "native") {
          const lastScroll = this.animatedScroll;
          this.animatedScroll = this.targetScroll = this.actualScroll;
          this.lastVelocity = this.velocity;
          this.velocity = this.animatedScroll - lastScroll;
          this.direction = Math.sign(
            this.animatedScroll - lastScroll
          );
          if (!this.isStopped) {
            this.isScrolling = "native";
          }
          this.emit();
          if (this.velocity !== 0) {
            this._resetVelocityTimeout = setTimeout(() => {
              this.lastVelocity = this.velocity;
              this.velocity = 0;
              this.isScrolling = false;
              this.emit();
            }, 400);
          }
        }
      });
      /**
       * RequestAnimationFrame for lenis
       *
       * @param time The time in ms from an external clock like `requestAnimationFrame` or Tempus
       */
      __publicField(this, "raf", (time) => {
        const deltaTime = time - (this.time || time);
        this.time = time;
        this.animate.advance(deltaTime * 1e-3);
        if (this.options.autoRaf) {
          this.__rafID = requestAnimationFrame(this.raf);
        }
      });
      window.lenisVersion = version;
      if (!wrapper2 || wrapper2 === document.documentElement) {
        wrapper2 = window;
      }
      if (typeof duration === "number" && typeof easing !== "function") {
        easing = defaultEasing;
      } else if (typeof easing === "function" && typeof duration !== "number") {
        duration = 1;
      }
      this.options = {
        wrapper: wrapper2,
        content,
        eventsTarget,
        smoothWheel,
        syncTouch,
        syncTouchLerp,
        touchInertiaExponent,
        duration,
        easing,
        lerp: lerp2,
        infinite,
        gestureOrientation,
        orientation,
        touchMultiplier,
        wheelMultiplier,
        autoResize,
        prevent,
        virtualScroll,
        overscroll,
        autoRaf,
        anchors,
        autoToggle,
        allowNestedScroll,
        __experimental__naiveDimensions
      };
      this.dimensions = new Dimensions(wrapper2, content, { autoResize });
      this.updateClassName();
      this.targetScroll = this.animatedScroll = this.actualScroll;
      this.options.wrapper.addEventListener("scroll", this.onNativeScroll, false);
      this.options.wrapper.addEventListener("scrollend", this.onScrollEnd, {
        capture: true
      });
      if (this.options.anchors && this.options.wrapper === window) {
        this.options.wrapper.addEventListener(
          "click",
          this.onClick,
          false
        );
      }
      this.options.wrapper.addEventListener(
        "pointerdown",
        this.onPointerDown,
        false
      );
      this.virtualScroll = new VirtualScroll(eventsTarget, {
        touchMultiplier,
        wheelMultiplier
      });
      this.virtualScroll.on("scroll", this.onVirtualScroll);
      if (this.options.autoToggle) {
        this.rootElement.addEventListener("transitionend", this.onTransitionEnd, {
          passive: true
        });
      }
      if (this.options.autoRaf) {
        this.__rafID = requestAnimationFrame(this.raf);
      }
    }
    /**
     * Destroy the lenis instance, remove all event listeners and clean up the class name
     */
    destroy() {
      this.emitter.destroy();
      this.options.wrapper.removeEventListener(
        "scroll",
        this.onNativeScroll,
        false
      );
      this.options.wrapper.removeEventListener("scrollend", this.onScrollEnd, {
        capture: true
      });
      this.options.wrapper.removeEventListener(
        "pointerdown",
        this.onPointerDown,
        false
      );
      if (this.options.anchors && this.options.wrapper === window) {
        this.options.wrapper.removeEventListener(
          "click",
          this.onClick,
          false
        );
      }
      this.virtualScroll.destroy();
      this.dimensions.destroy();
      this.cleanUpClassName();
      if (this.__rafID) {
        cancelAnimationFrame(this.__rafID);
      }
    }
    on(event, callback) {
      return this.emitter.on(event, callback);
    }
    off(event, callback) {
      return this.emitter.off(event, callback);
    }
    setScroll(scroll) {
      if (this.isHorizontal) {
        this.options.wrapper.scrollTo({ left: scroll, behavior: "instant" });
      } else {
        this.options.wrapper.scrollTo({ top: scroll, behavior: "instant" });
      }
    }
    /**
     * Force lenis to recalculate the dimensions
     */
    resize() {
      this.dimensions.resize();
      this.animatedScroll = this.targetScroll = this.actualScroll;
      this.emit();
    }
    emit() {
      this.emitter.emit("scroll", this);
    }
    reset() {
      this.isLocked = false;
      this.isScrolling = false;
      this.animatedScroll = this.targetScroll = this.actualScroll;
      this.lastVelocity = this.velocity = 0;
      this.animate.stop();
    }
    /**
     * Start lenis scroll after it has been stopped
     */
    start() {
      if (!this.isStopped) return;
      if (this.options.autoToggle) {
        this.rootElement.style.removeProperty("overflow");
        return;
      }
      this.internalStart();
    }
    internalStart() {
      if (!this.isStopped) return;
      this.reset();
      this.isStopped = false;
      this.emit();
    }
    /**
     * Stop lenis scroll
     */
    stop() {
      if (this.isStopped) return;
      if (this.options.autoToggle) {
        this.rootElement.style.setProperty("overflow", "clip");
        return;
      }
      this.internalStop();
    }
    internalStop() {
      if (this.isStopped) return;
      this.reset();
      this.isStopped = true;
      this.emit();
    }
    /**
     * Scroll to a target value
     *
     * @param target The target value to scroll to
     * @param options The options for the scroll
     *
     * @example
     * lenis.scrollTo(100, {
     *   offset: 100,
     *   duration: 1,
     *   easing: (t) => 1 - Math.cos((t * Math.PI) / 2),
     *   lerp: 0.1,
     *   onStart: () => {
     *     console.log('onStart')
     *   },
     *   onComplete: () => {
     *     console.log('onComplete')
     *   },
     * })
     */
    scrollTo(target, {
      offset = 0,
      immediate = false,
      lock = false,
      duration = this.options.duration,
      easing = this.options.easing,
      lerp: lerp2 = this.options.lerp,
      onStart,
      onComplete,
      force = false,
      // scroll even if stopped
      programmatic = true,
      // called from outside of the class
      userData
    } = {}) {
      if ((this.isStopped || this.isLocked) && !force) return;
      if (typeof target === "string" && ["top", "left", "start", "#"].includes(target)) {
        target = 0;
      } else if (typeof target === "string" && ["bottom", "right", "end"].includes(target)) {
        target = this.limit;
      } else {
        let node;
        if (typeof target === "string") {
          node = document.querySelector(target);
          if (!node) {
            if (target === "#top") {
              target = 0;
            } else {
              console.warn("Lenis: Target not found", target);
            }
          }
        } else if (target instanceof HTMLElement && (target == null ? void 0 : target.nodeType)) {
          node = target;
        }
        if (node) {
          if (this.options.wrapper !== window) {
            const wrapperRect = this.rootElement.getBoundingClientRect();
            offset -= this.isHorizontal ? wrapperRect.left : wrapperRect.top;
          }
          const rect = node.getBoundingClientRect();
          target = (this.isHorizontal ? rect.left : rect.top) + this.animatedScroll;
        }
      }
      if (typeof target !== "number") return;
      target += offset;
      target = Math.round(target);
      if (this.options.infinite) {
        if (programmatic) {
          this.targetScroll = this.animatedScroll = this.scroll;
          const distance = target - this.animatedScroll;
          if (distance > this.limit / 2) {
            target = target - this.limit;
          } else if (distance < -this.limit / 2) {
            target = target + this.limit;
          }
        }
      } else {
        target = clamp(0, target, this.limit);
      }
      if (target === this.targetScroll) {
        onStart == null ? void 0 : onStart(this);
        onComplete == null ? void 0 : onComplete(this);
        return;
      }
      this.userData = userData != null ? userData : {};
      if (immediate) {
        this.animatedScroll = this.targetScroll = target;
        this.setScroll(this.scroll);
        this.reset();
        this.preventNextNativeScrollEvent();
        this.emit();
        onComplete == null ? void 0 : onComplete(this);
        this.userData = {};
        requestAnimationFrame(() => {
          this.dispatchScrollendEvent();
        });
        return;
      }
      if (!programmatic) {
        this.targetScroll = target;
      }
      if (typeof duration === "number" && typeof easing !== "function") {
        easing = defaultEasing;
      } else if (typeof easing === "function" && typeof duration !== "number") {
        duration = 1;
      }
      this.animate.fromTo(this.animatedScroll, target, {
        duration,
        easing,
        lerp: lerp2,
        onStart: () => {
          if (lock) this.isLocked = true;
          this.isScrolling = "smooth";
          onStart == null ? void 0 : onStart(this);
        },
        onUpdate: (value, completed) => {
          this.isScrolling = "smooth";
          this.lastVelocity = this.velocity;
          this.velocity = value - this.animatedScroll;
          this.direction = Math.sign(this.velocity);
          this.animatedScroll = value;
          this.setScroll(this.scroll);
          if (programmatic) {
            this.targetScroll = value;
          }
          if (!completed) this.emit();
          if (completed) {
            this.reset();
            this.emit();
            onComplete == null ? void 0 : onComplete(this);
            this.userData = {};
            requestAnimationFrame(() => {
              this.dispatchScrollendEvent();
            });
            this.preventNextNativeScrollEvent();
          }
        }
      });
    }
    preventNextNativeScrollEvent() {
      this._preventNextNativeScrollEvent = true;
      requestAnimationFrame(() => {
        this._preventNextNativeScrollEvent = false;
      });
    }
    checkNestedScroll(node, { deltaX, deltaY }) {
      var _a, _b;
      const time = Date.now();
      const cache = (_a = node._lenis) != null ? _a : node._lenis = {};
      let hasOverflowX, hasOverflowY, isScrollableX, isScrollableY, scrollWidth, scrollHeight, clientWidth, clientHeight;
      const gestureOrientation = this.options.gestureOrientation;
      if (time - ((_b = cache.time) != null ? _b : 0) > 2e3) {
        cache.time = Date.now();
        const computedStyle = window.getComputedStyle(node);
        cache.computedStyle = computedStyle;
        const overflowXString = computedStyle.overflowX;
        const overflowYString = computedStyle.overflowY;
        hasOverflowX = ["auto", "overlay", "scroll"].includes(overflowXString);
        hasOverflowY = ["auto", "overlay", "scroll"].includes(overflowYString);
        cache.hasOverflowX = hasOverflowX;
        cache.hasOverflowY = hasOverflowY;
        if (!hasOverflowX && !hasOverflowY) return false;
        if (gestureOrientation === "vertical" && !hasOverflowY) return false;
        if (gestureOrientation === "horizontal" && !hasOverflowX) return false;
        scrollWidth = node.scrollWidth;
        scrollHeight = node.scrollHeight;
        clientWidth = node.clientWidth;
        clientHeight = node.clientHeight;
        isScrollableX = scrollWidth > clientWidth;
        isScrollableY = scrollHeight > clientHeight;
        cache.isScrollableX = isScrollableX;
        cache.isScrollableY = isScrollableY;
        cache.scrollWidth = scrollWidth;
        cache.scrollHeight = scrollHeight;
        cache.clientWidth = clientWidth;
        cache.clientHeight = clientHeight;
      } else {
        isScrollableX = cache.isScrollableX;
        isScrollableY = cache.isScrollableY;
        hasOverflowX = cache.hasOverflowX;
        hasOverflowY = cache.hasOverflowY;
        scrollWidth = cache.scrollWidth;
        scrollHeight = cache.scrollHeight;
        clientWidth = cache.clientWidth;
        clientHeight = cache.clientHeight;
      }
      if (!hasOverflowX && !hasOverflowY || !isScrollableX && !isScrollableY) {
        return false;
      }
      if (gestureOrientation === "vertical" && (!hasOverflowY || !isScrollableY))
        return false;
      if (gestureOrientation === "horizontal" && (!hasOverflowX || !isScrollableX))
        return false;
      let orientation;
      if (gestureOrientation === "horizontal") {
        orientation = "x";
      } else if (gestureOrientation === "vertical") {
        orientation = "y";
      } else {
        const isScrollingX = deltaX !== 0;
        const isScrollingY = deltaY !== 0;
        if (isScrollingX && hasOverflowX && isScrollableX) {
          orientation = "x";
        }
        if (isScrollingY && hasOverflowY && isScrollableY) {
          orientation = "y";
        }
      }
      if (!orientation) return false;
      let scroll, maxScroll, delta, hasOverflow, isScrollable;
      if (orientation === "x") {
        scroll = node.scrollLeft;
        maxScroll = scrollWidth - clientWidth;
        delta = deltaX;
        hasOverflow = hasOverflowX;
        isScrollable = isScrollableX;
      } else if (orientation === "y") {
        scroll = node.scrollTop;
        maxScroll = scrollHeight - clientHeight;
        delta = deltaY;
        hasOverflow = hasOverflowY;
        isScrollable = isScrollableY;
      } else {
        return false;
      }
      const willScroll = delta > 0 ? scroll < maxScroll : scroll > 0;
      return willScroll && hasOverflow && isScrollable;
    }
    /**
     * The root element on which lenis is instanced
     */
    get rootElement() {
      return this.options.wrapper === window ? document.documentElement : this.options.wrapper;
    }
    /**
     * The limit which is the maximum scroll value
     */
    get limit() {
      if (this.options.__experimental__naiveDimensions) {
        if (this.isHorizontal) {
          return this.rootElement.scrollWidth - this.rootElement.clientWidth;
        } else {
          return this.rootElement.scrollHeight - this.rootElement.clientHeight;
        }
      } else {
        return this.dimensions.limit[this.isHorizontal ? "x" : "y"];
      }
    }
    /**
     * Whether or not the scroll is horizontal
     */
    get isHorizontal() {
      return this.options.orientation === "horizontal";
    }
    /**
     * The actual scroll value
     */
    get actualScroll() {
      var _a, _b;
      const wrapper2 = this.options.wrapper;
      return this.isHorizontal ? (_a = wrapper2.scrollX) != null ? _a : wrapper2.scrollLeft : (_b = wrapper2.scrollY) != null ? _b : wrapper2.scrollTop;
    }
    /**
     * The current scroll value
     */
    get scroll() {
      return this.options.infinite ? modulo(this.animatedScroll, this.limit) : this.animatedScroll;
    }
    /**
     * The progress of the scroll relative to the limit
     */
    get progress() {
      return this.limit === 0 ? 1 : this.scroll / this.limit;
    }
    /**
     * Current scroll state
     */
    get isScrolling() {
      return this._isScrolling;
    }
    set isScrolling(value) {
      if (this._isScrolling !== value) {
        this._isScrolling = value;
        this.updateClassName();
      }
    }
    /**
     * Check if lenis is stopped
     */
    get isStopped() {
      return this._isStopped;
    }
    set isStopped(value) {
      if (this._isStopped !== value) {
        this._isStopped = value;
        this.updateClassName();
      }
    }
    /**
     * Check if lenis is locked
     */
    get isLocked() {
      return this._isLocked;
    }
    set isLocked(value) {
      if (this._isLocked !== value) {
        this._isLocked = value;
        this.updateClassName();
      }
    }
    /**
     * Check if lenis is smooth scrolling
     */
    get isSmooth() {
      return this.isScrolling === "smooth";
    }
    /**
     * The class name applied to the wrapper element
     */
    get className() {
      let className = "lenis";
      if (this.options.autoToggle) className += " lenis-autoToggle";
      if (this.isStopped) className += " lenis-stopped";
      if (this.isLocked) className += " lenis-locked";
      if (this.isScrolling) className += " lenis-scrolling";
      if (this.isScrolling === "smooth") className += " lenis-smooth";
      return className;
    }
    updateClassName() {
      this.cleanUpClassName();
      this.rootElement.className = `${this.rootElement.className} ${this.className}`.trim();
    }
    cleanUpClassName() {
      this.rootElement.className = this.rootElement.className.replace(/lenis(-\w+)?/g, "").trim();
    }
  };

  // src/modules/smooth-scroll.js
  console.log("[SMOOTH-SCROLL] Module loaded");
  var lenisInstance = null;
  function initSmoothScroll(options = {}) {
    var _a, _b;
    if (lenisInstance) {
      console.log("[SMOOTH-SCROLL] Already initialized");
      return lenisInstance;
    }
    const hasSnapContainer = document.querySelector(".perspective-wrapper") !== null;
    if (hasSnapContainer && !options.forceEnableOnSnap) {
      console.log("[SMOOTH-SCROLL] \u26A0\uFE0F Skipped - page has scroll-snap container");
      console.log("[SMOOTH-SCROLL] Using native scrolling for optimal snap behavior");
      return null;
    }
    const defaultLerp = (_a = options.lerp) != null ? _a : 0.08;
    const config = {
      lerp: defaultLerp,
      duration: 1.2,
      orientation: "vertical",
      gestureOrientation: "vertical",
      smoothWheel: true,
      smoothTouch: false,
      wheelMultiplier: 1,
      touchMultiplier: 2,
      infinite: (_b = options.infinite) != null ? _b : false,
      ...options
    };
    try {
      let raf = function(time) {
        lenisInstance.raf(time);
        requestAnimationFrame(raf);
      };
      lenisInstance = new Lenis(config);
      requestAnimationFrame(raf);
      if (window.gsap && window.ScrollTrigger) {
        lenisInstance.on("scroll", ScrollTrigger.update);
        window.gsap.ticker.add((time) => {
          lenisInstance.raf(time * 1e3);
        });
        window.gsap.ticker.lagSmoothing(0);
      }
      window.App = window.App || {};
      window.App.smoothScroll = {
        stop: () => lenisInstance.stop(),
        start: () => lenisInstance.start(),
        instance: lenisInstance
      };
      console.log(`[SMOOTH-SCROLL] \u2713 Initialized with momentum scrolling (lerp: ${defaultLerp})`);
      return lenisInstance;
    } catch (err) {
      console.error("[SMOOTH-SCROLL] \u274C Init error:", err);
      return null;
    }
  }
  function initContainerScroll(container, options = {}) {
    var _a;
    const element = typeof container === "string" ? document.querySelector(container) : container;
    if (!element) {
      console.warn(`[SMOOTH-SCROLL] Container not found: ${container}`);
      return null;
    }
    const defaultLerp = (_a = options.lerp) != null ? _a : 0.08;
    const contentElement = options.content ? typeof options.content === "string" ? element.querySelector(options.content) : options.content : element.children.length > 0 ? element.children[0] : element;
    const config = {
      wrapper: element,
      content: contentElement,
      lerp: defaultLerp,
      duration: 1.2,
      orientation: "vertical",
      gestureOrientation: "vertical",
      smoothWheel: true,
      smoothTouch: false,
      wheelMultiplier: 1,
      touchMultiplier: 2,
      infinite: false,
      ...options
    };
    delete config.wrapper;
    delete config.content;
    try {
      let raf = function(time) {
        instance.raf(time);
        requestAnimationFrame(raf);
      };
      const instance = new Lenis({
        wrapper: element,
        content: contentElement,
        ...config
      });
      requestAnimationFrame(raf);
      if (window.gsap && window.ScrollTrigger) {
        instance.on("scroll", ScrollTrigger.update);
      }
      console.log(`[SMOOTH-SCROLL] \u2713 Container scroll initialized for ${typeof container === "string" ? container : element.className || "element"}`);
      return instance;
    } catch (err) {
      console.error("[SMOOTH-SCROLL] \u274C Container scroll init error:", err);
      return null;
    }
  }

  // src/modules/lightbox.js
  console.log("[LIGHTBOX] Module loaded");
  var STATE = {
    IDLE: "idle",
    OPENING: "opening",
    OPEN: "open",
    CLOSING: "closing"
  };
  var currentState = STATE.IDLE;
  var projectData = null;
  var lastFocus = null;
  var overlayLenis = null;
  function initLightbox({
    root = "#lightbox",
    openDuration = 1e3,
    closeDuration = 1e3
  } = {}) {
    const lb = document.querySelector(root);
    if (!lb) {
      console.log("[LIGHTBOX] \u274C Element not found");
      return;
    }
    const inner = lb.querySelector(".lightbox__inner");
    const videoArea = lb.querySelector(".video-area");
    const overlay = lb.querySelector(".lightbox__overlay");
    const closeBtn = document.querySelector("#close-btn");
    const slides = document.querySelectorAll(".slide");
    const prefersReduced = matchMedia("(prefers-reduced-motion: reduce)").matches;
    const clientEl = document.querySelector("#lightbox-client");
    const titleEl = document.querySelector("#lightbox-title");
    const truthEl = document.querySelector("#lightbox-truth");
    const truthWellToldEl = document.querySelector("#lightbox-truthwelltold");
    const descriptionEl = document.querySelector("#lightbox-description");
    const awardsContainer = document.querySelector("#lightbox-awards");
    lb.setAttribute("role", lb.getAttribute("role") || "dialog");
    lb.setAttribute("aria-modal", lb.getAttribute("aria-modal") || "true");
    lb.setAttribute("aria-hidden", "true");
    lb.setAttribute("data-state", STATE.IDLE);
    unlockScroll({ delayMs: 0 });
    projectData = project_data_default;
    const projectCount = Object.keys(projectData).length;
    console.log(`[LIGHTBOX] \u2713 Loaded ${projectCount} project${projectCount !== 1 ? "s" : ""} from bundled data`);
    console.log("\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501");
    console.log("\u{1F50D} LIGHTBOX SETUP VALIDATION");
    console.log("\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n");
    console.log("1\uFE0F\u20E3  Main Container");
    console.log(`   \u2713 Found: ${root}`);
    console.log(`   \u2713 State machine initialized: ${currentState}`);
    console.log(`   \u23F1\uFE0F  Open duration: ${openDuration}ms (must match Webflow 'lb:open' animation)`);
    console.log(`   \u23F1\uFE0F  Close duration: ${closeDuration}ms (must match Webflow 'lb:close' animation)`);
    console.log("\n2\uFE0F\u20E3  Content Injection Targets");
    console.log(`   ${clientEl ? "\u2713" : "\u274C"} #lightbox-client`);
    console.log(`   ${titleEl ? "\u2713" : "\u274C"} #lightbox-title`);
    console.log(`   ${truthEl ? "\u2713" : "\u274C"} #lightbox-truth`);
    console.log(`   ${truthWellToldEl ? "\u2713" : "\u274C"} #lightbox-truthwelltold`);
    console.log(`   ${descriptionEl ? "\u2713" : "\u274C"} #lightbox-description`);
    console.log(`   ${awardsContainer ? "\u2713" : "\u274C"} #lightbox-awards`);
    console.log(`   ${videoArea ? "\u2713" : "\u274C"} .video-area`);
    console.log("\n3\uFE0F\u20E3  Slide Triggers");
    console.log(`   \u2713 Found: ${slides.length} .slide elements`);
    validateSlideData();
    console.log("\n4\uFE0F\u20E3  Webflow IX Setup");
    const wfIx2 = window.Webflow && window.Webflow.require ? window.Webflow.require("ix3") || window.Webflow.require("ix2") : null;
    if (wfIx2) {
      const version2 = window.Webflow.require("ix3") ? "IX3" : "IX2";
      console.log(`   \u2713 Webflow ${version2} detected`);
    } else {
      console.warn("   \u26A0\uFE0F  Webflow IX NOT detected");
    }
    console.log("\n   \u{1F4CB} Required Custom Events in Webflow:");
    console.log('      \u2022 "lb:open" \u2192 triggers open animation');
    console.log('      \u2022 "lb:close" \u2192 triggers close animation');
    console.log(`      \u2022 Durations MUST match: open=${openDuration}ms, close=${closeDuration}ms`);
    console.log("\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501");
    console.log("\u2705 VALIDATION COMPLETE\n");
    function validateSlideData() {
      if (!projectData) return;
      let validSlides = 0;
      let missingData = [];
      slides.forEach((slide, index) => {
        const projectId2 = slide.dataset.project;
        if (!projectId2) {
          missingData.push(`Slide ${index}: missing data-project attribute`);
        } else if (!projectData[projectId2]) {
          missingData.push(`Slide ${index}: project ID "${projectId2}" not found in JSON`);
        } else {
          const project = projectData[projectId2];
          if (!project.vimeoId || project.vimeoId === "000000000") {
            missingData.push(`Slide ${index} (${projectId2}): missing or invalid vimeoId`);
          }
          if (!project.vimeoPreviewId || project.vimeoPreviewId === "000000000") {
            missingData.push(`Slide ${index} (${projectId2}): missing or invalid vimeoPreviewId`);
          }
          validSlides++;
        }
      });
      console.log(`[LIGHTBOX] \u2713 Valid slides: ${validSlides}/${slides.length}`);
      if (missingData.length > 0) {
        console.warn("[LIGHTBOX] \u26A0\uFE0F  Issues found:");
        missingData.forEach((msg) => console.warn(`   - ${msg}`));
      }
    }
    function emitWebflowEvent(name) {
      try {
        if (window.Webflow && window.Webflow.require) {
          const wfIx3 = window.Webflow.require("ix3") || window.Webflow.require("ix2");
          if (wfIx3 && typeof wfIx3.emit === "function") {
            wfIx3.emit(name);
            console.log(`\u{1F3AC} [LIGHTBOX] Triggered animation: "${name}"`);
          } else {
            console.warn(`\u26A0\uFE0F  [LIGHTBOX] Cannot emit "${name}" - wfIx.emit not available`);
          }
        } else {
          console.warn(`\u26A0\uFE0F  [LIGHTBOX] Cannot emit "${name}" - Webflow IX not available`);
        }
      } catch (err) {
        console.error(`\u274C [LIGHTBOX] Error emitting "${name}":`, err);
      }
      window.dispatchEvent(new CustomEvent(name));
    }
    function setPageInert(on) {
      const siblings = Array.from(document.body.children).filter((n) => n !== lb);
      siblings.forEach((n) => {
        try {
          if ("inert" in n) n.inert = !!on;
        } catch {
        }
        if (on) n.setAttribute("aria-hidden", "true");
        else n.removeAttribute("aria-hidden");
      });
    }
    function trapFocus(e) {
      if (e.key !== "Tab") return;
      const focusables = lb.querySelectorAll([
        "a[href]",
        "button",
        "input",
        "select",
        "textarea",
        '[tabindex]:not([tabindex="-1"])'
      ].join(","));
      const list = Array.from(focusables).filter(
        (el) => !el.hasAttribute("disabled") && !el.getAttribute("aria-hidden")
      );
      if (list.length === 0) {
        e.preventDefault();
        (inner || lb).focus();
        return;
      }
      const first = list[0];
      const last = list[list.length - 1];
      if (e.shiftKey && document.activeElement === first) {
        e.preventDefault();
        last.focus();
      } else if (!e.shiftKey && document.activeElement === last) {
        e.preventDefault();
        first.focus();
      }
    }
    function getProjectById(id) {
      if (!projectData[id]) {
        console.error(`[LIGHTBOX] \u274C Project "${id}" not found in JSON`);
        return null;
      }
      return projectData[id];
    }
    async function waitForImages(imageUrls) {
      if (!imageUrls || imageUrls.length === 0) return;
      console.log(`[LIGHTBOX] \u23F3 Loading ${imageUrls.length} images...`);
      const promises = imageUrls.map((url) => {
        return new Promise((resolve, reject) => {
          const img = new Image();
          img.onload = () => {
            img.decode().then(() => resolve()).catch(() => resolve());
          };
          img.onerror = () => {
            console.warn(`[LIGHTBOX] \u26A0\uFE0F  Failed to load image: ${url}`);
            resolve();
          };
          img.src = url;
        });
      });
      await Promise.all(promises);
      console.log(`[LIGHTBOX] \u2713 All images loaded`);
    }
    async function injectContent(project) {
      console.log(`[LIGHTBOX] \u{1F4DD} Injecting content for: ${project.title}`);
      if (clientEl) clientEl.textContent = project.client || "";
      if (titleEl) titleEl.textContent = project.title || "";
      if (truthEl) truthEl.textContent = project.truth || "";
      if (truthWellToldEl) truthWellToldEl.textContent = project.truthWellTold || "";
      if (descriptionEl) descriptionEl.textContent = project.description || "";
      if (awardsContainer && project.awards) {
        awardsContainer.innerHTML = "";
        project.awards.forEach((url) => {
          const img = document.createElement("img");
          img.src = url;
          img.alt = "Award";
          img.loading = "eager";
          awardsContainer.appendChild(img);
        });
      }
      if (videoArea) {
        if (!project.vimeoId || project.vimeoId === "000000000") {
          console.error(`[LIGHTBOX] \u274C Missing or invalid vimeoId for project "${projectId}"`);
        } else {
          mountVimeo(videoArea, project.vimeoId, {
            autoplay: 1,
            muted: 1,
            autopause: 0,
            controls: 0,
            background: 1,
            playsinline: 1,
            loop: 1,
            dnt: 1
          });
        }
      }
      if (project.awards && project.awards.length > 0) {
        await waitForImages(project.awards);
      }
      console.log(`[LIGHTBOX] \u2713 Content injected`);
    }
    function setState(newState) {
      currentState = newState;
      lb.setAttribute("data-state", newState);
      console.log(`[LIGHTBOX] State: ${newState}`);
    }
    async function openFromSlide(slide) {
      var _a, _b, _c;
      if (currentState !== STATE.IDLE) {
        console.log("[LIGHTBOX] \u26A0\uFE0F  Cannot open - already opening/open/closing");
        return;
      }
      const projectId2 = (_a = slide == null ? void 0 : slide.dataset) == null ? void 0 : _a.project;
      if (!projectId2) {
        console.error("[LIGHTBOX] \u274C Slide missing data-project attribute");
        return;
      }
      const project = getProjectById(projectId2);
      if (!project) {
        console.error(`[LIGHTBOX] \u274C Project "${projectId2}" not found in JSON`);
        return;
      }
      setState(STATE.OPENING);
      lastFocus = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      try {
        await injectContent(project);
        setPageInert(true);
        lockScroll();
        if ((_c = (_b = window.App) == null ? void 0 : _b.smoothScroll) == null ? void 0 : _c.stop) {
          window.App.smoothScroll.stop();
        }
        lb.setAttribute("aria-hidden", "false");
        emitWebflowEvent("lb:open");
        setTimeout(() => {
          finishOpen();
        }, openDuration);
        emit("LIGHTBOX_OPEN", lb, project);
      } catch (err) {
        console.error("[LIGHTBOX] \u274C Error opening:", err);
        setState(STATE.IDLE);
      }
    }
    function finishOpen() {
      console.log("[LIGHTBOX] \u2713 Open animation complete");
      setState(STATE.OPEN);
      if (overlay) {
        requestAnimationFrame(() => {
          overlayLenis = initContainerScroll(overlay, {
            lerp: 0.08,
            smoothWheel: true,
            smoothTouch: false
          });
        });
      }
      lb.setAttribute("tabindex", "-1");
      requestAnimationFrame(() => {
        (inner || lb).focus();
      });
      emit("LIGHTBOX_OPENED", lb);
    }
    function requestClose() {
      var _a, _b;
      if (currentState !== STATE.OPEN) {
        console.log("[LIGHTBOX] \u26A0\uFE0F  Cannot close - not open");
        return;
      }
      setState(STATE.CLOSING);
      emit("LIGHTBOX_CLOSE", lb);
      emitWebflowEvent("lb:close");
      const hideDelay = prefersReduced ? 0 : closeDuration;
      setTimeout(() => {
        finishClose();
      }, hideDelay);
      unlockScroll({
        delayMs: prefersReduced ? 0 : closeDuration
      });
      if ((_b = (_a = window.App) == null ? void 0 : _a.smoothScroll) == null ? void 0 : _b.start) {
        setTimeout(() => {
          window.App.smoothScroll.start();
        }, hideDelay);
      }
    }
    function finishClose() {
      console.log("[LIGHTBOX] \u2713 Close animation complete");
      lb.setAttribute("aria-hidden", "true");
      setPageInert(false);
      if (videoArea) videoArea.innerHTML = "";
      if (awardsContainer) awardsContainer.innerHTML = "";
      if (clientEl) clientEl.textContent = "";
      if (titleEl) titleEl.textContent = "";
      if (truthEl) truthEl.textContent = "";
      if (truthWellToldEl) truthWellToldEl.textContent = "";
      if (descriptionEl) descriptionEl.textContent = "";
      if (overlayLenis) {
        try {
          overlayLenis.destroy();
          overlayLenis = null;
          console.log("[LIGHTBOX] \u2713 Overlay smooth scroll destroyed");
        } catch (err) {
          console.warn("[LIGHTBOX] Error destroying overlay scroll:", err);
        }
      }
      if (lastFocus && document.body.contains(lastFocus)) {
        lastFocus.focus();
      }
      setState(STATE.IDLE);
      emit("LIGHTBOX_CLOSED", lb);
    }
    slides.forEach((slide, index) => {
      const projectId2 = slide.dataset.project;
      const project = getProjectById(projectId2);
      const previewContainer = slide.querySelector(".slide__preview");
      if (previewContainer && project) {
        if (!project.vimeoPreviewId || project.vimeoPreviewId === "000000000") {
          console.error(`[LIGHTBOX] \u274C Missing or invalid vimeoPreviewId for project "${projectId2}"`);
        } else {
          mountVimeo(previewContainer, project.vimeoPreviewId, {
            autoplay: 1,
            muted: 1,
            autopause: 0,
            controls: 0,
            background: 1,
            playsinline: 1,
            loop: 1,
            dnt: 1
          });
        }
      }
      slide.addEventListener("click", (e) => {
        e.preventDefault();
        e.stopPropagation();
        openFromSlide(slide);
      }, { passive: false });
    });
    if (closeBtn) {
      closeBtn.addEventListener("click", (e) => {
        e.preventDefault();
        e.stopPropagation();
        if (currentState === STATE.OPEN) {
          console.log("[LIGHTBOX] \u{1F3AF} Close button clicked");
          requestClose();
        }
      });
    } else {
      console.warn("[LIGHTBOX] \u26A0\uFE0F  #close-btn not found - only Escape key will close");
    }
    document.addEventListener("keydown", (e) => {
      if (currentState === STATE.OPEN) {
        if (e.key === "Escape") {
          console.log("[LIGHTBOX] \u{1F3AF} Escape key pressed");
          requestClose();
        }
        if (e.key === "Tab") {
          trapFocus(e);
        }
      }
    });
    console.log("[LIGHTBOX] \u2713 Initialized and ready\n");
  }

  // src/modules/webflow-scrolltrigger.js
  console.log("[WEBFLOW] module loaded");
  function initWebflowScrollTriggers(options = {}) {
    const scrollerSelector = options.scrollerSelector || ".perspective-wrapper";
    const hideEventName = options.hideEventName || options.shrinkEventName || "logo-hide";
    const appearEventName = options.appearEventName || options.growEventName || "logo-appear";
    const markers = !!options.markers;
    function onWindowLoad(cb) {
      if (document.readyState === "complete") {
        setTimeout(cb, 0);
        return;
      }
      window.addEventListener("load", cb, { once: true });
    }
    onWindowLoad(function() {
      const Webflow = window.Webflow || [];
      Webflow.push(function() {
        const wfIx2 = window.Webflow && window.Webflow.require ? window.Webflow.require("ix3") || window.Webflow.require("ix2") : null;
        const ScrollTrigger2 = window.ScrollTrigger;
        if (!wfIx2 || !ScrollTrigger2) {
          console.warn("[WEBFLOW] \u274C Required dependencies not found:", { wfIx: !!wfIx2, ScrollTrigger: !!ScrollTrigger2 });
          return;
        }
        const scroller = document.querySelector(scrollerSelector);
        if (!scroller) {
          console.warn("[WEBFLOW] \u274C Scroller element not found:", scrollerSelector);
          return;
        }
        const driver = document.querySelector("#intro-slide");
        if (!driver) {
          console.error("[WEBFLOW] \u274C Driver slide (#intro-slide) not found");
          return;
        }
        console.log("[WEBFLOW] \u2713 Setup complete:", {
          scroller: !!scroller,
          driver: !!driver,
          wfIx: !!wfIx2,
          ScrollTrigger: !!ScrollTrigger2,
          hideEvent: hideEventName,
          appearEvent: appearEventName
        });
        let scrollRAF = null;
        const handleScroll = () => {
          if (scrollRAF) cancelAnimationFrame(scrollRAF);
          scrollRAF = requestAnimationFrame(() => {
            ScrollTrigger2.update();
          });
        };
        scroller.addEventListener("scroll", handleScroll, { passive: true });
        console.log("[WEBFLOW] \u2713 Scroll listener attached to:", scrollerSelector);
        let logoVisible = false;
        const st1 = ScrollTrigger2.create({
          trigger: driver,
          scroller,
          start: "bottom 20%",
          markers,
          invalidateOnRefresh: true,
          onEnter: () => {
            if (!logoVisible) {
              try {
                console.log("[WEBFLOW] \u{1F3AF} Triggering logo appear event:", appearEventName);
                wfIx2.emit(appearEventName);
                logoVisible = true;
              } catch (err) {
                console.error("[WEBFLOW] \u274C Error emitting appear:", err);
              }
            }
          },
          onUpdate: (self) => {
            if (markers) {
              console.log("[WEBFLOW] ScrollTrigger update:", { progress: self.progress, direction: self.direction });
            }
          }
        });
        const st2 = ScrollTrigger2.create({
          trigger: driver,
          scroller,
          start: "bottom 20%",
          markers,
          invalidateOnRefresh: true,
          onLeaveBack: () => {
            if (logoVisible) {
              try {
                console.log("[WEBFLOW] \u{1F3AF} Triggering logo hide event:", hideEventName);
                wfIx2.emit(hideEventName);
                logoVisible = false;
              } catch (err) {
                console.error("[WEBFLOW] \u274C Error emitting hide:", err);
              }
            }
          }
        });
        console.log("[WEBFLOW] \u2713 ScrollTriggers created successfully");
        const refreshTimings = [0, 100, 500, 1e3];
        refreshTimings.forEach((delay) => {
          setTimeout(() => {
            ScrollTrigger2.refresh();
            console.log(`[WEBFLOW] \u{1F504} ScrollTrigger refreshed (${delay}ms delay)`);
          }, delay);
        });
        const resizeObserver = new ResizeObserver(() => {
          clearTimeout(resizeObserver._timeout);
          resizeObserver._timeout = setTimeout(() => {
            ScrollTrigger2.refresh();
            console.log("[WEBFLOW] \u{1F504} ScrollTrigger refreshed (resize)");
          }, 250);
        });
        resizeObserver.observe(scroller);
        resizeObserver.observe(driver);
        window.App = window.App || {};
        window.App.webflowScrollTrigger = {
          refresh: () => ScrollTrigger2.refresh(),
          cleanup: () => {
            scroller.removeEventListener("scroll", handleScroll);
            resizeObserver.disconnect();
            st1.kill();
            st2.kill();
            console.log("[WEBFLOW] ScrollTrigger cleaned up");
          }
        };
      });
    });
  }

  // src/app.js
  function patchVimeoAllowTokens() {
    const tokens = ["autoplay", "fullscreen", "picture-in-picture", "encrypted-media"];
    const selector = [
      'iframe[src*="vimeo.com"]',
      'iframe[src*="player.vimeo.com"]'
    ].join(",");
    document.querySelectorAll(selector).forEach((ifr) => {
      const current = (ifr.getAttribute("allow") || "").split(";").map((token) => token.trim()).filter(Boolean);
      const updated = Array.from(/* @__PURE__ */ new Set([...current, ...tokens])).join("; ");
      ifr.setAttribute("allow", updated);
    });
  }
  function init(options = {}) {
    const {
      lightboxRoot = "#lightbox",
      lerp: lerp2 = 0.1,
      snapLerp = 0.15,
      smoothScroll = {},
      preloader = {}
    } = options;
    const preloaderConfig = {
      selector: "#preloader",
      videoSelector: "video[data-wf-ignore], video[autoplay], video[data-autoplay]",
      vimeoPreload: "prefetch",
      vimeoBufferLimit: 5,
      minLoadTime: 1e3,
      pulseDuration: 3e3,
      pulseOpacity: 0.2,
      ...preloader
    };
    initPreloader(preloaderConfig);
    initSmoothScroll({
      lerp: lerp2,
      snapLerp,
      ...smoothScroll
    });
    initAccordion({ selector: ".accordeon" });
    initLightbox({
      root: lightboxRoot,
      openDuration: 1e3,
      closeDuration: 1e3
    });
    try {
      initWebflowScrollTriggers({
        scrollerSelector: ".perspective-wrapper",
        hideEventName: "logo-hide",
        appearEventName: "logo-appear"
      });
    } catch (err) {
    }
  }
  window.App = window.App || {};
  window.App.init = init;
  document.addEventListener("DOMContentLoaded", () => {
    console.log("\n\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557");
    console.log("\u2551     McCann Website - Initialization Starting        \u2551");
    console.log("\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D\n");
    try {
      patchVimeoAllowTokens();
      init();
      console.log("\n\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557");
      console.log("\u2551     \u2705 All Systems Initialized Successfully         \u2551");
      console.log("\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D\n");
    } catch (err) {
      console.error("[APP] \u274C Initialization error:", err);
    }
  });
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL2RhdGEvcHJvamVjdC1kYXRhLmpzb24iLCAiLi4vc3JjL21vZHVsZXMvcHJlbG9hZGVyLmpzIiwgIi4uL3NyYy9tb2R1bGVzL2FjY29yZGlvbi5qcyIsICIuLi9zcmMvY29yZS9ldmVudHMuanMiLCAiLi4vc3JjL2NvcmUvc2Nyb2xsbG9jay5qcyIsICIuLi9zcmMvbW9kdWxlcy92aW1lby5qcyIsICIuLi9ub2RlX21vZHVsZXMvbGVuaXMvcGFja2FnZS5qc29uIiwgIi4uL25vZGVfbW9kdWxlcy9sZW5pcy9wYWNrYWdlcy9jb3JlL3NyYy9tYXRocy50cyIsICIuLi9ub2RlX21vZHVsZXMvbGVuaXMvcGFja2FnZXMvY29yZS9zcmMvYW5pbWF0ZS50cyIsICIuLi9ub2RlX21vZHVsZXMvbGVuaXMvcGFja2FnZXMvY29yZS9zcmMvZGVib3VuY2UudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2xlbmlzL3BhY2thZ2VzL2NvcmUvc3JjL2RpbWVuc2lvbnMudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2xlbmlzL3BhY2thZ2VzL2NvcmUvc3JjL2VtaXR0ZXIudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2xlbmlzL3BhY2thZ2VzL2NvcmUvc3JjL3ZpcnR1YWwtc2Nyb2xsLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9sZW5pcy9wYWNrYWdlcy9jb3JlL3NyYy9sZW5pcy50cyIsICIuLi9zcmMvbW9kdWxlcy9zbW9vdGgtc2Nyb2xsLmpzIiwgIi4uL3NyYy9tb2R1bGVzL2xpZ2h0Ym94LmpzIiwgIi4uL3NyYy9tb2R1bGVzL3dlYmZsb3ctc2Nyb2xsdHJpZ2dlci5qcyIsICIuLi9zcmMvYXBwLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJ7XG4gIFwibG9yZWFsLWZpbmFsLWNvcHlcIjoge1xuICAgIFwiY2xpZW50XCI6IFwiTCdPclx1MDBFOWFsIFBhcmlzXCIsXG4gICAgXCJ0aXRsZVwiOiBcIlRoZSBGaW5hbCBDb3B5IG9mIElsb24gU3BlY2h0XCIsXG4gICAgXCJ0cnV0aFwiOiBcIldvbWVuIGhhdmUgaW5oZXJlbnQgd29ydGggYW5kIGRlc2VydmUgdG8gYmUgc2VlbiwgaGVhcmQsIGFuZCB2YWx1ZWQuXCIsXG4gICAgXCJ0cnV0aFdlbGxUb2xkXCI6IFwiQmVjYXVzZSBZb3UncmUgV29ydGggSXRcIixcbiAgICBcImRlc2NyaXB0aW9uXCI6IFwiRmlmdHkgeWVhcnMgYWZ0ZXIgXFxcIkJlY2F1c2UgSSdtIFdvcnRoIEl0XFxcIiB3YXMgd3JpdHRlbiwgaXRzIG1lYW5pbmcgaGFkIGJlY29tZSBlcm9kZWQgYnkgdGltZS4gV2hhdCBiZWdhbiBhcyBhIHN0YXRlbWVudCBvZiByZWJlbGxpb24gaGFkIHNvZnRlbmVkIGludG8gYSB0YWdsaW5lIFx1MjAxNCBzcG9rZW4gZXZlcnl3aGVyZSBidXQgcmFyZWx5IGZlbHQuIE91ciBpZGVhIHdhcyBub3QgdG8gcmVpbnRlcnByZXQgaXQsIGJ1dCB0byByZWNsYWltIGl0LiBXZSBkaWQgc28gYnkgZ29pbmcgYmFjayB0byB3aGVyZSB0aGUgbGluZSBiZWdhbiwgdG8gSWxvbiBTcGVjaHQsIHRoZSB5b3VuZyBNY0Nhbm4gY29weXdyaXRlciB3aG8gZm91Z2h0IHNvIGhhcmQgdG8gYnJpbmcgdGhvc2Ugd29yZHMgdG8gbGlmZS4gV2Ugd29ya2VkIHdpdGggdHdvLXRpbWUgT3NjYXItd2lubmluZyBmaWxtbWFrZXIgQmVuIFByb3VkZm9vdCB0byBjYXB0dXJlIFNwZWNodCwgbm93IGluIGhlciBzZW5pb3IgeWVhcnMgYW5kIGZhY2luZyBhIHRlcm1pbmFsIGlsbG5lc3MsIGluIGhlciBOZXcgWW9yayBhcGFydG1lbnQuIFNoZSByZWZsZWN0cyBvbiBtYWtpbmcgdGhlIG9yaWdpbmFsIGFkIGF0IGEgdGltZSB3aGVuIHNvIG1hbnkgZm9yY2VzIHdlcmUgd29ya2luZyBhZ2FpbnN0IGhlciwgYW5kLCBhbGwgdGhyb3VnaG91dCwgaGVyIGZpcmUgYW5kIHVuZmlsdGVyZWQgdm9pY2UgY29tZSB0byBsaWZlOiBzaGFycCwgZGVmaWFudCBhbmQgdW5hcG9sb2dldGljLiBObyBicmFuZCBtZXNzYWdpbmcuIE5vIHByb2R1Y3Qgc2hvdHMuIEp1c3QgdHJ1dGguIFRoZSB1bHRpbWF0ZSBlbWJvZGltZW50IG9mIFxcXCJJJ20gd29ydGggaXQuXFxcIiBXZSBnYXZlIElsb24gU3BlY2h0IGJhY2sgaGVyIHdvcmRzIGFuZCBoZXIgYXV0aG9yc2hpcC4gV2UgZGlkbid0IG1vZGVybml6ZSBoZXIgbGluZS4gV2UgcmVtaW5kZWQgdGhlIHdvcmxkIG9mIGl0cyBvcmlnaW5hbCBwb3dlciwgYW5kIHRoZSB3b3JsZCBsaXN0ZW5lZC5cIixcbiAgICBcImltcGFjdFwiOiBcIk1vcmUgdGhhbiA3NSUgb2YgcGVvcGxlIHdobyBzYXcgdGhlIGZpbG0gcmVwb3J0ZWQgdGhhdCBpdCBjaGFuZ2VkIHRoZWlyIHBlcmNlcHRpb24gb2YgdGhlIGJyYW5kXCIsXG4gICAgXCJ2aW1lb0lkXCI6IFwiMTEzMTg0NjM1NVwiLFxuICAgIFwidmltZW9QcmV2aWV3SWRcIjogXCIyNTU4ODcwMzNcIixcbiAgICBcImF3YXJkc1wiOiBbXG4gICAgICBcImF3YXJkLWdlbmVyaWMtMS5qcGdcIixcbiAgICAgIFwiYXdhcmQtZ2VuZXJpYy0yLmpwZ1wiLFxuICAgICAgXCJhd2FyZC1nZW5lcmljLTMuanBnXCJcbiAgICBdXG4gIH0sXG4gIFwibWFzdGVyY2FyZC1hYnJhY2FkYWJyYVwiOiB7XG4gICAgXCJjbGllbnRcIjogXCJNYXN0ZXJjYXJkXCIsXG4gICAgXCJ0aXRsZVwiOiBcIkFicmFjYWRhYnJhOiBGcm9tIEZhbiB0byBGZWF0dXJlZFwiLFxuICAgIFwidHJ1dGhcIjogXCJNdXNpYyBmYW5zIHdhbnQgdG8gbGl2ZSB0aGVpciBwYXNzaW9uLCBub3QganVzdCBsaXN0ZW4gdG8gaXQuXCIsXG4gICAgXCJ0cnV0aFdlbGxUb2xkXCI6IFwiRnJvbSBGYW4gdG8gRmVhdHVyZWRcIixcbiAgICBcImRlc2NyaXB0aW9uXCI6IFwiR2VuIFogZG9lc24ndCBqdXN0IHdhdGNoIGN1bHR1cmUsIHRoZXkgbWFrZSBpdC4gU28gTWFzdGVyY2FyZCB0dXJuZWQgTGFkeSBHYWdhJ3MgbXVzaWMgdmlkZW8gaW50byBhIGZhbi1wb3dlcmVkIGF1ZGl0aW9uLCB3aXRoIGNob3Jlb2dyYXBoeSBieSBQYXJyaXMgR29lYmVsLCBjcmVhdG9ycyBsZWFkaW5nIHRoZSBjaGFyZ2UsIGFuZCBHYWdhIGFtcGxpZnlpbmcgZXZlcnkgc3RlcC4gV2UgcGFydG5lcmVkIHdpdGggdmlyYWwgZGFuY2UgY3JlYXRvcnMgdG8gdGVhY2ggdGhlIG1vdmVzLCBtb2RlbCBwYXJ0aWNpcGF0aW9uLCBhbmQgcmFsbHkgdGhlaXIgY29tbXVuaXRpZXMuIE1hc3RlcmNhcmQgYW5kIEdhZ2EgZnVlbGVkIHRoZSBtb3ZlbWVudCBieSBsaWtpbmcsIHJlcG9zdGluZywgYW5kIGNlbGVicmF0aW5nIGZhbnMgYWNyb3NzIHBsYXRmb3Jtcy4gVGhlIHN0cmF0ZWd5IHdhcyByb290ZWQgaW4gR2VuIFoncyBkZXNpcmUgZm9yIHNlbGYtZXhwcmVzc2lvbiBhbmQgc29jaWFsIGNvbm5lY3Rpb24gXHUyMDE0IHR1cm5pbmcgZmFuIGJlaGF2aW9yIGludG8gdGhlIGVuZ2luZSBvZiBlbmdhZ2VtZW50LiBUaGUgcmVzdWx0OiAxLjQgYmlsbGlvbiB2aWV3cywgVGlrVG9rJ3MgdG9wIGJyYW5kZWQgaGFzaHRhZywgYW5kIE1hc3RlcmNhcmQncyBiaWdnZXN0LWV2ZXIgR2VuIFogYnJhbmQgbGlmdC5cIixcbiAgICBcImltcGFjdFwiOiBcIk1hc3RlcmNhcmQncyBiaWdnZXN0LWV2ZXIgR2VuIFogYnJhbmQgbGlmdFwiLFxuICAgIFwidmltZW9JZFwiOiBcIjExMzAzMjcyOTdcIixcbiAgICBcInZpbWVvUHJldmlld0lkXCI6IFwiMjU1ODg3MDMzXCIsXG4gICAgXCJhd2FyZHNcIjogW1xuICAgICAgXCJhd2FyZC1nZW5lcmljLTEuanBnXCIsXG4gICAgICBcImF3YXJkLWdlbmVyaWMtMi5qcGdcIlxuICAgIF1cbiAgfSxcbiAgXCJ4Ym94LWV2ZXJ5ZGF5LXRhY3RpY2lhblwiOiB7XG4gICAgXCJjbGllbnRcIjogXCJYYm94XCIsXG4gICAgXCJ0aXRsZVwiOiBcIlRoZSBFdmVyeWRheSBUYWN0aWNpYW5cIixcbiAgICBcInRydXRoXCI6IFwiRm9vdGJhbGwgTWFuYWdlciBnYW1lcnMgZG9uJ3QganVzdCBwbGF5IHRoZSBnYW1lLCB0aGV5IHN0dWR5IGl0LlwiLFxuICAgIFwidHJ1dGhXZWxsVG9sZFwiOiBcIlhib3ggdHVybmVkIGdhbWUgaW50ZWxsaWdlbmNlIGludG8gcmVhbC13b3JsZCBpbmZsdWVuY2VcIixcbiAgICBcImRlc2NyaXB0aW9uXCI6IFwiTW9kZXJuIGZvb3RiYWxsIGlzIGRvbWluYXRlZCBieSBhIGZldyByaWNoIGNsdWJzIHRoYXQgY2FuIGFmZm9yZCB0byBoaXJlIGJpZyB0ZWFtcyBvZiBjb2FjaGVzIGFuZCBhbmFseXN0cywgd2hpY2ggbWVhbnMgc21hbGxlciBjbHVicyBzdHJ1Z2dsZSB0byBjb21wZXRlIGZvciB0YWxlbnQuIEZvciB0aGUgbGF1bmNoIG9mIEZvb3RiYWxsIE1hbmFnZXIgMjQgXHUyMDE0IHRoZSBtb3N0IHJlYWxpc3RpYyBmb290YmFsbCBzaW11bGF0b3IgXHUyMDE0IFhib3ggaGVscGVkIHRoZSBzbWFsbCBjbHViIEJyb21sZXkgRkMgcmVjcnVpdCB0aGVpciBuZXh0IHRhY3RpY2lhbiBmcm9tIGFuIHVudGFwcGVkIHRhbGVudCBwb29sOiBnYW1lcnMuIFRoZSBhbm5vdW5jZW1lbnQgbWFkZSBoZWFkbGluZXMgZXZlcnl3aGVyZSwgYW5kIHBlb3BsZSBmcm9tIGFyb3VuZCB0aGUgd29ybGQgYXBwbGllZC4gTmF0aGFuIE93b2xhYmksIGEgZGVkaWNhdGVkIEZvb3RiYWxsIE1hbmFnZXIgcGxheWVyLCBnb3QgdGhlIGpvYi4gSGUgdXNlZCBkYXRhIGZyb20gdGhlIGdhbWUgdG8gaGVscCB0aGUgY2x1YiB3aW4gaW4gdGhlIHJlYWwgd29ybGQsIGRldmVsb3BpbmcgZm9ybWF0aW9ucywgZmluZGluZyBuZXcgc3RyYXRlZ2llcywgYW5kIHVuY292ZXJpbmcgdGhlIG9wcG9zaXRpb24ncyB3ZWFrbmVzc2VzLiBUaGUgc3Rvcnkgb2YgdGhpcyB1bnVzdWFsIGFwcHJvYWNoIHRvIGZvb3RiYWxsIHdhcyB0b2xkIGluIGEgNjArIG1pbnV0ZSBkb2N1bWVudGFyeSBvbiBUTlQgU3BvcnRzIFx1MjAxNCB0aGUgVUsncyBiaWdnZXN0IHNwb3J0cyBicm9hZGNhc3Rlci4gV2l0aCB0aGUgaGVscCBvZiBhIGdhbWVyLCB0aGUgY2x1YiBhY2hpZXZlZCBpdHMgYmVzdCBzZWFzb24gaW4gaXRzIDEzMi15ZWFyIGhpc3RvcnksIHVsdGltYXRlbHkgZ2FpbmluZyBwcm9tb3Rpb24gdG8gTGVhZ3VlIFR3byBmb3IgdGhlIGZpcnN0IHRpbWUgZXZlci4gWGJveCBzYXcgYSBkcmFtYXRpYyBpbmNyZWFzZSBpbiBGb290YmFsbCBNYW5hZ2VyIHBsYXllcnMgb24gY29uc29sZSwgYW5kIEZvb3RiYWxsIE1hbmFnZXIgMjQgYmVjYW1lIHRoZSBtb3N0LXBsYXllZCBnYW1lIGluIHRoZSBoaXN0b3J5IG9mIHRoZSBmcmFuY2hpc2UuXCIsXG4gICAgXCJpbXBhY3RcIjogXCIxOTAlIGluY3JlYXNlIGluIFhib3ggcGxheWVycyBmb3IgRm9vdGJhbGwgTWFuYWdlciAyNCwgd2hpY2ggYmVjYW1lIHRoZSBtb3N0LXBsYXllZCBnYW1lIGluIHRoZSBoaXN0b3J5IG9mIHRoZSBmcmFuY2hpc2VcIixcbiAgICBcInZpbWVvSWRcIjogXCIxMTMwMzI3MzYwXCIsXG4gICAgXCJ2aW1lb1ByZXZpZXdJZFwiOiBcIjI1NTg4NzAzM1wiLFxuICAgIFwiYXdhcmRzXCI6IFtcbiAgICAgIFwiYXdhcmQtZ2VuZXJpYy0xLmpwZ1wiLFxuICAgICAgXCJhd2FyZC1nZW5lcmljLTIuanBnXCIsXG4gICAgICBcImF3YXJkLWdlbmVyaWMtMy5qcGdcIlxuICAgIF1cbiAgfSxcbiAgXCJjaGV2cm9sZXQtMTAwLXllYXJzXCI6IHtcbiAgICBcImNsaWVudFwiOiBcIkNoZXZyb2xldFwiLFxuICAgIFwidGl0bGVcIjogXCIxMDAgWWVhcnMgb2YgQ2hldnJvbGV0XCIsXG4gICAgXCJ0cnV0aFwiOiBcIlRoZSBmdXR1cmUgaXMgYm9ybiBvdXQgb2YgdGhlIHBhc3QuIEV2ZXJ5IENoZXZyb2xldCB0aGF0J3MgY2FycmllZCB1cyBhbG9uZyB0aGUgd2F5IGNvbnRpbnVlcyB0byBkcml2ZSB1cyBmb3J3YXJkLlwiLFxuICAgIFwidHJ1dGhXZWxsVG9sZFwiOiBcIkZvciAxMDAgeWVhcnMsIGFsd2F5cyBkcml2aW5nIHRvd2FyZCB0aGUgZnV0dXJlXCIsXG4gICAgXCJkZXNjcmlwdGlvblwiOiBcIkNoZXZyb2xldCBjZWxlYnJhdGVkIDEwMCB5ZWFycyBpbiBCcmF6aWwgd2l0aCBhIDM2MFx1MDBCQSBjYW1wYWlnbiB0aGF0IHJldmlzaXRlZCBkZWZpbmluZyBtb21lbnRzIGluIHRoZSBuYXRpb24ncyBoaXN0b3J5LiBJbiB0aGUgaGVybyBmaWxtLCBmcm9tIHRoZSByaXNlIG9mIGluZHVzdHJ5IHRvIHdvbWVuJ3MgcmlnaHQgdG8gdm90ZSwgZnJvbSB0aGUgZHJlYW0gb2YgYSBuZXcgY2FwaXRhbCB0byB0aGUgcmV0dXJuIG9mIGRlbW9jcmFjeSwgZnJvbSBXb3JsZCBDdXAgY2VsZWJyYXRpb25zIHRvIHJlY29ubmVjdGlvbiBhZnRlciB0aGUgcGFuZGVtaWMsIGVhY2ggc2NlbmUgd2FzIGNob3NlbiB0byByZWZsZWN0IHRoZSBjb3VudHJ5J3MgcHJvZ3Jlc3MgYW5kIHRoZSBicmFuZCdzIGVuZHVyaW5nIHByZXNlbmNlIHRocm91Z2hvdXQuIFRoZSBzdG9yeSBpcyB0b2xkIHRocm91Z2ggaW1tZXJzaXZlIGNpbmVtYXRvZ3JhcGh5LCAzRCB0cmFuc2l0aW9ucywgYW5kIGljb25pYyB2ZWhpY2xlcyB0aGF0IGFjdCBhcyBwb3J0YWxzIHRocm91Z2ggdGltZS4gRXZlcnkgZnJhbWUgd2FzIGNhcmVmdWxseSBjcmFmdGVkLCBjb21iaW5pbmcgaGlzdG9yaWNhbCBhY2N1cmFjeSB3aXRoIGVtb3Rpb25hbCBkZXB0aC4gTmFycmF0ZWQgYnkgRmVybmFuZGEgVG9ycmVzLCBvbmUgb2YgQnJhemlsJ3MgbW9zdCBjZWxlYnJhdGVkIGFjdHJlc3NlcywgdGhlIGZpbG0gYWlyZWQgbmF0aW9uYWxseSBvbiBDaGV2cm9sZXQncyAxMDB0aCBhbm5pdmVyc2FyeS4gTW9yZSB0aGFuIGEgY2VsZWJyYXRpb24sIGl0IGJlY2FtZSBhIHN0YXRlbWVudCBhYm91dCBtZW1vcnksIHByb2dyZXNzLCBhbmQgY29ubmVjdGlvbiwgcmVtaW5kaW5nIEJyYXppbGlhbnMgdGhhdCBDaGV2cm9sZXQgaGFzIG5vdCBqdXN0IGJlZW4gYSBjYXIgYnJhbmQsIGJ1dCBhIHBhcnQgb2YgdGhlaXIgY291bnRyeSdzIGpvdXJuZXkuXCIsXG4gICAgXCJpbXBhY3RcIjogXCIjMSBwb3NpdGlvbiBpbiBicmFuZCBjb25zaWRlcmF0aW9uIFx1MjAxNCA2IHAucC4gYWhlYWQgb2YgMm5kIHBsYWNlIGFuZCA5IHAucC4gYWhlYWQgb2YgM3JkLiAjMSBwb3NpdGlvbiBpbiBlbmdhZ2VtZW50IGFjcm9zcyB0aGUgY2F0ZWdvcnksIHdpdGggNDRcdTAwRDcgbW9yZSBpbnRlcmFjdGlvbnMgdGhhbiB0aGUgYnJhbmQncyBvdmVyYWxsIGF2ZXJhZ2UuIDQ3MCwwMDAgcmVhbCBleHBlcmllbmNlcyBkZWxpdmVyZWQgdGhyb3VnaCB0aGUgU3BvdGlmeSBhY3RpdmF0aW9uLiBTdHJvbmdlc3QgQnJhbmQgUG93ZXIgaW4gdGhlIGluZHVzdHJ5IGluIEJyYXppbCdzIGF1dG9tb3RpdmUgaW5kdXN0cnkgZHVyaW5nIHRoZSBwZXJpb2QuXCIsXG4gICAgXCJ2aW1lb0lkXCI6IFwiMTEzMDMzNzYwMVwiLFxuICAgIFwidmltZW9QcmV2aWV3SWRcIjogXCIyNTU4ODcwMzNcIixcbiAgICBcImF3YXJkc1wiOiBbXG4gICAgICBcImF3YXJkLWdlbmVyaWMtMS5qcGdcIlxuICAgIF1cbiAgfSxcbiAgXCJtYXN0ZXJjYXJkLWluY2x1c2l2ZS1ieS1kZXNpZ25cIjoge1xuICAgIFwiY2xpZW50XCI6IFwiTWFzdGVyY2FyZFwiLFxuICAgIFwidGl0bGVcIjogXCJJbmNsdXNpdmUgYnkgRGVzaWduXCIsXG4gICAgXCJ0cnV0aFwiOiBcIkFuIGluY2x1c2l2ZSBnbG9iYWwgZmluYW5jaWFsIHN5c3RlbSBpcyBnb29kIGZvciBodW1hbml0eSBhbmQgYnVzaW5lc3MuXCIsXG4gICAgXCJ0cnV0aFdlbGxUb2xkXCI6IFwiRG9pbmcgd2VsbCBieSBkb2luZyBnb29kLlwiLFxuICAgIFwiZGVzY3JpcHRpb25cIjogXCJXaGVuIE1hc3RlcmNhcmQgYW5kIE1jQ2FubiBkZWJ1dGVkIFxcXCJQcmljZWxlc3NcXFwiIGluIDE5OTcsIHRoZSBjYW1wYWlnbiBjYXB0dXJlZCBwZW9wbGUncyBoZWFydHMgd2l0aCBhIGJyZWFrdGhyb3VnaCBpZGVhOiBpbiBhIHdvcmxkIG9mIGNvbnNwaWN1b3VzIGNvbnN1bXB0aW9uLCB3aGF0IHJlYWxseSBtYXR0ZXJzIGFyZSB0aGUgdGhpbmdzIHRoYXQgbW9uZXkgY2FuJ3QgYnV5IFx1MjAxNCBsaWtlIHRha2luZyB5b3VyIGNoaWxkIHRvIHRoZWlyIGZpcnN0IGdhbWUgYXQgdGhlIGJhbGxwYXJrLiBNYXN0ZXJjYXJkIGFuZCBNY0Nhbm4gcmVhbGl6ZWQgdGhhdCB0byBjb250aW51ZSB0byBkZWxpdmVyIG9uIFxcXCJQcmljZWxlc3MsXFxcIiB0aGUgYnJhbmQgcGxhdGZvcm0gY291bGQgbm90IGlnbm9yZSB0aGUgMS40IGJpbGxpb24gcGVvcGxlIGdsb2JhbGx5IGV4Y2x1ZGVkIGZyb20gdGhlIGZpbmFuY2lhbCBzeXN0ZW0gZHVlIHRvIGRpc2NyaW1pbmF0aW9uLCBleHBsb2l0YXRpb24sIGFuZCBtb3JlLiBXaXRoIGZpbmFuY2lhbCBpbmNsdXNpb24gbm93IGNlbnRyYWwgdG8gTWFzdGVyY2FyZCdzIGJyYW5kIHB1cnBvc2UsIFxcXCJQcmljZWxlc3NcXFwiIGhhcyBldm9sdmVkIGJleW9uZCBtZXNzYWdpbmcgaW50byBncm91bmRicmVha2luZyBwcm9kdWN0IGlubm92YXRpb25zLCB0b29scywgYW5kIHBsYXRmb3Jtcy4gQW1vbmcgdGhlbTogdGhlIFxcXCJUcnVlIE5hbWVcXFwiIGNhcmQsIGFsbG93aW5nIHRyYW5zZ2VuZGVyIGluZGl2aWR1YWxzIHRvIGhhdmUgdGhlaXIgcmVhbCBuYW1lcyBpbnNjcmliZWQgb24gdGhlaXIgY3JlZGl0IGNhcmRzOyB0aGUgXFxcIlRvdWNoIENhcmRcXFwiIHN5c3RlbSB0aGF0IGxldHMgc2lnaHQtaW1wYWlyZWQgY29uc3VtZXJzIHRvIGRpc3Rpbmd1aXNoIHRoZWlyIGNyZWRpdCwgZGViaXQsIGFuZCBwcmUtcGFpZCBjYXJkcyBieSB0b3VjaDsgdGhlIFxcXCJXaGVyZSB0byBTZXR0bGVcXFwiIHRvb2wgdGhhdCBoZWxwcyBVa3JhaW5pYW4gcmVmdWdlZXMgaW4gUG9sYW5kIGZpbmQgdGhlIGlkZWFsIGFyZWFzIHRvIG1ha2UgdGhlaXIgbmV3IGhvbWVzOyB0aGUgXFxcIldoZXJlIHRvIFN0YXJ0XFxcIiB0b29sIHRoYXQgaGVscHMgY3JlYXRlIGEgc3ltYmlvdGljIGZpbmFuY2lhbCBlY29zeXN0ZW0gYmV0d2VlbiByZXNldHRsZWQgVWtyYWluaWFuIHJlZnVnZWVzIGFuZCB0aGVpciBQb2xpc2ggbmVpZ2hib3JzOyBhbmQgdGhlIG5ldyBcXFwiTGlmZSBEb25vciBDYXJkXFxcIiBhbmQgXFxcIkFUTSBWb3RpbmdcXFwiIHByb2plY3RzLCB3aGljaCBoYXZlIHR1cm5lZCBtaWxsaW9ucyBvZiB1c2VycyBpbnRvIG9yZ2FuIGRvbm9ycyBhbmQgaGVscGVkIGNpdGl6ZW5zIGRlY2lkZSBob3cgdGhlIGdvdmVybm1lbnQgdXNlcyB0aGVpciBtb25leSwgcmVzcGVjdGl2ZWx5LlwiLFxuICAgIFwiaW1wYWN0XCI6IFwiKzg5JSBpbmNyZWFzZSBpbiBicmFuZCB2YWx1ZSBzaW5jZSAyMDE4XCIsXG4gICAgXCJ2aW1lb0lkXCI6IFwiMTEzMDMzODc2M1wiLFxuICAgIFwidmltZW9QcmV2aWV3SWRcIjogXCIyNTU4ODcwMzNcIixcbiAgICBcImF3YXJkc1wiOiBbXG4gICAgICBcImF3YXJkLWdlbmVyaWMtMS5qcGdcIixcbiAgICAgIFwiYXdhcmQtZ2VuZXJpYy0yLmpwZ1wiLFxuICAgICAgXCJhd2FyZC1nZW5lcmljLTMuanBnXCJcbiAgICBdXG4gIH0sXG4gIFwicHVjay1yZWNpcGUtZm9yLWNoYW5nZVwiOiB7XG4gICAgXCJjbGllbnRcIjogXCJQdWNrXCIsXG4gICAgXCJ0aXRsZVwiOiBcIlJlY2lwZSBmb3IgQ2hhbmdlXCIsXG4gICAgXCJ0cnV0aFwiOiBcIkN1bHR1cmFsIGtub3dsZWRnZSBpcyBlY29ub21pYyBwb3dlci5cIixcbiAgICBcInRydXRoV2VsbFRvbGRcIjogXCJGcm9tIGxvY2FsIGtpdGNoZW5zIHRvIGdsb2JhbCByZXN0YXVyYW50IHRhYmxlc1wiLFxuICAgIFwiZGVzY3JpcHRpb25cIjogXCJBcyBMZWJhbm9uIGZhY2VkIG9uZSBvZiB0aGUgd29yc3QgZWNvbm9taWMgYW5kIGh1bWFuaXRhcmlhbiBjcmlzZXMgaW4gbW9kZXJuIGhpc3RvcnksIHRyYWRpdGlvbmFsIGFpZCBtb2RlbHMgYW5kIHJldGFpbCBsb2dpc3RpY3MgY29sbGFwc2VkLCBsZWF2aW5nIGRpc3BsYWNlZCB3b21lbiB3aXRoIG5vIGluY29tZSBhbmQgbGltaXRlZCBzdXBwb3J0LiBQdWNrLCBhIHRydXN0ZWQgTWlkZGxlIEVhc3Rlcm4gZGFpcnkgYnJhbmQsIHNhdyBhbiBvcHBvcnR1bml0eSBpbiB3aGF0IHJlbWFpbmVkOiB0aGUgd29tZW4ncyBmYW1pbHkgcmVjaXBlcywgcGFzc2VkIGRvd24gZm9yIGdlbmVyYXRpb25zLiBcXFwiUmVjaXBlIGZvciBDaGFuZ2VcXFwiIHRyYW5zZm9ybWVkIHRoZXNlIGN1bHR1cmFsIGhlaXJsb29tcyBpbnRvIGludGVsbGVjdHVhbCBwcm9wZXJ0eSBieSBsaWNlbnNpbmcgdGhlIHJlY2lwZXMgdG8gTGViYW5lc2UgYW5kIGZ1c2lvbiByZXN0YXVyYW50cyBhcm91bmQgdGhlIHdvcmxkLiBFYWNoIGRpc2ggc29sZCBnZW5lcmF0ZWQgaW5jb21lLCB3aXRoIDUwJSBvZiBwcm9maXRzIGdvaW5nIGRpcmVjdGx5IHRvIHRoZSB3b21lbiBiZWhpbmQgdGhlbS4gVGhlIHN0cmF0ZWd5IHJlZnJhbWVkIHRoZXNlIHdvbWVuIG5vdCBhcyB2aWN0aW1zLCBidXQgYXMgYnVzaW5lc3MgcGFydG5lcnMsIHJlc3RvcmluZyBkaWduaXR5IGFuZCBhZ2VuY3kuIExhdW5jaGVkIGR1cmluZyBSYW1hZGFuLCBhIHRpbWUgcm9vdGVkIGluIGdlbmVyb3NpdHksIHRoZSBjYW1wYWlnbiBjcmVhdGVkIGEgc2NhbGFibGUgQjJCMkMgbW9kZWwgdGhhdCBjb25uZWN0ZWQgY29tbXVuaXRpZXMgYWNyb3NzIGJvcmRlcnMuIEl0IG5vdCBvbmx5IHN1cHBvcnRlZCBkaXNwbGFjZWQgd29tZW4gYnV0IGFsc28gZHJvdmUgbmV3IHJldmVudWUgZm9yIHJlc3RhdXJhbnRzIGFuZCByZWRlZmluZWQgaG93IGJyYW5kcyBjYW4gYnVpbGQgZXF1aXR5LCBlbXBhdGh5LCBhbmQgZWNvbm9taWMgaW1wYWN0IGR1cmluZyBjcmlzaXMuXCIsXG4gICAgXCJpbXBhY3RcIjogXCIrMTYuNjclIHByb2ZpdCBpbmNyZWFzZSwgKzU2JSByaXNlIGluIGZvb3RmYWxsIGZvciBwYXJ0aWNpcGF0aW5nIHJlc3RhdXJhbnRzLCArODA3LjEyJSByZXZlbnVlIGZvciB0aGUgd29tZW4gYmVoaW5kIHRoZSByZWNpcGVzXCIsXG4gICAgXCJ2aW1lb0lkXCI6IFwiMTEzMDMyNzE3MFwiLFxuICAgIFwidmltZW9QcmV2aWV3SWRcIjogXCIyNTU4ODcwMzNcIixcbiAgICBcImF3YXJkc1wiOiBbXG4gICAgICBcImF3YXJkLWdlbmVyaWMtMS5qcGdcIixcbiAgICAgIFwiYXdhcmQtZ2VuZXJpYy0yLmpwZ1wiXG4gICAgXVxuICB9LFxuICBcImtpZHMtaGVscC1waG9uZVwiOiB7XG4gICAgXCJjbGllbnRcIjogXCJLaWRzIEhlbHAgUGhvbmVcIixcbiAgICBcInRpdGxlXCI6IFwiSGVscFwiLFxuICAgIFwidHJ1dGhcIjogXCJBZHVsdHMgZGVmaW5lIFxcXCJoZWxwXFxcIiBhcyBzb21ldGhpbmcgeW91dGggb25seSBuZWVkIGluIGNyaXNpcy5cIixcbiAgICBcInRydXRoV2VsbFRvbGRcIjogXCJIZWxwIG1lYW5zIGV2ZXJ5dGhpbmdcIixcbiAgICBcImRlc2NyaXB0aW9uXCI6IFwiXFxcIkhlbHBcXFwiIGlzIGEgcG93ZXJmdWwgZmlsbSwgbWFya2luZyB0aGUgbmV4dCBjaGFwdGVyIG9mIEtpZHMgSGVscCBQaG9uZSdzIEZlZWwgT3V0IExvdWQgcGxhdGZvcm0uIFRoZSBmaWxtIHJlaW1hZ2luZXMgVGhlIEJlYXRsZXMnIFxcXCJIZWxwIVxcXCIgdG8gZXhwbG9yZSB3aGF0IFxcXCJoZWxwXFxcIiB0cnVseSBtZWFucyB0byB5b3VuZyBwZW9wbGUgdG9kYXkgXHUyMDE0IGZyb20gZXZlcnlkYXkgc3RydWdnbGVzIHRvIHVyZ2VudCBjcmlzZXMuIEJsZW5kaW5nIGxpdmUgYWN0aW9uLCBDR0ksIGFuZCBlbW90aW9uYWwgbWV0YXBob3IsIGl0IHZpc3VhbGl6ZXMgcmVhbCB5b3V0aCBleHBlcmllbmNlcyBkcmF3biBmcm9tIG92ZXIgNTAgbWlsbGlvbiBkYXRhIHBvaW50cyB0aGF0IGhhdmUgYmVlbiBhZ2dyZWdhdGVkIGFuZCBhbm9ueW1pemVkIGZyb20gcmVhbCBjb252ZXJzYXRpb25zIHdpdGggeW91dGguXCIsXG4gICAgXCJpbXBhY3RcIjogXCJJbiAyMDIzLCA0OSUgb2YgeW91dGggc2FpZCB0aGF0IHdpdGhvdXQgS0hQLCB0aGV5IHdvdWxkIGhhdmUgaWdub3JlZCB0aGVpciBpc3N1ZSBlbnRpcmVseSBcdTIwMTQgYSBtYWpvciBiYXJyaWVyIHRvIHBvc2l0aXZlIG1lbnRhbCBoZWFsdGggb3V0Y29tZXMuXCIsXG4gICAgXCJ2aW1lb0lkXCI6IFwiMTEzMDMyNzk1N1wiLFxuICAgIFwidmltZW9QcmV2aWV3SWRcIjogXCIyNTU4ODcwMzNcIixcbiAgICBcImF3YXJkc1wiOiBbXVxuICB9LFxuICBcImFsZGkta2V2aW4tY2Fycm90XCI6IHtcbiAgICBcImNsaWVudFwiOiBcIkFMRElcIixcbiAgICBcInRpdGxlXCI6IFwiS2V2aW4gdGhlIENhcnJvdCdzIENocmlzdG1hcyBNaXNzaW9uXCIsXG4gICAgXCJ0cnV0aFwiOiBcIkxpdmluZyB3ZWxsIGV2ZXJ5ZGF5IGlzbid0IGFib3V0IHNwZW5kaW5nIG1vcmUgYnV0IGVuam95aW5nIG1vcmUuIEJlY2F1c2UgaGF2aW5nIHRoZSBiZXN0IENocmlzdG1hcyBwb3NzaWJsZSBzaG91bGQgYmUgc29tZXRoaW5nIGV2ZXJ5b25lIGNhbiBhZmZvcmQgdG8gaGF2ZSwgbm90IGp1c3QgZHJlYW0gYWJvdXQuXCIsXG4gICAgXCJ0cnV0aFdlbGxUb2xkXCI6IFwiSGF2ZSBhIENyYWNraW5nIENocmlzdG1hcyB3aXRoIEFsZGlcIixcbiAgICBcImRlc2NyaXB0aW9uXCI6IFwiSW4gYSBmZXN0aXZlIGNhbXBhaWduLCBhIHNub3d5IENocmlzdG1hcyBFdmUgdmlsbGFnZSBsb3NlcyBpdHMgc3BhcmtsZSB3aGVuIERyLiBIdW1idWcgYW5kIGhlciBjcmV3IHN0ZWFsIHRoZSBcXFwiQ2hyaXN0bWFzIFNwaXJpdC5cXFwiIFNhbnRhIGNhbGxzIG9uIEtldmluIHRoZSBDYXJyb3QgdG8gc2F2ZSB0aGUgZGF5LCBzZW5kaW5nIGhpbSBvbiBhIGRhcmluZyBtaXNzaW9uIHRvIGluZmlsdHJhdGUgSHVtYnVnIEhlYWRxdWFydGVycy4gV2l0aCBjbGV2ZXIgZGlzZ3Vpc2VzLCBoaXMgd2lmZSBLYXRpZSwgYW5kIGEgZmV3IGNvbWVkaWMgY2xvc2UgY2FsbHMsIEtldmluIHdvcmtzIHRvIHJlc3RvcmUgam95IHRvIHRoZSB2aWxsYWdlLiBUaGUgc3RvcnkgZW5kcyB3aXRoIHRoZSBodW1idWdzIGxlYXJuaW5nIHRoYXQgXFxcIkNocmlzdG1hcyBpcyBiZXR0ZXIgd2hlbiBnb29kd2lsbCBpcyByZXR1cm5lZC5cXFwiXCIsXG4gICAgXCJpbXBhY3RcIjogXCJUaGUgYWQgYWNoaWV2ZWQgdGhlIGhpZ2hlc3QgcG9zc2libGUgNS45LXN0YXIgcmF0aW5nIGluIFN5c3RlbTEncyBhbmFseXNpcyBmb3IgYm90aCBzaG9ydCBhbmQgbG9uZy10ZXJtIGVmZmVjdHMgKHRoZSBzaXh0aCBjb25zZWN1dGl2ZSB5ZWFyIEFsZGkncyBDaHJpc3RtYXMgY2FtcGFpZ24gaGFkIHNjb3JlZCB0aGUgaGlnaGVzdCBpbiB0aGUgcmFua2luZ3MpLiBLZXZpbiB3YXMgYWxzbyBuYW1lZCB0aGUgVUsncyBmYXZvdXJpdGUgQ2hyaXN0bWFzIGFkIG9mIGFsbCB0aW1lLCBhbmQgQWxkaSdzIHJlcG9ydGVkIGEgMy40JSBpbmNyZWFzZSBpbiB0b3RhbCBzYWxlcyBpbiAyMDI0LCB0aGUgYnJhbmQncyBcXFwiYmVzdCBDaHJpc3RtYXMgZXZlci5cXFwiXCIsXG4gICAgXCJ2aW1lb0lkXCI6IFwiMTEzMDMyNzA4MVwiLFxuICAgIFwidmltZW9QcmV2aWV3SWRcIjogXCIyNTU4ODcwMzNcIixcbiAgICBcImF3YXJkc1wiOiBbXVxuICB9LFxuICBcInhib3gtY2hlZWt5LWNvbnRyb2xsZXJcIjoge1xuICAgIFwiY2xpZW50XCI6IFwiWGJveFwiLFxuICAgIFwidGl0bGVcIjogXCJDaGVla3kgQ29udHJvbGxlclwiLFxuICAgIFwidHJ1dGhcIjogXCJJcnJldmVyZW5jZSBpcyBEZWFkcG9vbCdzIHRydWUgc3VwZXJwb3dlci5cIixcbiAgICBcInRydXRoV2VsbFRvbGRcIjogXCJEZWFkcG9vbCdzIGdyZWF0ZXN0IGFzc2V0IGlzIGhpc1x1MjAyNlwiLFxuICAgIFwiZGVzY3JpcHRpb25cIjogXCJUaGUgaGlnaGx5IGFudGljaXBhdGVkIHRoZWF0cmljYWwgcmVsZWFzZSBvZiBNYXJ2ZWwgU3R1ZGlvcycgXFxcIkRlYWRwb29sICYgV29sdmVyaW5lXFxcIiB3YXMgYW4gdW5taXNzYWJsZSBwb3AgY3VsdHVyZSBtb21lbnQsIGFuZCBYYm94IGFpbWVkIHRvIGNhcHR1cmUgdGhlIGF0dGVudGlvbiBvZiB0aGUgbW92aWUncyBmYW5iYXNlIGFsb25nc2lkZSBvdGhlciBicmFuZHMgdnlpbmcgZm9yIGNvbnN1bWVyIGVuZ2FnZW1lbnQuIEJ5IGF1dGhlbnRpY2FsbHkgYmxlbmRpbmcgWGJveCdzIHRlY2hub2xvZ2ljYWwgZWRnZSB3aXRoIERlYWRwb29sJ3MgaXJyZXZlcmVudCBodW1vciwgd2UgY3JlYXRlZCBhIGN1bHR1cmFsbHkgaWNvbmljIHJldGFpbCBwcm9tb3Rpb24gd2l0aCBhIGNvbXBldGl0aW9uIGF0IGl0cyBjb3JlLiBSYXRoZXIgdGhhbiByZWx5IG9uIHByZWRpY3RhYmxlIGNoYXJhY3RlciBhc3NldHMsIHdlIGxhdW5jaGVkIFRoZSBDaGVla3kgQ29udHJvbGxlciBcdTIwMTQgYSBsaW1pdGVkLWVkaXRpb24gY29sbGVjdGlibGUgbW9kZWxlZCBhZnRlciBEZWFkcG9vbCdzIG1vc3QgdGFsa2VkLWFib3V0IGJvZHkgcGFydCBcdTIwMTQgYXMgYW4gZXhjbHVzaXZlIHByaXplIGluIGEgZ2xvYmFsIHN3ZWVwc3Rha2VzLiBUaGlzIHVuZXhwZWN0ZWQgdHdpc3Qgb24gY2hhcmFjdGVyIG1lcmNoYW5kaXNpbmcgbm90IG9ubHkgaWduaXRlZCBmYW4gZnJlbnp5IGFuZCBkcm92ZSBtYXNzaXZlIGVhcm5lZCBtZWRpYSwgaXQgYWxzbyBkZWVwZW5lZCBicmFuZCBlbmdhZ2VtZW50IGFuZCBkZWxpdmVyZWQgYSAyNSUgc2FsZXMgdXBsaWZ0IG9uIHRoZSBNaWNyb3NvZnQgU3RvcmUsIHByb3ZpbmcgdGhlIHBvd2VyIG9mIGJvbGQgcmV0YWlsIGlkZWFzIHRvIGN1dCB0aHJvdWdoLlwiLFxuICAgIFwiaW1wYWN0XCI6IFwiKzI1JSBzYWxlcyBpbmNyZWFzZSBvbiB0aGUgTWljcm9zb2Z0IFN0b3JlXCIsXG4gICAgXCJ2aW1lb0lkXCI6IFwiMDAwMDAwMDAwXCIsXG4gICAgXCJ2aW1lb1ByZXZpZXdJZFwiOiBcIjI1NTg4NzAzM1wiLFxuICAgIFwiYXdhcmRzXCI6IFtcbiAgICAgIFwiYXdhcmQtZ2VuZXJpYy0xLmpwZ1wiLFxuICAgICAgXCJhd2FyZC1nZW5lcmljLTIuanBnXCJcbiAgICBdXG4gIH0sXG4gIFwibWNkb25hbGRzLW5vdC1maXJzdC1kYXRlc1wiOiB7XG4gICAgXCJjbGllbnRcIjogXCJNY0RvbmFsZCdzXCIsXG4gICAgXCJ0aXRsZVwiOiBcIk5vdCBmb3IgRmlyc3QgRGF0ZXNcIixcbiAgICBcInRydXRoXCI6IFwiV2hpbGUgTWNEb25hbGQncyBtYXkgbm90IG1hcmsgdGhlIGJlZ2lubmluZyBvZiBsb3ZlLCBpdCBvZnRlbiBiZWNvbWVzIHBhcnQgb2YgbG92ZSdzIGpvdXJuZXkgXHUyMDE0IGZvciBzZWNvbmQgZGF0ZXMsIGxhdGUtbmlnaHQgY29tZm9ydCwgYW5kIGV2ZXJ5ZGF5IHJpdHVhbHMuXCIsXG4gICAgXCJ0cnV0aFdlbGxUb2xkXCI6IFwiTm90IGZvciBmaXJzdCBkYXRlcy4gQnV0IGZvciBldmVyeSBvdGhlciBvbmUuXCIsXG4gICAgXCJkZXNjcmlwdGlvblwiOiBcIkJ5IGVtYnJhY2luZyBhIHZpcmFsIG1vbWVudCB0aGF0IGl0cyByZXN0YXVyYW50IFxcXCJ3YXNuJ3QgZm9yIGZpcnN0IGRhdGVzLFxcXCIgTWNEb25hbGQncyByZWlnbml0ZWQgZW1vdGlvbmFsIGNvbm5lY3Rpb24gd2l0aCB0aGUgYXVkaWVuY2UgYnkgY2VsZWJyYXRpbmcgc2Vjb25kLCBmaWZ0aCwgYW5kIGZvcmV2ZXIgZGF0ZXMgdGhyb3VnaCBpbnRpbWF0ZSwgaG9uZXN0IHN0b3J5dGVsbGluZy5cIixcbiAgICBcImltcGFjdFwiOiBcIlwiLFxuICAgIFwidmltZW9JZFwiOiBcIjQxOTRjYjU1ZGFcIixcbiAgICBcInZpbWVvUHJldmlld0lkXCI6IFwiMjU1ODg3MDMzXCIsXG4gICAgXCJhd2FyZHNcIjogW1xuICAgICAgXCJhd2FyZC1nZW5lcmljLTEuanBnXCJcbiAgICBdXG4gIH0sXG4gIFwianVzdC1lYXQtZGlkLXNvbWVib2R5LXNheVwiOiB7XG4gICAgXCJjbGllbnRcIjogXCJKdXN0IEVhdFwiLFxuICAgIFwidGl0bGVcIjogXCJEaWQgU29tZWJvZHkgU2F5XCIsXG4gICAgXCJ0cnV0aFwiOiBcIkdldHRpbmcgd2hhdCB5b3Ugd2FudCwgd2hlbiB5b3Ugd2FudCBpdCwgaXMgbW9kZXJuIGxpZmUncyBncmVhdGVzdCBqb3kuXCIsXG4gICAgXCJ0cnV0aFdlbGxUb2xkXCI6IFwiRGlkIFNvbWVib2R5IFNheVwiLFxuICAgIFwiZGVzY3JpcHRpb25cIjogXCJKdXN0IEVhdCBVSyZJIGFuZCBNY0Nhbm4gTG9uZG9uIGxhdW5jaGVkIGEgZnJlc2ggdGFrZSBvbiB0aGUgaWNvbmljIFxcXCJEaWQgU29tZWJvZHkgU2F5XFxcIiBjYW1wYWlnbiwgc3RhcnJpbmcgVUsgZ2FyYWdlIGxlZ2VuZCBDcmFpZyBEYXZpZC4gQ2VsZWJyYXRpbmcgbmVpZ2hib3VyaG9vZHMgYW5kIGNvbW11bml0eSBzcGlyaXQsIHRoZSBuZXcgY2FtcGFpZ24gYnJpbmdzIGEgZGlzdGluY3RseSBsb2NhbCBcXFwiZmxhdmFcXFwiIHRvIHRoZSBwbGF0Zm9ybS4gQ3JhaWcgRGF2aWQncyBnYXJhZ2UtaW5zcGlyZWQgcmVtaXggb2YgdGhlIGZhbW91cyBqaW5nbGUgc291bmR0cmFja3MgYSBsaXZlbHkgam91cm5leSB0aHJvdWdoIFxcXCJJbXBvc3NpYmxlIFN0cmVldCxcXFwiIHNob3djYXNpbmcgZGl2ZXJzZSBob3VzZWhvbGRzIGFuZCB0aGUgbWFueSB3YXlzIEp1c3QgRWF0IHNlcnZlcyBldmVyeWRheSBtb21lbnRzIFx1MjAxNCBmcm9tIGNvc3kgdGFrZWF3YXlzIHRvIGxhc3QtbWludXRlIGdyb2Nlcmllcy4gRGlyZWN0ZWQgYnkgUm9tYWluIENoYXNzYWluZywgdGhlIGNhbXBhaWduIHNwYW5zIFRWLCBjaW5lbWEsIHJhZGlvLCBhbmQgc29jaWFsLCBzcG90bGlnaHRpbmcgSnVzdCBFYXQncyBkZWVwIGNvbm5lY3Rpb24gdG8gbG9jYWwgY3VsdHVyZS5cIixcbiAgICBcImltcGFjdFwiOiBcIlNpbmNlIGxhdW5jaGluZywgYWQgcmVjb2duaXRpb24gaXMgbm93IGF0IDY3JSAoY2F0ZWdvcnkgYXZlcmFnZSBpcyAzOCUpLCBwcm9maXRzIGhhdmUgaW5jcmVhc2VkIGJ5IDU2JSwgYW5kIHRoZSBVSyBoYXMgZXhwZXJpZW5jZWQgKzI0JSBZT1kgcmV2ZW51ZSBncm93dGguIEJlc3Qgb2YgYWxsLCBKdXN0IEVhdCBoYXMgdGFrZW4gaXRzIHJpZ2h0ZnVsIHBsYWNlIGFzIG51bWJlciAxIGluIHRoZSBmb29kIGRlbGl2ZXJ5IGNhdGVnb3J5LCBhbGwgd2hpbHN0IGVudGVydGFpbmluZyB0aGUgd29ybGQuXCIsXG4gICAgXCJ2aW1lb0lkXCI6IFwiMTEzMDMyNjg0OVwiLFxuICAgIFwidmltZW9QcmV2aWV3SWRcIjogXCIyNTU4ODcwMzNcIixcbiAgICBcImF3YXJkc1wiOiBbXVxuICB9LFxuICBcInByYWRhLXBhcmFkaWdtZVwiOiB7XG4gICAgXCJjbGllbnRcIjogXCJQcmFkYVwiLFxuICAgIFwidGl0bGVcIjogXCJQYXJhZGlnbWVcIixcbiAgICBcInRydXRoXCI6IFwiVGhlcmUncyBubyBzaW5ndWxhciB2ZXJzaW9uIG9mIG1hc2N1bGluaXR5LiBFYWNoIGluZGl2aWR1YWwgY3JlYXRlcyB0aGVpciBvd24gcGFyYWRpZ20uXCIsXG4gICAgXCJ0cnV0aFdlbGxUb2xkXCI6IFwiV2hhdCBpZiB0aGVyZSdzIGFub3RoZXIgd2F5P1wiLFxuICAgIFwiZGVzY3JpcHRpb25cIjogXCJXaXRoIGEgY2luZW1hdGljIGZpbG0gc3RhcnJpbmcgYnJhbmQgYW1iYXNzYWRvciBUb20gSG9sbGFuZCwgUHJhZGEgQmVhdXR5IHVudmVpbGVkIGl0cyBuZXcgbWFzY3VsaW5lIGZyYWdyYW5jZSwgUGFyYWRpZ21lLiBDcmVhdGVkIGJ5IE1jQ2FubiBQYXJpcyBhbmQgZGlyZWN0ZWQgYnkgT3NjYXItd2lubmVyIFRob21hcyBWaW50ZXJiZXJnLCB0aGUgdHdvLW1pbnV0ZSBzcG90IGZvbGxvd3MgSG9sbGFuZCBhcyBoZSByZWZsZWN0cyBvbiBsaWZlJ3MgcG9zc2liaWxpdGllcywgYXNraW5nLCBcXFwiV2hhdCBpZiB0aGVyZSdzIGFub3RoZXIgd2F5P1xcXCIgVGhyb3VnaCBtb21lbnRzIG9mIGludHJvc3BlY3Rpb24sIG1vdmVtZW50LCBhbmQgY3JlYXRpdml0eSwgdGhlIGZpbG0gY2FwdHVyZXMgdGhlbWVzIG9mIGdyb3d0aCBhbmQgc2VsZi1kaXNjb3ZlcnksIGVjaG9pbmcgdGhlIGZyYWdyYW5jZSdzIHNwaXJpdCBvZiByZWRlZmluaW5nIG9uZSdzIHBhdGguIEJsZW5kaW5nIGVtb3Rpb25hbCBzdG9yeXRlbGxpbmcgd2l0aCBzdHJpa2luZyB2aXN1YWxzLCBQYXJhZGlnbWUgY2VsZWJyYXRlcyBhdXRoZW50aWNpdHkgYW5kIGN1cmlvc2l0eS4gVGhlIGNhbXBhaWduIGxhdW5jaGVkIGdsb2JhbGx5IGFjcm9zcyBUViwgY2luZW1hLCBhbmQgc29jaWFsIHBsYXRmb3JtcywgZW1ib2R5aW5nIFByYWRhJ3MgY2FsbCB0byBcXFwiY3JlYXRlIHlvdXIgcGFyYWRpZ20uXFxcIlwiLFxuICAgIFwiaW1wYWN0XCI6IFwiXCIsXG4gICAgXCJ2aW1lb0lkXCI6IFwiMTEzMDMyNzg2N1wiLFxuICAgIFwidmltZW9QcmV2aWV3SWRcIjogXCIyNTU4ODcwMzNcIixcbiAgICBcImF3YXJkc1wiOiBbXVxuICB9XG59XG5cbiIsICIvKipcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiAgTWNDYW5uIFdlYnNpdGUgXHUyMDE0IFByZWxvYWRlclxuICogIFB1cnBvc2U6IFByZWZldGNoIHZpZGVvcyAoSFRNTDUgKyBWaW1lbyksIHNob3cgVHJ1dGhXZWxsVG9sZCBzaWduZXQgd2l0aCBwdWxzZVxuICogIERhdGU6IDIwMjUtMTEtMDZcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuY29uc29sZS5sb2coJ1tQUkVMT0FERVJdIE1vZHVsZSBsb2FkZWQnKTtcblxuaW1wb3J0IHByb2plY3REYXRhSnNvbiBmcm9tICcuLi9kYXRhL3Byb2plY3QtZGF0YS5qc29uJztcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTVEFURVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmxldCBwcmVsb2FkZXJFbCA9IG51bGw7XG5sZXQgc2lnbmV0RWwgPSBudWxsO1xubGV0IHByb2dyZXNzRWwgPSBudWxsO1xubGV0IGxvZ0VsID0gbnVsbDtcbmxldCBhbmltYXRpb25GcmFtZUlkID0gbnVsbDtcbmxldCBzaG93RGVidWdMb2cgPSB0cnVlOyAvLyBUb2dnbGUgdG8gc2hvdy9oaWRlIHJlYWwtdGltZSBsb2dcbmxldCByZXNpemVUaW1lb3V0SWQgPSBudWxsO1xubGV0IGlzUmVzaXppbmcgPSBmYWxzZTtcbmxldCByZXNpemVGYWRlRHVyYXRpb24gPSAxNTA7IC8vIEZhc3QgZmFkZSBieSBkZWZhdWx0IChtcylcbmxldCByZXNpemVTaG93RGVsYXlUaW1lb3V0SWQgPSBudWxsO1xubGV0IGxhc3RSZXNpemVDb3ZlckhpZGVUaW1lID0gMDtcbmxldCByZXNpemVTaG93RGVsYXkgPSA4MDA7IC8vIERlbGF5IGJlZm9yZSBzaG93aW5nIGFnYWluIChtcylcbmxldCBldmVudExlYWRNcyA9IDEwMDsgLy8gVGltZSBiZWZvcmUgaGlkZSB0byBlbWl0IGxvYWQtY29tcGxldGVkIGV2ZW50IChtcylcblxuLy8gV2ViZmxvdyBJWCBoZWxwZXIgKGl4MyBvciBpeDIpXG5jb25zdCB3Zkl4ID0gKHdpbmRvdy5XZWJmbG93ICYmIHdpbmRvdy5XZWJmbG93LnJlcXVpcmUpXG4gID8gKHdpbmRvdy5XZWJmbG93LnJlcXVpcmUoJ2l4MycpIHx8IHdpbmRvdy5XZWJmbG93LnJlcXVpcmUoJ2l4MicpKVxuICA6IG51bGw7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSU5JVElBTElaQVRJT05cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEluaXRpYWxpemUgcHJlbG9hZGVyXG4gKiBQcmVmZXRjaGVzIGFsbCBhdXRvcGxheSB2aWRlb3MgKEhUTUw1ICsgVmltZW8pIGJlZm9yZSBzaG93aW5nIGNvbnRlbnRcbiAqIFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnNlbGVjdG9yIC0gUHJlbG9hZGVyIGNvbnRhaW5lciBzZWxlY3RvclxuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMudmlkZW9TZWxlY3RvciAtIFdlYmZsb3cgYmFja2dyb3VuZCB2aWRlbyBzZWxlY3RvclxuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMudmltZW9QcmVsb2FkIC0gVmltZW8gc3RyYXRlZ3k6ICdub25lJywgJ3ByZWZldGNoJywgJ3ByZWJ1ZmZlcidcbiAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLnZpbWVvQnVmZmVyTGltaXQgLSBNYXggVmltZW8gdmlkZW9zIHRvIHByZWJ1ZmZlciAoZGVmYXVsdDogNSlcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLnByb2plY3REYXRhIC0gUHJvamVjdCBkYXRhIHdpdGggdmltZW9JZCBmaWVsZHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLm1pbkxvYWRUaW1lIC0gTWluaW11bSB0aW1lIHRvIHNob3cgcHJlbG9hZGVyIChtcylcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5zaG93RGVidWdMb2cgLSBTaG93IHJlYWwtdGltZSBkZWJ1ZyBsb2cgKGRlZmF1bHQ6IHRydWUpXG4gKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5wdWxzZUR1cmF0aW9uIC0gUHVsc2UgY3ljbGUgZHVyYXRpb24gaW4gbXMgKGRlZmF1bHQ6IDMwMDApXG4gKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5wdWxzZU9wYWNpdHkgLSBPcGFjaXR5IHJhbmdlOiAwLjggdG8gMS4wXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMuZW5hYmxlUmVzaXplQ292ZXIgLSBTaG93IHByZWxvYWRlciBkdXJpbmcgcmVzaXplIChkZWZhdWx0OiB0cnVlKVxuICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMucmVzaXplRmFkZUR1cmF0aW9uIC0gRmFkZSBpbi9vdXQgZHVyYXRpb24gZHVyaW5nIHJlc2l6ZSAobXMsIGRlZmF1bHQ6IDE1MClcbiAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLnJlc2l6ZVNob3dEZWxheSAtIERlbGF5IGJlZm9yZSBzaG93aW5nIGNvdmVyIGFnYWluIGFmdGVyIGhpZGluZyAobXMsIGRlZmF1bHQ6IDgwMClcbiAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLmV2ZW50TGVhZE1zIC0gVGltZSBiZWZvcmUgaGlkZSB0byBlbWl0IGxvYWQtY29tcGxldGVkIGV2ZW50IChtcywgZGVmYXVsdDogMTAwKVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdFByZWxvYWRlcih7XG4gIHNlbGVjdG9yID0gJyNwcmVsb2FkZXInLFxuICB2aWRlb1NlbGVjdG9yID0gJ3ZpZGVvW2RhdGEtd2YtaWdub3JlXSwgdmlkZW9bYXV0b3BsYXldLCB2aWRlb1tkYXRhLWF1dG9wbGF5XScsXG4gIHZpbWVvUHJlbG9hZCA9ICdwcmVmZXRjaCcsIC8vICdub25lJywgJ3ByZWZldGNoJywgJ3ByZWJ1ZmZlcidcbiAgdmltZW9CdWZmZXJMaW1pdCA9IDUsXG4gIHByb2plY3REYXRhID0gcHJvamVjdERhdGFKc29uLFxuICBtaW5Mb2FkVGltZSA9IDEwMDAsXG4gIHNob3dEZWJ1Z0xvZzogZGVidWdMb2dPcHRpb24gPSB0cnVlLFxuICBwdWxzZUR1cmF0aW9uID0gMzAwMCxcbiAgcHVsc2VPcGFjaXR5ID0gMC4yLFxuICBlbmFibGVSZXNpemVDb3ZlciA9IHRydWUsXG4gIHJlc2l6ZUZhZGVEdXJhdGlvbjogZmFkZUR1cmF0aW9uID0gMTUwLFxuICByZXNpemVTaG93RGVsYXk6IHNob3dEZWxheSA9IDgwMCxcbiAgZXZlbnRMZWFkTXM6IGxlYWRNcyA9IDEwMFxufSA9IHt9KSB7XG5cbiAgc2hvd0RlYnVnTG9nID0gZGVidWdMb2dPcHRpb247XG4gIHJlc2l6ZUZhZGVEdXJhdGlvbiA9IGZhZGVEdXJhdGlvbjtcbiAgcmVzaXplU2hvd0RlbGF5ID0gc2hvd0RlbGF5O1xuICBldmVudExlYWRNcyA9IGxlYWRNcztcbiAgXG4gIGxvZygnSW5pdGlhbGl6aW5nIHByZWxvYWRlci4uLicpO1xuXG4gIC8vIEVuc3VyZSBwcmVsb2FkZXIgYXBwZWFycyBmaXJzdCAtIGxvY2sgYm9keSBzY3JvbGwgaW1tZWRpYXRlbHlcbiAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdwcmVsb2FkZXItYWN0aXZlJyk7XG4gIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcblxuICAvLyBGaW5kIGVsZW1lbnRzXG4gIHByZWxvYWRlckVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gIGlmICghcHJlbG9hZGVyRWwpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbUFJFTE9BREVSXSBcdTI3NEMgUHJlbG9hZGVyIGVsZW1lbnQgbm90IGZvdW5kJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRW5zdXJlIHByZWxvYWRlciBpcyB2aXNpYmxlIGFuZCBvbiB0b3BcbiAgcHJlbG9hZGVyRWwuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgcHJlbG9hZGVyRWwuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICBwcmVsb2FkZXJFbC5zdHlsZS56SW5kZXggPSAnOTk5OTk5JztcbiAgXG4gIC8vIEluaXRpYWxpemUgcmVzaXplIGNvdmVyIGlmIGVuYWJsZWRcbiAgaWYgKGVuYWJsZVJlc2l6ZUNvdmVyKSB7XG4gICAgaW5pdFJlc2l6ZUNvdmVyKCk7XG4gIH1cblxuICBzaWduZXRFbCA9IHByZWxvYWRlckVsLnF1ZXJ5U2VsZWN0b3IoJy5wcmVsb2FkZXJfX3NpZ25ldCcpO1xuICBwcm9ncmVzc0VsID0gcHJlbG9hZGVyRWwucXVlcnlTZWxlY3RvcignLnByZWxvYWRlcl9fcHJvZ3Jlc3MnKTtcblxuICBpZiAoIXNpZ25ldEVsKSB7XG4gICAgY29uc29sZS5lcnJvcignW1BSRUxPQURFUl0gXHUyNzRDIFNpZ25ldCBlbGVtZW50IG5vdCBmb3VuZCcpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIENyZWF0ZSBkZWJ1ZyBsb2cgZWxlbWVudCBpZiBlbmFibGVkXG4gIGlmIChzaG93RGVidWdMb2cpIHtcbiAgICBjcmVhdGVMb2dFbGVtZW50KCk7XG4gIH1cblxuICBsb2coJ1x1MjcxMyBFbGVtZW50cyBmb3VuZCcsICdzdWNjZXNzJyk7XG4gIGxvZygnXHUyNzEzIFB1bHNlIGFuaW1hdGlvbiBzdGFydGluZycsICdpbmZvJyk7XG5cbiAgLy8gU3RhcnQgcHVsc2UgYW5pbWF0aW9uXG4gIGFuaW1hdGVQdWxzZShwdWxzZUR1cmF0aW9uLCBwdWxzZU9wYWNpdHkpO1xuXG4gIC8vIEJlZ2luIGxvYWRpbmcgcHJvY2Vzc1xuICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgXG4gIC8vIExvYWQgYm90aCBIVE1MNSB2aWRlb3MgYW5kIFZpbWVvIHZpZGVvc1xuICBQcm9taXNlLmFsbChbXG4gICAgcHJlZmV0Y2hWaWRlb3ModmlkZW9TZWxlY3RvciksXG4gICAgcHJlbG9hZFZpbWVvVmlkZW9zKHByb2plY3REYXRhLCB2aW1lb1ByZWxvYWQsIHZpbWVvQnVmZmVyTGltaXQpXG4gIF0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc3QgZWxhcHNlZCA9IHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgY29uc3QgcmVtYWluaW5nID0gTWF0aC5tYXgoMCwgbWluTG9hZFRpbWUgLSBlbGFwc2VkKTtcbiAgICAgIFxuICAgICAgbG9nKGBcdTI3MTMgQWxsIG1lZGlhIGxvYWRlZCBpbiAke01hdGgucm91bmQoZWxhcHNlZCl9bXNgLCAnc3VjY2VzcycpO1xuICAgICAgXG4gICAgICBpZiAocmVtYWluaW5nID4gMCkge1xuICAgICAgICBsb2coYFdhaXRpbmcgJHtNYXRoLnJvdW5kKHJlbWFpbmluZyl9bXMgKG1pbiBkaXNwbGF5IHRpbWUpLi4uYCwgJ2luZm8nKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGhpZGVQcmVsb2FkZXIoKTtcbiAgICAgIH0sIHJlbWFpbmluZyk7XG4gICAgfSlcbiAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tQUkVMT0FERVJdIFx1Mjc0QyBFcnJvcjonLCBlcnIpO1xuICAgICAgbG9nKGBcdTI3NEMgRXJyb3IgbG9hZGluZyBtZWRpYTogJHtlcnIubWVzc2FnZX1gLCAnZXJyb3InKTtcbiAgICAgIFxuICAgICAgLy8gR3JhY2VmdWwgZGVncmFkYXRpb24gLSBzdGlsbCBoaWRlIGFmdGVyIG1pbiB0aW1lXG4gICAgICBjb25zdCBlbGFwc2VkID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydFRpbWU7XG4gICAgICBjb25zdCByZW1haW5pbmcgPSBNYXRoLm1heCgwLCBtaW5Mb2FkVGltZSAtIGVsYXBzZWQpO1xuICAgICAgXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgbG9nKCdIaWRpbmcgZGVzcGl0ZSBlcnJvcnMgKGdyYWNlZnVsIGRlZ3JhZGF0aW9uKScsICd3YXJuaW5nJyk7XG4gICAgICAgIGhpZGVQcmVsb2FkZXIoKTtcbiAgICAgIH0sIHJlbWFpbmluZyk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogTWFudWFsbHkgaGlkZSBwcmVsb2FkZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhpZGVQcmVsb2FkZXJNYW51YWxseSgpIHtcbiAgaGlkZVByZWxvYWRlcigpO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIExPR0dJTkcgKFJlYWwtdGltZSBVSSBmZWVkYmFjaylcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIENyZWF0ZSBsb2cgZWxlbWVudCBpbiBib3R0b20gbGVmdCBjb3JuZXJcbiAqL1xuZnVuY3Rpb24gY3JlYXRlTG9nRWxlbWVudCgpIHtcbiAgaWYgKCFwcmVsb2FkZXJFbCB8fCBsb2dFbCkgcmV0dXJuO1xuXG4gIGxvZ0VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGxvZ0VsLmNsYXNzTmFtZSA9ICdwcmVsb2FkZXJfX2xvZyc7XG4gIGxvZ0VsLnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ3BvbGl0ZScpO1xuICBsb2dFbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtYXRvbWljJywgJ2ZhbHNlJyk7XG4gIHByZWxvYWRlckVsLmFwcGVuZENoaWxkKGxvZ0VsKTtcbiAgXG4gIGxvZygnRGVidWcgbG9nIGluaXRpYWxpemVkJywgJ2luZm8nKTtcbn1cblxuLyoqXG4gKiBBZGQgbG9nIGVudHJ5IHRvIFVJIGFuZCBjb25zb2xlXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIExvZyBtZXNzYWdlXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIExvZyB0eXBlOiAnaW5mbycsICdzdWNjZXNzJywgJ3dhcm5pbmcnLCAnZXJyb3InXG4gKi9cbmZ1bmN0aW9uIGxvZyhtZXNzYWdlLCB0eXBlID0gJ2luZm8nKSB7XG4gIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCdlbi1VUycsIHsgXG4gICAgaG91cjEyOiBmYWxzZSxcbiAgICBob3VyOiAnMi1kaWdpdCcsXG4gICAgbWludXRlOiAnMi1kaWdpdCcsIFxuICAgIHNlY29uZDogJzItZGlnaXQnLFxuICAgIGZyYWN0aW9uYWxTZWNvbmREaWdpdHM6IDNcbiAgfSk7XG4gIFxuICBjb25zdCBjb25zb2xlTWVzc2FnZSA9IGBbUFJFTE9BREVSXSAke21lc3NhZ2V9YDtcbiAgXG4gIC8vIENvbnNvbGUgb3V0cHV0XG4gIHN3aXRjaCh0eXBlKSB7XG4gICAgY2FzZSAnZXJyb3InOlxuICAgICAgY29uc29sZS5lcnJvcihjb25zb2xlTWVzc2FnZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd3YXJuaW5nJzpcbiAgICAgIGNvbnNvbGUud2Fybihjb25zb2xlTWVzc2FnZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzdWNjZXNzJzpcbiAgICBjYXNlICdpbmZvJzpcbiAgICBkZWZhdWx0OlxuICAgICAgY29uc29sZS5sb2coY29uc29sZU1lc3NhZ2UpO1xuICB9XG4gIFxuICAvLyBVSSBvdXRwdXQgKGlmIGRlYnVnIGxvZyBlbmFibGVkKVxuICBpZiAoIXNob3dEZWJ1Z0xvZyB8fCAhbG9nRWwpIHJldHVybjtcbiAgXG4gIGNvbnN0IGVudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGVudHJ5LmNsYXNzTmFtZSA9IGBwcmVsb2FkZXJfX2xvZy1lbnRyeSBwcmVsb2FkZXJfX2xvZy1lbnRyeS0tJHt0eXBlfWA7XG4gIGVudHJ5LnRleHRDb250ZW50ID0gYCR7dGltZXN0YW1wfSAke21lc3NhZ2V9YDtcbiAgXG4gIGxvZ0VsLmFwcGVuZENoaWxkKGVudHJ5KTtcbiAgXG4gIC8vIEF1dG8tc2Nyb2xsIHRvIGJvdHRvbVxuICBsb2dFbC5zY3JvbGxUb3AgPSBsb2dFbC5zY3JvbGxIZWlnaHQ7XG4gIFxuICAvLyBMaW1pdCB0byBsYXN0IDIwIGVudHJpZXMgKHBlcmZvcm1hbmNlKVxuICBjb25zdCBlbnRyaWVzID0gbG9nRWwucXVlcnlTZWxlY3RvckFsbCgnLnByZWxvYWRlcl9fbG9nLWVudHJ5Jyk7XG4gIGlmIChlbnRyaWVzLmxlbmd0aCA+IDIwKSB7XG4gICAgZW50cmllc1swXS5yZW1vdmUoKTtcbiAgfVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFZJREVPIFBSRUZFVENISU5HIChIVE1MNSlcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIFByZWZldGNoIGFsbCBhdXRvcGxheSBIVE1MNSB2aWRlb3NcbiAqIFVzZXMgUHJvbWlzZS5hbGxTZXR0bGVkIGZvciBncmFjZWZ1bCBoYW5kbGluZyBvZiBmYWlsZWQgdmlkZW9zXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHByZWZldGNoVmlkZW9zKHNlbGVjdG9yKSB7XG4gIGNvbnN0IHZpZGVvcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xuICBcbiAgaWYgKHZpZGVvcy5sZW5ndGggPT09IDApIHtcbiAgICBsb2coJ1x1MjZBMCBObyB2aWRlb3MgZm91bmQgdG8gcHJlZmV0Y2gnLCAnd2FybmluZycpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxvZyhgXHVEODNDXHVERkFDIEZvdW5kICR7dmlkZW9zLmxlbmd0aH0gdmlkZW8ocykgdG8gcHJlZmV0Y2hgLCAnaW5mbycpO1xuXG4gIC8vIFRyYWNrIGxvYWRlZCBjb3VudCBmb3IgcmVhbC10aW1lIHVwZGF0ZXNcbiAgbGV0IGxvYWRlZENvdW50ID0gMDtcblxuICAvLyBDcmVhdGUgYXJyYXkgb2YgcHJvbWlzZXMgZm9yIGVhY2ggdmlkZW9cbiAgY29uc3QgdmlkZW9Qcm9taXNlcyA9IHZpZGVvcy5tYXAoKHZpZGVvLCBpbmRleCkgPT4gXG4gICAgcHJlZmV0Y2hTaW5nbGVWaWRlbyh2aWRlbywgaW5kZXggKyAxLCB2aWRlb3MubGVuZ3RoLCAoKSA9PiB7XG4gICAgICBsb2FkZWRDb3VudCsrO1xuICAgICAgdXBkYXRlUHJvZ3Jlc3MobG9hZGVkQ291bnQsIHZpZGVvcy5sZW5ndGgpO1xuICAgIH0pXG4gICk7XG5cbiAgLy8gV2FpdCBmb3IgYWxsIHZpZGVvcyAoZ3JhY2VmdWwgaGFuZGxpbmcgb2YgZmFpbHVyZXMpXG4gIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQodmlkZW9Qcm9taXNlcyk7XG4gIFxuICBjb25zdCBzdWNjZXNzZnVsID0gcmVzdWx0cy5maWx0ZXIociA9PiByLnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcpLmxlbmd0aDtcbiAgY29uc3QgZmFpbGVkID0gcmVzdWx0cy5maWx0ZXIociA9PiByLnN0YXR1cyA9PT0gJ3JlamVjdGVkJykubGVuZ3RoO1xuXG4gIGlmIChmYWlsZWQgPiAwKSB7XG4gICAgbG9nKGBcdTI2QTAgJHtmYWlsZWR9IHZpZGVvKHMpIGZhaWxlZCB0byBsb2FkYCwgJ3dhcm5pbmcnKTtcbiAgfVxuICBcbiAgbG9nKGBcdTI3MTMgJHtzdWNjZXNzZnVsfS8ke3ZpZGVvcy5sZW5ndGh9IHZpZGVvKHMpIHJlYWR5YCwgJ3N1Y2Nlc3MnKTtcbn1cblxuLyoqXG4gKiBQcmVmZXRjaCBhIHNpbmdsZSB2aWRlb1xuICogQHBhcmFtIHtIVE1MVmlkZW9FbGVtZW50fSB2aWRlbyAtIFZpZGVvIGVsZW1lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFZpZGVvIGluZGV4ICgxLWJhc2VkIGZvciBkaXNwbGF5KVxuICogQHBhcmFtIHtudW1iZXJ9IHRvdGFsIC0gVG90YWwgbnVtYmVyIG9mIHZpZGVvc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gb25Qcm9ncmVzcyAtIFByb2dyZXNzIGNhbGxiYWNrXG4gKi9cbmZ1bmN0aW9uIHByZWZldGNoU2luZ2xlVmlkZW8odmlkZW8sIGluZGV4LCB0b3RhbCwgb25Qcm9ncmVzcykge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIFxuICAgIC8vIElmIHZpZGVvIGFscmVhZHkgbG9hZGVkL3JlYWR5XG4gICAgaWYgKHZpZGVvLnJlYWR5U3RhdGUgPj0gMykgeyAvLyBIQVZFX0ZVVFVSRV9EQVRBIG9yIGhpZ2hlclxuICAgICAgbG9nKGBcdTI3MTMgVmlkZW8gJHtpbmRleH0vJHt0b3RhbH0gYWxyZWFkeSBsb2FkZWRgLCAnc3VjY2VzcycpO1xuICAgICAgb25Qcm9ncmVzcygpO1xuICAgICAgcmVzb2x2ZSh2aWRlbyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRXZlbnQgaGFuZGxlcnNcbiAgICBjb25zdCBvbkNhblBsYXkgPSAoKSA9PiB7XG4gICAgICBsb2coYFx1MjcxMyBWaWRlbyAke2luZGV4fS8ke3RvdGFsfSByZWFkeWAsICdzdWNjZXNzJyk7XG4gICAgICBjbGVhbnVwKCk7XG4gICAgICBvblByb2dyZXNzKCk7XG4gICAgICByZXNvbHZlKHZpZGVvKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgb25FcnJvciA9IChlcnIpID0+IHtcbiAgICAgIGxvZyhgXHUyNkEwIFZpZGVvICR7aW5kZXh9LyR7dG90YWx9IGZhaWxlZGAsICd3YXJuaW5nJyk7XG4gICAgICBjbGVhbnVwKCk7XG4gICAgICByZWplY3QoZXJyKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgb25UaW1lb3V0ID0gKCkgPT4ge1xuICAgICAgbG9nKGBcdTI2QTAgVmlkZW8gJHtpbmRleH0vJHt0b3RhbH0gdGltZW91dCAoMTBzKWAsICd3YXJuaW5nJyk7XG4gICAgICBjbGVhbnVwKCk7XG4gICAgICByZWplY3QobmV3IEVycm9yKCdWaWRlbyBsb2FkIHRpbWVvdXQnKSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNsZWFudXAgPSAoKSA9PiB7XG4gICAgICB2aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIG9uQ2FuUGxheSk7XG4gICAgICB2aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5Jywgb25DYW5QbGF5KTtcbiAgICAgIHZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgb25FcnJvcik7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICB9O1xuXG4gICAgLy8gVGltZW91dCBzYWZldHkgbmV0ICgxMHMgcGVyIHZpZGVvKVxuICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQob25UaW1lb3V0LCAxMDAwMCk7XG5cbiAgICAvLyBMaXN0ZW4gZm9yIHJlYWR5IHN0YXRlc1xuICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgb25DYW5QbGF5LCB7IG9uY2U6IHRydWUgfSk7XG4gICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheScsIG9uQ2FuUGxheSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgb25FcnJvciwgeyBvbmNlOiB0cnVlIH0pO1xuXG4gICAgLy8gVHJpZ2dlciBsb2FkIGlmIG5vdCBhbHJlYWR5IGxvYWRpbmdcbiAgICBpZiAodmlkZW8ucmVhZHlTdGF0ZSA9PT0gMCkge1xuICAgICAgbG9nKGBMb2FkaW5nIHZpZGVvICR7aW5kZXh9LyR7dG90YWx9Li4uYCwgJ2luZm8nKTtcbiAgICAgIHZpZGVvLmxvYWQoKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIFVwZGF0ZSBwcm9ncmVzcyBkaXNwbGF5XG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZVByb2dyZXNzKGN1cnJlbnQsIHRvdGFsKSB7XG4gIGlmICghcHJvZ3Jlc3NFbCkgcmV0dXJuO1xuICBcbiAgY29uc3QgcGVyY2VudGFnZSA9IE1hdGgucm91bmQoKGN1cnJlbnQgLyB0b3RhbCkgKiAxMDApO1xuICBcbiAgcHJvZ3Jlc3NFbC50ZXh0Q29udGVudCA9IGAke3BlcmNlbnRhZ2V9JWA7XG4gIHByb2dyZXNzRWwuc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbm93JywgcGVyY2VudGFnZSk7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVklNRU8gUFJFRkVUQ0hJTkdcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIFByZWxvYWQgVmltZW8gdmlkZW9zIGZyb20gcHJvamVjdCBkYXRhXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvamVjdERhdGEgLSBQcm9qZWN0IGRhdGEgd2l0aCB2aW1lb0lkIGZpZWxkc1xuICogQHBhcmFtIHtzdHJpbmd9IHN0cmF0ZWd5IC0gJ25vbmUnLCAncHJlZmV0Y2gnLCBvciAncHJlYnVmZmVyJ1xuICogQHBhcmFtIHtudW1iZXJ9IGJ1ZmZlckxpbWl0IC0gTWF4IHZpZGVvcyB0byBwcmVidWZmZXJcbiAqL1xuYXN5bmMgZnVuY3Rpb24gcHJlbG9hZFZpbWVvVmlkZW9zKHByb2plY3REYXRhLCBzdHJhdGVneSA9ICdwcmVmZXRjaCcsIGJ1ZmZlckxpbWl0ID0gNSkge1xuICBpZiAoc3RyYXRlZ3kgPT09ICdub25lJykge1xuICAgIGxvZygnXHUyM0VEIFZpbWVvIHByZWxvYWRpbmcgZGlzYWJsZWQnLCAnaW5mbycpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEV4dHJhY3QgdmFsaWQgVmltZW8gSURzIGZyb20gcHJvamVjdCBkYXRhXG4gIGNvbnN0IHZpbWVvSWRzID0gT2JqZWN0LnZhbHVlcyhwcm9qZWN0RGF0YSlcbiAgICAubWFwKHByb2plY3QgPT4gcHJvamVjdD8udmltZW9JZClcbiAgICAuZmlsdGVyKGlkID0+IGlkICYmIGlkICE9PSAnMDAwMDAwMDAwJyAmJiBpZCAhPT0gJ251bGwnICYmIGlkICE9PSBudWxsKTtcbiAgXG4gIGlmICh2aW1lb0lkcy5sZW5ndGggPT09IDApIHtcbiAgICBsb2coJ1x1MjZBMCBObyB2YWxpZCBWaW1lbyBJRHMgZm91bmQgaW4gcHJvamVjdCBkYXRhJywgJ3dhcm5pbmcnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBsb2coYFx1RDgzQ1x1REZBQyBGb3VuZCAke3ZpbWVvSWRzLmxlbmd0aH0gVmltZW8gdmlkZW8ocykgaW4gcHJvamVjdCBkYXRhYCwgJ2luZm8nKTtcblxuICBzd2l0Y2goc3RyYXRlZ3kpIHtcbiAgICBjYXNlICdwcmVidWZmZXInOlxuICAgICAgcmV0dXJuIHByZWJ1ZmZlclZpbWVvSWZyYW1lcyh2aW1lb0lkcywgYnVmZmVyTGltaXQpO1xuICAgIFxuICAgIGNhc2UgJ3ByZWZldGNoJzpcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGFkZFZpbWVvUHJlZmV0Y2hIaW50cyh2aW1lb0lkcyk7XG4gIH1cbn1cblxuLyoqXG4gKiBBZGQgcHJlZmV0Y2ggaGludHMgZm9yIFZpbWVvIHZpZGVvcyAobGlnaHR3ZWlnaHQpXG4gKiBCcm93c2VyIHByZWxvYWRzIGluIGJhY2tncm91bmQgd2l0aG91dCBibG9ja2luZ1xuICovXG5mdW5jdGlvbiBhZGRWaW1lb1ByZWZldGNoSGludHModmltZW9JZHMpIHtcbiAgbG9nKGBcdUQ4M0RcdUREMTcgQWRkaW5nIHByZWZldGNoIGhpbnRzIGZvciAke3ZpbWVvSWRzLmxlbmd0aH0gVmltZW8gdmlkZW8ocylgLCAnaW5mbycpO1xuICBcbiAgdmltZW9JZHMuZm9yRWFjaCgoaWQsIGluZGV4KSA9PiB7XG4gICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcbiAgICBsaW5rLnJlbCA9ICdwcmVmZXRjaCc7XG4gICAgbGluay5ocmVmID0gYGh0dHBzOi8vcGxheWVyLnZpbWVvLmNvbS92aWRlby8ke2lkfWA7XG4gICAgbGluay5hcyA9ICdkb2N1bWVudCc7XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICBcbiAgICBsb2coYFx1MjcxMyBWaW1lbyAke2luZGV4ICsgMX0vJHt2aW1lb0lkcy5sZW5ndGh9IHByZWZldGNoIGhpbnQgYWRkZWRgLCAnc3VjY2VzcycpO1xuICB9KTtcbiAgXG4gIGxvZygnXHUyNzEzIEFsbCBWaW1lbyBwcmVmZXRjaCBoaW50cyBhZGRlZCAobGlnaHR3ZWlnaHQpJywgJ3N1Y2Nlc3MnKTtcbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xufVxuXG4vKipcbiAqIFByZWJ1ZmZlciBWaW1lbyB2aWRlb3Mgd2l0aCBoaWRkZW4gaWZyYW1lcyAoYWdncmVzc2l2ZSlcbiAqIE9ubHkgdXNlIG9uIGdvb2QgY29ubmVjdGlvbnMgd2l0aCBmZXcgdmlkZW9zXG4gKi9cbmZ1bmN0aW9uIHByZWJ1ZmZlclZpbWVvSWZyYW1lcyh2aW1lb0lkcywgYnVmZmVyTGltaXQgPSA1KSB7XG4gIC8vIENoZWNrIGNvbm5lY3Rpb24gcXVhbGl0eVxuICBjb25zdCBjb25uZWN0aW9uID0gbmF2aWdhdG9yLmNvbm5lY3Rpb24gfHwgbmF2aWdhdG9yLm1vekNvbm5lY3Rpb24gfHwgbmF2aWdhdG9yLndlYmtpdENvbm5lY3Rpb247XG4gIGNvbnN0IGlzTW9iaWxlID0gL2lQaG9uZXxpUGFkfGlQb2R8QW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gIFxuICAvLyBTa2lwIHByZWJ1ZmZlcmluZyBvbiBzbG93IGNvbm5lY3Rpb25zIG9yIG1vYmlsZVxuICBpZiAoY29ubmVjdGlvbiAmJiBjb25uZWN0aW9uLmVmZmVjdGl2ZVR5cGUgIT09ICc0ZycpIHtcbiAgICBsb2coJ1x1MjZBMCBTa2lwcGluZyBWaW1lbyBwcmVidWZmZXIgKHNsb3cgY29ubmVjdGlvbiBkZXRlY3RlZCknLCAnd2FybmluZycpO1xuICAgIGxvZygnXHUyNzEzIEZhbGxpbmcgYmFjayB0byBwcmVmZXRjaCBoaW50cyBvbmx5JywgJ2luZm8nKTtcbiAgICByZXR1cm4gYWRkVmltZW9QcmVmZXRjaEhpbnRzKHZpbWVvSWRzKTtcbiAgfVxuICBcbiAgaWYgKGlzTW9iaWxlKSB7XG4gICAgbG9nKCdcdTI2QTAgU2tpcHBpbmcgVmltZW8gcHJlYnVmZmVyIChtb2JpbGUgZGV2aWNlIGRldGVjdGVkKScsICd3YXJuaW5nJyk7XG4gICAgbG9nKCdcdTI3MTMgRmFsbGluZyBiYWNrIHRvIHByZWZldGNoIGhpbnRzIG9ubHknLCAnaW5mbycpO1xuICAgIHJldHVybiBhZGRWaW1lb1ByZWZldGNoSGludHModmltZW9JZHMpO1xuICB9XG4gIFxuICAvLyBMaW1pdCBudW1iZXIgb2YgdmlkZW9zIHRvIHByZWJ1ZmZlclxuICBjb25zdCBpZHNUb0J1ZmZlciA9IHZpbWVvSWRzLnNsaWNlKDAsIGJ1ZmZlckxpbWl0KTtcbiAgXG4gIGlmIChpZHNUb0J1ZmZlci5sZW5ndGggPCB2aW1lb0lkcy5sZW5ndGgpIHtcbiAgICBsb2coYFx1MjZBMCBMaW1pdGluZyBwcmVidWZmZXIgdG8gZmlyc3QgJHtidWZmZXJMaW1pdH0gdmlkZW9zYCwgJ3dhcm5pbmcnKTtcbiAgICBcbiAgICAvLyBBZGQgcHJlZmV0Y2ggaGludHMgZm9yIHJlbWFpbmluZyB2aWRlb3NcbiAgICBjb25zdCByZW1haW5pbmcgPSB2aW1lb0lkcy5zbGljZShidWZmZXJMaW1pdCk7XG4gICAgcmVtYWluaW5nLmZvckVhY2goaWQgPT4ge1xuICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcbiAgICAgIGxpbmsucmVsID0gJ3ByZWZldGNoJztcbiAgICAgIGxpbmsuaHJlZiA9IGBodHRwczovL3BsYXllci52aW1lby5jb20vdmlkZW8vJHtpZH1gO1xuICAgICAgbGluay5hcyA9ICdkb2N1bWVudCc7XG4gICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGxpbmspO1xuICAgIH0pO1xuICB9XG4gIFxuICBsb2coYFx1RDgzQ1x1REZBQyBQcmVidWZmZXJpbmcgJHtpZHNUb0J1ZmZlci5sZW5ndGh9IFZpbWVvIHZpZGVvKHMpYCwgJ2luZm8nKTtcbiAgXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnRhaW5lci5pZCA9ICd2aW1lby1wcmVidWZmZXItY29udGFpbmVyJztcbiAgICBjb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgIGxlZnQ6IC05OTk5cHg7XG4gICAgICB0b3A6IC05OTk5cHg7XG4gICAgICB3aWR0aDogMXB4O1xuICAgICAgaGVpZ2h0OiAxcHg7XG4gICAgICBvcGFjaXR5OiAwO1xuICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICB6LWluZGV4OiAtMTtcbiAgICBgO1xuICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICBcbiAgICBsZXQgYnVmZmVyZWQgPSAwO1xuICAgIFxuICAgIGlkc1RvQnVmZmVyLmZvckVhY2goKGlkLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgICAvLyBVc2UgbG93IHF1YWxpdHkgZm9yIHByZWJ1ZmZlcmluZyB0byBzYXZlIGJhbmR3aWR0aFxuICAgICAgaWZyYW1lLnNyYyA9IGBodHRwczovL3BsYXllci52aW1lby5jb20vdmlkZW8vJHtpZH0/bXV0ZWQ9MSZhdXRvcGxheT0xJmJhY2tncm91bmQ9MSZxdWFsaXR5PTM2MHBgO1xuICAgICAgaWZyYW1lLmFsbG93ID0gJ2F1dG9wbGF5JztcbiAgICAgIGlmcmFtZS53aWR0aCA9ICcxJztcbiAgICAgIGlmcmFtZS5oZWlnaHQgPSAnMSc7XG4gICAgICBpZnJhbWUubG9hZGluZyA9ICdlYWdlcic7XG4gICAgICBcbiAgICAgIGxvZyhgTG9hZGluZyBWaW1lbyAke2luZGV4ICsgMX0vJHtpZHNUb0J1ZmZlci5sZW5ndGh9IChJRDogJHtpZH0pLi4uYCwgJ2luZm8nKTtcbiAgICAgIFxuICAgICAgLy8gUmVtb3ZlIGlmcmFtZSBhZnRlciA4IHNlY29uZHMgKHNob3VsZCBiZSBidWZmZXJpbmcgYnkgdGhlbilcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBidWZmZXJlZCsrO1xuICAgICAgICBsb2coYFx1MjcxMyBWaW1lbyAke2luZGV4ICsgMX0vJHtpZHNUb0J1ZmZlci5sZW5ndGh9IHByZWJ1ZmZlcmVkYCwgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgaWZyYW1lLnJlbW92ZSgpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGJ1ZmZlcmVkID09PSBpZHNUb0J1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICBjb250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgICAgbG9nKGBcdTI3MTMgQWxsIFZpbWVvIHZpZGVvcyBwcmVidWZmZXJlZGAsICdzdWNjZXNzJyk7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9LCA4MDAwKTtcbiAgICAgIFxuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gICAgfSk7XG4gICAgXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBFbWl0IGxvYWQtY29tcGxldGVkIGV2ZW50IHZpYSBXZWJmbG93IElYIGFuZCB3aW5kb3dcbiAqL1xuZnVuY3Rpb24gZW1pdExvYWRDb21wbGV0ZWQoKSB7XG4gIHRyeSB7IFxuICAgIGlmICh3Zkl4Py5lbWl0KSB3Zkl4LmVtaXQoJ2xvYWQtY29tcGxldGVkJyk7IFxuICB9IGNhdGNoKF8pIHt9XG4gIFxuICB0cnkgeyBcbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2xvYWQtY29tcGxldGVkJykpOyBcbiAgfSBjYXRjaChfKSB7fVxuICBcbiAgbG9nKCdcdUQ4M0NcdURGQUYgRW1pdHRlZCBcImxvYWQtY29tcGxldGVkXCIgZXZlbnQnLCAnc3VjY2VzcycpO1xufVxuXG4vKipcbiAqIEhpZGUgcHJlbG9hZGVyIHdpdGggZmFzdCwgZW5lcmdldGljIHJldmVhbCBhbmltYXRpb25cbiAqIFNjYWxlcyB1cCBzbGlnaHRseSBhbmQgZmFkZXMgb3V0IHF1aWNrbHkgKDI1MG1zIG1heClcbiAqL1xuZnVuY3Rpb24gaGlkZVByZWxvYWRlcigpIHtcbiAgaWYgKCFwcmVsb2FkZXJFbCkgcmV0dXJuO1xuXG4gIGxvZygnXHVEODNDXHVERkFGIEhpZGluZyBwcmVsb2FkZXIuLi4nLCAnaW5mbycpO1xuICBzdG9wQW5pbWF0aW9ucygpO1xuXG4gIC8vIENoZWNrIGZvciBwcmVmZXJzLXJlZHVjZWQtbW90aW9uXG4gIGNvbnN0IHByZWZlcnNSZWR1Y2VkID0gbWF0Y2hNZWRpYSgnKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IHJlZHVjZSknKS5tYXRjaGVzO1xuXG4gIGlmIChwcmVmZXJzUmVkdWNlZCkge1xuICAgIC8vIEVtaXQgbG9hZC1jb21wbGV0ZWQgZmlyc3QsIHRoZW4gaGlkZSBhZnRlciBldmVudExlYWRNc1xuICAgIGVtaXRMb2FkQ29tcGxldGVkKCk7XG4gICAgXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBwcmVsb2FkZXJFbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdwcmVsb2FkZXItYWN0aXZlJyk7XG4gICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3ByZWxvYWRlcjpjb21wbGV0ZScpKTtcbiAgICAgIGxvZygnXHUyNzEzIFByZWxvYWRlciBjb21wbGV0ZScsICdzdWNjZXNzJyk7XG4gICAgfSwgZXZlbnRMZWFkTXMpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEZhc3QsIGVuZXJnZXRpYyByZXZlYWw6IHNjYWxlIHVwICsgZmFkZSBvdXQgKDI1MG1zIHRvdGFsKVxuICBwcmVsb2FkZXJFbC5jbGFzc0xpc3QuYWRkKCdpcy1yZXZlYWxpbmcnKTtcbiAgXG4gIC8vIEVtaXQgbG9hZC1jb21wbGV0ZWQgYWZ0ZXIgMTUwbXMgKDEwMG1zIGJlZm9yZSByZW1vdmFsIGF0IDI1MG1zKVxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBlbWl0TG9hZENvbXBsZXRlZCgpO1xuICB9LCAyNTAgLSBldmVudExlYWRNcyk7XG4gIFxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAvLyBDb21wbGV0ZTogUmVtb3ZlIGZyb20gRE9NXG4gICAgcHJlbG9hZGVyRWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3ByZWxvYWRlci1hY3RpdmUnKTtcbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3ByZWxvYWRlcjpjb21wbGV0ZScpKTtcbiAgICBsb2coJ1x1MjcxMyBQcmVsb2FkZXIgY29tcGxldGUnLCAnc3VjY2VzcycpO1xuICB9LCAyNTApOyAvLyAyNTBtcyBtYXggLSBzdWRkZW4gYW5kIGVuZXJnZXRpY1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEFOSU1BVElPTlxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogUHVsc2UgYW5pbWF0aW9uIC0gZ2VudGxlIG9wYWNpdHkgYnJlYXRoaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gLSBDeWNsZSBkdXJhdGlvbiBpbiBtc1xuICogQHBhcmFtIHtudW1iZXJ9IG9wYWNpdHlSYW5nZSAtIE9wYWNpdHkgdmFyaWF0aW9uICgwLjIgPSAwLjggdG8gMS4wKVxuICovXG5mdW5jdGlvbiBhbmltYXRlUHVsc2UoZHVyYXRpb24gPSAzMDAwLCBvcGFjaXR5UmFuZ2UgPSAwLjIpIHtcbiAgaWYgKCFzaWduZXRFbCkgcmV0dXJuO1xuICBcbiAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cbiAgZnVuY3Rpb24gbG9vcChjdXJyZW50VGltZSkge1xuICAgIGNvbnN0IHByb2dyZXNzID0gKChjdXJyZW50VGltZSAtIHN0YXJ0VGltZSkgJSBkdXJhdGlvbikgLyBkdXJhdGlvbjtcbiAgICAvLyBTaW5lIHdhdmUgZm9yIHNtb290aCBicmVhdGhpbmc6IDAuOCB0byAxLjBcbiAgICBjb25zdCBvcGFjaXR5ID0gMSAtIChvcGFjaXR5UmFuZ2UgLyAyKSArIE1hdGguc2luKHByb2dyZXNzICogTWF0aC5QSSAqIDIpICogKG9wYWNpdHlSYW5nZSAvIDIpO1xuICAgIFxuICAgIHNpZ25ldEVsLnN0eWxlLnNldFByb3BlcnR5KCctLXB1bHNlLW9wYWNpdHknLCBvcGFjaXR5KTtcbiAgICBhbmltYXRpb25GcmFtZUlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xuICB9XG5cbiAgYW5pbWF0aW9uRnJhbWVJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcbiAgbG9nKGBcdTI3MTMgUHVsc2UgYW5pbWF0aW9uIHN0YXJ0ZWQgKGR1cmF0aW9uOiAke2R1cmF0aW9ufW1zLCBvcGFjaXR5OiAkezEgLSBvcGFjaXR5UmFuZ2V9LTEuMClgLCAnc3VjY2VzcycpO1xufVxuXG4vKipcbiAqIFN0b3AgYW5pbWF0aW9uXG4gKi9cbmZ1bmN0aW9uIHN0b3BBbmltYXRpb25zKCkge1xuICBpZiAoYW5pbWF0aW9uRnJhbWVJZCkge1xuICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lSWQpO1xuICAgIGFuaW1hdGlvbkZyYW1lSWQgPSBudWxsO1xuICB9XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gUkVTSVpFIENPVkVSXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBJbml0aWFsaXplIHJlc2l6ZSBjb3ZlciBmdW5jdGlvbmFsaXR5XG4gKiBTaG93cyBwcmVsb2FkZXIgZHVyaW5nIGJyb3dzZXIgcmVzaXplIHRvIHByZXZlbnQgdmlzdWFsIGphbmtcbiAqL1xuZnVuY3Rpb24gaW5pdFJlc2l6ZUNvdmVyKCkge1xuICBpZiAoIXByZWxvYWRlckVsKSByZXR1cm47XG4gIFxuICBsZXQgaXNSZXNpemluZ0FjdGl2ZSA9IGZhbHNlO1xuICBcbiAgZnVuY3Rpb24gaGFuZGxlUmVzaXplU3RhcnQoKSB7XG4gICAgaWYgKGlzUmVzaXppbmdBY3RpdmUpIHJldHVybjsgLy8gQWxyZWFkeSBzaG93aW5nXG4gICAgXG4gICAgaXNSZXNpemluZ0FjdGl2ZSA9IHRydWU7XG4gICAgaXNSZXNpemluZyA9IHRydWU7XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgd2UncmUgd2l0aGluIHRoZSBkZWxheSB3aW5kb3cgc2luY2UgbGFzdCBoaWRlXG4gICAgY29uc3QgdGltZVNpbmNlTGFzdEhpZGUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIGxhc3RSZXNpemVDb3ZlckhpZGVUaW1lO1xuICAgIGNvbnN0IHNob3VsZERlbGF5ID0gdGltZVNpbmNlTGFzdEhpZGUgPCByZXNpemVTaG93RGVsYXk7XG4gICAgXG4gICAgaWYgKHNob3VsZERlbGF5KSB7XG4gICAgICAvLyBDbGVhciBhbnkgZXhpc3RpbmcgZGVsYXkgdGltZW91dFxuICAgICAgaWYgKHJlc2l6ZVNob3dEZWxheVRpbWVvdXRJZCkge1xuICAgICAgICBjbGVhclRpbWVvdXQocmVzaXplU2hvd0RlbGF5VGltZW91dElkKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gV2FpdCBmb3IgdGhlIHJlbWFpbmluZyBkZWxheSB0aW1lIGJlZm9yZSBzaG93aW5nXG4gICAgICBjb25zdCByZW1haW5pbmdEZWxheSA9IHJlc2l6ZVNob3dEZWxheSAtIHRpbWVTaW5jZUxhc3RIaWRlO1xuICAgICAgcmVzaXplU2hvd0RlbGF5VGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIC8vIE9ubHkgc2hvdyBpZiBzdGlsbCByZXNpemluZyAodXNlciBoYXNuJ3Qgc3RvcHBlZClcbiAgICAgICAgaWYgKGlzUmVzaXppbmcgJiYgaXNSZXNpemluZ0FjdGl2ZSkge1xuICAgICAgICAgIHNob3dSZXNpemVDb3ZlcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFVzZXIgc3RvcHBlZCByZXNpemluZyBkdXJpbmcgZGVsYXksIGNhbmNlbFxuICAgICAgICAgIGlzUmVzaXppbmdBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICBpc1Jlc2l6aW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0sIHJlbWFpbmluZ0RlbGF5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU2hvdyBpbW1lZGlhdGVseSBpZiBlbm91Z2ggdGltZSBoYXMgcGFzc2VkXG4gICAgICBzaG93UmVzaXplQ292ZXIoKTtcbiAgICB9XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIGhhbmRsZVJlc2l6ZUVuZCgpIHtcbiAgICBpZiAoIWlzUmVzaXppbmdBY3RpdmUpIHJldHVybjsgLy8gQWxyZWFkeSBoaWRkZW5cbiAgICBcbiAgICAvLyBDYW5jZWwgYW55IHBlbmRpbmcgZGVsYXkgdGltZW91dFxuICAgIGlmIChyZXNpemVTaG93RGVsYXlUaW1lb3V0SWQpIHtcbiAgICAgIGNsZWFyVGltZW91dChyZXNpemVTaG93RGVsYXlUaW1lb3V0SWQpO1xuICAgICAgcmVzaXplU2hvd0RlbGF5VGltZW91dElkID0gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgaXNSZXNpemluZ0FjdGl2ZSA9IGZhbHNlO1xuICAgIGlzUmVzaXppbmcgPSBmYWxzZTtcbiAgICBcbiAgICAvLyBIaWRlIHByZWxvYWRlciB3aXRoIGZhZGUgb3V0XG4gICAgaGlkZVJlc2l6ZUNvdmVyKCk7XG4gIH1cbiAgXG4gIC8vIFRocm90dGxlZCByZXNpemUgaGFuZGxlciB1c2luZyBSQUZcbiAgZnVuY3Rpb24gaGFuZGxlUmVzaXplKCkge1xuICAgIGhhbmRsZVJlc2l6ZVN0YXJ0KCk7XG4gICAgXG4gICAgLy8gQ2xlYXIgZXhpc3RpbmcgdGltZW91dFxuICAgIGlmIChyZXNpemVUaW1lb3V0SWQpIHtcbiAgICAgIGNsZWFyVGltZW91dChyZXNpemVUaW1lb3V0SWQpO1xuICAgIH1cbiAgICBcbiAgICAvLyBEZWJvdW5jZSBlbmQgZGV0ZWN0aW9uXG4gICAgcmVzaXplVGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBoYW5kbGVSZXNpemVFbmQoKTtcbiAgICB9LCAxMDApOyAvLyBTbWFsbCBkZWxheSB0byBkZXRlY3QgcmVzaXplIGVuZFxuICB9XG4gIFxuICAvLyBVc2UgcGFzc2l2ZSBsaXN0ZW5lciBmb3IgcGVyZm9ybWFuY2VcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVJlc2l6ZSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICBcbiAgbG9nKGBcdTI3MTMgUmVzaXplIGNvdmVyIGVuYWJsZWQgKGZhZGU6ICR7cmVzaXplRmFkZUR1cmF0aW9ufW1zLCBzaG93IGRlbGF5OiAke3Jlc2l6ZVNob3dEZWxheX1tcylgLCAnc3VjY2VzcycpO1xufVxuXG4vKipcbiAqIFNob3cgcHJlbG9hZGVyIGNvdmVyIGR1cmluZyByZXNpemVcbiAqIEFwcGVhcnMgaW5zdGFudGx5IChubyBmYWRlLWluKSBhbmQgc3RheXMgdmlzaWJsZVxuICovXG5mdW5jdGlvbiBzaG93UmVzaXplQ292ZXIoKSB7XG4gIGlmICghcHJlbG9hZGVyRWwpIHJldHVybjtcbiAgXG4gIC8vIENoZWNrIGZvciBwcmVmZXJzLXJlZHVjZWQtbW90aW9uXG4gIGNvbnN0IHByZWZlcnNSZWR1Y2VkID0gbWF0Y2hNZWRpYSgnKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IHJlZHVjZSknKS5tYXRjaGVzO1xuICBcbiAgaWYgKHByZWZlcnNSZWR1Y2VkKSB7XG4gICAgLy8gSW5zdGFudCBzaG93IGZvciByZWR1Y2VkIG1vdGlvblxuICAgIHByZWxvYWRlckVsLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgcHJlbG9hZGVyRWwuY2xhc3NMaXN0LmFkZCgnaXMtcmVzaXppbmcnKTtcbiAgICByZXR1cm47XG4gIH1cbiAgXG4gIC8vIFNldCBDU1MgY3VzdG9tIHByb3BlcnR5IGZvciBmYWRlIGR1cmF0aW9uIChvbmx5IGZvciBmYWRlLW91dClcbiAgcHJlbG9hZGVyRWwuc3R5bGUuc2V0UHJvcGVydHkoJy0tcmVzaXplLWZhZGUtZHVyYXRpb24nLCBgJHtyZXNpemVGYWRlRHVyYXRpb259bXNgKTtcbiAgXG4gIC8vIEVuc3VyZSBwcmVsb2FkZXIgaXMgdmlzaWJsZSBhbmQgb24gdG9wXG4gIHByZWxvYWRlckVsLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gIHByZWxvYWRlckVsLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgcHJlbG9hZGVyRWwuc3R5bGUuekluZGV4ID0gJzk5OTk5OSc7XG4gIFxuICAvLyBSZW1vdmUgYW55IHJldmVhbCBjbGFzcyB0aGF0IG1pZ2h0IGJlIGhpZGluZyBpdFxuICBwcmVsb2FkZXJFbC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1yZXZlYWxpbmcnKTtcbiAgXG4gIC8vIEFkZCByZXNpemUgc3RhdGUgY2xhc3NlcyBhbmQgbWFrZSB2aXNpYmxlIGluc3RhbnRseSAobm8gdHJhbnNpdGlvbiBkZWxheSlcbiAgcHJlbG9hZGVyRWwuY2xhc3NMaXN0LmFkZCgnaXMtcmVzaXppbmcnLCAnaXMtcmVzaXplLXZpc2libGUnKTtcbiAgXG4gIC8vIEZvcmNlIGluc3RhbnQgb3BhY2l0eSAoYnlwYXNzIHRyYW5zaXRpb24gZm9yIGZhZGUtaW4pXG4gIC8vIFVzZSBpbmxpbmUgc3R5bGUgdG8gb3ZlcnJpZGUgYW55IHRyYW5zaXRpb25cbiAgcHJlbG9hZGVyRWwuc3R5bGUub3BhY2l0eSA9ICcxJztcbiAgcHJlbG9hZGVyRWwuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgcHJlbG9hZGVyRWwuc3R5bGUudHJhbnNpdGlvbiA9ICdub25lJztcbn1cblxuLyoqXG4gKiBIaWRlIHByZWxvYWRlciBjb3ZlciBhZnRlciByZXNpemUgZW5kc1xuICogRmFkZXMgb3V0IHF1aWNrbHlcbiAqL1xuZnVuY3Rpb24gaGlkZVJlc2l6ZUNvdmVyKCkge1xuICBpZiAoIXByZWxvYWRlckVsKSByZXR1cm47XG4gIFxuICAvLyBDaGVjayBpZiBpbml0aWFsIHByZWxvYWRlciBpcyBzdGlsbCBhY3RpdmVcbiAgY29uc3QgaXNJbml0aWFsUHJlbG9hZCA9IGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdwcmVsb2FkZXItYWN0aXZlJykgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICFwcmVsb2FkZXJFbC5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLXJldmVhbGluZycpO1xuICBcbiAgLy8gQ2hlY2sgZm9yIHByZWZlcnMtcmVkdWNlZC1tb3Rpb25cbiAgY29uc3QgcHJlZmVyc1JlZHVjZWQgPSBtYXRjaE1lZGlhKCcocHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogcmVkdWNlKScpLm1hdGNoZXM7XG4gIFxuICBpZiAocHJlZmVyc1JlZHVjZWQpIHtcbiAgICAvLyBJbnN0YW50IGhpZGUgZm9yIHJlZHVjZWQgbW90aW9uXG4gICAgcHJlbG9hZGVyRWwuY2xhc3NMaXN0LnJlbW92ZSgnaXMtcmVzaXppbmcnLCAnaXMtcmVzaXplLXZpc2libGUnKTtcbiAgICAvLyBPbmx5IGhpZGUgaWYgbm90IGluIGluaXRpYWwgcHJlbG9hZCBzdGF0ZVxuICAgIGlmICghaXNJbml0aWFsUHJlbG9hZCkge1xuICAgICAgcHJlbG9hZGVyRWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIFxuICAvLyBSZW1vdmUgdmlzaWJsZSBjbGFzcyB0byB0cmlnZ2VyIGZhZGUgb3V0XG4gIHByZWxvYWRlckVsLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLXJlc2l6ZS12aXNpYmxlJyk7XG4gIFxuICAvLyBTZXQgdHJhbnNpdGlvbiBmb3Igc21vb3RoIGZhZGUtb3V0IGFuZCB0cmlnZ2VyIGl0XG4gIHByZWxvYWRlckVsLnN0eWxlLnRyYW5zaXRpb24gPSBgb3BhY2l0eSAke3Jlc2l6ZUZhZGVEdXJhdGlvbn1tcyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpLCB2aXNpYmlsaXR5ICR7cmVzaXplRmFkZUR1cmF0aW9ufW1zIHN0ZXAtZW5kYDtcbiAgXG4gIC8vIFRyaWdnZXIgZmFkZS1vdXQgYnkgc2V0dGluZyBvcGFjaXR5IHRvIDBcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICBpZiAocHJlbG9hZGVyRWwpIHtcbiAgICAgIHByZWxvYWRlckVsLnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgfVxuICB9KTtcbiAgXG4gIC8vIFJlbW92ZSByZXNpemUgc3RhdGUgYWZ0ZXIgZmFkZSBjb21wbGV0ZXNcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgaWYgKHByZWxvYWRlckVsICYmICFpc1Jlc2l6aW5nKSB7XG4gICAgICBwcmVsb2FkZXJFbC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1yZXNpemluZycpO1xuICAgICAgLy8gQ2xlYW4gdXAgaW5saW5lIHN0eWxlc1xuICAgICAgcHJlbG9hZGVyRWwuc3R5bGUub3BhY2l0eSA9ICcnO1xuICAgICAgcHJlbG9hZGVyRWwuc3R5bGUudmlzaWJpbGl0eSA9ICcnO1xuICAgICAgcHJlbG9hZGVyRWwuc3R5bGUudHJhbnNpdGlvbiA9ICcnO1xuICAgICAgLy8gT25seSBoaWRlIGlmIG5vdCBpbiBpbml0aWFsIHByZWxvYWQgc3RhdGVcbiAgICAgIGlmICghaXNJbml0aWFsUHJlbG9hZCkge1xuICAgICAgICBwcmVsb2FkZXJFbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfVxuICAgICAgLy8gVHJhY2sgd2hlbiBjb3ZlciB3YXMgaGlkZGVuIGZvciBkZWxheSBjYWxjdWxhdGlvblxuICAgICAgbGFzdFJlc2l6ZUNvdmVySGlkZVRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9XG4gIH0sIHJlc2l6ZUZhZGVEdXJhdGlvbik7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQ0xFQU5VUCAmIEFQSVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogQ2xlYW51cCBmdW5jdGlvbiBmb3IgdW5tb3VudGluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYW51cFByZWxvYWRlcigpIHtcbiAgc3RvcEFuaW1hdGlvbnMoKTtcbiAgXG4gIC8vIENsZWFudXAgcmVzaXplIGhhbmRsZXJzXG4gIGlmIChyZXNpemVUaW1lb3V0SWQpIHtcbiAgICBjbGVhclRpbWVvdXQocmVzaXplVGltZW91dElkKTtcbiAgICByZXNpemVUaW1lb3V0SWQgPSBudWxsO1xuICB9XG4gIFxuICBpZiAocmVzaXplU2hvd0RlbGF5VGltZW91dElkKSB7XG4gICAgY2xlYXJUaW1lb3V0KHJlc2l6ZVNob3dEZWxheVRpbWVvdXRJZCk7XG4gICAgcmVzaXplU2hvd0RlbGF5VGltZW91dElkID0gbnVsbDtcbiAgfVxuICBcbiAgcHJlbG9hZGVyRWwgPSBudWxsO1xuICBzaWduZXRFbCA9IG51bGw7XG4gIHByb2dyZXNzRWwgPSBudWxsO1xuICBsb2dFbCA9IG51bGw7XG4gIGlzUmVzaXppbmcgPSBmYWxzZTtcbiAgbGFzdFJlc2l6ZUNvdmVySGlkZVRpbWUgPSAwO1xuICBsb2coJ0NsZWFuZWQgdXAnLCAnaW5mbycpO1xufVxuXG4vLyBFeHBvc2UgbWluaW1hbCBBUElcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICB3aW5kb3cuQXBwID0gd2luZG93LkFwcCB8fCB7fTtcbiAgd2luZG93LkFwcC5wcmVsb2FkZXIgPSB7XG4gICAgY2xlYW51cDogY2xlYW51cFByZWxvYWRlcixcbiAgICBoaWRlOiBoaWRlUHJlbG9hZGVyTWFudWFsbHlcbiAgfTtcbn1cbiIsICIvKipcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiAgTWNDYW5uIFdlYnNpdGUgXHUyMDE0IEFjY29yZGlvbiBNb2R1bGVcbiAqICBQdXJwb3NlOiBBUklBLWNvbXBsaWFudCBuZXN0ZWQgYWNjb3JkaW9uIHdpdGggR1NBUCBhbmltYXRpb25zXG4gKiAgRGF0ZTogMjAyNS0xMS0wNlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5jb25zb2xlLmxvZygnW0FDQ09SRElPTl0gTW9kdWxlIGxvYWRlZCcpO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEVYUE9SVFNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdEFjY29yZGlvbihvcHRpb25zID0ge30pe1xuICBjb25zdCB7IHNlbGVjdG9yID0gJy5hY2NvcmRlb24nIH0gPSBvcHRpb25zO1xuICBcbiAgY29uc3Qgcm9vdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICBpZiAoIXJvb3QpeyBcbiAgICBjb25zb2xlLmxvZygnW0FDQ09SRElPTl0gXHUyNzRDIFJvb3QgZWxlbWVudCBub3QgZm91bmQ6Jywgc2VsZWN0b3IpOyBcbiAgICByZXR1cm47IFxuICB9XG4gIGNvbnNvbGUubG9nKCdbQUNDT1JESU9OXSBcdTI3MTMgUm9vdCBlbGVtZW50IGZvdW5kOicsIHNlbGVjdG9yKTtcbiAgXG4gIHdpbmRvdy5fYWNjb3JkaW9uUm9vdCA9IHJvb3Q7XG4gIHdpbmRvdy5fYWNjb3JkaW9uRGVidWcgPSB0cnVlO1xuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBIRUxQRVJTXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGNvbnN0IHBhbmVsT2YgPSBpdGVtID0+IGl0ZW0/LnF1ZXJ5U2VsZWN0b3IoJzpzY29wZSA+IC5hY2MtbGlzdCcpO1xuICBjb25zdCBncm91cE9mID0gaXRlbSA9PiB7XG4gICAgY29uc3QgcGFyZW50ID0gaXRlbS5wYXJlbnRFbGVtZW50O1xuICAgIHJldHVybiBwYXJlbnQ/LmNsYXNzTGlzdC5jb250YWlucygnYWNjLWxpc3QnKSA/IHBhcmVudCA6IHJvb3Q7XG4gIH07XG4gIGNvbnN0IGRiZyA9ICguLi5hcmdzKSA9PiB7IHRyeSB7IGNvbnNvbGUubG9nKCdbQUNDT1JESU9OXScsIC4uLmFyZ3MpOyB9IGNhdGNoKF8pIHt9IH07XG4gIGNvbnN0IGl0ZW1LaW5kID0gKGVsKSA9PiBlbD8uY2xhc3NMaXN0Py5jb250YWlucygnYWNjLXNlY3Rpb24nKSA/ICdzZWN0aW9uJyA6ICdpdGVtJztcbiAgY29uc3QgbGFiZWxPZiA9IChlbCkgPT4ge1xuICAgIGNvbnN0IHQgPSBlbD8ucXVlcnlTZWxlY3RvcignOnNjb3BlID4gLmFjYy10cmlnZ2VyJyk7XG4gICAgcmV0dXJuICh0Py50ZXh0Q29udGVudCB8fCAnJykudHJpbSgpLnJlcGxhY2UoL1xccysvZywnICcpLnNsaWNlKDAsODApO1xuICB9O1xuICBjb25zdCBBQ1RJVkVfVFJJR0dFUl9DTEFTUyA9ICdhY2MtdHJpZ2dlci0tYWN0aXZlJztcbiAgXG4gIGZ1bmN0aW9uIG1hcmtJdGVtc0ZvckFuaW1hdGlvbihwYW5lbCwgc2hvdyA9IHRydWUpIHtcbiAgICBjb25zdCBpdGVtcyA9IHBhbmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJzpzY29wZSA+IC5hY2MtaXRlbScpO1xuICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICBpZiAoc2hvdykge1xuICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ2FjYy1hbmltYXRlLXRhcmdldCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY2MtYW5pbWF0ZS10YXJnZXQnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBkYmcoYE1hcmtlZCAke2l0ZW1zLmxlbmd0aH0gaXRlbXMgZm9yICR7c2hvdyA/ICdzaG93JyA6ICdoaWRlJ30gYW5pbWF0aW9uIGluIHBhbmVsICR7cGFuZWwuaWR9YCk7XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIGNsZWFyQWxsQW5pbWF0aW9uTWFya2VycygpIHtcbiAgICByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2MtYW5pbWF0ZS10YXJnZXQnKS5mb3JFYWNoKGVsID0+IHtcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjYy1hbmltYXRlLXRhcmdldCcpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFdFQkZMT1cgSVggSU5URUdSQVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgY29uc3Qgd2ZJeCA9ICh3aW5kb3cuV2ViZmxvdyAmJiB3aW5kb3cuV2ViZmxvdy5yZXF1aXJlKVxuICAgID8gKHdpbmRvdy5XZWJmbG93LnJlcXVpcmUoJ2l4MycpIHx8IHdpbmRvdy5XZWJmbG93LnJlcXVpcmUoJ2l4MicpKVxuICAgIDogbnVsbDtcbiAgZGJnKCdXZWJmbG93IElYIGF2YWlsYWJsZTonLCAhIXdmSXgpO1xuXG4gIGZ1bmN0aW9uIGVtaXRJeChuYW1lKXtcbiAgICB0cnkge1xuICAgICAgaWYgKHdmSXggJiYgdHlwZW9mIHdmSXguZW1pdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBkYmcoYFx1RDgzQ1x1REZBRiBFTUlUVElORyB2aWEgd2ZJeC5lbWl0OiBcIiR7bmFtZX1cImApO1xuICAgICAgICB3Zkl4LmVtaXQobmFtZSk7XG4gICAgICB9XG4gICAgfSBjYXRjaChlcnIpIHtcbiAgICAgIGRiZygnd2ZJeC5lbWl0IGVycm9yJywgZXJyICYmIGVyci5tZXNzYWdlKTtcbiAgICB9XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChuYW1lKSk7XG4gICAgICBkYmcoYFx1RDgzRFx1RENFMiBFTUlUVElORyB2aWEgd2luZG93LmRpc3BhdGNoRXZlbnQ6IFwiJHtuYW1lfVwiYCk7XG4gICAgfSBjYXRjaChlcnIpIHsgXG4gICAgICBkYmcoJ3dpbmRvdy5kaXNwYXRjaEV2ZW50IGVycm9yJywgZXJyICYmIGVyci5tZXNzYWdlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBlbWl0QWxsKHByaW1hcnkpe1xuICAgIGNvbnN0IGFsaWFzZXMgPSBbXTtcbiAgICBpZiAocHJpbWFyeSA9PT0gJ2FjYy1vcGVuJykgYWxpYXNlcy5wdXNoKCdhY2NvcmRlb24tb3BlbicpO1xuICAgIGlmIChwcmltYXJ5ID09PSAnYWNjLWNsb3NlJykgYWxpYXNlcy5wdXNoKCdhY2NvcmRlb24tY2xvc2UnKTtcbiAgICBbcHJpbWFyeSwgLi4uYWxpYXNlc10uZm9yRWFjaChldiA9PiBlbWl0SXgoZXYpKTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBBUklBIFNFVFVQXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGNvbnN0IHRyaWdnZXJzID0gcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjLXRyaWdnZXInKTtcbiAgdHJpZ2dlcnMuZm9yRWFjaCgodCwgaSkgPT4ge1xuICAgIGNvbnN0IGl0ZW0gPSB0LmNsb3Nlc3QoJy5hY2Mtc2VjdGlvbiwgLmFjYy1pdGVtJyk7XG4gICAgY29uc3QgcCA9IHBhbmVsT2YoaXRlbSk7XG4gICAgaWYgKHApe1xuICAgICAgY29uc3QgcGlkID0gcC5pZCB8fCBgYWNjLXBhbmVsLSR7aX1gO1xuICAgICAgcC5pZCA9IHBpZDtcbiAgICAgIHQuc2V0QXR0cmlidXRlKCdhcmlhLWNvbnRyb2xzJywgcGlkKTtcbiAgICAgIHQuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgfVxuICB9KTtcbiAgZGJnKCdib290c3RyYXBwZWQnLCB0cmlnZ2Vycy5sZW5ndGgsICd0cmlnZ2VycycpO1xuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBDT1JFIEZVTkNUSU9OU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBleHBhbmQocCl7XG4gICAgZGJnKCdleHBhbmQgc3RhcnQnLCB7IGlkOiBwLmlkLCBjaGlsZHJlbjogcC5jaGlsZHJlbj8ubGVuZ3RoIH0pO1xuICAgIHAuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJywgJ2FjYy1saXN0LS1leHBhbmRpbmcnKTtcbiAgICBwLmRhdGFzZXQuc3RhdGUgPSAnb3BlbmluZyc7XG4gICAgXG4gICAgY29uc3Qgb25FbmQgPSAoZSkgPT4ge1xuICAgICAgaWYgKGUucHJvcGVydHlOYW1lICE9PSAnbWF4LWhlaWdodCcpIHJldHVybjtcbiAgICAgIGlmIChwLmRhdGFzZXQuc3RhdGUgPT09ICdvcGVuaW5nJyl7XG4gICAgICAgIHAuY2xhc3NMaXN0LnJlbW92ZSgnYWNjLWxpc3QtLWV4cGFuZGluZycpO1xuICAgICAgICBwLmNsYXNzTGlzdC5hZGQoJ2FjYy1saXN0LS1leHBhbmRlZCcpO1xuICAgICAgICBwLmRhdGFzZXQuc3RhdGUgPSAnb3Blbic7XG4gICAgICAgIGRiZygnZXhwYW5kZWQnLCB7IGlkOiBwLmlkIH0pO1xuICAgICAgfVxuICAgIH07XG4gICAgcC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgb25FbmQsIHsgb25jZTogdHJ1ZSB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbGxhcHNlKHApe1xuICAgIGRiZygnY29sbGFwc2Ugc3RhcnQnLCB7IGlkOiBwLmlkIH0pO1xuICAgIHAuY2xhc3NMaXN0LnJlbW92ZSgnYWNjLWxpc3QtLWV4cGFuZGluZycsICdhY2MtbGlzdC0tZXhwYW5kZWQnKTtcbiAgICBwLmRhdGFzZXQuc3RhdGUgPSAnY2xvc2luZyc7XG4gICAgXG4gICAgY29uc3Qgb25FbmQgPSAoZSkgPT4ge1xuICAgICAgaWYgKGUucHJvcGVydHlOYW1lICE9PSAnbWF4LWhlaWdodCcpIHJldHVybjtcbiAgICAgIGlmIChwLmRhdGFzZXQuc3RhdGUgPT09ICdjbG9zaW5nJyl7XG4gICAgICAgIHAuZGF0YXNldC5zdGF0ZSA9ICdjb2xsYXBzZWQnO1xuICAgICAgICBwLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgICBtYXJrSXRlbXNGb3JBbmltYXRpb24ocCwgZmFsc2UpO1xuICAgICAgICBkYmcoJ2NvbGxhcHNlZCcsIHsgaWQ6IHAuaWQgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBwLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBvbkVuZCwgeyBvbmNlOiB0cnVlIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VTaWJsaW5ncyhpdGVtKXtcbiAgICBjb25zdCBncm91cCA9IGdyb3VwT2YoaXRlbSk7XG4gICAgaWYgKCFncm91cCkgcmV0dXJuO1xuICAgIGNvbnN0IHdhbnQgPSBpdGVtLm1hdGNoZXMoJy5hY2Mtc2VjdGlvbicpID8gJ2FjYy1zZWN0aW9uJyA6ICdhY2MtaXRlbSc7XG4gICAgQXJyYXkuZnJvbShncm91cC5jaGlsZHJlbikuZm9yRWFjaChzaWIgPT4ge1xuICAgICAgaWYgKHNpYiA9PT0gaXRlbSB8fCAhc2liLmNsYXNzTGlzdC5jb250YWlucyh3YW50KSkgcmV0dXJuO1xuICAgICAgY29uc3QgcCA9IHBhbmVsT2Yoc2liKTtcbiAgICAgIGlmIChwICYmIChwLmRhdGFzZXQuc3RhdGUgPT09ICdvcGVuJyB8fCBwLmRhdGFzZXQuc3RhdGUgPT09ICdvcGVuaW5nJykpe1xuICAgICAgICBkYmcoJ2Nsb3NlIHNpYmxpbmcnLCB7IGtpbmQ6IHdhbnQsIGxhYmVsOiBsYWJlbE9mKHNpYiksIGlkOiBwLmlkIH0pO1xuICAgICAgICBjbGVhckFsbEFuaW1hdGlvbk1hcmtlcnMoKTtcbiAgICAgICAgbWFya0l0ZW1zRm9yQW5pbWF0aW9uKHAsIHRydWUpO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gZW1pdEFsbCgnYWNjLWNsb3NlJykpO1xuICAgICAgICBjb2xsYXBzZShwKTtcbiAgICAgICAgY29uc3QgdHJpZyA9IHNpYi5xdWVyeVNlbGVjdG9yKCc6c2NvcGUgPiAuYWNjLXRyaWdnZXInKTtcbiAgICAgICAgdHJpZz8uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgICAgIHRyaWc/LmNsYXNzTGlzdD8ucmVtb3ZlKEFDVElWRV9UUklHR0VSX0NMQVNTKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0QWxsTDJVbmRlcihjb250YWluZXIpe1xuICAgIGNvbnN0IHNjb3BlID0gY29udGFpbmVyIHx8IHJvb3Q7XG4gICAgc2NvcGUucXVlcnlTZWxlY3RvckFsbCgnLmFjYy1pdGVtID4gLmFjYy1saXN0JykuZm9yRWFjaChwID0+IHtcbiAgICAgIGlmIChwLmRhdGFzZXQuc3RhdGUgPT09ICdvcGVuJyB8fCBwLmRhdGFzZXQuc3RhdGUgPT09ICdvcGVuaW5nJyl7XG4gICAgICAgIGNvbGxhcHNlKHApO1xuICAgICAgICBjb25zdCBpdCA9IHAuY2xvc2VzdCgnLmFjYy1pdGVtJyk7XG4gICAgICAgIGNvbnN0IHQgPSBpdD8ucXVlcnlTZWxlY3RvcignOnNjb3BlID4gLmFjYy10cmlnZ2VyJyk7XG4gICAgICAgIHQ/LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgICAgICB0Py5jbGFzc0xpc3Q/LnJlbW92ZShBQ1RJVkVfVFJJR0dFUl9DTEFTUyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB0b2dnbGUoaXRlbSl7XG4gICAgY29uc3QgcCA9IHBhbmVsT2YoaXRlbSk7XG4gICAgaWYgKCFwKSByZXR1cm47XG4gICAgY29uc3QgdHJpZyA9IGl0ZW0ucXVlcnlTZWxlY3RvcignOnNjb3BlID4gLmFjYy10cmlnZ2VyJyk7XG4gICAgY29uc3Qgb3BlbmluZyA9ICEocC5kYXRhc2V0LnN0YXRlID09PSAnb3BlbicgfHwgcC5kYXRhc2V0LnN0YXRlID09PSAnb3BlbmluZycpO1xuICAgIGRiZygndG9nZ2xlJywgeyBraW5kOiBpdGVtS2luZChpdGVtKSwgb3BlbmluZywgbGFiZWw6IGxhYmVsT2YoaXRlbSksIGlkOiBwLmlkIH0pO1xuICAgIFxuICAgIGlmIChvcGVuaW5nKSBjbG9zZVNpYmxpbmdzKGl0ZW0pO1xuXG4gICAgaWYgKGl0ZW1LaW5kKGl0ZW0pID09PSAnc2VjdGlvbicpe1xuICAgICAgaWYgKG9wZW5pbmcpIHJlc2V0QWxsTDJVbmRlcihyb290KTtcbiAgICAgIGVsc2UgcmVzZXRBbGxMMlVuZGVyKGl0ZW0pO1xuICAgIH1cblxuICAgIGlmIChvcGVuaW5nKXtcbiAgICAgIGNsZWFyQWxsQW5pbWF0aW9uTWFya2VycygpO1xuICAgICAgbWFya0l0ZW1zRm9yQW5pbWF0aW9uKHAsIHRydWUpO1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgZGJnKCdlbWl0IGFjYy1vcGVuJywgeyBpZDogcC5pZCB9KTtcbiAgICAgICAgZW1pdEFsbCgnYWNjLW9wZW4nKTtcbiAgICAgIH0pO1xuICAgICAgZXhwYW5kKHApO1xuICAgICAgdHJpZz8uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgICAgIHRyaWc/LmNsYXNzTGlzdD8uYWRkKEFDVElWRV9UUklHR0VSX0NMQVNTKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2xlYXJBbGxBbmltYXRpb25NYXJrZXJzKCk7XG4gICAgICBtYXJrSXRlbXNGb3JBbmltYXRpb24ocCwgdHJ1ZSk7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICBkYmcoJ2VtaXQgYWNjLWNsb3NlJywgeyBpZDogcC5pZCB9KTtcbiAgICAgICAgZW1pdEFsbCgnYWNjLWNsb3NlJyk7XG4gICAgICB9KTtcbiAgICAgIGNvbGxhcHNlKHApO1xuICAgICAgdHJpZz8uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgICB0cmlnPy5jbGFzc0xpc3Q/LnJlbW92ZShBQ1RJVkVfVFJJR0dFUl9DTEFTUyk7XG4gICAgfVxuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIElOSVRJQUxJWkFUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnanMtcHJlcCcpO1xuICByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2MtbGlzdCcpLmZvckVhY2gocCA9PiB7IFxuICAgIHAuZGF0YXNldC5zdGF0ZSA9ICdjb2xsYXBzZWQnOyBcbiAgfSk7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdqcy1wcmVwJyk7XG4gIH0pO1xuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBFVkVOVCBMSVNURU5FUlNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gaGFuZGxlSW50ZXJhY3Rpb24oZSkge1xuICAgIGNvbnN0IHQgPSBlLnRhcmdldC5jbG9zZXN0KCcuYWNjLXRyaWdnZXInKTtcbiAgICBpZiAoIXQgfHwgIXJvb3QuY29udGFpbnModCkpIHJldHVybjtcbiAgICBcbiAgICBpZiAoZS50eXBlID09PSAna2V5ZG93bicgJiYgZS5rZXkgIT09ICdFbnRlcicgJiYgZS5rZXkgIT09ICcgJykgcmV0dXJuO1xuICAgIFxuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBpdGVtID0gdC5jbG9zZXN0KCcuYWNjLXNlY3Rpb24sIC5hY2MtaXRlbScpO1xuICAgIGlmIChpdGVtKSB7XG4gICAgICBkYmcoZS50eXBlLCB7IGxhYmVsOiAodC50ZXh0Q29udGVudCB8fCAnJykudHJpbSgpLnJlcGxhY2UoL1xccysvZywnICcpLnNsaWNlKDAsODApIH0pO1xuICAgICAgdG9nZ2xlKGl0ZW0pO1xuICAgIH1cbiAgfVxuICBcbiAgcm9vdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUludGVyYWN0aW9uKTtcbiAgcm9vdC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlSW50ZXJhY3Rpb24pO1xuXG4gIGNvbnN0IHJvID0gbmV3IFJlc2l6ZU9ic2VydmVyKGVudHJpZXMgPT4ge1xuICAgIGVudHJpZXMuZm9yRWFjaCgoeyB0YXJnZXQ6IHAgfSkgPT4ge1xuICAgICAgaWYgKHAuZGF0YXNldC5zdGF0ZSA9PT0gJ29wZW4nKXsgXG4gICAgICAgIGlmICghcC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjYy1saXN0LS1leHBhbmRlZCcpKSB7XG4gICAgICAgICAgcC5jbGFzc0xpc3QuYWRkKCdhY2MtbGlzdC0tZXhwYW5kZWQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbiAgcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjLWxpc3QnKS5mb3JFYWNoKHAgPT4gcm8ub2JzZXJ2ZShwKSk7XG4gIFxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gREVCVUcgQVBJXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHdpbmRvdy5fYWNjb3JkaW9uVGVzdCA9IHtcbiAgICBtYXJrSXRlbXM6IChwYW5lbElkKSA9PiB7XG4gICAgICBjb25zdCBwYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBhbmVsSWQpIHx8IHJvb3QucXVlcnlTZWxlY3RvcignLmFjYy1saXN0Jyk7XG4gICAgICBpZiAocGFuZWwpIHtcbiAgICAgICAgbWFya0l0ZW1zRm9yQW5pbWF0aW9uKHBhbmVsLCB0cnVlKTtcbiAgICAgICAgY29uc29sZS5sb2coJ01hcmtlZCBpdGVtcyBpbiBwYW5lbDonLCBwYW5lbCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBjbGVhck1hcmtzOiAoKSA9PiB7XG4gICAgICBjbGVhckFsbEFuaW1hdGlvbk1hcmtlcnMoKTtcbiAgICAgIGNvbnNvbGUubG9nKCdDbGVhcmVkIGFsbCBtYXJrcycpO1xuICAgIH0sXG4gICAgZW1pdE9wZW46ICgpID0+IHtcbiAgICAgIGVtaXRBbGwoJ2FjYy1vcGVuJyk7XG4gICAgICBjb25zb2xlLmxvZygnRW1pdHRlZCBhY2Mtb3BlbicpO1xuICAgIH0sXG4gICAgZW1pdENsb3NlOiAoKSA9PiB7XG4gICAgICBlbWl0QWxsKCdhY2MtY2xvc2UnKTtcbiAgICAgIGNvbnNvbGUubG9nKCdFbWl0dGVkIGFjYy1jbG9zZScpO1xuICAgIH0sXG4gICAgY2hlY2tXZWJmbG93OiAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnV2ViZmxvdyBvYmplY3Q6Jywgd2luZG93LldlYmZsb3cpO1xuICAgICAgY29uc29sZS5sb2coJ3dmSXg6Jywgd2ZJeCk7XG4gICAgfSxcbiAgICBnZXRNYXJrZWRJdGVtczogKCkgPT4ge1xuICAgICAgY29uc3QgaXRlbXMgPSByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2MtYW5pbWF0ZS10YXJnZXQnKTtcbiAgICAgIGNvbnNvbGUubG9nKGBGb3VuZCAke2l0ZW1zLmxlbmd0aH0gaXRlbXMgd2l0aCAuYWNjLWFuaW1hdGUtdGFyZ2V0IGNsYXNzYCk7XG4gICAgICByZXR1cm4gaXRlbXM7XG4gICAgfVxuICB9O1xuICBcbiAgY29uc29sZS5sb2coJ1tBQ0NPUkRJT05dIERlYnVnIGZ1bmN0aW9ucyBhdmFpbGFibGUgYXQgd2luZG93Ll9hY2NvcmRpb25UZXN0Jyk7XG59XG4iLCAiLyoqXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogIE1jQ2FubiBXZWJzaXRlIFx1MjAxNCBFdmVudHMgVXRpbGl0eVxuICogIFB1cnBvc2U6IEVtaXQgYnViYmxpbmcgQ3VzdG9tRXZlbnRzXG4gKiAgRGF0ZTogMjAyNS0xMS0wNlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZW1pdChuYW1lLCB0YXJnZXQgPSB3aW5kb3csIGRldGFpbCA9IHt9KXtcbiAgdHJ5IHsgdGFyZ2V0LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KG5hbWUsIHsgYnViYmxlczogdHJ1ZSwgY2FuY2VsYWJsZTogdHJ1ZSwgZGV0YWlsIH0pKTsgfSBjYXRjaCB7fVxuICB0cnkgeyB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQobmFtZSwgeyBkZXRhaWwgfSkpOyB9IGNhdGNoIHt9XG59XG4iLCAiLyoqXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogIE1jQ2FubiBXZWJzaXRlIFx1MjAxNCBTY3JvbGwgTG9ja1xuICogIFB1cnBvc2U6IExvY2svdW5sb2NrIHNjcm9sbCBvbiAucGVyc3BlY3RpdmUtd3JhcHBlclxuICogIERhdGU6IDIwMjUtMTEtMDZcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxubGV0IGlzTG9ja2VkID0gZmFsc2U7XG5sZXQgc2F2ZWRZID0gMDtcbmxldCB3cmFwcGVyID0gbnVsbDtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBFWFBPUlRTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvY2tTY3JvbGwoKXtcbiAgaWYgKGlzTG9ja2VkKSByZXR1cm47XG4gIGlzTG9ja2VkID0gdHJ1ZTtcbiAgXG4gIHdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGVyc3BlY3RpdmUtd3JhcHBlcicpIHx8IGRvY3VtZW50LmJvZHk7XG4gIFxuICBpZiAod3JhcHBlciA9PT0gZG9jdW1lbnQuYm9keSkge1xuICAgIHNhdmVkWSA9IHdpbmRvdy5zY3JvbGxZIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgMDtcbiAgfSBlbHNlIHtcbiAgICBzYXZlZFkgPSB3cmFwcGVyLnNjcm9sbFRvcCB8fCAwO1xuICB9XG4gIFxuICBpZiAod3JhcHBlciA9PT0gZG9jdW1lbnQuYm9keSkge1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudG9wID0gYC0ke3NhdmVkWX1weGA7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5sZWZ0ID0gJzAnO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucmlnaHQgPSAnMCc7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgfVxuICBcbiAgd3JhcHBlci5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICB3cmFwcGVyLmNsYXNzTGlzdC5hZGQoJ21vZGFsLW9wZW4nKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVubG9ja1Njcm9sbCh7IGRlbGF5TXMgPSAwIH0gPSB7fSl7XG4gIGlmICghaXNMb2NrZWQpIHJldHVybjtcbiAgXG4gIGNvbnN0IHVubG9jayA9ICgpID0+IHtcbiAgICBpZiAoIXdyYXBwZXIpIHJldHVybjtcbiAgICBcbiAgICB3cmFwcGVyLnN0eWxlLm92ZXJmbG93ID0gJyc7XG4gICAgd3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbC1vcGVuJyk7XG4gICAgXG4gICAgaWYgKHdyYXBwZXIgPT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucG9zaXRpb24gPSAnJztcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudG9wID0gJyc7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmxlZnQgPSAnJztcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucmlnaHQgPSAnJztcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUud2lkdGggPSAnJztcbiAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCBzYXZlZFkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3cmFwcGVyLnNjcm9sbFRvcCA9IHNhdmVkWTtcbiAgICB9XG4gICAgXG4gICAgaXNMb2NrZWQgPSBmYWxzZTtcbiAgICB3cmFwcGVyID0gbnVsbDtcbiAgfTtcbiAgXG4gIGRlbGF5TXMgPiAwID8gc2V0VGltZW91dCh1bmxvY2ssIGRlbGF5TXMpIDogdW5sb2NrKCk7XG59XG4iLCAiLyoqXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogIE1jQ2FubiBXZWJzaXRlIFx1MjAxNCBWaW1lbyBIZWxwZXJcbiAqICBQdXJwb3NlOiBNb3VudCBWaW1lbyBpZnJhbWUgd2l0aCBwcml2YWN5IG9wdGlvbnNcbiAqICBEYXRlOiAyMDI1LTExLTA2XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmNvbnNvbGUubG9nKCdbVklNRU9dIG1vZHVsZSBsb2FkZWQnKTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBIRUxQRVJTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZnVuY3Rpb24gcGFyc2VWaW1lb0lkKGlucHV0KXtcbiAgaWYgKCFpbnB1dCkgcmV0dXJuICcnO1xuICBjb25zdCBzdHIgPSBTdHJpbmcoaW5wdXQpLnRyaW0oKTtcbiAgaWYgKC9eXFxkKyQvLnRlc3Qoc3RyKSkgcmV0dXJuIHN0cjtcbiAgdHJ5IHtcbiAgICBjb25zdCB1ID0gbmV3IFVSTChzdHIsICdodHRwczovL2V4YW1wbGUuY29tJyk7XG4gICAgY29uc3QgaG9zdCA9IHUuaG9zdG5hbWUgfHwgJyc7XG4gICAgaWYgKGhvc3QuaW5jbHVkZXMoJ3ZpbWVvLmNvbScpKXtcbiAgICAgIGNvbnN0IHBhcnRzID0gdS5wYXRobmFtZS5zcGxpdCgnLycpLmZpbHRlcihCb29sZWFuKTtcbiAgICAgIGNvbnN0IGxhc3QgPSBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXSB8fCAnJztcbiAgICAgIGNvbnN0IGlkID0gbGFzdC5tYXRjaCgvXFxkKy8pPy5bMF0gfHwgJyc7XG4gICAgICByZXR1cm4gaWQgfHwgJyc7XG4gICAgfVxuICB9IGNhdGNoIHt9XG4gIHJldHVybiAnJztcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBFWFBPUlRTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vdW50VmltZW8oY29udGFpbmVyLCBpbnB1dElkLCBwYXJhbXMgPSB7fSl7XG4gIGlmICghY29udGFpbmVyKSByZXR1cm47XG4gIGNvbnN0IGlkID0gcGFyc2VWaW1lb0lkKGlucHV0SWQpO1xuICBpZiAoIWlkKXsgY29udGFpbmVyLmlubmVySFRNTCA9ICcnOyByZXR1cm47IH1cbiAgY29uc3QgcXVlcnkgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHsgZG50OiAxLCAuLi5wYXJhbXMgfSkudG9TdHJpbmcoKTtcbiAgY29uc3Qgc3JjID0gYGh0dHBzOi8vcGxheWVyLnZpbWVvLmNvbS92aWRlby8ke2lkfT8ke3F1ZXJ5fWA7XG4gIGNvbnN0IGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICBpZnJhbWUuc3JjID0gc3JjO1xuICBpZnJhbWUuYWxsb3cgPSAnYXV0b3BsYXk7IGZ1bGxzY3JlZW47IHBpY3R1cmUtaW4tcGljdHVyZTsgZW5jcnlwdGVkLW1lZGlhJztcbiAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnZnJhbWVib3JkZXInLCAnMCcpO1xuICBpZnJhbWUuc2V0QXR0cmlidXRlKCdhbGxvd2Z1bGxzY3JlZW4nLCAnJyk7XG4gIGlmcmFtZS5zdHlsZS5jc3NUZXh0ID0gYFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDUwJTtcbiAgICBsZWZ0OiA1MCU7XG4gICAgLyogU2l6ZXMgYXJlIHNldCBkeW5hbWljYWxseSB0byBhY2hpZXZlIHRydWUgY292ZXIgKi9cbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG4gICAgYm9yZGVyOiAwO1xuICBgO1xuICBjb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpZnJhbWUpO1xuXG4gIC8vIEVuc3VyZSBjb250YWluZXIgY2FuIGNyb3Agb3ZlcmZsb3dcbiAgY29uc3QgcHJldk92ZXJmbG93ID0gY29udGFpbmVyLnN0eWxlLm92ZXJmbG93O1xuICBpZiAoIWNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiB8fCBjb250YWluZXIuc3R5bGUucG9zaXRpb24gPT09ICdzdGF0aWMnKSB7XG4gICAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgfVxuICBjb250YWluZXIuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcblxuICAvLyBUcnkgdG8gdXNlIFZpbWVvIFBsYXllciBBUEkgdG8gZ2V0IGV4YWN0IHZpZGVvIGFzcGVjdCByYXRpb1xuICBlbnN1cmVWaW1lb0FwaSgpLnRoZW4oKCkgPT4ge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgIGNvbnN0IHBsYXllciA9IG5ldyAod2luZG93LlZpbWVvICYmIHdpbmRvdy5WaW1lby5QbGF5ZXIgPyB3aW5kb3cuVmltZW8uUGxheWVyIDogZnVuY3Rpb24oKXt9KSAoaWZyYW1lKTtcbiAgICBpZiAoIXBsYXllciB8fCAhcGxheWVyLmdldFZpZGVvV2lkdGgpIHtcbiAgICAgIC8vIEZhbGxiYWNrIHRvIDE2OjkgaWYgQVBJIG5vdCBhdmFpbGFibGVcbiAgICAgIGZpdElmcmFtZVRvQ292ZXIoY29udGFpbmVyLCBpZnJhbWUsIDE2IC8gOSwgMS4wMik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgUHJvbWlzZS5hbGwoW3BsYXllci5nZXRWaWRlb1dpZHRoKCksIHBsYXllci5nZXRWaWRlb0hlaWdodCgpXSlcbiAgICAgIC50aGVuKChbdncsIHZoXSkgPT4ge1xuICAgICAgICBjb25zdCByYXRpbyA9IHZ3ICYmIHZoID8gdncgLyB2aCA6IDE2IC8gOTtcbiAgICAgICAgZml0SWZyYW1lVG9Db3Zlcihjb250YWluZXIsIGlmcmFtZSwgcmF0aW8sIDEuMDIpO1xuICAgICAgICAvLyBSZWZpdCBvbiBjb250YWluZXIgcmVzaXplXG4gICAgICAgIGNvbnN0IHJvID0gbmV3IFJlc2l6ZU9ic2VydmVyKCgpID0+IGZpdElmcmFtZVRvQ292ZXIoY29udGFpbmVyLCBpZnJhbWUsIHJhdGlvLCAxLjAyKSk7XG4gICAgICAgIHJvLm9ic2VydmUoY29udGFpbmVyKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IGZpdElmcmFtZVRvQ292ZXIoY29udGFpbmVyLCBpZnJhbWUsIHJhdGlvLCAxLjAyKSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgIGZpdElmcmFtZVRvQ292ZXIoY29udGFpbmVyLCBpZnJhbWUsIDE2IC8gOSwgMS4wMik7XG4gICAgICB9KTtcbiAgfSk7XG59XG5cbi8qKlxuICogRW5zdXJlIFZpbWVvIFBsYXllciBBUEkgaXMgYXZhaWxhYmxlIChsb2FkcyBzY3JpcHQgb25jZSlcbiAqL1xuZnVuY3Rpb24gZW5zdXJlVmltZW9BcGkoKXtcbiAgaWYgKHdpbmRvdy5WaW1lbyAmJiB3aW5kb3cuVmltZW8uUGxheWVyKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICBjb25zdCBleGlzdGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NjcmlwdFtzcmMqPVwicGxheWVyLnZpbWVvLmNvbS9hcGkvcGxheWVyLmpzXCJdJyk7XG4gICAgaWYgKGV4aXN0aW5nKSB7IGV4aXN0aW5nLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiByZXNvbHZlKCkpOyByZXR1cm47IH1cbiAgICBjb25zdCBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgcy5zcmMgPSAnaHR0cHM6Ly9wbGF5ZXIudmltZW8uY29tL2FwaS9wbGF5ZXIuanMnO1xuICAgIHMuYXN5bmMgPSB0cnVlO1xuICAgIHMub25sb2FkID0gKCkgPT4gcmVzb2x2ZSgpO1xuICAgIHMub25lcnJvciA9ICgpID0+IHJlc29sdmUoKTsgLy8gR3JhY2VmdWwgZmFsbGJhY2tcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHMpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBTaXplIGFuZCBjZW50ZXIgdGhlIGlmcmFtZSBzbyB0aGUgdmlkZW8gY292ZXJzIHRoZSBjb250YWluZXIgKGxpa2UgYmFja2dyb3VuZC1zaXplOiBjb3ZlcilcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNvbnRhaW5lclxuICogQHBhcmFtIHtIVE1MSUZyYW1lRWxlbWVudH0gaWZyYW1lXG4gKiBAcGFyYW0ge251bWJlcn0gdmlkZW9SYXRpbyAtIHdpZHRoL2hlaWdodCBvZiB0aGUgdmlkZW9cbiAqL1xuZnVuY3Rpb24gZml0SWZyYW1lVG9Db3Zlcihjb250YWluZXIsIGlmcmFtZSwgdmlkZW9SYXRpbywgb3ZlcnNjYW4gPSAxLjApe1xuICBjb25zdCByZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCBjdyA9IE1hdGgubWF4KDEsIHJlY3Qud2lkdGgpO1xuICBjb25zdCBjaCA9IE1hdGgubWF4KDEsIHJlY3QuaGVpZ2h0KTtcbiAgY29uc3QgY29udGFpbmVyUmF0aW8gPSBjdyAvIGNoO1xuXG4gIGxldCB3LCBoO1xuICBpZiAoY29udGFpbmVyUmF0aW8gPiB2aWRlb1JhdGlvKSB7XG4gICAgLy8gQ29udGFpbmVyIGlzIHdpZGVyIFx1MjE5MiBtYXRjaCB3aWR0aCwgZ3JvdyBoZWlnaHRcbiAgICB3ID0gY3c7XG4gICAgaCA9IGN3IC8gdmlkZW9SYXRpbztcbiAgfSBlbHNlIHtcbiAgICAvLyBDb250YWluZXIgaXMgdGFsbGVyIFx1MjE5MiBtYXRjaCBoZWlnaHQsIGdyb3cgd2lkdGhcbiAgICBoID0gY2g7XG4gICAgdyA9IGNoICogdmlkZW9SYXRpbztcbiAgfVxuXG4gIC8vIEFwcGx5IHNsaWdodCBvdmVyc2NhbiB0byBhdm9pZCBzdWJwaXhlbCBndXR0ZXJpbmcgYXQgZXh0cmVtZSByYXRpb3NcbiAgY29uc3Qgb3cgPSBNYXRoLmNlaWwodyAqIG92ZXJzY2FuKTtcbiAgY29uc3Qgb2ggPSBNYXRoLmNlaWwoaCAqIG92ZXJzY2FuKTtcblxuICBpZnJhbWUuc3R5bGUud2lkdGggPSBgJHtvd31weGA7XG4gIGlmcmFtZS5zdHlsZS5oZWlnaHQgPSBgJHtvaH1weGA7XG4gIGlmcmFtZS5zdHlsZS50b3AgPSAnNTAlJztcbiAgaWZyYW1lLnN0eWxlLmxlZnQgPSAnNTAlJztcbiAgaWZyYW1lLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSknO1xufVxuIiwgIntcbiAgXCJuYW1lXCI6IFwibGVuaXNcIixcbiAgXCJ2ZXJzaW9uXCI6IFwiMS4zLjE0XCIsXG4gIFwiZGVzY3JpcHRpb25cIjogXCJIb3cgc21vb3RoIHNjcm9sbCBzaG91bGQgYmVcIixcbiAgXCJ0eXBlXCI6IFwibW9kdWxlXCIsXG4gIFwic2lkZUVmZmVjdHNcIjogZmFsc2UsXG4gIFwiYXV0aG9yXCI6IFwiZGFya3Jvb20uZW5naW5lZXJpbmdcIixcbiAgXCJsaWNlbnNlXCI6IFwiTUlUXCIsXG4gIFwicmVwb3NpdG9yeVwiOiB7XG4gICAgXCJ0eXBlXCI6IFwiZ2l0XCIsXG4gICAgXCJ1cmxcIjogXCJnaXQraHR0cHM6Ly9naXRodWIuY29tL2Rhcmtyb29tZW5naW5lZXJpbmcvbGVuaXMuZ2l0XCJcbiAgfSxcbiAgXCJidWdzXCI6IHtcbiAgICBcInVybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9kYXJrcm9vbWVuZ2luZWVyaW5nL2xlbmlzL2lzc3Vlc1wiXG4gIH0sXG4gIFwiaG9tZXBhZ2VcIjogXCJodHRwczovL2dpdGh1Yi5jb20vZGFya3Jvb21lbmdpbmVlcmluZy9sZW5pc1wiLFxuICBcImZ1bmRpbmdcIjoge1xuICAgIFwidHlwZVwiOiBcImdpdGh1YlwiLFxuICAgIFwidXJsXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL3Nwb25zb3JzL2Rhcmtyb29tZW5naW5lZXJpbmdcIlxuICB9LFxuICBcImtleXdvcmRzXCI6IFtcbiAgICBcInNjcm9sbFwiLFxuICAgIFwic21vb3RoXCIsXG4gICAgXCJsZW5pc1wiLFxuICAgIFwicmVhY3RcIixcbiAgICBcInZ1ZVwiXG4gIF0sXG4gIFwic2NyaXB0c1wiOiB7XG4gICAgXCJidWlsZFwiOiBcInBucG0gYnVpbGQ6Y29yZSAmJiBwbnBtIGJ1aWxkOmFsbFwiLFxuICAgIFwiYnVpbGQ6Y29yZVwiOiBcInRzdXAgLS1jb25maWcgdHN1cC5jb3JlLnRzXCIsXG4gICAgXCJidWlsZDphbGxcIjogXCJ0c3VwXCIsXG4gICAgXCJkZXZcIjogXCJwbnBtIHJ1biAtdyAtLXBhcmFsbGVsIC9eZGV2Oi4qL1wiLFxuICAgIFwiZGV2OmJ1aWxkXCI6IFwidHN1cCAtLXdhdGNoXCIsXG4gICAgXCJkZXY6cGxheWdyb3VuZFwiOiBcInBucG0gLS1maWx0ZXIgcGxheWdyb3VuZCBkZXZcIixcbiAgICBcImRldjpudXh0XCI6IFwicG5wbSAtLWZpbHRlciBwbGF5Z3JvdW5kLW51eHQgZGV2XCIsXG4gICAgXCJyZWFkbWVcIjogXCJub2RlIC4vc2NyaXB0cy91cGRhdGUtcmVhZG1lLmpzXCIsXG4gICAgXCJ2ZXJzaW9uOmRldlwiOiBcIm5wbSB2ZXJzaW9uIHByZXJlbGVhc2UgLS1wcmVpZCBkZXYgLS1mb3JjZSAtLW5vLWdpdC10YWctdmVyc2lvblwiLFxuICAgIFwidmVyc2lvbjpwYXRjaFwiOiBcIm5wbSB2ZXJzaW9uIHBhdGNoIC0tZm9yY2UgLS1uby1naXQtdGFnLXZlcnNpb25cIixcbiAgICBcInZlcnNpb246bWlub3JcIjogXCJucG0gdmVyc2lvbiBtaW5vciAtLWZvcmNlIC0tbm8tZ2l0LXRhZy12ZXJzaW9uXCIsXG4gICAgXCJ2ZXJzaW9uOm1ham9yXCI6IFwibnBtIHZlcnNpb24gbWFqb3IgLS1mb3JjZSAtLW5vLWdpdC10YWctdmVyc2lvblwiLFxuICAgIFwicG9zdHZlcnNpb25cIjogXCJwbnBtIGJ1aWxkICYmIHBucG0gcmVhZG1lXCIsXG4gICAgXCJwdWJsaXNoOmRldlwiOiBcIm5wbSBwdWJsaXNoIC0tdGFnIGRldlwiLFxuICAgIFwicHVibGlzaDptYWluXCI6IFwibnBtIHB1Ymxpc2hcIlxuICB9LFxuICBcImZpbGVzXCI6IFtcbiAgICBcImRpc3RcIlxuICBdLFxuICBcImRldkRlcGVuZGVuY2llc1wiOiB7XG4gICAgXCJ0ZXJzZXJcIjogXCJeNS4zNy4wXCIsXG4gICAgXCJ0c3VwXCI6IFwiXjguMy41XCIsXG4gICAgXCJ0eXBlc2NyaXB0XCI6IFwiXjUuNy4zXCJcbiAgfSxcbiAgXCJwZWVyRGVwZW5kZW5jaWVzXCI6IHtcbiAgICBcInJlYWN0XCI6IFwiPj0xNy4wLjBcIixcbiAgICBcInZ1ZVwiOiBcIj49My4wLjBcIixcbiAgICBcIkBudXh0L2tpdFwiOiBcIj49My4wLjBcIlxuICB9LFxuICBcInBlZXJEZXBlbmRlbmNpZXNNZXRhXCI6IHtcbiAgICBcInJlYWN0XCI6IHtcbiAgICAgIFwib3B0aW9uYWxcIjogdHJ1ZVxuICAgIH0sXG4gICAgXCJ2dWVcIjoge1xuICAgICAgXCJvcHRpb25hbFwiOiB0cnVlXG4gICAgfSxcbiAgICBcIkBudXh0L2tpdFwiOiB7XG4gICAgICBcIm9wdGlvbmFsXCI6IHRydWVcbiAgICB9XG4gIH0sXG4gIFwidW5wa2dcIjogXCIuL2Rpc3QvbGVuaXMubWpzXCIsXG4gIFwibWFpblwiOiBcIi4vZGlzdC9sZW5pcy5tanNcIixcbiAgXCJtb2R1bGVcIjogXCIuL2Rpc3QvbGVuaXMubWpzXCIsXG4gIFwidHlwZXNcIjogXCIuL2Rpc3QvbGVuaXMuZC50c1wiLFxuICBcImV4cG9ydHNcIjoge1xuICAgIFwiLlwiOiB7XG4gICAgICBcInR5cGVzXCI6IFwiLi9kaXN0L2xlbmlzLmQudHNcIixcbiAgICAgIFwiZGVmYXVsdFwiOiBcIi4vZGlzdC9sZW5pcy5tanNcIlxuICAgIH0sXG4gICAgXCIuL3JlYWN0XCI6IHtcbiAgICAgIFwidHlwZXNcIjogXCIuL2Rpc3QvbGVuaXMtcmVhY3QuZC50c1wiLFxuICAgICAgXCJkZWZhdWx0XCI6IFwiLi9kaXN0L2xlbmlzLXJlYWN0Lm1qc1wiXG4gICAgfSxcbiAgICBcIi4vc25hcFwiOiB7XG4gICAgICBcInR5cGVzXCI6IFwiLi9kaXN0L2xlbmlzLXNuYXAuZC50c1wiLFxuICAgICAgXCJkZWZhdWx0XCI6IFwiLi9kaXN0L2xlbmlzLXNuYXAubWpzXCJcbiAgICB9LFxuICAgIFwiLi92dWVcIjoge1xuICAgICAgXCJ0eXBlc1wiOiBcIi4vZGlzdC9sZW5pcy12dWUuZC50c1wiLFxuICAgICAgXCJkZWZhdWx0XCI6IFwiLi9kaXN0L2xlbmlzLXZ1ZS5tanNcIlxuICAgIH0sXG4gICAgXCIuL251eHRcIjoge1xuICAgICAgXCJkZWZhdWx0XCI6IFwiLi9kaXN0L2xlbmlzLXZ1ZS1udXh0Lm1qc1wiXG4gICAgfSxcbiAgICBcIi4vbnV4dC9ydW50aW1lLypcIjoge1xuICAgICAgXCJkZWZhdWx0XCI6IFwiLi9kaXN0L251eHQvcnVudGltZS8qLm1qc1wiXG4gICAgfSxcbiAgICBcIi4vZGlzdC8qXCI6IFwiLi9kaXN0LypcIlxuICB9XG59XG4iLCAiLyoqXHJcbiAqIENsYW1wIGEgdmFsdWUgYmV0d2VlbiBhIG1pbmltdW0gYW5kIG1heGltdW0gdmFsdWVcclxuICpcclxuICogQHBhcmFtIG1pbiBNaW5pbXVtIHZhbHVlXHJcbiAqIEBwYXJhbSBpbnB1dCBWYWx1ZSB0byBjbGFtcFxyXG4gKiBAcGFyYW0gbWF4IE1heGltdW0gdmFsdWVcclxuICogQHJldHVybnMgQ2xhbXBlZCB2YWx1ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNsYW1wKG1pbjogbnVtYmVyLCBpbnB1dDogbnVtYmVyLCBtYXg6IG51bWJlcikge1xyXG4gIHJldHVybiBNYXRoLm1heChtaW4sIE1hdGgubWluKGlucHV0LCBtYXgpKVxyXG59XHJcblxyXG4vKipcclxuICogVHJ1bmNhdGUgYSBmbG9hdGluZy1wb2ludCBudW1iZXIgdG8gYSBzcGVjaWZpZWQgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzXHJcbiAqXHJcbiAqIEBwYXJhbSB2YWx1ZSBWYWx1ZSB0byB0cnVuY2F0ZVxyXG4gKiBAcGFyYW0gZGVjaW1hbHMgTnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIHRvIHRydW5jYXRlIHRvXHJcbiAqIEByZXR1cm5zIFRydW5jYXRlZCB2YWx1ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHRydW5jYXRlKHZhbHVlOiBudW1iZXIsIGRlY2ltYWxzID0gMCkge1xyXG4gIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlLnRvRml4ZWQoZGVjaW1hbHMpKVxyXG59XHJcblxyXG4vKipcclxuICogIExpbmVhcmx5IGludGVycG9sYXRlIGJldHdlZW4gdHdvIHZhbHVlcyB1c2luZyBhbiBhbW91bnQgKDAgPD0gdCA8PSAxKVxyXG4gKlxyXG4gKiBAcGFyYW0geCBGaXJzdCB2YWx1ZVxyXG4gKiBAcGFyYW0geSBTZWNvbmQgdmFsdWVcclxuICogQHBhcmFtIHQgQW1vdW50IHRvIGludGVycG9sYXRlICgwIDw9IHQgPD0gMSlcclxuICogQHJldHVybnMgSW50ZXJwb2xhdGVkIHZhbHVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbGVycCh4OiBudW1iZXIsIHk6IG51bWJlciwgdDogbnVtYmVyKSB7XHJcbiAgcmV0dXJuICgxIC0gdCkgKiB4ICsgdCAqIHlcclxufVxyXG5cclxuLyoqXHJcbiAqIERhbXAgYSB2YWx1ZSBvdmVyIHRpbWUgdXNpbmcgYSBkYW1waW5nIGZhY3RvclxyXG4gKiB7QGxpbmsgaHR0cDovL3d3dy5yb3J5ZHJpc2NvbGwuY29tLzIwMTYvMDMvMDcvZnJhbWUtcmF0ZS1pbmRlcGVuZGVudC1kYW1waW5nLXVzaW5nLWxlcnAvfVxyXG4gKlxyXG4gKiBAcGFyYW0geCBJbml0aWFsIHZhbHVlXHJcbiAqIEBwYXJhbSB5IFRhcmdldCB2YWx1ZVxyXG4gKiBAcGFyYW0gbGFtYmRhIERhbXBpbmcgZmFjdG9yXHJcbiAqIEBwYXJhbSBkdCBUaW1lIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgdXBkYXRlXHJcbiAqIEByZXR1cm5zIERhbXBlZCB2YWx1ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGRhbXAoeDogbnVtYmVyLCB5OiBudW1iZXIsIGxhbWJkYTogbnVtYmVyLCBkZWx0YVRpbWU6IG51bWJlcikge1xyXG4gIHJldHVybiBsZXJwKHgsIHksIDEgLSBNYXRoLmV4cCgtbGFtYmRhICogZGVsdGFUaW1lKSlcclxufVxyXG5cclxuLyoqXHJcbiAqIENhbGN1bGF0ZSB0aGUgbW9kdWxvIG9mIHRoZSBkaXZpZGVuZCBhbmQgZGl2aXNvciB3aGlsZSBrZWVwaW5nIHRoZSByZXN1bHQgd2l0aGluIHRoZSBzYW1lIHNpZ24gYXMgdGhlIGRpdmlzb3JcclxuICoge0BsaW5rIGh0dHBzOi8vYW5ndXNjcm9sbC5jb20vanVzdC9qdXN0LW1vZHVsb31cclxuICpcclxuICogQHBhcmFtIG4gRGl2aWRlbmRcclxuICogQHBhcmFtIGQgRGl2aXNvclxyXG4gKiBAcmV0dXJucyBNb2R1bG9cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBtb2R1bG8objogbnVtYmVyLCBkOiBudW1iZXIpIHtcclxuICByZXR1cm4gKChuICUgZCkgKyBkKSAlIGRcclxufVxyXG4iLCAiaW1wb3J0IHsgY2xhbXAsIGRhbXAgfSBmcm9tICcuL21hdGhzJ1xyXG5pbXBvcnQgdHlwZSB7IEVhc2luZ0Z1bmN0aW9uLCBGcm9tVG9PcHRpb25zLCBPblVwZGF0ZUNhbGxiYWNrIH0gZnJvbSAnLi90eXBlcydcclxuXHJcbi8qKlxyXG4gKiBBbmltYXRlIGNsYXNzIHRvIGhhbmRsZSB2YWx1ZSBhbmltYXRpb25zIHdpdGggbGVycGluZyBvciBlYXNpbmdcclxuICpcclxuICogQGV4YW1wbGVcclxuICogY29uc3QgYW5pbWF0ZSA9IG5ldyBBbmltYXRlKClcclxuICogYW5pbWF0ZS5mcm9tVG8oMCwgMTAwLCB7IGR1cmF0aW9uOiAxLCBlYXNpbmc6ICh0KSA9PiB0IH0pXHJcbiAqIGFuaW1hdGUuYWR2YW5jZSgwLjUpIC8vIDUwXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQW5pbWF0ZSB7XHJcbiAgaXNSdW5uaW5nID0gZmFsc2VcclxuICB2YWx1ZSA9IDBcclxuICBmcm9tID0gMFxyXG4gIHRvID0gMFxyXG4gIGN1cnJlbnRUaW1lID0gMFxyXG5cclxuICAvLyBUaGVzZSBhcmUgaW5zdGFuY2lhdGVkIGluIHRoZSBmcm9tVG8gbWV0aG9kXHJcbiAgbGVycD86IG51bWJlclxyXG4gIGR1cmF0aW9uPzogbnVtYmVyXHJcbiAgZWFzaW5nPzogRWFzaW5nRnVuY3Rpb25cclxuICBvblVwZGF0ZT86IE9uVXBkYXRlQ2FsbGJhY2tcclxuXHJcbiAgLyoqXHJcbiAgICogQWR2YW5jZSB0aGUgYW5pbWF0aW9uIGJ5IHRoZSBnaXZlbiBkZWx0YSB0aW1lXHJcbiAgICpcclxuICAgKiBAcGFyYW0gZGVsdGFUaW1lIC0gVGhlIHRpbWUgaW4gc2Vjb25kcyB0byBhZHZhbmNlIHRoZSBhbmltYXRpb25cclxuICAgKi9cclxuICBhZHZhbmNlKGRlbHRhVGltZTogbnVtYmVyKSB7XHJcbiAgICBpZiAoIXRoaXMuaXNSdW5uaW5nKSByZXR1cm5cclxuXHJcbiAgICBsZXQgY29tcGxldGVkID0gZmFsc2VcclxuXHJcbiAgICBpZiAodGhpcy5kdXJhdGlvbiAmJiB0aGlzLmVhc2luZykge1xyXG4gICAgICB0aGlzLmN1cnJlbnRUaW1lICs9IGRlbHRhVGltZVxyXG4gICAgICBjb25zdCBsaW5lYXJQcm9ncmVzcyA9IGNsYW1wKDAsIHRoaXMuY3VycmVudFRpbWUgLyB0aGlzLmR1cmF0aW9uLCAxKVxyXG5cclxuICAgICAgY29tcGxldGVkID0gbGluZWFyUHJvZ3Jlc3MgPj0gMVxyXG4gICAgICBjb25zdCBlYXNlZFByb2dyZXNzID0gY29tcGxldGVkID8gMSA6IHRoaXMuZWFzaW5nKGxpbmVhclByb2dyZXNzKVxyXG4gICAgICB0aGlzLnZhbHVlID0gdGhpcy5mcm9tICsgKHRoaXMudG8gLSB0aGlzLmZyb20pICogZWFzZWRQcm9ncmVzc1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmxlcnApIHtcclxuICAgICAgdGhpcy52YWx1ZSA9IGRhbXAodGhpcy52YWx1ZSwgdGhpcy50bywgdGhpcy5sZXJwICogNjAsIGRlbHRhVGltZSlcclxuICAgICAgaWYgKE1hdGgucm91bmQodGhpcy52YWx1ZSkgPT09IHRoaXMudG8pIHtcclxuICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy50b1xyXG4gICAgICAgIGNvbXBsZXRlZCA9IHRydWVcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gSWYgbm8gZWFzaW5nIG9yIGxlcnAsIGp1c3QganVtcCB0byB0aGUgZW5kIHZhbHVlXHJcbiAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnRvXHJcbiAgICAgIGNvbXBsZXRlZCA9IHRydWVcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY29tcGxldGVkKSB7XHJcbiAgICAgIHRoaXMuc3RvcCgpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2FsbCB0aGUgb25VcGRhdGUgY2FsbGJhY2sgd2l0aCB0aGUgY3VycmVudCB2YWx1ZSBhbmQgY29tcGxldGVkIHN0YXR1c1xyXG4gICAgdGhpcy5vblVwZGF0ZT8uKHRoaXMudmFsdWUsIGNvbXBsZXRlZClcclxuICB9XHJcblxyXG4gIC8qKiBTdG9wIHRoZSBhbmltYXRpb24gKi9cclxuICBzdG9wKCkge1xyXG4gICAgdGhpcy5pc1J1bm5pbmcgPSBmYWxzZVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IHVwIHRoZSBhbmltYXRpb24gZnJvbSBhIHN0YXJ0aW5nIHZhbHVlIHRvIGFuIGVuZGluZyB2YWx1ZVxyXG4gICAqIHdpdGggb3B0aW9uYWwgcGFyYW1ldGVycyBmb3IgbGVycGluZywgZHVyYXRpb24sIGVhc2luZywgYW5kIG9uVXBkYXRlIGNhbGxiYWNrXHJcbiAgICpcclxuICAgKiBAcGFyYW0gZnJvbSAtIFRoZSBzdGFydGluZyB2YWx1ZVxyXG4gICAqIEBwYXJhbSB0byAtIFRoZSBlbmRpbmcgdmFsdWVcclxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgZm9yIHRoZSBhbmltYXRpb25cclxuICAgKi9cclxuICBmcm9tVG8oXHJcbiAgICBmcm9tOiBudW1iZXIsXHJcbiAgICB0bzogbnVtYmVyLFxyXG4gICAgeyBsZXJwLCBkdXJhdGlvbiwgZWFzaW5nLCBvblN0YXJ0LCBvblVwZGF0ZSB9OiBGcm9tVG9PcHRpb25zXHJcbiAgKSB7XHJcbiAgICB0aGlzLmZyb20gPSB0aGlzLnZhbHVlID0gZnJvbVxyXG4gICAgdGhpcy50byA9IHRvXHJcbiAgICB0aGlzLmxlcnAgPSBsZXJwXHJcbiAgICB0aGlzLmR1cmF0aW9uID0gZHVyYXRpb25cclxuICAgIHRoaXMuZWFzaW5nID0gZWFzaW5nXHJcbiAgICB0aGlzLmN1cnJlbnRUaW1lID0gMFxyXG4gICAgdGhpcy5pc1J1bm5pbmcgPSB0cnVlXHJcblxyXG4gICAgb25TdGFydD8uKClcclxuICAgIHRoaXMub25VcGRhdGUgPSBvblVwZGF0ZVxyXG4gIH1cclxufVxyXG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlPENCIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkPihcclxuICBjYWxsYmFjazogQ0IsXHJcbiAgZGVsYXk6IG51bWJlclxyXG4pIHtcclxuICBsZXQgdGltZXI6IG51bWJlciB8IHVuZGVmaW5lZFxyXG4gIHJldHVybiBmdW5jdGlvbiA8VD4odGhpczogVCwgLi4uYXJnczogUGFyYW1ldGVyczx0eXBlb2YgY2FsbGJhY2s+KSB7XHJcbiAgICBsZXQgY29udGV4dCA9IHRoaXNcclxuICAgIGNsZWFyVGltZW91dCh0aW1lcilcclxuICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRpbWVyID0gdW5kZWZpbmVkXHJcbiAgICAgIGNhbGxiYWNrLmFwcGx5KGNvbnRleHQsIGFyZ3MpXHJcbiAgICB9LCBkZWxheSlcclxuICB9XHJcbn1cclxuIiwgImltcG9ydCB7IGRlYm91bmNlIH0gZnJvbSAnLi9kZWJvdW5jZSdcclxuXHJcbi8qKlxyXG4gKiBEaW1lbnNpb25zIGNsYXNzIHRvIGhhbmRsZSB0aGUgc2l6ZSBvZiB0aGUgY29udGVudCBhbmQgd3JhcHBlclxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBjb25zdCBkaW1lbnNpb25zID0gbmV3IERpbWVuc2lvbnMod3JhcHBlciwgY29udGVudClcclxuICogZGltZW5zaW9ucy5vbigncmVzaXplJywgKGUpID0+IHtcclxuICogICBjb25zb2xlLmxvZyhlLndpZHRoLCBlLmhlaWdodClcclxuICogfSlcclxuICovXHJcbmV4cG9ydCBjbGFzcyBEaW1lbnNpb25zIHtcclxuICB3aWR0aCA9IDBcclxuICBoZWlnaHQgPSAwXHJcbiAgc2Nyb2xsSGVpZ2h0ID0gMFxyXG4gIHNjcm9sbFdpZHRoID0gMFxyXG5cclxuICAvLyBUaGVzZSBhcmUgaW5zdGFuY2lhdGVkIGluIHRoZSBjb25zdHJ1Y3RvciBhcyB0aGV5IG5lZWQgaW5mb3JtYXRpb24gZnJvbSB0aGUgb3B0aW9uc1xyXG4gIHByaXZhdGUgZGVib3VuY2VkUmVzaXplPzogKC4uLmFyZ3M6IHVua25vd25bXSkgPT4gdm9pZFxyXG4gIHByaXZhdGUgd3JhcHBlclJlc2l6ZU9ic2VydmVyPzogUmVzaXplT2JzZXJ2ZXJcclxuICBwcml2YXRlIGNvbnRlbnRSZXNpemVPYnNlcnZlcj86IFJlc2l6ZU9ic2VydmVyXHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSB3cmFwcGVyOiBIVE1MRWxlbWVudCB8IFdpbmRvdyB8IEVsZW1lbnQsXHJcbiAgICBwcml2YXRlIGNvbnRlbnQ6IEhUTUxFbGVtZW50IHwgRWxlbWVudCxcclxuICAgIHsgYXV0b1Jlc2l6ZSA9IHRydWUsIGRlYm91bmNlOiBkZWJvdW5jZVZhbHVlID0gMjUwIH0gPSB7fVxyXG4gICkge1xyXG4gICAgaWYgKGF1dG9SZXNpemUpIHtcclxuICAgICAgdGhpcy5kZWJvdW5jZWRSZXNpemUgPSBkZWJvdW5jZSh0aGlzLnJlc2l6ZSwgZGVib3VuY2VWYWx1ZSlcclxuXHJcbiAgICAgIGlmICh0aGlzLndyYXBwZXIgaW5zdGFuY2VvZiBXaW5kb3cpIHtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5kZWJvdW5jZWRSZXNpemUsIGZhbHNlKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMud3JhcHBlclJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKHRoaXMuZGVib3VuY2VkUmVzaXplKVxyXG4gICAgICAgIHRoaXMud3JhcHBlclJlc2l6ZU9ic2VydmVyLm9ic2VydmUodGhpcy53cmFwcGVyKVxyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLmNvbnRlbnRSZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcih0aGlzLmRlYm91bmNlZFJlc2l6ZSlcclxuICAgICAgdGhpcy5jb250ZW50UmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmNvbnRlbnQpXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5yZXNpemUoKVxyXG4gIH1cclxuXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIHRoaXMud3JhcHBlclJlc2l6ZU9ic2VydmVyPy5kaXNjb25uZWN0KClcclxuICAgIHRoaXMuY29udGVudFJlc2l6ZU9ic2VydmVyPy5kaXNjb25uZWN0KClcclxuXHJcbiAgICBpZiAodGhpcy53cmFwcGVyID09PSB3aW5kb3cgJiYgdGhpcy5kZWJvdW5jZWRSZXNpemUpIHtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuZGVib3VuY2VkUmVzaXplLCBmYWxzZSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlc2l6ZSA9ICgpID0+IHtcclxuICAgIHRoaXMub25XcmFwcGVyUmVzaXplKClcclxuICAgIHRoaXMub25Db250ZW50UmVzaXplKClcclxuICB9XHJcblxyXG4gIG9uV3JhcHBlclJlc2l6ZSA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLndyYXBwZXIgaW5zdGFuY2VvZiBXaW5kb3cpIHtcclxuICAgICAgdGhpcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXHJcbiAgICAgIHRoaXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLndpZHRoID0gdGhpcy53cmFwcGVyLmNsaWVudFdpZHRoXHJcbiAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy53cmFwcGVyLmNsaWVudEhlaWdodFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25Db250ZW50UmVzaXplID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMud3JhcHBlciBpbnN0YW5jZW9mIFdpbmRvdykge1xyXG4gICAgICB0aGlzLnNjcm9sbEhlaWdodCA9IHRoaXMuY29udGVudC5zY3JvbGxIZWlnaHRcclxuICAgICAgdGhpcy5zY3JvbGxXaWR0aCA9IHRoaXMuY29udGVudC5zY3JvbGxXaWR0aFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zY3JvbGxIZWlnaHQgPSB0aGlzLndyYXBwZXIuc2Nyb2xsSGVpZ2h0XHJcbiAgICAgIHRoaXMuc2Nyb2xsV2lkdGggPSB0aGlzLndyYXBwZXIuc2Nyb2xsV2lkdGhcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldCBsaW1pdCgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHg6IHRoaXMuc2Nyb2xsV2lkdGggLSB0aGlzLndpZHRoLFxyXG4gICAgICB5OiB0aGlzLnNjcm9sbEhlaWdodCAtIHRoaXMuaGVpZ2h0LFxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCAiLyoqXHJcbiAqIEVtaXR0ZXIgY2xhc3MgdG8gaGFuZGxlIGV2ZW50c1xyXG4gKiBAZXhhbXBsZVxyXG4gKiBjb25zdCBlbWl0dGVyID0gbmV3IEVtaXR0ZXIoKVxyXG4gKiBlbWl0dGVyLm9uKCdldmVudCcsIChkYXRhKSA9PiB7XHJcbiAqICAgY29uc29sZS5sb2coZGF0YSlcclxuICogfSlcclxuICogZW1pdHRlci5lbWl0KCdldmVudCcsICdkYXRhJylcclxuICovXHJcbmV4cG9ydCBjbGFzcyBFbWl0dGVyIHtcclxuICBwcml2YXRlIGV2ZW50czogUmVjb3JkPFxyXG4gICAgc3RyaW5nLFxyXG4gICAgQXJyYXk8KC4uLmFyZ3M6IHVua25vd25bXSkgPT4gdm9pZD4gfCB1bmRlZmluZWRcclxuICA+ID0ge31cclxuXHJcbiAgLyoqXHJcbiAgICogRW1pdCBhbiBldmVudCB3aXRoIHRoZSBnaXZlbiBkYXRhXHJcbiAgICogQHBhcmFtIGV2ZW50IEV2ZW50IG5hbWVcclxuICAgKiBAcGFyYW0gYXJncyBEYXRhIHRvIHBhc3MgdG8gdGhlIGV2ZW50IGhhbmRsZXJzXHJcbiAgICovXHJcbiAgZW1pdChldmVudDogc3RyaW5nLCAuLi5hcmdzOiB1bmtub3duW10pIHtcclxuICAgIGxldCBjYWxsYmFja3MgPSB0aGlzLmV2ZW50c1tldmVudF0gfHwgW11cclxuICAgIGZvciAobGV0IGkgPSAwLCBsZW5ndGggPSBjYWxsYmFja3MubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgY2FsbGJhY2tzW2ldPy4oLi4uYXJncylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCBhIGNhbGxiYWNrIHRvIHRoZSBldmVudFxyXG4gICAqIEBwYXJhbSBldmVudCBFdmVudCBuYW1lXHJcbiAgICogQHBhcmFtIGNiIENhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgICogQHJldHVybnMgVW5zdWJzY3JpYmUgZnVuY3Rpb25cclxuICAgKi9cclxuICBvbjxDQiBleHRlbmRzICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZD4oZXZlbnQ6IHN0cmluZywgY2I6IENCKSB7XHJcbiAgICAvLyBBZGQgdGhlIGNhbGxiYWNrIHRvIHRoZSBldmVudCdzIGNhbGxiYWNrIGxpc3QsIG9yIGNyZWF0ZSBhIG5ldyBsaXN0IHdpdGggdGhlIGNhbGxiYWNrXHJcbiAgICB0aGlzLmV2ZW50c1tldmVudF0/LnB1c2goY2IpIHx8ICh0aGlzLmV2ZW50c1tldmVudF0gPSBbY2JdKVxyXG5cclxuICAgIC8vIFJldHVybiBhbiB1bnN1YnNjcmliZSBmdW5jdGlvblxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgdGhpcy5ldmVudHNbZXZlbnRdID0gdGhpcy5ldmVudHNbZXZlbnRdPy5maWx0ZXIoKGkpID0+IGNiICE9PSBpKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVtb3ZlIGEgY2FsbGJhY2sgZnJvbSB0aGUgZXZlbnRcclxuICAgKiBAcGFyYW0gZXZlbnQgRXZlbnQgbmFtZVxyXG4gICAqIEBwYXJhbSBjYWxsYmFjayBDYWxsYmFjayBmdW5jdGlvblxyXG4gICAqL1xyXG4gIG9mZjxDQiBleHRlbmRzICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZD4oZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IENCKSB7XHJcbiAgICB0aGlzLmV2ZW50c1tldmVudF0gPSB0aGlzLmV2ZW50c1tldmVudF0/LmZpbHRlcigoaSkgPT4gY2FsbGJhY2sgIT09IGkpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZW1vdmUgYWxsIGV2ZW50IGxpc3RlbmVycyBhbmQgY2xlYW4gdXBcclxuICAgKi9cclxuICBkZXN0cm95KCkge1xyXG4gICAgdGhpcy5ldmVudHMgPSB7fVxyXG4gIH1cclxufVxyXG4iLCAiaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gJy4vZW1pdHRlcidcclxuaW1wb3J0IHR5cGUgeyBWaXJ0dWFsU2Nyb2xsQ2FsbGJhY2sgfSBmcm9tICcuL3R5cGVzJ1xyXG5cclxuY29uc3QgTElORV9IRUlHSFQgPSAxMDAgLyA2XHJcbmNvbnN0IGxpc3RlbmVyT3B0aW9uczogQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnMgPSB7IHBhc3NpdmU6IGZhbHNlIH1cclxuXHJcbmV4cG9ydCBjbGFzcyBWaXJ0dWFsU2Nyb2xsIHtcclxuICB0b3VjaFN0YXJ0ID0ge1xyXG4gICAgeDogMCxcclxuICAgIHk6IDAsXHJcbiAgfVxyXG4gIGxhc3REZWx0YSA9IHtcclxuICAgIHg6IDAsXHJcbiAgICB5OiAwLFxyXG4gIH1cclxuICB3aW5kb3cgPSB7XHJcbiAgICB3aWR0aDogMCxcclxuICAgIGhlaWdodDogMCxcclxuICB9XHJcbiAgcHJpdmF0ZSBlbWl0dGVyID0gbmV3IEVtaXR0ZXIoKVxyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgZWxlbWVudDogSFRNTEVsZW1lbnQsXHJcbiAgICBwcml2YXRlIG9wdGlvbnMgPSB7IHdoZWVsTXVsdGlwbGllcjogMSwgdG91Y2hNdWx0aXBsaWVyOiAxIH1cclxuICApIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uV2luZG93UmVzaXplLCBmYWxzZSlcclxuICAgIHRoaXMub25XaW5kb3dSZXNpemUoKVxyXG5cclxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIHRoaXMub25XaGVlbCwgbGlzdGVuZXJPcHRpb25zKVxyXG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICd0b3VjaHN0YXJ0JyxcclxuICAgICAgdGhpcy5vblRvdWNoU3RhcnQsXHJcbiAgICAgIGxpc3RlbmVyT3B0aW9uc1xyXG4gICAgKVxyXG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICd0b3VjaG1vdmUnLFxyXG4gICAgICB0aGlzLm9uVG91Y2hNb3ZlLFxyXG4gICAgICBsaXN0ZW5lck9wdGlvbnNcclxuICAgIClcclxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Ub3VjaEVuZCwgbGlzdGVuZXJPcHRpb25zKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIGFuIGV2ZW50IGxpc3RlbmVyIGZvciB0aGUgZ2l2ZW4gZXZlbnQgYW5kIGNhbGxiYWNrXHJcbiAgICpcclxuICAgKiBAcGFyYW0gZXZlbnQgRXZlbnQgbmFtZVxyXG4gICAqIEBwYXJhbSBjYWxsYmFjayBDYWxsYmFjayBmdW5jdGlvblxyXG4gICAqL1xyXG4gIG9uKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBWaXJ0dWFsU2Nyb2xsQ2FsbGJhY2spIHtcclxuICAgIHJldHVybiB0aGlzLmVtaXR0ZXIub24oZXZlbnQsIGNhbGxiYWNrKVxyXG4gIH1cclxuXHJcbiAgLyoqIFJlbW92ZSBhbGwgZXZlbnQgbGlzdGVuZXJzIGFuZCBjbGVhbiB1cCAqL1xyXG4gIGRlc3Ryb3koKSB7XHJcbiAgICB0aGlzLmVtaXR0ZXIuZGVzdHJveSgpXHJcblxyXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25XaW5kb3dSZXNpemUsIGZhbHNlKVxyXG5cclxuICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd3aGVlbCcsIHRoaXMub25XaGVlbCwgbGlzdGVuZXJPcHRpb25zKVxyXG4gICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICd0b3VjaHN0YXJ0JyxcclxuICAgICAgdGhpcy5vblRvdWNoU3RhcnQsXHJcbiAgICAgIGxpc3RlbmVyT3B0aW9uc1xyXG4gICAgKVxyXG4gICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICd0b3VjaG1vdmUnLFxyXG4gICAgICB0aGlzLm9uVG91Y2hNb3ZlLFxyXG4gICAgICBsaXN0ZW5lck9wdGlvbnNcclxuICAgIClcclxuICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxyXG4gICAgICAndG91Y2hlbmQnLFxyXG4gICAgICB0aGlzLm9uVG91Y2hFbmQsXHJcbiAgICAgIGxpc3RlbmVyT3B0aW9uc1xyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRXZlbnQgaGFuZGxlciBmb3IgJ3RvdWNoc3RhcnQnIGV2ZW50XHJcbiAgICpcclxuICAgKiBAcGFyYW0gZXZlbnQgVG91Y2ggZXZlbnRcclxuICAgKi9cclxuICBvblRvdWNoU3RhcnQgPSAoZXZlbnQ6IFRvdWNoRXZlbnQpID0+IHtcclxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBldmVudC50YXJnZXRUb3VjaGVzIGlzIG5vdCBkZWZpbmVkXHJcbiAgICBjb25zdCB7IGNsaWVudFgsIGNsaWVudFkgfSA9IGV2ZW50LnRhcmdldFRvdWNoZXNcclxuICAgICAgPyBldmVudC50YXJnZXRUb3VjaGVzWzBdXHJcbiAgICAgIDogZXZlbnRcclxuXHJcbiAgICB0aGlzLnRvdWNoU3RhcnQueCA9IGNsaWVudFhcclxuICAgIHRoaXMudG91Y2hTdGFydC55ID0gY2xpZW50WVxyXG5cclxuICAgIHRoaXMubGFzdERlbHRhID0ge1xyXG4gICAgICB4OiAwLFxyXG4gICAgICB5OiAwLFxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZW1pdHRlci5lbWl0KCdzY3JvbGwnLCB7XHJcbiAgICAgIGRlbHRhWDogMCxcclxuICAgICAgZGVsdGFZOiAwLFxyXG4gICAgICBldmVudCxcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKiogRXZlbnQgaGFuZGxlciBmb3IgJ3RvdWNobW92ZScgZXZlbnQgKi9cclxuICBvblRvdWNoTW92ZSA9IChldmVudDogVG91Y2hFdmVudCkgPT4ge1xyXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIGV2ZW50LnRhcmdldFRvdWNoZXMgaXMgbm90IGRlZmluZWRcclxuICAgIGNvbnN0IHsgY2xpZW50WCwgY2xpZW50WSB9ID0gZXZlbnQudGFyZ2V0VG91Y2hlc1xyXG4gICAgICA/IGV2ZW50LnRhcmdldFRvdWNoZXNbMF1cclxuICAgICAgOiBldmVudFxyXG5cclxuICAgIGNvbnN0IGRlbHRhWCA9IC0oY2xpZW50WCAtIHRoaXMudG91Y2hTdGFydC54KSAqIHRoaXMub3B0aW9ucy50b3VjaE11bHRpcGxpZXJcclxuICAgIGNvbnN0IGRlbHRhWSA9IC0oY2xpZW50WSAtIHRoaXMudG91Y2hTdGFydC55KSAqIHRoaXMub3B0aW9ucy50b3VjaE11bHRpcGxpZXJcclxuXHJcbiAgICB0aGlzLnRvdWNoU3RhcnQueCA9IGNsaWVudFhcclxuICAgIHRoaXMudG91Y2hTdGFydC55ID0gY2xpZW50WVxyXG5cclxuICAgIHRoaXMubGFzdERlbHRhID0ge1xyXG4gICAgICB4OiBkZWx0YVgsXHJcbiAgICAgIHk6IGRlbHRhWSxcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmVtaXR0ZXIuZW1pdCgnc2Nyb2xsJywge1xyXG4gICAgICBkZWx0YVgsXHJcbiAgICAgIGRlbHRhWSxcclxuICAgICAgZXZlbnQsXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgb25Ub3VjaEVuZCA9IChldmVudDogVG91Y2hFdmVudCkgPT4ge1xyXG4gICAgdGhpcy5lbWl0dGVyLmVtaXQoJ3Njcm9sbCcsIHtcclxuICAgICAgZGVsdGFYOiB0aGlzLmxhc3REZWx0YS54LFxyXG4gICAgICBkZWx0YVk6IHRoaXMubGFzdERlbHRhLnksXHJcbiAgICAgIGV2ZW50LFxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIC8qKiBFdmVudCBoYW5kbGVyIGZvciAnd2hlZWwnIGV2ZW50ICovXHJcbiAgb25XaGVlbCA9IChldmVudDogV2hlZWxFdmVudCkgPT4ge1xyXG4gICAgbGV0IHsgZGVsdGFYLCBkZWx0YVksIGRlbHRhTW9kZSB9ID0gZXZlbnRcclxuXHJcbiAgICBjb25zdCBtdWx0aXBsaWVyWCA9XHJcbiAgICAgIGRlbHRhTW9kZSA9PT0gMSA/IExJTkVfSEVJR0hUIDogZGVsdGFNb2RlID09PSAyID8gdGhpcy53aW5kb3cud2lkdGggOiAxXHJcbiAgICBjb25zdCBtdWx0aXBsaWVyWSA9XHJcbiAgICAgIGRlbHRhTW9kZSA9PT0gMSA/IExJTkVfSEVJR0hUIDogZGVsdGFNb2RlID09PSAyID8gdGhpcy53aW5kb3cuaGVpZ2h0IDogMVxyXG5cclxuICAgIGRlbHRhWCAqPSBtdWx0aXBsaWVyWFxyXG4gICAgZGVsdGFZICo9IG11bHRpcGxpZXJZXHJcblxyXG4gICAgZGVsdGFYICo9IHRoaXMub3B0aW9ucy53aGVlbE11bHRpcGxpZXJcclxuICAgIGRlbHRhWSAqPSB0aGlzLm9wdGlvbnMud2hlZWxNdWx0aXBsaWVyXHJcblxyXG4gICAgdGhpcy5lbWl0dGVyLmVtaXQoJ3Njcm9sbCcsIHsgZGVsdGFYLCBkZWx0YVksIGV2ZW50IH0pXHJcbiAgfVxyXG5cclxuICBvbldpbmRvd1Jlc2l6ZSA9ICgpID0+IHtcclxuICAgIHRoaXMud2luZG93ID0ge1xyXG4gICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsXHJcbiAgICAgIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0LFxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCAiaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2UuanNvbidcbmltcG9ydCB7IEFuaW1hdGUgfSBmcm9tICcuL2FuaW1hdGUnXG5pbXBvcnQgeyBEaW1lbnNpb25zIH0gZnJvbSAnLi9kaW1lbnNpb25zJ1xuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gJy4vZW1pdHRlcidcbmltcG9ydCB7IGNsYW1wLCBtb2R1bG8gfSBmcm9tICcuL21hdGhzJ1xuaW1wb3J0IHR5cGUge1xuICBMZW5pc0V2ZW50LFxuICBMZW5pc09wdGlvbnMsXG4gIFNjcm9sbENhbGxiYWNrLFxuICBTY3JvbGxpbmcsXG4gIFNjcm9sbFRvT3B0aW9ucyxcbiAgVXNlckRhdGEsXG4gIFZpcnR1YWxTY3JvbGxDYWxsYmFjayxcbiAgVmlydHVhbFNjcm9sbERhdGEsXG59IGZyb20gJy4vdHlwZXMnXG5pbXBvcnQgeyBWaXJ0dWFsU2Nyb2xsIH0gZnJvbSAnLi92aXJ0dWFsLXNjcm9sbCdcblxuLy8gVGVjaG5pY2FsIGV4cGxhbmF0aW9uXG4vLyAtIGxpc3RlbiB0byAnd2hlZWwnIGV2ZW50c1xuLy8gLSBwcmV2ZW50ICd3aGVlbCcgZXZlbnQgdG8gcHJldmVudCBzY3JvbGxcbi8vIC0gbm9ybWFsaXplIHdoZWVsIGRlbHRhXG4vLyAtIGFkZCBkZWx0YSB0byB0YXJnZXRTY3JvbGxcbi8vIC0gYW5pbWF0ZSBzY3JvbGwgdG8gdGFyZ2V0U2Nyb2xsIChzbW9vdGggY29udGV4dClcbi8vIC0gaWYgYW5pbWF0aW9uIGlzIG5vdCBydW5uaW5nLCBsaXN0ZW4gdG8gJ3Njcm9sbCcgZXZlbnRzIChuYXRpdmUgY29udGV4dClcblxudHlwZSBPcHRpb25hbFBpY2s8VCwgRiBleHRlbmRzIGtleW9mIFQ+ID0gT21pdDxULCBGPiAmIFBhcnRpYWw8UGljazxULCBGPj5cblxuY29uc3QgZGVmYXVsdEVhc2luZyA9ICh0OiBudW1iZXIpID0+IE1hdGgubWluKDEsIDEuMDAxIC0gTWF0aC5wb3coMiwgLTEwICogdCkpXG5cbmV4cG9ydCBjbGFzcyBMZW5pcyB7XG4gIHByaXZhdGUgX2lzU2Nyb2xsaW5nOiBTY3JvbGxpbmcgPSBmYWxzZSAvLyB0cnVlIHdoZW4gc2Nyb2xsIGlzIGFuaW1hdGluZ1xuICBwcml2YXRlIF9pc1N0b3BwZWQgPSBmYWxzZSAvLyB0cnVlIGlmIHVzZXIgc2hvdWxkIG5vdCBiZSBhYmxlIHRvIHNjcm9sbCAtIGVuYWJsZS9kaXNhYmxlIHByb2dyYW1tYXRpY2FsbHlcbiAgcHJpdmF0ZSBfaXNMb2NrZWQgPSBmYWxzZSAvLyBzYW1lIGFzIGlzU3RvcHBlZCBidXQgZW5hYmxlZC9kaXNhYmxlZCB3aGVuIHNjcm9sbCByZWFjaGVzIHRhcmdldFxuICBwcml2YXRlIF9wcmV2ZW50TmV4dE5hdGl2ZVNjcm9sbEV2ZW50ID0gZmFsc2VcbiAgcHJpdmF0ZSBfcmVzZXRWZWxvY2l0eVRpbWVvdXQ6IFJldHVyblR5cGU8dHlwZW9mIHNldFRpbWVvdXQ+IHwgbnVsbCA9IG51bGxcbiAgcHJpdmF0ZSBfX3JhZklEOiBudW1iZXIgfCBudWxsID0gbnVsbFxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgdXNlciBpcyB0b3VjaGluZyB0aGUgc2NyZWVuXG4gICAqL1xuICBpc1RvdWNoaW5nPzogYm9vbGVhblxuICAvKipcbiAgICogVGhlIHRpbWUgaW4gbXMgc2luY2UgdGhlIGxlbmlzIGluc3RhbmNlIHdhcyBjcmVhdGVkXG4gICAqL1xuICB0aW1lID0gMFxuICAvKipcbiAgICogVXNlciBkYXRhIHRoYXQgd2lsbCBiZSBmb3J3YXJkZWQgdGhyb3VnaCB0aGUgc2Nyb2xsIGV2ZW50XG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGxlbmlzLnNjcm9sbFRvKDEwMCwge1xuICAgKiAgIHVzZXJEYXRhOiB7XG4gICAqICAgICBmb286ICdiYXInXG4gICAqICAgfVxuICAgKiB9KVxuICAgKi9cbiAgdXNlckRhdGE6IFVzZXJEYXRhID0ge31cbiAgLyoqXG4gICAqIFRoZSBsYXN0IHZlbG9jaXR5IG9mIHRoZSBzY3JvbGxcbiAgICovXG4gIGxhc3RWZWxvY2l0eSA9IDBcbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50IHZlbG9jaXR5IG9mIHRoZSBzY3JvbGxcbiAgICovXG4gIHZlbG9jaXR5ID0gMFxuICAvKipcbiAgICogVGhlIGRpcmVjdGlvbiBvZiB0aGUgc2Nyb2xsXG4gICAqL1xuICBkaXJlY3Rpb246IDEgfCAtMSB8IDAgPSAwXG4gIC8qKlxuICAgKiBUaGUgb3B0aW9ucyBwYXNzZWQgdG8gdGhlIGxlbmlzIGluc3RhbmNlXG4gICAqL1xuICBvcHRpb25zOiBPcHRpb25hbFBpY2s8XG4gICAgUmVxdWlyZWQ8TGVuaXNPcHRpb25zPixcbiAgICAnZHVyYXRpb24nIHwgJ2Vhc2luZycgfCAncHJldmVudCcgfCAndmlydHVhbFNjcm9sbCdcbiAgPlxuICAvKipcbiAgICogVGhlIHRhcmdldCBzY3JvbGwgdmFsdWVcbiAgICovXG4gIHRhcmdldFNjcm9sbDogbnVtYmVyXG4gIC8qKlxuICAgKiBUaGUgYW5pbWF0ZWQgc2Nyb2xsIHZhbHVlXG4gICAqL1xuICBhbmltYXRlZFNjcm9sbDogbnVtYmVyXG5cbiAgLy8gVGhlc2UgYXJlIGluc3RhbmNpYXRlZCBoZXJlIGFzIHRoZXkgZG9uJ3QgbmVlZCBpbmZvcm1hdGlvbiBmcm9tIHRoZSBvcHRpb25zXG4gIHByaXZhdGUgcmVhZG9ubHkgYW5pbWF0ZSA9IG5ldyBBbmltYXRlKClcbiAgcHJpdmF0ZSByZWFkb25seSBlbWl0dGVyID0gbmV3IEVtaXR0ZXIoKVxuICAvLyBUaGVzZSBhcmUgaW5zdGFuY2lhdGVkIGluIHRoZSBjb25zdHJ1Y3RvciBhcyB0aGV5IG5lZWQgaW5mb3JtYXRpb24gZnJvbSB0aGUgb3B0aW9uc1xuICByZWFkb25seSBkaW1lbnNpb25zOiBEaW1lbnNpb25zIC8vIFRoaXMgaXMgbm90IHByaXZhdGUgYmVjYXVzZSBpdCdzIHVzZWQgaW4gdGhlIFNuYXAgY2xhc3NcbiAgcHJpdmF0ZSByZWFkb25seSB2aXJ0dWFsU2Nyb2xsOiBWaXJ0dWFsU2Nyb2xsXG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIHdyYXBwZXIgPSB3aW5kb3csXG4gICAgY29udGVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcbiAgICBldmVudHNUYXJnZXQgPSB3cmFwcGVyLFxuICAgIHNtb290aFdoZWVsID0gdHJ1ZSxcbiAgICBzeW5jVG91Y2ggPSBmYWxzZSxcbiAgICBzeW5jVG91Y2hMZXJwID0gMC4wNzUsXG4gICAgdG91Y2hJbmVydGlhRXhwb25lbnQgPSAxLjcsXG4gICAgZHVyYXRpb24sIC8vIGluIHNlY29uZHNcbiAgICBlYXNpbmcsXG4gICAgbGVycCA9IDAuMSxcbiAgICBpbmZpbml0ZSA9IGZhbHNlLFxuICAgIG9yaWVudGF0aW9uID0gJ3ZlcnRpY2FsJywgLy8gdmVydGljYWwsIGhvcml6b250YWxcbiAgICBnZXN0dXJlT3JpZW50YXRpb24gPSBvcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnID8gJ2JvdGgnIDogJ3ZlcnRpY2FsJywgLy8gdmVydGljYWwsIGhvcml6b250YWwsIGJvdGhcbiAgICB0b3VjaE11bHRpcGxpZXIgPSAxLFxuICAgIHdoZWVsTXVsdGlwbGllciA9IDEsXG4gICAgYXV0b1Jlc2l6ZSA9IHRydWUsXG4gICAgcHJldmVudCxcbiAgICB2aXJ0dWFsU2Nyb2xsLFxuICAgIG92ZXJzY3JvbGwgPSB0cnVlLFxuICAgIGF1dG9SYWYgPSBmYWxzZSxcbiAgICBhbmNob3JzID0gZmFsc2UsXG4gICAgYXV0b1RvZ2dsZSA9IGZhbHNlLCAvLyBodHRwczovL2Nhbml1c2UuY29tLz9zZWFyY2g9dHJhbnNpdGlvbi1iZWhhdmlvclxuICAgIGFsbG93TmVzdGVkU2Nyb2xsID0gZmFsc2UsXG4gICAgX19leHBlcmltZW50YWxfX25haXZlRGltZW5zaW9ucyA9IGZhbHNlLFxuICB9OiBMZW5pc09wdGlvbnMgPSB7fSkge1xuICAgIC8vIFNldCB2ZXJzaW9uXG4gICAgd2luZG93LmxlbmlzVmVyc2lvbiA9IHZlcnNpb25cblxuICAgIC8vIENoZWNrIGlmIHdyYXBwZXIgaXMgPGh0bWw+LCBmYWxsYmFjayB0byB3aW5kb3dcbiAgICBpZiAoIXdyYXBwZXIgfHwgd3JhcHBlciA9PT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICB3cmFwcGVyID0gd2luZG93XG4gICAgfVxuXG4gICAgLy8gZmxpcCB0byBlYXNpbmcvdGltZSBiYXNlZCBhbmltYXRpb24gaWYgYXQgbGVhc3Qgb25lIG9mIHRoZW0gaXMgcHJvdmlkZWRcbiAgICBpZiAodHlwZW9mIGR1cmF0aW9uID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgZWFzaW5nICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBlYXNpbmcgPSBkZWZhdWx0RWFzaW5nXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZWFzaW5nID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkdXJhdGlvbiAhPT0gJ251bWJlcicpIHtcbiAgICAgIGR1cmF0aW9uID0gMVxuICAgIH1cblxuICAgIC8vIFNldHVwIG9wdGlvbnNcbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICB3cmFwcGVyLFxuICAgICAgY29udGVudCxcbiAgICAgIGV2ZW50c1RhcmdldCxcbiAgICAgIHNtb290aFdoZWVsLFxuICAgICAgc3luY1RvdWNoLFxuICAgICAgc3luY1RvdWNoTGVycCxcbiAgICAgIHRvdWNoSW5lcnRpYUV4cG9uZW50LFxuICAgICAgZHVyYXRpb24sXG4gICAgICBlYXNpbmcsXG4gICAgICBsZXJwLFxuICAgICAgaW5maW5pdGUsXG4gICAgICBnZXN0dXJlT3JpZW50YXRpb24sXG4gICAgICBvcmllbnRhdGlvbixcbiAgICAgIHRvdWNoTXVsdGlwbGllcixcbiAgICAgIHdoZWVsTXVsdGlwbGllcixcbiAgICAgIGF1dG9SZXNpemUsXG4gICAgICBwcmV2ZW50LFxuICAgICAgdmlydHVhbFNjcm9sbCxcbiAgICAgIG92ZXJzY3JvbGwsXG4gICAgICBhdXRvUmFmLFxuICAgICAgYW5jaG9ycyxcbiAgICAgIGF1dG9Ub2dnbGUsXG4gICAgICBhbGxvd05lc3RlZFNjcm9sbCxcbiAgICAgIF9fZXhwZXJpbWVudGFsX19uYWl2ZURpbWVuc2lvbnMsXG4gICAgfVxuXG4gICAgLy8gU2V0dXAgZGltZW5zaW9ucyBpbnN0YW5jZVxuICAgIHRoaXMuZGltZW5zaW9ucyA9IG5ldyBEaW1lbnNpb25zKHdyYXBwZXIsIGNvbnRlbnQsIHsgYXV0b1Jlc2l6ZSB9KVxuXG4gICAgLy8gU2V0dXAgY2xhc3MgbmFtZVxuICAgIHRoaXMudXBkYXRlQ2xhc3NOYW1lKClcblxuICAgIC8vIFNldCB0aGUgaW5pdGlhbCBzY3JvbGwgdmFsdWUgZm9yIGFsbCBzY3JvbGwgaW5mb3JtYXRpb25cbiAgICB0aGlzLnRhcmdldFNjcm9sbCA9IHRoaXMuYW5pbWF0ZWRTY3JvbGwgPSB0aGlzLmFjdHVhbFNjcm9sbFxuXG4gICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVyc1xuICAgIHRoaXMub3B0aW9ucy53cmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMub25OYXRpdmVTY3JvbGwsIGZhbHNlKVxuXG4gICAgdGhpcy5vcHRpb25zLndyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsZW5kJywgdGhpcy5vblNjcm9sbEVuZCwge1xuICAgICAgY2FwdHVyZTogdHJ1ZSxcbiAgICB9KVxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hbmNob3JzICYmIHRoaXMub3B0aW9ucy53cmFwcGVyID09PSB3aW5kb3cpIHtcbiAgICAgIHRoaXMub3B0aW9ucy53cmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICdjbGljaycsXG4gICAgICAgIHRoaXMub25DbGljayBhcyBFdmVudExpc3RlbmVyLFxuICAgICAgICBmYWxzZVxuICAgICAgKVxuICAgIH1cblxuICAgIHRoaXMub3B0aW9ucy53cmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAncG9pbnRlcmRvd24nLFxuICAgICAgdGhpcy5vblBvaW50ZXJEb3duIGFzIEV2ZW50TGlzdGVuZXIsXG4gICAgICBmYWxzZVxuICAgIClcblxuICAgIC8vIFNldHVwIHZpcnR1YWwgc2Nyb2xsIGluc3RhbmNlXG4gICAgdGhpcy52aXJ0dWFsU2Nyb2xsID0gbmV3IFZpcnR1YWxTY3JvbGwoZXZlbnRzVGFyZ2V0IGFzIEhUTUxFbGVtZW50LCB7XG4gICAgICB0b3VjaE11bHRpcGxpZXIsXG4gICAgICB3aGVlbE11bHRpcGxpZXIsXG4gICAgfSlcbiAgICB0aGlzLnZpcnR1YWxTY3JvbGwub24oJ3Njcm9sbCcsIHRoaXMub25WaXJ0dWFsU2Nyb2xsKVxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvVG9nZ2xlKSB7XG4gICAgICB0aGlzLnJvb3RFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCB0aGlzLm9uVHJhbnNpdGlvbkVuZCwge1xuICAgICAgICBwYXNzaXZlOiB0cnVlLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmF1dG9SYWYpIHtcbiAgICAgIHRoaXMuX19yYWZJRCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnJhZilcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveSB0aGUgbGVuaXMgaW5zdGFuY2UsIHJlbW92ZSBhbGwgZXZlbnQgbGlzdGVuZXJzIGFuZCBjbGVhbiB1cCB0aGUgY2xhc3MgbmFtZVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmVtaXR0ZXIuZGVzdHJveSgpXG5cbiAgICB0aGlzLm9wdGlvbnMud3JhcHBlci5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgJ3Njcm9sbCcsXG4gICAgICB0aGlzLm9uTmF0aXZlU2Nyb2xsLFxuICAgICAgZmFsc2VcbiAgICApXG5cbiAgICB0aGlzLm9wdGlvbnMud3JhcHBlci5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGxlbmQnLCB0aGlzLm9uU2Nyb2xsRW5kLCB7XG4gICAgICBjYXB0dXJlOiB0cnVlLFxuICAgIH0pXG5cbiAgICB0aGlzLm9wdGlvbnMud3JhcHBlci5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgJ3BvaW50ZXJkb3duJyxcbiAgICAgIHRoaXMub25Qb2ludGVyRG93biBhcyBFdmVudExpc3RlbmVyLFxuICAgICAgZmFsc2VcbiAgICApXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmFuY2hvcnMgJiYgdGhpcy5vcHRpb25zLndyYXBwZXIgPT09IHdpbmRvdykge1xuICAgICAgdGhpcy5vcHRpb25zLndyYXBwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ2NsaWNrJyxcbiAgICAgICAgdGhpcy5vbkNsaWNrIGFzIEV2ZW50TGlzdGVuZXIsXG4gICAgICAgIGZhbHNlXG4gICAgICApXG4gICAgfVxuXG4gICAgdGhpcy52aXJ0dWFsU2Nyb2xsLmRlc3Ryb3koKVxuICAgIHRoaXMuZGltZW5zaW9ucy5kZXN0cm95KClcblxuICAgIHRoaXMuY2xlYW5VcENsYXNzTmFtZSgpXG5cbiAgICBpZiAodGhpcy5fX3JhZklEKSB7XG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9fcmFmSUQpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhbiBldmVudCBsaXN0ZW5lciBmb3IgdGhlIGdpdmVuIGV2ZW50IGFuZCBjYWxsYmFja1xuICAgKlxuICAgKiBAcGFyYW0gZXZlbnQgRXZlbnQgbmFtZVxuICAgKiBAcGFyYW0gY2FsbGJhY2sgQ2FsbGJhY2sgZnVuY3Rpb25cbiAgICogQHJldHVybnMgVW5zdWJzY3JpYmUgZnVuY3Rpb25cbiAgICovXG4gIG9uKGV2ZW50OiAnc2Nyb2xsJywgY2FsbGJhY2s6IFNjcm9sbENhbGxiYWNrKTogKCkgPT4gdm9pZFxuICBvbihldmVudDogJ3ZpcnR1YWwtc2Nyb2xsJywgY2FsbGJhY2s6IFZpcnR1YWxTY3JvbGxDYWxsYmFjayk6ICgpID0+IHZvaWRcbiAgb24oZXZlbnQ6IExlbmlzRXZlbnQsIGNhbGxiYWNrOiBhbnkpIHtcbiAgICByZXR1cm4gdGhpcy5lbWl0dGVyLm9uKGV2ZW50LCBjYWxsYmFjaylcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIHRoZSBnaXZlbiBldmVudCBhbmQgY2FsbGJhY2tcbiAgICpcbiAgICogQHBhcmFtIGV2ZW50IEV2ZW50IG5hbWVcbiAgICogQHBhcmFtIGNhbGxiYWNrIENhbGxiYWNrIGZ1bmN0aW9uXG4gICAqL1xuICBvZmYoZXZlbnQ6ICdzY3JvbGwnLCBjYWxsYmFjazogU2Nyb2xsQ2FsbGJhY2spOiB2b2lkXG4gIG9mZihldmVudDogJ3ZpcnR1YWwtc2Nyb2xsJywgY2FsbGJhY2s6IFZpcnR1YWxTY3JvbGxDYWxsYmFjayk6IHZvaWRcbiAgb2ZmKGV2ZW50OiBMZW5pc0V2ZW50LCBjYWxsYmFjazogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuZW1pdHRlci5vZmYoZXZlbnQsIGNhbGxiYWNrKVxuICB9XG5cbiAgcHJpdmF0ZSBvblNjcm9sbEVuZCA9IChlOiBFdmVudCB8IEN1c3RvbUV2ZW50KSA9PiB7XG4gICAgaWYgKCEoZSBpbnN0YW5jZW9mIEN1c3RvbUV2ZW50KSkge1xuICAgICAgaWYgKHRoaXMuaXNTY3JvbGxpbmcgPT09ICdzbW9vdGgnIHx8IHRoaXMuaXNTY3JvbGxpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGRpc3BhdGNoU2Nyb2xsZW5kRXZlbnQgPSAoKSA9PiB7XG4gICAgdGhpcy5vcHRpb25zLndyYXBwZXIuZGlzcGF0Y2hFdmVudChcbiAgICAgIG5ldyBDdXN0b21FdmVudCgnc2Nyb2xsZW5kJywge1xuICAgICAgICBidWJibGVzOiB0aGlzLm9wdGlvbnMud3JhcHBlciA9PT0gd2luZG93LFxuICAgICAgICAvLyBjYW5jZWxhYmxlOiBmYWxzZSxcbiAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgbGVuaXNTY3JvbGxFbmQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgIClcbiAgfVxuXG4gIHByaXZhdGUgb25UcmFuc2l0aW9uRW5kID0gKGV2ZW50OiBUcmFuc2l0aW9uRXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQucHJvcGVydHlOYW1lLmluY2x1ZGVzKCdvdmVyZmxvdycpKSB7XG4gICAgICBjb25zdCBwcm9wZXJ0eSA9IHRoaXMuaXNIb3Jpem9udGFsID8gJ292ZXJmbG93LXgnIDogJ292ZXJmbG93LXknXG5cbiAgICAgIGNvbnN0IG92ZXJmbG93ID0gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLnJvb3RFbGVtZW50KVtcbiAgICAgICAgcHJvcGVydHkgYXMga2V5b2YgQ1NTU3R5bGVEZWNsYXJhdGlvblxuICAgICAgXSBhcyBzdHJpbmdcblxuICAgICAgaWYgKFsnaGlkZGVuJywgJ2NsaXAnXS5pbmNsdWRlcyhvdmVyZmxvdykpIHtcbiAgICAgICAgdGhpcy5pbnRlcm5hbFN0b3AoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pbnRlcm5hbFN0YXJ0KClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHNldFNjcm9sbChzY3JvbGw6IG51bWJlcikge1xuICAgIC8vIGJlaGF2aW9yOiAnaW5zdGFudCcgYnlwYXNzZXMgdGhlIHNjcm9sbC1iZWhhdmlvciBDU1MgcHJvcGVydHlcblxuICAgIGlmICh0aGlzLmlzSG9yaXpvbnRhbCkge1xuICAgICAgdGhpcy5vcHRpb25zLndyYXBwZXIuc2Nyb2xsVG8oeyBsZWZ0OiBzY3JvbGwsIGJlaGF2aW9yOiAnaW5zdGFudCcgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vcHRpb25zLndyYXBwZXIuc2Nyb2xsVG8oeyB0b3A6IHNjcm9sbCwgYmVoYXZpb3I6ICdpbnN0YW50JyB9KVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgb25DbGljayA9IChldmVudDogUG9pbnRlckV2ZW50IHwgTW91c2VFdmVudCkgPT4ge1xuICAgIGNvbnN0IHBhdGggPSBldmVudC5jb21wb3NlZFBhdGgoKVxuICAgIGNvbnN0IGFuY2hvciA9IHBhdGguZmluZChcbiAgICAgIChub2RlKSA9PlxuICAgICAgICBub2RlIGluc3RhbmNlb2YgSFRNTEFuY2hvckVsZW1lbnQgJiZcbiAgICAgICAgbm9kZS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKT8uaW5jbHVkZXMoJyMnKVxuICAgICkgYXMgSFRNTEFuY2hvckVsZW1lbnQgfCB1bmRlZmluZWRcbiAgICBpZiAoYW5jaG9yKSB7XG4gICAgICBjb25zdCBocmVmID0gYW5jaG9yLmdldEF0dHJpYnV0ZSgnaHJlZicpXG5cbiAgICAgIGlmIChocmVmKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPVxuICAgICAgICAgIHR5cGVvZiB0aGlzLm9wdGlvbnMuYW5jaG9ycyA9PT0gJ29iamVjdCcgJiYgdGhpcy5vcHRpb25zLmFuY2hvcnNcbiAgICAgICAgICAgID8gdGhpcy5vcHRpb25zLmFuY2hvcnNcbiAgICAgICAgICAgIDogdW5kZWZpbmVkXG5cbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gYCMke2hyZWYuc3BsaXQoJyMnKVsxXX1gXG5cbiAgICAgICAgdGhpcy5zY3JvbGxUbyh0YXJnZXQsIG9wdGlvbnMpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBvblBvaW50ZXJEb3duID0gKGV2ZW50OiBQb2ludGVyRXZlbnQgfCBNb3VzZUV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LmJ1dHRvbiA9PT0gMSkge1xuICAgICAgdGhpcy5yZXNldCgpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBvblZpcnR1YWxTY3JvbGwgPSAoZGF0YTogVmlydHVhbFNjcm9sbERhdGEpID0+IHtcbiAgICBpZiAoXG4gICAgICB0eXBlb2YgdGhpcy5vcHRpb25zLnZpcnR1YWxTY3JvbGwgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIHRoaXMub3B0aW9ucy52aXJ0dWFsU2Nyb2xsKGRhdGEpID09PSBmYWxzZVxuICAgIClcbiAgICAgIHJldHVyblxuXG4gICAgY29uc3QgeyBkZWx0YVgsIGRlbHRhWSwgZXZlbnQgfSA9IGRhdGFcblxuICAgIHRoaXMuZW1pdHRlci5lbWl0KCd2aXJ0dWFsLXNjcm9sbCcsIHsgZGVsdGFYLCBkZWx0YVksIGV2ZW50IH0pXG5cbiAgICAvLyBrZWVwIHpvb20gZmVhdHVyZVxuICAgIGlmIChldmVudC5jdHJsS2V5KSByZXR1cm5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWYgKGV2ZW50LmxlbmlzU3RvcFByb3BhZ2F0aW9uKSByZXR1cm5cblxuICAgIGNvbnN0IGlzVG91Y2ggPSBldmVudC50eXBlLmluY2x1ZGVzKCd0b3VjaCcpXG4gICAgY29uc3QgaXNXaGVlbCA9IGV2ZW50LnR5cGUuaW5jbHVkZXMoJ3doZWVsJylcblxuICAgIHRoaXMuaXNUb3VjaGluZyA9IGV2ZW50LnR5cGUgPT09ICd0b3VjaHN0YXJ0JyB8fCBldmVudC50eXBlID09PSAndG91Y2htb3ZlJ1xuICAgIC8vIGlmIChldmVudC50eXBlID09PSAndG91Y2hlbmQnKSB7XG4gICAgLy8gICBjb25zb2xlLmxvZygndG91Y2hlbmQnLCB0aGlzLnNjcm9sbClcbiAgICAvLyAgIC8vIHRoaXMubGFzdFZlbG9jaXR5ID0gdGhpcy52ZWxvY2l0eVxuICAgIC8vICAgLy8gdGhpcy52ZWxvY2l0eSA9IDBcbiAgICAvLyAgIC8vIHRoaXMuaXNTY3JvbGxpbmcgPSBmYWxzZVxuICAgIC8vICAgdGhpcy5lbWl0KHsgdHlwZTogJ3RvdWNoZW5kJyB9KVxuICAgIC8vICAgLy8gYWxlcnQoJ3RvdWNoZW5kJylcbiAgICAvLyAgIHJldHVyblxuICAgIC8vIH1cblxuICAgIGNvbnN0IGlzQ2xpY2tPclRhcCA9IGRlbHRhWCA9PT0gMCAmJiBkZWx0YVkgPT09IDBcblxuICAgIGNvbnN0IGlzVGFwVG9TdG9wID1cbiAgICAgIHRoaXMub3B0aW9ucy5zeW5jVG91Y2ggJiZcbiAgICAgIGlzVG91Y2ggJiZcbiAgICAgIGV2ZW50LnR5cGUgPT09ICd0b3VjaHN0YXJ0JyAmJlxuICAgICAgaXNDbGlja09yVGFwICYmXG4gICAgICAhdGhpcy5pc1N0b3BwZWQgJiZcbiAgICAgICF0aGlzLmlzTG9ja2VkXG5cbiAgICBpZiAoaXNUYXBUb1N0b3ApIHtcbiAgICAgIHRoaXMucmVzZXQoKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gY29uc3QgaXNQdWxsVG9SZWZyZXNoID1cbiAgICAvLyAgIHRoaXMub3B0aW9ucy5nZXN0dXJlT3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcgJiZcbiAgICAvLyAgIHRoaXMuc2Nyb2xsID09PSAwICYmXG4gICAgLy8gICAhdGhpcy5vcHRpb25zLmluZmluaXRlICYmXG4gICAgLy8gICBkZWx0YVkgPD0gNSAvLyB0b3VjaCBwdWxsIHRvIHJlZnJlc2gsIG5vdCByZWxpYWJsZSB5ZXRcblxuICAgIGNvbnN0IGlzVW5rbm93bkdlc3R1cmUgPVxuICAgICAgKHRoaXMub3B0aW9ucy5nZXN0dXJlT3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcgJiYgZGVsdGFZID09PSAwKSB8fFxuICAgICAgKHRoaXMub3B0aW9ucy5nZXN0dXJlT3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJyAmJiBkZWx0YVggPT09IDApXG5cbiAgICBpZiAoaXNDbGlja09yVGFwIHx8IGlzVW5rbm93bkdlc3R1cmUpIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdwcmV2ZW50JylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIGNhdGNoIGlmIHNjcm9sbGluZyBvbiBuZXN0ZWQgc2Nyb2xsIGVsZW1lbnRzXG4gICAgbGV0IGNvbXBvc2VkUGF0aCA9IGV2ZW50LmNvbXBvc2VkUGF0aCgpXG4gICAgY29tcG9zZWRQYXRoID0gY29tcG9zZWRQYXRoLnNsaWNlKDAsIGNvbXBvc2VkUGF0aC5pbmRleE9mKHRoaXMucm9vdEVsZW1lbnQpKSAvLyByZW1vdmUgcGFyZW50cyBlbGVtZW50c1xuXG4gICAgY29uc3QgcHJldmVudCA9IHRoaXMub3B0aW9ucy5wcmV2ZW50XG5cbiAgICBpZiAoXG4gICAgICAhIWNvbXBvc2VkUGF0aC5maW5kKFxuICAgICAgICAobm9kZSkgPT5cbiAgICAgICAgICBub2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiZcbiAgICAgICAgICAoKHR5cGVvZiBwcmV2ZW50ID09PSAnZnVuY3Rpb24nICYmIHByZXZlbnQ/Lihub2RlKSkgfHxcbiAgICAgICAgICAgIG5vZGUuaGFzQXR0cmlidXRlPy4oJ2RhdGEtbGVuaXMtcHJldmVudCcpIHx8XG4gICAgICAgICAgICAoaXNUb3VjaCAmJiBub2RlLmhhc0F0dHJpYnV0ZT8uKCdkYXRhLWxlbmlzLXByZXZlbnQtdG91Y2gnKSkgfHxcbiAgICAgICAgICAgIChpc1doZWVsICYmIG5vZGUuaGFzQXR0cmlidXRlPy4oJ2RhdGEtbGVuaXMtcHJldmVudC13aGVlbCcpKSB8fFxuICAgICAgICAgICAgKHRoaXMub3B0aW9ucy5hbGxvd05lc3RlZFNjcm9sbCAmJlxuICAgICAgICAgICAgICB0aGlzLmNoZWNrTmVzdGVkU2Nyb2xsKG5vZGUsIHsgZGVsdGFYLCBkZWx0YVkgfSkpKVxuICAgICAgKVxuICAgIClcbiAgICAgIHJldHVyblxuXG4gICAgaWYgKHRoaXMuaXNTdG9wcGVkIHx8IHRoaXMuaXNMb2NrZWQpIHtcbiAgICAgIGlmIChldmVudC5jYW5jZWxhYmxlKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCkgLy8gdGhpcyB3aWxsIHN0b3AgZm9yd2FyZGluZyB0aGUgZXZlbnQgdG8gdGhlIHBhcmVudCwgdGhpcyBpcyBwcm9ibGVtYXRpY1xuICAgICAgfVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgaXNTbW9vdGggPVxuICAgICAgKHRoaXMub3B0aW9ucy5zeW5jVG91Y2ggJiYgaXNUb3VjaCkgfHxcbiAgICAgICh0aGlzLm9wdGlvbnMuc21vb3RoV2hlZWwgJiYgaXNXaGVlbClcblxuICAgIGlmICghaXNTbW9vdGgpIHtcbiAgICAgIHRoaXMuaXNTY3JvbGxpbmcgPSAnbmF0aXZlJ1xuICAgICAgdGhpcy5hbmltYXRlLnN0b3AoKVxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgZXZlbnQubGVuaXNTdG9wUHJvcGFnYXRpb24gPSB0cnVlXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBsZXQgZGVsdGEgPSBkZWx0YVlcbiAgICBpZiAodGhpcy5vcHRpb25zLmdlc3R1cmVPcmllbnRhdGlvbiA9PT0gJ2JvdGgnKSB7XG4gICAgICBkZWx0YSA9IE1hdGguYWJzKGRlbHRhWSkgPiBNYXRoLmFicyhkZWx0YVgpID8gZGVsdGFZIDogZGVsdGFYXG4gICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuZ2VzdHVyZU9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcpIHtcbiAgICAgIGRlbHRhID0gZGVsdGFYXG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgIXRoaXMub3B0aW9ucy5vdmVyc2Nyb2xsIHx8XG4gICAgICB0aGlzLm9wdGlvbnMuaW5maW5pdGUgfHxcbiAgICAgICh0aGlzLm9wdGlvbnMud3JhcHBlciAhPT0gd2luZG93ICYmXG4gICAgICAgIHRoaXMubGltaXQgPiAwICYmXG4gICAgICAgICgodGhpcy5hbmltYXRlZFNjcm9sbCA+IDAgJiYgdGhpcy5hbmltYXRlZFNjcm9sbCA8IHRoaXMubGltaXQpIHx8XG4gICAgICAgICAgKHRoaXMuYW5pbWF0ZWRTY3JvbGwgPT09IDAgJiYgZGVsdGFZID4gMCkgfHxcbiAgICAgICAgICAodGhpcy5hbmltYXRlZFNjcm9sbCA9PT0gdGhpcy5saW1pdCAmJiBkZWx0YVkgPCAwKSkpXG4gICAgKSB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBldmVudC5sZW5pc1N0b3BQcm9wYWdhdGlvbiA9IHRydWVcbiAgICAgIC8vIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LmNhbmNlbGFibGUpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB9XG5cbiAgICBjb25zdCBpc1N5bmNUb3VjaCA9IGlzVG91Y2ggJiYgdGhpcy5vcHRpb25zLnN5bmNUb3VjaFxuICAgIGNvbnN0IGlzVG91Y2hFbmQgPSBpc1RvdWNoICYmIGV2ZW50LnR5cGUgPT09ICd0b3VjaGVuZCdcblxuICAgIGNvbnN0IGhhc1RvdWNoSW5lcnRpYSA9IGlzVG91Y2hFbmRcblxuICAgIGlmIChoYXNUb3VjaEluZXJ0aWEpIHtcbiAgICAgIC8vIGRlbHRhID0gdGhpcy52ZWxvY2l0eSAqIHRoaXMub3B0aW9ucy50b3VjaEluZXJ0aWFNdWx0aXBsaWVyXG4gICAgICBkZWx0YSA9XG4gICAgICAgIE1hdGguc2lnbih0aGlzLnZlbG9jaXR5KSAqXG4gICAgICAgIE1hdGgucG93KE1hdGguYWJzKHRoaXMudmVsb2NpdHkpLCB0aGlzLm9wdGlvbnMudG91Y2hJbmVydGlhRXhwb25lbnQpXG4gICAgfVxuXG4gICAgdGhpcy5zY3JvbGxUbyh0aGlzLnRhcmdldFNjcm9sbCArIGRlbHRhLCB7XG4gICAgICBwcm9ncmFtbWF0aWM6IGZhbHNlLFxuICAgICAgLi4uKGlzU3luY1RvdWNoXG4gICAgICAgID8ge1xuICAgICAgICAgICAgbGVycDogaGFzVG91Y2hJbmVydGlhID8gdGhpcy5vcHRpb25zLnN5bmNUb3VjaExlcnAgOiAxLFxuICAgICAgICAgICAgLy8gaW1tZWRpYXRlOiAhaGFzVG91Y2hJbmVydGlhLFxuICAgICAgICAgIH1cbiAgICAgICAgOiB7XG4gICAgICAgICAgICBsZXJwOiB0aGlzLm9wdGlvbnMubGVycCxcbiAgICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuZHVyYXRpb24sXG4gICAgICAgICAgICBlYXNpbmc6IHRoaXMub3B0aW9ucy5lYXNpbmcsXG4gICAgICAgICAgfSksXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JjZSBsZW5pcyB0byByZWNhbGN1bGF0ZSB0aGUgZGltZW5zaW9uc1xuICAgKi9cbiAgcmVzaXplKCkge1xuICAgIHRoaXMuZGltZW5zaW9ucy5yZXNpemUoKVxuICAgIHRoaXMuYW5pbWF0ZWRTY3JvbGwgPSB0aGlzLnRhcmdldFNjcm9sbCA9IHRoaXMuYWN0dWFsU2Nyb2xsXG4gICAgdGhpcy5lbWl0KClcbiAgfVxuXG4gIHByaXZhdGUgZW1pdCgpIHtcbiAgICB0aGlzLmVtaXR0ZXIuZW1pdCgnc2Nyb2xsJywgdGhpcylcbiAgfVxuXG4gIHByaXZhdGUgb25OYXRpdmVTY3JvbGwgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuX3Jlc2V0VmVsb2NpdHlUaW1lb3V0ICE9PSBudWxsKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5fcmVzZXRWZWxvY2l0eVRpbWVvdXQpXG4gICAgICB0aGlzLl9yZXNldFZlbG9jaXR5VGltZW91dCA9IG51bGxcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fcHJldmVudE5leHROYXRpdmVTY3JvbGxFdmVudCkge1xuICAgICAgdGhpcy5fcHJldmVudE5leHROYXRpdmVTY3JvbGxFdmVudCA9IGZhbHNlXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc1Njcm9sbGluZyA9PT0gZmFsc2UgfHwgdGhpcy5pc1Njcm9sbGluZyA9PT0gJ25hdGl2ZScpIHtcbiAgICAgIGNvbnN0IGxhc3RTY3JvbGwgPSB0aGlzLmFuaW1hdGVkU2Nyb2xsXG4gICAgICB0aGlzLmFuaW1hdGVkU2Nyb2xsID0gdGhpcy50YXJnZXRTY3JvbGwgPSB0aGlzLmFjdHVhbFNjcm9sbFxuICAgICAgdGhpcy5sYXN0VmVsb2NpdHkgPSB0aGlzLnZlbG9jaXR5XG4gICAgICB0aGlzLnZlbG9jaXR5ID0gdGhpcy5hbmltYXRlZFNjcm9sbCAtIGxhc3RTY3JvbGxcbiAgICAgIHRoaXMuZGlyZWN0aW9uID0gTWF0aC5zaWduKFxuICAgICAgICB0aGlzLmFuaW1hdGVkU2Nyb2xsIC0gbGFzdFNjcm9sbFxuICAgICAgKSBhcyBMZW5pc1snZGlyZWN0aW9uJ11cblxuICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICB0aGlzLmlzU2Nyb2xsaW5nID0gJ25hdGl2ZSdcbiAgICAgIH1cblxuICAgICAgdGhpcy5lbWl0KClcblxuICAgICAgaWYgKHRoaXMudmVsb2NpdHkgIT09IDApIHtcbiAgICAgICAgdGhpcy5fcmVzZXRWZWxvY2l0eVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmxhc3RWZWxvY2l0eSA9IHRoaXMudmVsb2NpdHlcbiAgICAgICAgICB0aGlzLnZlbG9jaXR5ID0gMFxuICAgICAgICAgIHRoaXMuaXNTY3JvbGxpbmcgPSBmYWxzZVxuICAgICAgICAgIHRoaXMuZW1pdCgpXG4gICAgICAgIH0sIDQwMClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlc2V0KCkge1xuICAgIHRoaXMuaXNMb2NrZWQgPSBmYWxzZVxuICAgIHRoaXMuaXNTY3JvbGxpbmcgPSBmYWxzZVxuICAgIHRoaXMuYW5pbWF0ZWRTY3JvbGwgPSB0aGlzLnRhcmdldFNjcm9sbCA9IHRoaXMuYWN0dWFsU2Nyb2xsXG4gICAgdGhpcy5sYXN0VmVsb2NpdHkgPSB0aGlzLnZlbG9jaXR5ID0gMFxuICAgIHRoaXMuYW5pbWF0ZS5zdG9wKClcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydCBsZW5pcyBzY3JvbGwgYWZ0ZXIgaXQgaGFzIGJlZW4gc3RvcHBlZFxuICAgKi9cbiAgc3RhcnQoKSB7XG4gICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkgcmV0dXJuXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmF1dG9Ub2dnbGUpIHtcbiAgICAgIHRoaXMucm9vdEVsZW1lbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ292ZXJmbG93JylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMuaW50ZXJuYWxTdGFydCgpXG4gIH1cblxuICBwcml2YXRlIGludGVybmFsU3RhcnQoKSB7XG4gICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkgcmV0dXJuXG5cbiAgICB0aGlzLnJlc2V0KClcbiAgICB0aGlzLmlzU3RvcHBlZCA9IGZhbHNlXG4gICAgdGhpcy5lbWl0KClcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wIGxlbmlzIHNjcm9sbFxuICAgKi9cbiAgc3RvcCgpIHtcbiAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHJldHVyblxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvVG9nZ2xlKSB7XG4gICAgICB0aGlzLnJvb3RFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCdvdmVyZmxvdycsICdjbGlwJylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMuaW50ZXJuYWxTdG9wKClcbiAgfVxuXG4gIHByaXZhdGUgaW50ZXJuYWxTdG9wKCkge1xuICAgIGlmICh0aGlzLmlzU3RvcHBlZCkgcmV0dXJuXG5cbiAgICB0aGlzLnJlc2V0KClcbiAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWVcbiAgICB0aGlzLmVtaXQoKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlcXVlc3RBbmltYXRpb25GcmFtZSBmb3IgbGVuaXNcbiAgICpcbiAgICogQHBhcmFtIHRpbWUgVGhlIHRpbWUgaW4gbXMgZnJvbSBhbiBleHRlcm5hbCBjbG9jayBsaWtlIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgIG9yIFRlbXB1c1xuICAgKi9cbiAgcmFmID0gKHRpbWU6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IGRlbHRhVGltZSA9IHRpbWUgLSAodGhpcy50aW1lIHx8IHRpbWUpXG4gICAgdGhpcy50aW1lID0gdGltZVxuXG4gICAgdGhpcy5hbmltYXRlLmFkdmFuY2UoZGVsdGFUaW1lICogMC4wMDEpXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmF1dG9SYWYpIHtcbiAgICAgIHRoaXMuX19yYWZJRCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnJhZilcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2Nyb2xsIHRvIGEgdGFyZ2V0IHZhbHVlXG4gICAqXG4gICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCB2YWx1ZSB0byBzY3JvbGwgdG9cbiAgICogQHBhcmFtIG9wdGlvbnMgVGhlIG9wdGlvbnMgZm9yIHRoZSBzY3JvbGxcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogbGVuaXMuc2Nyb2xsVG8oMTAwLCB7XG4gICAqICAgb2Zmc2V0OiAxMDAsXG4gICAqICAgZHVyYXRpb246IDEsXG4gICAqICAgZWFzaW5nOiAodCkgPT4gMSAtIE1hdGguY29zKCh0ICogTWF0aC5QSSkgLyAyKSxcbiAgICogICBsZXJwOiAwLjEsXG4gICAqICAgb25TdGFydDogKCkgPT4ge1xuICAgKiAgICAgY29uc29sZS5sb2coJ29uU3RhcnQnKVxuICAgKiAgIH0sXG4gICAqICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgKiAgICAgY29uc29sZS5sb2coJ29uQ29tcGxldGUnKVxuICAgKiAgIH0sXG4gICAqIH0pXG4gICAqL1xuICBzY3JvbGxUbyhcbiAgICB0YXJnZXQ6IG51bWJlciB8IHN0cmluZyB8IEhUTUxFbGVtZW50LFxuICAgIHtcbiAgICAgIG9mZnNldCA9IDAsXG4gICAgICBpbW1lZGlhdGUgPSBmYWxzZSxcbiAgICAgIGxvY2sgPSBmYWxzZSxcbiAgICAgIGR1cmF0aW9uID0gdGhpcy5vcHRpb25zLmR1cmF0aW9uLFxuICAgICAgZWFzaW5nID0gdGhpcy5vcHRpb25zLmVhc2luZyxcbiAgICAgIGxlcnAgPSB0aGlzLm9wdGlvbnMubGVycCxcbiAgICAgIG9uU3RhcnQsXG4gICAgICBvbkNvbXBsZXRlLFxuICAgICAgZm9yY2UgPSBmYWxzZSwgLy8gc2Nyb2xsIGV2ZW4gaWYgc3RvcHBlZFxuICAgICAgcHJvZ3JhbW1hdGljID0gdHJ1ZSwgLy8gY2FsbGVkIGZyb20gb3V0c2lkZSBvZiB0aGUgY2xhc3NcbiAgICAgIHVzZXJEYXRhLFxuICAgIH06IFNjcm9sbFRvT3B0aW9ucyA9IHt9XG4gICkge1xuICAgIGlmICgodGhpcy5pc1N0b3BwZWQgfHwgdGhpcy5pc0xvY2tlZCkgJiYgIWZvcmNlKSByZXR1cm5cblxuICAgIC8vIGtleXdvcmRzXG4gICAgaWYgKFxuICAgICAgdHlwZW9mIHRhcmdldCA9PT0gJ3N0cmluZycgJiZcbiAgICAgIFsndG9wJywgJ2xlZnQnLCAnc3RhcnQnLCAnIyddLmluY2x1ZGVzKHRhcmdldClcbiAgICApIHtcbiAgICAgIHRhcmdldCA9IDBcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgdHlwZW9mIHRhcmdldCA9PT0gJ3N0cmluZycgJiZcbiAgICAgIFsnYm90dG9tJywgJ3JpZ2h0JywgJ2VuZCddLmluY2x1ZGVzKHRhcmdldClcbiAgICApIHtcbiAgICAgIHRhcmdldCA9IHRoaXMubGltaXRcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IG5vZGVcblxuICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIENTUyBzZWxlY3RvclxuICAgICAgICBub2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpXG5cbiAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgaWYgKHRhcmdldCA9PT0gJyN0b3AnKSB7XG4gICAgICAgICAgICB0YXJnZXQgPSAwXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignTGVuaXM6IFRhcmdldCBub3QgZm91bmQnLCB0YXJnZXQpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIHRhcmdldD8ubm9kZVR5cGUpIHtcbiAgICAgICAgLy8gTm9kZSBlbGVtZW50XG4gICAgICAgIG5vZGUgPSB0YXJnZXRcbiAgICAgIH1cblxuICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy53cmFwcGVyICE9PSB3aW5kb3cpIHtcbiAgICAgICAgICAvLyBuZXN0ZWQgc2Nyb2xsIG9mZnNldCBjb3JyZWN0aW9uXG4gICAgICAgICAgY29uc3Qgd3JhcHBlclJlY3QgPSB0aGlzLnJvb3RFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgICAgb2Zmc2V0IC09IHRoaXMuaXNIb3Jpem9udGFsID8gd3JhcHBlclJlY3QubGVmdCA6IHdyYXBwZXJSZWN0LnRvcFxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVjdCA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcblxuICAgICAgICB0YXJnZXQgPVxuICAgICAgICAgICh0aGlzLmlzSG9yaXpvbnRhbCA/IHJlY3QubGVmdCA6IHJlY3QudG9wKSArIHRoaXMuYW5pbWF0ZWRTY3JvbGxcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHRhcmdldCAhPT0gJ251bWJlcicpIHJldHVyblxuXG4gICAgdGFyZ2V0ICs9IG9mZnNldFxuICAgIHRhcmdldCA9IE1hdGgucm91bmQodGFyZ2V0KVxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5pbmZpbml0ZSkge1xuICAgICAgaWYgKHByb2dyYW1tYXRpYykge1xuICAgICAgICB0aGlzLnRhcmdldFNjcm9sbCA9IHRoaXMuYW5pbWF0ZWRTY3JvbGwgPSB0aGlzLnNjcm9sbFxuXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gdGFyZ2V0IC0gdGhpcy5hbmltYXRlZFNjcm9sbFxuXG4gICAgICAgIGlmIChkaXN0YW5jZSA+IHRoaXMubGltaXQgLyAyKSB7XG4gICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0IC0gdGhpcy5saW1pdFxuICAgICAgICB9IGVsc2UgaWYgKGRpc3RhbmNlIDwgLXRoaXMubGltaXQgLyAyKSB7XG4gICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0ICsgdGhpcy5saW1pdFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldCA9IGNsYW1wKDAsIHRhcmdldCwgdGhpcy5saW1pdClcbiAgICB9XG5cbiAgICBpZiAodGFyZ2V0ID09PSB0aGlzLnRhcmdldFNjcm9sbCkge1xuICAgICAgb25TdGFydD8uKHRoaXMpXG4gICAgICBvbkNvbXBsZXRlPy4odGhpcylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMudXNlckRhdGEgPSB1c2VyRGF0YSA/PyB7fVxuXG4gICAgaWYgKGltbWVkaWF0ZSkge1xuICAgICAgdGhpcy5hbmltYXRlZFNjcm9sbCA9IHRoaXMudGFyZ2V0U2Nyb2xsID0gdGFyZ2V0XG4gICAgICB0aGlzLnNldFNjcm9sbCh0aGlzLnNjcm9sbClcbiAgICAgIHRoaXMucmVzZXQoKVxuICAgICAgdGhpcy5wcmV2ZW50TmV4dE5hdGl2ZVNjcm9sbEV2ZW50KClcbiAgICAgIHRoaXMuZW1pdCgpXG4gICAgICBvbkNvbXBsZXRlPy4odGhpcylcbiAgICAgIHRoaXMudXNlckRhdGEgPSB7fVxuXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICB0aGlzLmRpc3BhdGNoU2Nyb2xsZW5kRXZlbnQoKVxuICAgICAgfSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICghcHJvZ3JhbW1hdGljKSB7XG4gICAgICB0aGlzLnRhcmdldFNjcm9sbCA9IHRhcmdldFxuICAgIH1cblxuICAgIC8vIGZsaXAgdG8gZWFzaW5nL3RpbWUgYmFzZWQgYW5pbWF0aW9uIGlmIGF0IGxlYXN0IG9uZSBvZiB0aGVtIGlzIHByb3ZpZGVkXG4gICAgaWYgKHR5cGVvZiBkdXJhdGlvbiA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGVhc2luZyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZWFzaW5nID0gZGVmYXVsdEVhc2luZ1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVhc2luZyA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZHVyYXRpb24gIT09ICdudW1iZXInKSB7XG4gICAgICBkdXJhdGlvbiA9IDFcbiAgICB9XG5cbiAgICB0aGlzLmFuaW1hdGUuZnJvbVRvKHRoaXMuYW5pbWF0ZWRTY3JvbGwsIHRhcmdldCwge1xuICAgICAgZHVyYXRpb24sXG4gICAgICBlYXNpbmcsXG4gICAgICBsZXJwLFxuICAgICAgb25TdGFydDogKCkgPT4ge1xuICAgICAgICAvLyBzdGFydGVkXG4gICAgICAgIGlmIChsb2NrKSB0aGlzLmlzTG9ja2VkID0gdHJ1ZVxuICAgICAgICB0aGlzLmlzU2Nyb2xsaW5nID0gJ3Ntb290aCdcbiAgICAgICAgb25TdGFydD8uKHRoaXMpXG4gICAgICB9LFxuICAgICAgb25VcGRhdGU6ICh2YWx1ZTogbnVtYmVyLCBjb21wbGV0ZWQ6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgdGhpcy5pc1Njcm9sbGluZyA9ICdzbW9vdGgnXG5cbiAgICAgICAgLy8gdXBkYXRlZFxuICAgICAgICB0aGlzLmxhc3RWZWxvY2l0eSA9IHRoaXMudmVsb2NpdHlcbiAgICAgICAgdGhpcy52ZWxvY2l0eSA9IHZhbHVlIC0gdGhpcy5hbmltYXRlZFNjcm9sbFxuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IE1hdGguc2lnbih0aGlzLnZlbG9jaXR5KSBhcyBMZW5pc1snZGlyZWN0aW9uJ11cblxuICAgICAgICB0aGlzLmFuaW1hdGVkU2Nyb2xsID0gdmFsdWVcbiAgICAgICAgdGhpcy5zZXRTY3JvbGwodGhpcy5zY3JvbGwpXG5cbiAgICAgICAgaWYgKHByb2dyYW1tYXRpYykge1xuICAgICAgICAgIC8vIHdoZWVsIGR1cmluZyBwcm9ncmFtbWF0aWMgc2hvdWxkIHN0b3AgaXRcbiAgICAgICAgICB0aGlzLnRhcmdldFNjcm9sbCA9IHZhbHVlXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNvbXBsZXRlZCkgdGhpcy5lbWl0KClcblxuICAgICAgICBpZiAoY29tcGxldGVkKSB7XG4gICAgICAgICAgdGhpcy5yZXNldCgpXG4gICAgICAgICAgdGhpcy5lbWl0KClcbiAgICAgICAgICBvbkNvbXBsZXRlPy4odGhpcylcbiAgICAgICAgICB0aGlzLnVzZXJEYXRhID0ge31cblxuICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoU2Nyb2xsZW5kRXZlbnQoKVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICAvLyBhdm9pZCBlbWl0dGluZyBldmVudCB0d2ljZVxuICAgICAgICAgIHRoaXMucHJldmVudE5leHROYXRpdmVTY3JvbGxFdmVudCgpXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSlcbiAgfVxuXG4gIHByaXZhdGUgcHJldmVudE5leHROYXRpdmVTY3JvbGxFdmVudCgpIHtcbiAgICB0aGlzLl9wcmV2ZW50TmV4dE5hdGl2ZVNjcm9sbEV2ZW50ID0gdHJ1ZVxuXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIHRoaXMuX3ByZXZlbnROZXh0TmF0aXZlU2Nyb2xsRXZlbnQgPSBmYWxzZVxuICAgIH0pXG4gIH1cblxuICBwcml2YXRlIGNoZWNrTmVzdGVkU2Nyb2xsKFxuICAgIG5vZGU6IEhUTUxFbGVtZW50LFxuICAgIHsgZGVsdGFYLCBkZWx0YVkgfTogeyBkZWx0YVg6IG51bWJlcjsgZGVsdGFZOiBudW1iZXIgfVxuICApIHtcbiAgICBjb25zdCB0aW1lID0gRGF0ZS5ub3coKVxuXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IGNhY2hlID0gKG5vZGUuX2xlbmlzID8/PSB7fSlcblxuICAgIGxldCBoYXNPdmVyZmxvd1gsXG4gICAgICBoYXNPdmVyZmxvd1ksXG4gICAgICBpc1Njcm9sbGFibGVYLFxuICAgICAgaXNTY3JvbGxhYmxlWSxcbiAgICAgIHNjcm9sbFdpZHRoLFxuICAgICAgc2Nyb2xsSGVpZ2h0LFxuICAgICAgY2xpZW50V2lkdGgsXG4gICAgICBjbGllbnRIZWlnaHRcblxuICAgIGNvbnN0IGdlc3R1cmVPcmllbnRhdGlvbiA9IHRoaXMub3B0aW9ucy5nZXN0dXJlT3JpZW50YXRpb25cblxuICAgIGlmICh0aW1lIC0gKGNhY2hlLnRpbWUgPz8gMCkgPiAyMDAwKSB7XG4gICAgICBjYWNoZS50aW1lID0gRGF0ZS5ub3coKVxuXG4gICAgICBjb25zdCBjb21wdXRlZFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUobm9kZSlcbiAgICAgIGNhY2hlLmNvbXB1dGVkU3R5bGUgPSBjb21wdXRlZFN0eWxlXG5cbiAgICAgIGNvbnN0IG92ZXJmbG93WFN0cmluZyA9IGNvbXB1dGVkU3R5bGUub3ZlcmZsb3dYXG4gICAgICBjb25zdCBvdmVyZmxvd1lTdHJpbmcgPSBjb21wdXRlZFN0eWxlLm92ZXJmbG93WVxuXG4gICAgICBoYXNPdmVyZmxvd1ggPSBbJ2F1dG8nLCAnb3ZlcmxheScsICdzY3JvbGwnXS5pbmNsdWRlcyhvdmVyZmxvd1hTdHJpbmcpXG4gICAgICBoYXNPdmVyZmxvd1kgPSBbJ2F1dG8nLCAnb3ZlcmxheScsICdzY3JvbGwnXS5pbmNsdWRlcyhvdmVyZmxvd1lTdHJpbmcpXG4gICAgICBjYWNoZS5oYXNPdmVyZmxvd1ggPSBoYXNPdmVyZmxvd1hcbiAgICAgIGNhY2hlLmhhc092ZXJmbG93WSA9IGhhc092ZXJmbG93WVxuXG4gICAgICBpZiAoIWhhc092ZXJmbG93WCAmJiAhaGFzT3ZlcmZsb3dZKSByZXR1cm4gZmFsc2UgLy8gaWYgbm8gb3ZlcmZsb3csIGl0J3Mgbm90IHNjcm9sbGFibGUgbm8gbWF0dGVyIHdoYXQsIGVhcmx5IHJldHVybiBzYXZlcyBzb21lIGNvbXB1dGF0aW9uc1xuICAgICAgaWYgKGdlc3R1cmVPcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJyAmJiAhaGFzT3ZlcmZsb3dZKSByZXR1cm4gZmFsc2VcbiAgICAgIGlmIChnZXN0dXJlT3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJyAmJiAhaGFzT3ZlcmZsb3dYKSByZXR1cm4gZmFsc2VcblxuICAgICAgc2Nyb2xsV2lkdGggPSBub2RlLnNjcm9sbFdpZHRoXG4gICAgICBzY3JvbGxIZWlnaHQgPSBub2RlLnNjcm9sbEhlaWdodFxuXG4gICAgICBjbGllbnRXaWR0aCA9IG5vZGUuY2xpZW50V2lkdGhcbiAgICAgIGNsaWVudEhlaWdodCA9IG5vZGUuY2xpZW50SGVpZ2h0XG5cbiAgICAgIGlzU2Nyb2xsYWJsZVggPSBzY3JvbGxXaWR0aCA+IGNsaWVudFdpZHRoXG4gICAgICBpc1Njcm9sbGFibGVZID0gc2Nyb2xsSGVpZ2h0ID4gY2xpZW50SGVpZ2h0XG5cbiAgICAgIGNhY2hlLmlzU2Nyb2xsYWJsZVggPSBpc1Njcm9sbGFibGVYXG4gICAgICBjYWNoZS5pc1Njcm9sbGFibGVZID0gaXNTY3JvbGxhYmxlWVxuICAgICAgY2FjaGUuc2Nyb2xsV2lkdGggPSBzY3JvbGxXaWR0aFxuICAgICAgY2FjaGUuc2Nyb2xsSGVpZ2h0ID0gc2Nyb2xsSGVpZ2h0XG4gICAgICBjYWNoZS5jbGllbnRXaWR0aCA9IGNsaWVudFdpZHRoXG4gICAgICBjYWNoZS5jbGllbnRIZWlnaHQgPSBjbGllbnRIZWlnaHRcbiAgICB9IGVsc2Uge1xuICAgICAgaXNTY3JvbGxhYmxlWCA9IGNhY2hlLmlzU2Nyb2xsYWJsZVhcbiAgICAgIGlzU2Nyb2xsYWJsZVkgPSBjYWNoZS5pc1Njcm9sbGFibGVZXG4gICAgICBoYXNPdmVyZmxvd1ggPSBjYWNoZS5oYXNPdmVyZmxvd1hcbiAgICAgIGhhc092ZXJmbG93WSA9IGNhY2hlLmhhc092ZXJmbG93WVxuICAgICAgc2Nyb2xsV2lkdGggPSBjYWNoZS5zY3JvbGxXaWR0aFxuICAgICAgc2Nyb2xsSGVpZ2h0ID0gY2FjaGUuc2Nyb2xsSGVpZ2h0XG4gICAgICBjbGllbnRXaWR0aCA9IGNhY2hlLmNsaWVudFdpZHRoXG4gICAgICBjbGllbnRIZWlnaHQgPSBjYWNoZS5jbGllbnRIZWlnaHRcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAoIWhhc092ZXJmbG93WCAmJiAhaGFzT3ZlcmZsb3dZKSB8fFxuICAgICAgKCFpc1Njcm9sbGFibGVYICYmICFpc1Njcm9sbGFibGVZKVxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKGdlc3R1cmVPcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJyAmJiAoIWhhc092ZXJmbG93WSB8fCAhaXNTY3JvbGxhYmxlWSkpXG4gICAgICByZXR1cm4gZmFsc2VcblxuICAgIGlmIChcbiAgICAgIGdlc3R1cmVPcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnICYmXG4gICAgICAoIWhhc092ZXJmbG93WCB8fCAhaXNTY3JvbGxhYmxlWClcbiAgICApXG4gICAgICByZXR1cm4gZmFsc2VcblxuICAgIGxldCBvcmllbnRhdGlvbjogJ3gnIHwgJ3knIHwgdW5kZWZpbmVkXG5cbiAgICBpZiAoZ2VzdHVyZU9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcpIHtcbiAgICAgIG9yaWVudGF0aW9uID0gJ3gnXG4gICAgfSBlbHNlIGlmIChnZXN0dXJlT3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgIG9yaWVudGF0aW9uID0gJ3knXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGlzU2Nyb2xsaW5nWCA9IGRlbHRhWCAhPT0gMFxuICAgICAgY29uc3QgaXNTY3JvbGxpbmdZID0gZGVsdGFZICE9PSAwXG5cbiAgICAgIGlmIChpc1Njcm9sbGluZ1ggJiYgaGFzT3ZlcmZsb3dYICYmIGlzU2Nyb2xsYWJsZVgpIHtcbiAgICAgICAgb3JpZW50YXRpb24gPSAneCdcbiAgICAgIH1cblxuICAgICAgaWYgKGlzU2Nyb2xsaW5nWSAmJiBoYXNPdmVyZmxvd1kgJiYgaXNTY3JvbGxhYmxlWSkge1xuICAgICAgICBvcmllbnRhdGlvbiA9ICd5J1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghb3JpZW50YXRpb24pIHJldHVybiBmYWxzZVxuXG4gICAgbGV0IHNjcm9sbCwgbWF4U2Nyb2xsLCBkZWx0YSwgaGFzT3ZlcmZsb3csIGlzU2Nyb2xsYWJsZVxuXG4gICAgaWYgKG9yaWVudGF0aW9uID09PSAneCcpIHtcbiAgICAgIHNjcm9sbCA9IG5vZGUuc2Nyb2xsTGVmdFxuICAgICAgbWF4U2Nyb2xsID0gc2Nyb2xsV2lkdGggLSBjbGllbnRXaWR0aFxuICAgICAgZGVsdGEgPSBkZWx0YVhcblxuICAgICAgaGFzT3ZlcmZsb3cgPSBoYXNPdmVyZmxvd1hcbiAgICAgIGlzU2Nyb2xsYWJsZSA9IGlzU2Nyb2xsYWJsZVhcbiAgICB9IGVsc2UgaWYgKG9yaWVudGF0aW9uID09PSAneScpIHtcbiAgICAgIHNjcm9sbCA9IG5vZGUuc2Nyb2xsVG9wXG4gICAgICBtYXhTY3JvbGwgPSBzY3JvbGxIZWlnaHQgLSBjbGllbnRIZWlnaHRcbiAgICAgIGRlbHRhID0gZGVsdGFZXG5cbiAgICAgIGhhc092ZXJmbG93ID0gaGFzT3ZlcmZsb3dZXG4gICAgICBpc1Njcm9sbGFibGUgPSBpc1Njcm9sbGFibGVZXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IHdpbGxTY3JvbGwgPSBkZWx0YSA+IDAgPyBzY3JvbGwgPCBtYXhTY3JvbGwgOiBzY3JvbGwgPiAwXG5cbiAgICByZXR1cm4gd2lsbFNjcm9sbCAmJiBoYXNPdmVyZmxvdyAmJiBpc1Njcm9sbGFibGVcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgcm9vdCBlbGVtZW50IG9uIHdoaWNoIGxlbmlzIGlzIGluc3RhbmNlZFxuICAgKi9cbiAgZ2V0IHJvb3RFbGVtZW50KCkge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLm9wdGlvbnMud3JhcHBlciA9PT0gd2luZG93XG4gICAgICAgID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XG4gICAgICAgIDogdGhpcy5vcHRpb25zLndyYXBwZXJcbiAgICApIGFzIEhUTUxFbGVtZW50XG4gIH1cblxuICAvKipcbiAgICogVGhlIGxpbWl0IHdoaWNoIGlzIHRoZSBtYXhpbXVtIHNjcm9sbCB2YWx1ZVxuICAgKi9cbiAgZ2V0IGxpbWl0KCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuX19leHBlcmltZW50YWxfX25haXZlRGltZW5zaW9ucykge1xuICAgICAgaWYgKHRoaXMuaXNIb3Jpem9udGFsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvb3RFbGVtZW50LnNjcm9sbFdpZHRoIC0gdGhpcy5yb290RWxlbWVudC5jbGllbnRXaWR0aFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdEVsZW1lbnQuc2Nyb2xsSGVpZ2h0IC0gdGhpcy5yb290RWxlbWVudC5jbGllbnRIZWlnaHRcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZGltZW5zaW9ucy5saW1pdFt0aGlzLmlzSG9yaXpvbnRhbCA/ICd4JyA6ICd5J11cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogV2hldGhlciBvciBub3QgdGhlIHNjcm9sbCBpcyBob3Jpem9udGFsXG4gICAqL1xuICBnZXQgaXNIb3Jpem9udGFsKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMub3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJ1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBhY3R1YWwgc2Nyb2xsIHZhbHVlXG4gICAqL1xuICBnZXQgYWN0dWFsU2Nyb2xsKCkge1xuICAgIC8vIHZhbHVlIGJyb3dzZXIgdGFrZXMgaW50byBhY2NvdW50XG4gICAgLy8gaXQgaGFzIHRvIGJlIHRoaXMgd2F5IGJlY2F1c2Ugb2YgRE9DVFlQRSBkZWNsYXJhdGlvblxuICAgIGNvbnN0IHdyYXBwZXIgPSB0aGlzLm9wdGlvbnMud3JhcHBlciBhcyBXaW5kb3cgfCBIVE1MRWxlbWVudFxuXG4gICAgcmV0dXJuIHRoaXMuaXNIb3Jpem9udGFsXG4gICAgICA/ICh3cmFwcGVyIGFzIFdpbmRvdykuc2Nyb2xsWCA/PyAod3JhcHBlciBhcyBIVE1MRWxlbWVudCkuc2Nyb2xsTGVmdFxuICAgICAgOiAod3JhcHBlciBhcyBXaW5kb3cpLnNjcm9sbFkgPz8gKHdyYXBwZXIgYXMgSFRNTEVsZW1lbnQpLnNjcm9sbFRvcFxuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50IHNjcm9sbCB2YWx1ZVxuICAgKi9cbiAgZ2V0IHNjcm9sbCgpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmluZmluaXRlXG4gICAgICA/IG1vZHVsbyh0aGlzLmFuaW1hdGVkU2Nyb2xsLCB0aGlzLmxpbWl0KVxuICAgICAgOiB0aGlzLmFuaW1hdGVkU2Nyb2xsXG4gIH1cblxuICAvKipcbiAgICogVGhlIHByb2dyZXNzIG9mIHRoZSBzY3JvbGwgcmVsYXRpdmUgdG8gdGhlIGxpbWl0XG4gICAqL1xuICBnZXQgcHJvZ3Jlc3MoKSB7XG4gICAgLy8gYXZvaWQgcHJvZ3Jlc3MgdG8gYmUgTmFOXG4gICAgcmV0dXJuIHRoaXMubGltaXQgPT09IDAgPyAxIDogdGhpcy5zY3JvbGwgLyB0aGlzLmxpbWl0XG4gIH1cblxuICAvKipcbiAgICogQ3VycmVudCBzY3JvbGwgc3RhdGVcbiAgICovXG4gIGdldCBpc1Njcm9sbGluZygpIHtcbiAgICByZXR1cm4gdGhpcy5faXNTY3JvbGxpbmdcbiAgfVxuXG4gIHByaXZhdGUgc2V0IGlzU2Nyb2xsaW5nKHZhbHVlOiBTY3JvbGxpbmcpIHtcbiAgICBpZiAodGhpcy5faXNTY3JvbGxpbmcgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLl9pc1Njcm9sbGluZyA9IHZhbHVlXG4gICAgICB0aGlzLnVwZGF0ZUNsYXNzTmFtZSgpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGxlbmlzIGlzIHN0b3BwZWRcbiAgICovXG4gIGdldCBpc1N0b3BwZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzU3RvcHBlZFxuICB9XG5cbiAgcHJpdmF0ZSBzZXQgaXNTdG9wcGVkKHZhbHVlOiBib29sZWFuKSB7XG4gICAgaWYgKHRoaXMuX2lzU3RvcHBlZCAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuX2lzU3RvcHBlZCA9IHZhbHVlXG4gICAgICB0aGlzLnVwZGF0ZUNsYXNzTmFtZSgpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGxlbmlzIGlzIGxvY2tlZFxuICAgKi9cbiAgZ2V0IGlzTG9ja2VkKCkge1xuICAgIHJldHVybiB0aGlzLl9pc0xvY2tlZFxuICB9XG5cbiAgcHJpdmF0ZSBzZXQgaXNMb2NrZWQodmFsdWU6IGJvb2xlYW4pIHtcbiAgICBpZiAodGhpcy5faXNMb2NrZWQgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLl9pc0xvY2tlZCA9IHZhbHVlXG4gICAgICB0aGlzLnVwZGF0ZUNsYXNzTmFtZSgpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGxlbmlzIGlzIHNtb290aCBzY3JvbGxpbmdcbiAgICovXG4gIGdldCBpc1Ntb290aCgpIHtcbiAgICByZXR1cm4gdGhpcy5pc1Njcm9sbGluZyA9PT0gJ3Ntb290aCdcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgY2xhc3MgbmFtZSBhcHBsaWVkIHRvIHRoZSB3cmFwcGVyIGVsZW1lbnRcbiAgICovXG4gIGdldCBjbGFzc05hbWUoKSB7XG4gICAgbGV0IGNsYXNzTmFtZSA9ICdsZW5pcydcbiAgICBpZiAodGhpcy5vcHRpb25zLmF1dG9Ub2dnbGUpIGNsYXNzTmFtZSArPSAnIGxlbmlzLWF1dG9Ub2dnbGUnXG4gICAgaWYgKHRoaXMuaXNTdG9wcGVkKSBjbGFzc05hbWUgKz0gJyBsZW5pcy1zdG9wcGVkJ1xuICAgIGlmICh0aGlzLmlzTG9ja2VkKSBjbGFzc05hbWUgKz0gJyBsZW5pcy1sb2NrZWQnXG4gICAgaWYgKHRoaXMuaXNTY3JvbGxpbmcpIGNsYXNzTmFtZSArPSAnIGxlbmlzLXNjcm9sbGluZydcbiAgICBpZiAodGhpcy5pc1Njcm9sbGluZyA9PT0gJ3Ntb290aCcpIGNsYXNzTmFtZSArPSAnIGxlbmlzLXNtb290aCdcbiAgICByZXR1cm4gY2xhc3NOYW1lXG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUNsYXNzTmFtZSgpIHtcbiAgICB0aGlzLmNsZWFuVXBDbGFzc05hbWUoKVxuXG4gICAgdGhpcy5yb290RWxlbWVudC5jbGFzc05hbWUgPVxuICAgICAgYCR7dGhpcy5yb290RWxlbWVudC5jbGFzc05hbWV9ICR7dGhpcy5jbGFzc05hbWV9YC50cmltKClcbiAgfVxuXG4gIHByaXZhdGUgY2xlYW5VcENsYXNzTmFtZSgpIHtcbiAgICB0aGlzLnJvb3RFbGVtZW50LmNsYXNzTmFtZSA9IHRoaXMucm9vdEVsZW1lbnQuY2xhc3NOYW1lXG4gICAgICAucmVwbGFjZSgvbGVuaXMoLVxcdyspPy9nLCAnJylcbiAgICAgIC50cmltKClcbiAgfVxufVxuIiwgIi8qKlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqICBNY0Nhbm4gV2Vic2l0ZSBcdTIwMTQgU21vb3RoIFNjcm9sbCAoTGVuaXMpXG4gKiAgUHVycG9zZTogV2VpZ2h0ZWQgbW9tZW50dW0gc2Nyb2xsaW5nXG4gKiAgRGF0ZTogMjAyNS0xMS0wNlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQgTGVuaXMgZnJvbSAnbGVuaXMnO1xuXG5jb25zb2xlLmxvZygnW1NNT09USC1TQ1JPTExdIE1vZHVsZSBsb2FkZWQnKTtcblxubGV0IGxlbmlzSW5zdGFuY2UgPSBudWxsO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIElOSVRJQUxJWkFUSU9OXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRTbW9vdGhTY3JvbGwob3B0aW9ucyA9IHt9KSB7XG4gIGlmIChsZW5pc0luc3RhbmNlKSB7XG4gICAgY29uc29sZS5sb2coJ1tTTU9PVEgtU0NST0xMXSBBbHJlYWR5IGluaXRpYWxpemVkJyk7XG4gICAgcmV0dXJuIGxlbmlzSW5zdGFuY2U7XG4gIH1cblxuICBjb25zdCBoYXNTbmFwQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBlcnNwZWN0aXZlLXdyYXBwZXInKSAhPT0gbnVsbDtcbiAgXG4gIGlmIChoYXNTbmFwQ29udGFpbmVyICYmICFvcHRpb25zLmZvcmNlRW5hYmxlT25TbmFwKSB7XG4gICAgY29uc29sZS5sb2coJ1tTTU9PVEgtU0NST0xMXSBcdTI2QTBcdUZFMEYgU2tpcHBlZCAtIHBhZ2UgaGFzIHNjcm9sbC1zbmFwIGNvbnRhaW5lcicpO1xuICAgIGNvbnNvbGUubG9nKCdbU01PT1RILVNDUk9MTF0gVXNpbmcgbmF0aXZlIHNjcm9sbGluZyBmb3Igb3B0aW1hbCBzbmFwIGJlaGF2aW9yJyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgXG4gIGNvbnN0IGRlZmF1bHRMZXJwID0gb3B0aW9ucy5sZXJwID8/IDAuMDg7XG4gIFxuICBjb25zdCBjb25maWcgPSB7XG4gICAgbGVycDogZGVmYXVsdExlcnAsXG4gICAgZHVyYXRpb246IDEuMixcbiAgICBvcmllbnRhdGlvbjogJ3ZlcnRpY2FsJyxcbiAgICBnZXN0dXJlT3JpZW50YXRpb246ICd2ZXJ0aWNhbCcsXG4gICAgc21vb3RoV2hlZWw6IHRydWUsXG4gICAgc21vb3RoVG91Y2g6IGZhbHNlLFxuICAgIHdoZWVsTXVsdGlwbGllcjogMS4wLFxuICAgIHRvdWNoTXVsdGlwbGllcjogMi4wLFxuICAgIGluZmluaXRlOiBvcHRpb25zLmluZmluaXRlID8/IGZhbHNlLFxuICAgIC4uLm9wdGlvbnNcbiAgfTtcblxuICB0cnkge1xuICAgIGxlbmlzSW5zdGFuY2UgPSBuZXcgTGVuaXMoY29uZmlnKTtcblxuICAgIGZ1bmN0aW9uIHJhZih0aW1lKSB7XG4gICAgICBsZW5pc0luc3RhbmNlLnJhZih0aW1lKTtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShyYWYpO1xuICAgIH1cbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmFmKTtcblxuICAgIGlmICh3aW5kb3cuZ3NhcCAmJiB3aW5kb3cuU2Nyb2xsVHJpZ2dlcikge1xuICAgICAgbGVuaXNJbnN0YW5jZS5vbignc2Nyb2xsJywgU2Nyb2xsVHJpZ2dlci51cGRhdGUpO1xuICAgICAgXG4gICAgICB3aW5kb3cuZ3NhcC50aWNrZXIuYWRkKCh0aW1lKSA9PiB7XG4gICAgICAgIGxlbmlzSW5zdGFuY2UucmFmKHRpbWUgKiAxMDAwKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICB3aW5kb3cuZ3NhcC50aWNrZXIubGFnU21vb3RoaW5nKDApO1xuICAgIH1cblxuICAgIHdpbmRvdy5BcHAgPSB3aW5kb3cuQXBwIHx8IHt9O1xuICAgIHdpbmRvdy5BcHAuc21vb3RoU2Nyb2xsID0ge1xuICAgICAgc3RvcDogKCkgPT4gbGVuaXNJbnN0YW5jZS5zdG9wKCksXG4gICAgICBzdGFydDogKCkgPT4gbGVuaXNJbnN0YW5jZS5zdGFydCgpLFxuICAgICAgaW5zdGFuY2U6IGxlbmlzSW5zdGFuY2VcbiAgICB9O1xuXG4gICAgY29uc29sZS5sb2coYFtTTU9PVEgtU0NST0xMXSBcdTI3MTMgSW5pdGlhbGl6ZWQgd2l0aCBtb21lbnR1bSBzY3JvbGxpbmcgKGxlcnA6ICR7ZGVmYXVsdExlcnB9KWApO1xuICAgIHJldHVybiBsZW5pc0luc3RhbmNlO1xuXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1tTTU9PVEgtU0NST0xMXSBcdTI3NEMgSW5pdCBlcnJvcjonLCBlcnIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQ09OVFJPTCBGVU5DVElPTlNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgZnVuY3Rpb24gc3RvcFNtb290aFNjcm9sbCgpIHtcbiAgaWYgKGxlbmlzSW5zdGFuY2UpIHtcbiAgICBsZW5pc0luc3RhbmNlLnN0b3AoKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRTbW9vdGhTY3JvbGwoKSB7XG4gIGlmIChsZW5pc0luc3RhbmNlKSB7XG4gICAgbGVuaXNJbnN0YW5jZS5zdGFydCgpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXN0cm95U21vb3RoU2Nyb2xsKCkge1xuICBpZiAobGVuaXNJbnN0YW5jZSkge1xuICAgIGxlbmlzSW5zdGFuY2UuZGVzdHJveSgpO1xuICAgIGxlbmlzSW5zdGFuY2UgPSBudWxsO1xuICAgIGNvbnNvbGUubG9nKCdbU01PT1RILVNDUk9MTF0gRGVzdHJveWVkJyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNjcm9sbFRvKHRhcmdldCwgb3B0aW9ucyA9IHt9KSB7XG4gIGlmIChsZW5pc0luc3RhbmNlKSB7XG4gICAgbGVuaXNJbnN0YW5jZS5zY3JvbGxUbyh0YXJnZXQsIG9wdGlvbnMpO1xuICB9XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQ09OVEFJTkVSIFNDUk9MTFxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0Q29udGFpbmVyU2Nyb2xsKGNvbnRhaW5lciwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IGVsZW1lbnQgPSB0eXBlb2YgY29udGFpbmVyID09PSAnc3RyaW5nJyBcbiAgICA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyKSBcbiAgICA6IGNvbnRhaW5lcjtcbiAgXG4gIGlmICghZWxlbWVudCkge1xuICAgIGNvbnNvbGUud2FybihgW1NNT09USC1TQ1JPTExdIENvbnRhaW5lciBub3QgZm91bmQ6ICR7Y29udGFpbmVyfWApO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgZGVmYXVsdExlcnAgPSBvcHRpb25zLmxlcnAgPz8gMC4wODtcbiAgXG4gIGNvbnN0IGNvbnRlbnRFbGVtZW50ID0gb3B0aW9ucy5jb250ZW50IFxuICAgID8gKHR5cGVvZiBvcHRpb25zLmNvbnRlbnQgPT09ICdzdHJpbmcnID8gZWxlbWVudC5xdWVyeVNlbGVjdG9yKG9wdGlvbnMuY29udGVudCkgOiBvcHRpb25zLmNvbnRlbnQpXG4gICAgOiAoZWxlbWVudC5jaGlsZHJlbi5sZW5ndGggPiAwID8gZWxlbWVudC5jaGlsZHJlblswXSA6IGVsZW1lbnQpO1xuICBcbiAgY29uc3QgY29uZmlnID0ge1xuICAgIHdyYXBwZXI6IGVsZW1lbnQsXG4gICAgY29udGVudDogY29udGVudEVsZW1lbnQsXG4gICAgbGVycDogZGVmYXVsdExlcnAsXG4gICAgZHVyYXRpb246IDEuMixcbiAgICBvcmllbnRhdGlvbjogJ3ZlcnRpY2FsJyxcbiAgICBnZXN0dXJlT3JpZW50YXRpb246ICd2ZXJ0aWNhbCcsXG4gICAgc21vb3RoV2hlZWw6IHRydWUsXG4gICAgc21vb3RoVG91Y2g6IGZhbHNlLFxuICAgIHdoZWVsTXVsdGlwbGllcjogMS4wLFxuICAgIHRvdWNoTXVsdGlwbGllcjogMi4wLFxuICAgIGluZmluaXRlOiBmYWxzZSxcbiAgICAuLi5vcHRpb25zXG4gIH07XG5cbiAgZGVsZXRlIGNvbmZpZy53cmFwcGVyO1xuICBkZWxldGUgY29uZmlnLmNvbnRlbnQ7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IG5ldyBMZW5pcyh7XG4gICAgICB3cmFwcGVyOiBlbGVtZW50LFxuICAgICAgY29udGVudDogY29udGVudEVsZW1lbnQsXG4gICAgICAuLi5jb25maWdcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHJhZih0aW1lKSB7XG4gICAgICBpbnN0YW5jZS5yYWYodGltZSk7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmFmKTtcbiAgICB9XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJhZik7XG5cbiAgICBpZiAod2luZG93LmdzYXAgJiYgd2luZG93LlNjcm9sbFRyaWdnZXIpIHtcbiAgICAgIGluc3RhbmNlLm9uKCdzY3JvbGwnLCBTY3JvbGxUcmlnZ2VyLnVwZGF0ZSk7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coYFtTTU9PVEgtU0NST0xMXSBcdTI3MTMgQ29udGFpbmVyIHNjcm9sbCBpbml0aWFsaXplZCBmb3IgJHt0eXBlb2YgY29udGFpbmVyID09PSAnc3RyaW5nJyA/IGNvbnRhaW5lciA6IGVsZW1lbnQuY2xhc3NOYW1lIHx8ICdlbGVtZW50J31gKTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG5cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcignW1NNT09USC1TQ1JPTExdIFx1Mjc0QyBDb250YWluZXIgc2Nyb2xsIGluaXQgZXJyb3I6JywgZXJyKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuIiwgIi8qKlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqICBNY0Nhbm4gV2Vic2l0ZSBcdTIwMTQgTGlnaHRib3ggTW9kdWxlXG4gKiAgUHVycG9zZTogRHluYW1pYyBwcm9qZWN0IGxpZ2h0Ym94IHdpdGggSlNPTiBkYXRhIGFuZCBzdGF0ZSBtYWNoaW5lXG4gKiAgRGF0ZTogMjAyNS0xMS0wNlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQgeyBlbWl0IH0gZnJvbSAnLi4vY29yZS9ldmVudHMuanMnO1xuaW1wb3J0IHsgbG9ja1Njcm9sbCwgdW5sb2NrU2Nyb2xsIH0gZnJvbSAnLi4vY29yZS9zY3JvbGxsb2NrLmpzJztcbmltcG9ydCB7IG1vdW50VmltZW8gfSBmcm9tICcuL3ZpbWVvLmpzJztcbmltcG9ydCB7IGluaXRDb250YWluZXJTY3JvbGwgfSBmcm9tICcuL3Ntb290aC1zY3JvbGwuanMnO1xuaW1wb3J0IHByb2plY3REYXRhSnNvbiBmcm9tICcuLi9kYXRhL3Byb2plY3QtZGF0YS5qc29uJztcblxuY29uc29sZS5sb2coJ1tMSUdIVEJPWF0gTW9kdWxlIGxvYWRlZCcpO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNUQVRFIE1BQ0hJTkVcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jb25zdCBTVEFURSA9IHtcbiAgSURMRTogJ2lkbGUnLFxuICBPUEVOSU5HOiAnb3BlbmluZycsXG4gIE9QRU46ICdvcGVuJyxcbiAgQ0xPU0lORzogJ2Nsb3NpbmcnXG59O1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIE1PRFVMRSBTVEFURVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmxldCBjdXJyZW50U3RhdGUgPSBTVEFURS5JRExFO1xubGV0IHByb2plY3REYXRhID0gbnVsbDtcbmxldCBsYXN0Rm9jdXMgPSBudWxsO1xubGV0IG92ZXJsYXlMZW5pcyA9IG51bGw7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0TGlnaHRib3goeyBcbiAgcm9vdCA9ICcjbGlnaHRib3gnLFxuICBvcGVuRHVyYXRpb24gPSAxMDAwLFxuICBjbG9zZUR1cmF0aW9uID0gMTAwMFxufSA9IHt9KSB7XG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBTRVRVUCAmIERPTSBSRUZFUkVOQ0VTXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBcbiAgY29uc3QgbGIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHJvb3QpO1xuICBpZiAoIWxiKSB7IFxuICAgIGNvbnNvbGUubG9nKCdbTElHSFRCT1hdIFx1Mjc0QyBFbGVtZW50IG5vdCBmb3VuZCcpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGlubmVyID0gbGIucXVlcnlTZWxlY3RvcignLmxpZ2h0Ym94X19pbm5lcicpO1xuICBjb25zdCB2aWRlb0FyZWEgPSBsYi5xdWVyeVNlbGVjdG9yKCcudmlkZW8tYXJlYScpO1xuICBjb25zdCBvdmVybGF5ID0gbGIucXVlcnlTZWxlY3RvcignLmxpZ2h0Ym94X19vdmVybGF5Jyk7XG4gIGNvbnN0IGNsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Nsb3NlLWJ0bicpO1xuICBjb25zdCBzbGlkZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGUnKTtcbiAgY29uc3QgcHJlZmVyc1JlZHVjZWQgPSBtYXRjaE1lZGlhKCcocHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogcmVkdWNlKScpLm1hdGNoZXM7XG5cbiAgY29uc3QgY2xpZW50RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGlnaHRib3gtY2xpZW50Jyk7XG4gIGNvbnN0IHRpdGxlRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGlnaHRib3gtdGl0bGUnKTtcbiAgY29uc3QgdHJ1dGhFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsaWdodGJveC10cnV0aCcpO1xuICBjb25zdCB0cnV0aFdlbGxUb2xkRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGlnaHRib3gtdHJ1dGh3ZWxsdG9sZCcpO1xuICBjb25zdCBkZXNjcmlwdGlvbkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xpZ2h0Ym94LWRlc2NyaXB0aW9uJyk7XG4gIGNvbnN0IGF3YXJkc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsaWdodGJveC1hd2FyZHMnKTtcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gSU5JVElBTElaQVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFxuICBsYi5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCBsYi5nZXRBdHRyaWJ1dGUoJ3JvbGUnKSB8fCAnZGlhbG9nJyk7XG4gIGxiLnNldEF0dHJpYnV0ZSgnYXJpYS1tb2RhbCcsIGxiLmdldEF0dHJpYnV0ZSgnYXJpYS1tb2RhbCcpIHx8ICd0cnVlJyk7XG4gIGxiLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICBsYi5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3RhdGUnLCBTVEFURS5JRExFKTtcbiAgXG4gIHVubG9ja1Njcm9sbCh7IGRlbGF5TXM6IDAgfSk7XG4gIFxuICBwcm9qZWN0RGF0YSA9IHByb2plY3REYXRhSnNvbjtcbiAgY29uc3QgcHJvamVjdENvdW50ID0gT2JqZWN0LmtleXMocHJvamVjdERhdGEpLmxlbmd0aDtcbiAgY29uc29sZS5sb2coYFtMSUdIVEJPWF0gXHUyNzEzIExvYWRlZCAke3Byb2plY3RDb3VudH0gcHJvamVjdCR7cHJvamVjdENvdW50ICE9PSAxID8gJ3MnIDogJyd9IGZyb20gYnVuZGxlZCBkYXRhYCk7XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFZBTElEQVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFxuICBjb25zb2xlLmxvZygnXFxuXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxJyk7XG4gIGNvbnNvbGUubG9nKCdcdUQ4M0RcdUREMEQgTElHSFRCT1ggU0VUVVAgVkFMSURBVElPTicpO1xuICBjb25zb2xlLmxvZygnXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXFxuJyk7XG5cbiAgY29uc29sZS5sb2coJzFcdUZFMEZcdTIwRTMgIE1haW4gQ29udGFpbmVyJyk7XG4gIGNvbnNvbGUubG9nKGAgICBcdTI3MTMgRm91bmQ6ICR7cm9vdH1gKTtcbiAgY29uc29sZS5sb2coYCAgIFx1MjcxMyBTdGF0ZSBtYWNoaW5lIGluaXRpYWxpemVkOiAke2N1cnJlbnRTdGF0ZX1gKTtcbiAgY29uc29sZS5sb2coYCAgIFx1MjNGMVx1RkUwRiAgT3BlbiBkdXJhdGlvbjogJHtvcGVuRHVyYXRpb259bXMgKG11c3QgbWF0Y2ggV2ViZmxvdyAnbGI6b3BlbicgYW5pbWF0aW9uKWApO1xuICBjb25zb2xlLmxvZyhgICAgXHUyM0YxXHVGRTBGICBDbG9zZSBkdXJhdGlvbjogJHtjbG9zZUR1cmF0aW9ufW1zIChtdXN0IG1hdGNoIFdlYmZsb3cgJ2xiOmNsb3NlJyBhbmltYXRpb24pYCk7XG4gIFxuICBjb25zb2xlLmxvZygnXFxuMlx1RkUwRlx1MjBFMyAgQ29udGVudCBJbmplY3Rpb24gVGFyZ2V0cycpO1xuICBjb25zb2xlLmxvZyhgICAgJHtjbGllbnRFbCA/ICdcdTI3MTMnIDogJ1x1Mjc0Qyd9ICNsaWdodGJveC1jbGllbnRgKTtcbiAgY29uc29sZS5sb2coYCAgICR7dGl0bGVFbCA/ICdcdTI3MTMnIDogJ1x1Mjc0Qyd9ICNsaWdodGJveC10aXRsZWApO1xuICBjb25zb2xlLmxvZyhgICAgJHt0cnV0aEVsID8gJ1x1MjcxMycgOiAnXHUyNzRDJ30gI2xpZ2h0Ym94LXRydXRoYCk7XG4gIGNvbnNvbGUubG9nKGAgICAke3RydXRoV2VsbFRvbGRFbCA/ICdcdTI3MTMnIDogJ1x1Mjc0Qyd9ICNsaWdodGJveC10cnV0aHdlbGx0b2xkYCk7XG4gIGNvbnNvbGUubG9nKGAgICAke2Rlc2NyaXB0aW9uRWwgPyAnXHUyNzEzJyA6ICdcdTI3NEMnfSAjbGlnaHRib3gtZGVzY3JpcHRpb25gKTtcbiAgY29uc29sZS5sb2coYCAgICR7YXdhcmRzQ29udGFpbmVyID8gJ1x1MjcxMycgOiAnXHUyNzRDJ30gI2xpZ2h0Ym94LWF3YXJkc2ApO1xuICBjb25zb2xlLmxvZyhgICAgJHt2aWRlb0FyZWEgPyAnXHUyNzEzJyA6ICdcdTI3NEMnfSAudmlkZW8tYXJlYWApO1xuICBcbiAgY29uc29sZS5sb2coJ1xcbjNcdUZFMEZcdTIwRTMgIFNsaWRlIFRyaWdnZXJzJyk7XG4gIGNvbnNvbGUubG9nKGAgICBcdTI3MTMgRm91bmQ6ICR7c2xpZGVzLmxlbmd0aH0gLnNsaWRlIGVsZW1lbnRzYCk7XG4gIFxuICAvLyBWYWxpZGF0ZSBzbGlkZSBkYXRhIGltbWVkaWF0ZWx5IChkYXRhIGlzIGFscmVhZHkgbG9hZGVkKVxuICB2YWxpZGF0ZVNsaWRlRGF0YSgpO1xuICBcbiAgY29uc29sZS5sb2coJ1xcbjRcdUZFMEZcdTIwRTMgIFdlYmZsb3cgSVggU2V0dXAnKTtcbiAgY29uc3Qgd2ZJeCA9ICh3aW5kb3cuV2ViZmxvdyAmJiB3aW5kb3cuV2ViZmxvdy5yZXF1aXJlKVxuICAgID8gKHdpbmRvdy5XZWJmbG93LnJlcXVpcmUoJ2l4MycpIHx8IHdpbmRvdy5XZWJmbG93LnJlcXVpcmUoJ2l4MicpKVxuICAgIDogbnVsbDtcbiAgXG4gIGlmICh3Zkl4KSB7XG4gICAgY29uc3QgdmVyc2lvbiA9IHdpbmRvdy5XZWJmbG93LnJlcXVpcmUoJ2l4MycpID8gJ0lYMycgOiAnSVgyJztcbiAgICBjb25zb2xlLmxvZyhgICAgXHUyNzEzIFdlYmZsb3cgJHt2ZXJzaW9ufSBkZXRlY3RlZGApO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUud2FybignICAgXHUyNkEwXHVGRTBGICBXZWJmbG93IElYIE5PVCBkZXRlY3RlZCcpO1xuICB9XG4gIFxuICBjb25zb2xlLmxvZygnXFxuICAgXHVEODNEXHVEQ0NCIFJlcXVpcmVkIEN1c3RvbSBFdmVudHMgaW4gV2ViZmxvdzonKTtcbiAgY29uc29sZS5sb2coJyAgICAgIFx1MjAyMiBcImxiOm9wZW5cIiBcdTIxOTIgdHJpZ2dlcnMgb3BlbiBhbmltYXRpb24nKTtcbiAgY29uc29sZS5sb2coJyAgICAgIFx1MjAyMiBcImxiOmNsb3NlXCIgXHUyMTkyIHRyaWdnZXJzIGNsb3NlIGFuaW1hdGlvbicpO1xuICBjb25zb2xlLmxvZyhgICAgICAgXHUyMDIyIER1cmF0aW9ucyBNVVNUIG1hdGNoOiBvcGVuPSR7b3BlbkR1cmF0aW9ufW1zLCBjbG9zZT0ke2Nsb3NlRHVyYXRpb259bXNgKTtcbiAgXG4gIGNvbnNvbGUubG9nKCdcXG5cdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDEnKTtcbiAgY29uc29sZS5sb2coJ1x1MjcwNSBWQUxJREFUSU9OIENPTVBMRVRFXFxuJyk7XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIEhFTFBFUiBGVU5DVElPTlNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFxuICBmdW5jdGlvbiB2YWxpZGF0ZVNsaWRlRGF0YSgpIHtcbiAgICBpZiAoIXByb2plY3REYXRhKSByZXR1cm47XG4gICAgXG4gICAgbGV0IHZhbGlkU2xpZGVzID0gMDtcbiAgICBsZXQgbWlzc2luZ0RhdGEgPSBbXTtcbiAgICBcbiAgICBzbGlkZXMuZm9yRWFjaCgoc2xpZGUsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBwcm9qZWN0SWQgPSBzbGlkZS5kYXRhc2V0LnByb2plY3Q7XG4gICAgICBpZiAoIXByb2plY3RJZCkge1xuICAgICAgICBtaXNzaW5nRGF0YS5wdXNoKGBTbGlkZSAke2luZGV4fTogbWlzc2luZyBkYXRhLXByb2plY3QgYXR0cmlidXRlYCk7XG4gICAgICB9IGVsc2UgaWYgKCFwcm9qZWN0RGF0YVtwcm9qZWN0SWRdKSB7XG4gICAgICAgIG1pc3NpbmdEYXRhLnB1c2goYFNsaWRlICR7aW5kZXh9OiBwcm9qZWN0IElEIFwiJHtwcm9qZWN0SWR9XCIgbm90IGZvdW5kIGluIEpTT05gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHByb2plY3QgPSBwcm9qZWN0RGF0YVtwcm9qZWN0SWRdO1xuICAgICAgICAvLyBWYWxpZGF0ZSByZXF1aXJlZCB2aWRlbyBJRHNcbiAgICAgICAgaWYgKCFwcm9qZWN0LnZpbWVvSWQgfHwgcHJvamVjdC52aW1lb0lkID09PSAnMDAwMDAwMDAwJykge1xuICAgICAgICAgIG1pc3NpbmdEYXRhLnB1c2goYFNsaWRlICR7aW5kZXh9ICgke3Byb2plY3RJZH0pOiBtaXNzaW5nIG9yIGludmFsaWQgdmltZW9JZGApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcHJvamVjdC52aW1lb1ByZXZpZXdJZCB8fCBwcm9qZWN0LnZpbWVvUHJldmlld0lkID09PSAnMDAwMDAwMDAwJykge1xuICAgICAgICAgIG1pc3NpbmdEYXRhLnB1c2goYFNsaWRlICR7aW5kZXh9ICgke3Byb2plY3RJZH0pOiBtaXNzaW5nIG9yIGludmFsaWQgdmltZW9QcmV2aWV3SWRgKTtcbiAgICAgICAgfVxuICAgICAgICB2YWxpZFNsaWRlcysrO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGBbTElHSFRCT1hdIFx1MjcxMyBWYWxpZCBzbGlkZXM6ICR7dmFsaWRTbGlkZXN9LyR7c2xpZGVzLmxlbmd0aH1gKTtcbiAgICBpZiAobWlzc2luZ0RhdGEubGVuZ3RoID4gMCkge1xuICAgICAgY29uc29sZS53YXJuKCdbTElHSFRCT1hdIFx1MjZBMFx1RkUwRiAgSXNzdWVzIGZvdW5kOicpO1xuICAgICAgbWlzc2luZ0RhdGEuZm9yRWFjaChtc2cgPT4gY29uc29sZS53YXJuKGAgICAtICR7bXNnfWApKTtcbiAgICB9XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIGVtaXRXZWJmbG93RXZlbnQobmFtZSkge1xuICAgIHRyeSB7XG4gICAgICBpZiAod2luZG93LldlYmZsb3cgJiYgd2luZG93LldlYmZsb3cucmVxdWlyZSkge1xuICAgICAgICBjb25zdCB3Zkl4ID0gd2luZG93LldlYmZsb3cucmVxdWlyZSgnaXgzJykgfHwgd2luZG93LldlYmZsb3cucmVxdWlyZSgnaXgyJyk7XG4gICAgICAgIGlmICh3Zkl4ICYmIHR5cGVvZiB3Zkl4LmVtaXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB3Zkl4LmVtaXQobmFtZSk7XG4gICAgICAgICAgY29uc29sZS5sb2coYFx1RDgzQ1x1REZBQyBbTElHSFRCT1hdIFRyaWdnZXJlZCBhbmltYXRpb246IFwiJHtuYW1lfVwiYCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGBcdTI2QTBcdUZFMEYgIFtMSUdIVEJPWF0gQ2Fubm90IGVtaXQgXCIke25hbWV9XCIgLSB3Zkl4LmVtaXQgbm90IGF2YWlsYWJsZWApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oYFx1MjZBMFx1RkUwRiAgW0xJR0hUQk9YXSBDYW5ub3QgZW1pdCBcIiR7bmFtZX1cIiAtIFdlYmZsb3cgSVggbm90IGF2YWlsYWJsZWApO1xuICAgICAgfVxuICAgIH0gY2F0Y2goZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBcdTI3NEMgW0xJR0hUQk9YXSBFcnJvciBlbWl0dGluZyBcIiR7bmFtZX1cIjpgLCBlcnIpO1xuICAgIH1cbiAgICBcbiAgICAvLyBBbHdheXMgZW1pdCB3aW5kb3cgZXZlbnQgZm9yIGV4dGVybmFsIGxpc3RlbmVyc1xuICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChuYW1lKSk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRQYWdlSW5lcnQob24pIHtcbiAgICBjb25zdCBzaWJsaW5ncyA9IEFycmF5LmZyb20oZG9jdW1lbnQuYm9keS5jaGlsZHJlbikuZmlsdGVyKG4gPT4gbiAhPT0gbGIpO1xuICAgIHNpYmxpbmdzLmZvckVhY2gobiA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoJ2luZXJ0JyBpbiBuKSBuLmluZXJ0ID0gISFvbjtcbiAgICAgIH0gY2F0Y2gge31cbiAgICAgIGlmIChvbikgbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgIGVsc2Ugbi5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJyk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFwRm9jdXMoZSkge1xuICAgIGlmIChlLmtleSAhPT0gJ1RhYicpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBmb2N1c2FibGVzID0gbGIucXVlcnlTZWxlY3RvckFsbChbXG4gICAgICAnYVtocmVmXScsJ2J1dHRvbicsJ2lucHV0Jywnc2VsZWN0JywndGV4dGFyZWEnLFxuICAgICAgJ1t0YWJpbmRleF06bm90KFt0YWJpbmRleD1cIi0xXCJdKSdcbiAgICBdLmpvaW4oJywnKSk7XG4gICAgXG4gICAgY29uc3QgbGlzdCA9IEFycmF5LmZyb20oZm9jdXNhYmxlcykuZmlsdGVyKFxuICAgICAgZWwgPT4gIWVsLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSAmJiAhZWwuZ2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicpXG4gICAgKTtcbiAgICBcbiAgICBpZiAobGlzdC5sZW5ndGggPT09IDApIHsgXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7IFxuICAgICAgKGlubmVyIHx8IGxiKS5mb2N1cygpOyBcbiAgICAgIHJldHVybjsgXG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGZpcnN0ID0gbGlzdFswXTtcbiAgICBjb25zdCBsYXN0ID0gbGlzdFtsaXN0Lmxlbmd0aCAtIDFdO1xuICAgIFxuICAgIGlmIChlLnNoaWZ0S2V5ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGZpcnN0KSB7IFxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyBcbiAgICAgIGxhc3QuZm9jdXMoKTsgXG4gICAgfSBlbHNlIGlmICghZS5zaGlmdEtleSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBsYXN0KSB7IFxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyBcbiAgICAgIGZpcnN0LmZvY3VzKCk7IFxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFByb2plY3RCeUlkKGlkKSB7XG4gICAgaWYgKCFwcm9qZWN0RGF0YVtpZF0pIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFtMSUdIVEJPWF0gXHUyNzRDIFByb2plY3QgXCIke2lkfVwiIG5vdCBmb3VuZCBpbiBKU09OYCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHByb2plY3REYXRhW2lkXTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIHdhaXRGb3JJbWFnZXMoaW1hZ2VVcmxzKSB7XG4gICAgaWYgKCFpbWFnZVVybHMgfHwgaW1hZ2VVcmxzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGBbTElHSFRCT1hdIFx1MjNGMyBMb2FkaW5nICR7aW1hZ2VVcmxzLmxlbmd0aH0gaW1hZ2VzLi4uYCk7XG4gICAgXG4gICAgY29uc3QgcHJvbWlzZXMgPSBpbWFnZVVybHMubWFwKHVybCA9PiB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICBpbWcuZGVjb2RlKClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHJlc29sdmUoKSlcbiAgICAgICAgICAgIC5jYXRjaCgoKSA9PiByZXNvbHZlKCkpOyAvLyBEZWNvZGUgZmFpbGVkLCBidXQgY29udGludWVcbiAgICAgICAgfTtcbiAgICAgICAgaW1nLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGBbTElHSFRCT1hdIFx1MjZBMFx1RkUwRiAgRmFpbGVkIHRvIGxvYWQgaW1hZ2U6ICR7dXJsfWApO1xuICAgICAgICAgIHJlc29sdmUoKTsgLy8gRG9uJ3QgYmxvY2sgb24gZmFpbGVkIGltYWdlc1xuICAgICAgICB9O1xuICAgICAgICBpbWcuc3JjID0gdXJsO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgIGNvbnNvbGUubG9nKGBbTElHSFRCT1hdIFx1MjcxMyBBbGwgaW1hZ2VzIGxvYWRlZGApO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gaW5qZWN0Q29udGVudChwcm9qZWN0KSB7XG4gICAgY29uc29sZS5sb2coYFtMSUdIVEJPWF0gXHVEODNEXHVEQ0REIEluamVjdGluZyBjb250ZW50IGZvcjogJHtwcm9qZWN0LnRpdGxlfWApO1xuICAgIFxuICAgIC8vIEluamVjdCB0ZXh0IGNvbnRlbnRcbiAgICBpZiAoY2xpZW50RWwpIGNsaWVudEVsLnRleHRDb250ZW50ID0gcHJvamVjdC5jbGllbnQgfHwgJyc7XG4gICAgaWYgKHRpdGxlRWwpIHRpdGxlRWwudGV4dENvbnRlbnQgPSBwcm9qZWN0LnRpdGxlIHx8ICcnO1xuICAgIGlmICh0cnV0aEVsKSB0cnV0aEVsLnRleHRDb250ZW50ID0gcHJvamVjdC50cnV0aCB8fCAnJztcbiAgICBpZiAodHJ1dGhXZWxsVG9sZEVsKSB0cnV0aFdlbGxUb2xkRWwudGV4dENvbnRlbnQgPSBwcm9qZWN0LnRydXRoV2VsbFRvbGQgfHwgJyc7XG4gICAgaWYgKGRlc2NyaXB0aW9uRWwpIGRlc2NyaXB0aW9uRWwudGV4dENvbnRlbnQgPSBwcm9qZWN0LmRlc2NyaXB0aW9uIHx8ICcnO1xuICAgIFxuICAgIC8vIEluamVjdCBhd2FyZCBpbWFnZXNcbiAgICBpZiAoYXdhcmRzQ29udGFpbmVyICYmIHByb2plY3QuYXdhcmRzKSB7XG4gICAgICBhd2FyZHNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgICBwcm9qZWN0LmF3YXJkcy5mb3JFYWNoKHVybCA9PiB7XG4gICAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgICBpbWcuc3JjID0gdXJsO1xuICAgICAgICBpbWcuYWx0ID0gJ0F3YXJkJztcbiAgICAgICAgaW1nLmxvYWRpbmcgPSAnZWFnZXInOyAvLyBMb2FkIGltbWVkaWF0ZWx5LCBub3QgbGF6eVxuICAgICAgICBhd2FyZHNDb250YWluZXIuYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICAvLyBNb3VudCBWaW1lbyB2aWRlb1xuICAgIGlmICh2aWRlb0FyZWEpIHtcbiAgICAgIGlmICghcHJvamVjdC52aW1lb0lkIHx8IHByb2plY3QudmltZW9JZCA9PT0gJzAwMDAwMDAwMCcpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgW0xJR0hUQk9YXSBcdTI3NEMgTWlzc2luZyBvciBpbnZhbGlkIHZpbWVvSWQgZm9yIHByb2plY3QgXCIke3Byb2plY3RJZH1cImApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbW91bnRWaW1lbyh2aWRlb0FyZWEsIHByb2plY3QudmltZW9JZCwgeyBcbiAgICAgICAgICBhdXRvcGxheTogMSwgXG4gICAgICAgICAgbXV0ZWQ6IDEsXG4gICAgICAgICAgYXV0b3BhdXNlOiAwLFxuICAgICAgICAgIGNvbnRyb2xzOiAwLCBcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAxLFxuICAgICAgICAgIHBsYXlzaW5saW5lOiAxLCBcbiAgICAgICAgICBsb29wOiAxLFxuICAgICAgICAgIGRudDogMSBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIFdhaXQgZm9yIGF3YXJkIGltYWdlcyB0byBsb2FkIGJlZm9yZSBvcGVuaW5nXG4gICAgaWYgKHByb2plY3QuYXdhcmRzICYmIHByb2plY3QuYXdhcmRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGF3YWl0IHdhaXRGb3JJbWFnZXMocHJvamVjdC5hd2FyZHMpO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZyhgW0xJR0hUQk9YXSBcdTI3MTMgQ29udGVudCBpbmplY3RlZGApO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0U3RhdGUobmV3U3RhdGUpIHtcbiAgICBjdXJyZW50U3RhdGUgPSBuZXdTdGF0ZTtcbiAgICBsYi5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3RhdGUnLCBuZXdTdGF0ZSk7XG4gICAgY29uc29sZS5sb2coYFtMSUdIVEJPWF0gU3RhdGU6ICR7bmV3U3RhdGV9YCk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gQ09SRSBGVU5DVElPTlNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFxuICBhc3luYyBmdW5jdGlvbiBvcGVuRnJvbVNsaWRlKHNsaWRlKSB7XG4gICAgLy8gR3VhcmQ6IG9ubHkgb3BlbiBmcm9tIElETEUgc3RhdGVcbiAgICBpZiAoY3VycmVudFN0YXRlICE9PSBTVEFURS5JRExFKSB7XG4gICAgICBjb25zb2xlLmxvZygnW0xJR0hUQk9YXSBcdTI2QTBcdUZFMEYgIENhbm5vdCBvcGVuIC0gYWxyZWFkeSBvcGVuaW5nL29wZW4vY2xvc2luZycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBWYWxpZGF0ZSBkYXRhLXByb2plY3QgYXR0cmlidXRlXG4gICAgY29uc3QgcHJvamVjdElkID0gc2xpZGU/LmRhdGFzZXQ/LnByb2plY3Q7XG4gICAgaWYgKCFwcm9qZWN0SWQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tMSUdIVEJPWF0gXHUyNzRDIFNsaWRlIG1pc3NpbmcgZGF0YS1wcm9qZWN0IGF0dHJpYnV0ZScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBHZXQgcHJvamVjdCBkYXRhXG4gICAgY29uc3QgcHJvamVjdCA9IGdldFByb2plY3RCeUlkKHByb2plY3RJZCk7XG4gICAgaWYgKCFwcm9qZWN0KSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBbTElHSFRCT1hdIFx1Mjc0QyBQcm9qZWN0IFwiJHtwcm9qZWN0SWR9XCIgbm90IGZvdW5kIGluIEpTT05gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hhbmdlIHN0YXRlIHRvIE9QRU5JTkdcbiAgICBzZXRTdGF0ZShTVEFURS5PUEVOSU5HKTtcbiAgICBcbiAgICAvLyBTYXZlIGZvY3VzIGZvciByZXN0b3JhdGlvblxuICAgIGxhc3RGb2N1cyA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCA/IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgOiBudWxsO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBJbmplY3QgY29udGVudCBhbmQgd2FpdCBmb3IgaW1hZ2VzIHRvIGxvYWRcbiAgICAgIGF3YWl0IGluamVjdENvbnRlbnQocHJvamVjdCk7XG4gICAgICBcbiAgICAgIC8vIExvY2sgc2Nyb2xsIGFuZCBtYWtlIGJhY2tncm91bmQgaW5lcnRcbiAgICAgIHNldFBhZ2VJbmVydCh0cnVlKTtcbiAgICAgIGxvY2tTY3JvbGwoKTtcbiAgICAgIFxuICAgICAgLy8gU3RvcCBzbW9vdGggc2Nyb2xsIGlmIGFjdGl2ZVxuICAgICAgaWYgKHdpbmRvdy5BcHA/LnNtb290aFNjcm9sbD8uc3RvcCkge1xuICAgICAgICB3aW5kb3cuQXBwLnNtb290aFNjcm9sbC5zdG9wKCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBBUklBXG4gICAgICBsYi5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgICBcbiAgICAgIC8vIFRyaWdnZXIgR1NBUCBvcGVuIGFuaW1hdGlvbiB2aWEgV2ViZmxvdyBJWFxuICAgICAgLy8gR1NBUCB3aWxsIGhhbmRsZSB2aXNpYmlsaXR5IChvcGFjaXR5LCBkaXNwbGF5LCBldGMuKVxuICAgICAgZW1pdFdlYmZsb3dFdmVudCgnbGI6b3BlbicpO1xuICAgICAgXG4gICAgICAvLyBXYWl0IGZvciBHU0FQIGFuaW1hdGlvbiB0byBjb21wbGV0ZSwgdGhlbiBjYWxsIGZpbmlzaE9wZW5cbiAgICAgIC8vIElNUE9SVEFOVDogVGhpcyBkdXJhdGlvbiBNVVNUIG1hdGNoIFdlYmZsb3cgSVgzIGFuaW1hdGlvbiBkdXJhdGlvblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGZpbmlzaE9wZW4oKTtcbiAgICAgIH0sIG9wZW5EdXJhdGlvbik7XG4gICAgICBcbiAgICAgIC8vIEVtaXQgZXZlbnQgZm9yIGV4dGVybmFsIGxpc3RlbmVyc1xuICAgICAgZW1pdCgnTElHSFRCT1hfT1BFTicsIGxiLCBwcm9qZWN0KTtcbiAgICAgIFxuICAgIH0gY2F0Y2goZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbTElHSFRCT1hdIFx1Mjc0QyBFcnJvciBvcGVuaW5nOicsIGVycik7XG4gICAgICAvLyBSZXZlcnQgdG8gSURMRSBvbiBlcnJvclxuICAgICAgc2V0U3RhdGUoU1RBVEUuSURMRSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZmluaXNoT3BlbigpIHtcbiAgICBjb25zb2xlLmxvZygnW0xJR0hUQk9YXSBcdTI3MTMgT3BlbiBhbmltYXRpb24gY29tcGxldGUnKTtcbiAgICBcbiAgICAvLyBDaGFuZ2Ugc3RhdGUgdG8gT1BFTiBcdTIxOTIgYWxsb3cgY2xvc2luZ1xuICAgIHNldFN0YXRlKFNUQVRFLk9QRU4pO1xuICAgIFxuICAgIC8vIEluaXRpYWxpemUgc21vb3RoIHNjcm9sbCBmb3Igb3ZlcmxheSBpZiBpdCBleGlzdHNcbiAgICBpZiAob3ZlcmxheSkge1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgb3ZlcmxheUxlbmlzID0gaW5pdENvbnRhaW5lclNjcm9sbChvdmVybGF5LCB7XG4gICAgICAgICAgbGVycDogMC4wOCxcbiAgICAgICAgICBzbW9vdGhXaGVlbDogdHJ1ZSxcbiAgICAgICAgICBzbW9vdGhUb3VjaDogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gU2V0IGZvY3VzIHRvIGxpZ2h0Ym94IGZvciBrZXlib2FyZCBuYXZpZ2F0aW9uXG4gICAgbGIuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAoaW5uZXIgfHwgbGIpLmZvY3VzKCk7XG4gICAgfSk7XG4gICAgXG4gICAgZW1pdCgnTElHSFRCT1hfT1BFTkVEJywgbGIpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVxdWVzdENsb3NlKCkge1xuICAgIC8vIEd1YXJkOiBvbmx5IGNsb3NlIGZyb20gT1BFTiBzdGF0ZVxuICAgIGlmIChjdXJyZW50U3RhdGUgIT09IFNUQVRFLk9QRU4pIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbTElHSFRCT1hdIFx1MjZBMFx1RkUwRiAgQ2Fubm90IGNsb3NlIC0gbm90IG9wZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hhbmdlIHN0YXRlIHRvIENMT1NJTkdcbiAgICBzZXRTdGF0ZShTVEFURS5DTE9TSU5HKTtcbiAgICBcbiAgICAvLyBFbWl0IGV2ZW50IGZvciBleHRlcm5hbCBsaXN0ZW5lcnNcbiAgICBlbWl0KCdMSUdIVEJPWF9DTE9TRScsIGxiKTtcbiAgICBcbiAgICAvLyBUcmlnZ2VyIEdTQVAgY2xvc2UgYW5pbWF0aW9uIHZpYSBXZWJmbG93IElYXG4gICAgLy8gR1NBUCB3aWxsIGhhbmRsZSB2aXNpYmlsaXR5IChmYWRlIG91dCwgZXRjLilcbiAgICBlbWl0V2ViZmxvd0V2ZW50KCdsYjpjbG9zZScpO1xuICAgIFxuICAgIC8vIENhbGN1bGF0ZSBkZWxheSBiYXNlZCBvbiB1c2VyJ3MgbW90aW9uIHByZWZlcmVuY2VcbiAgICBjb25zdCBoaWRlRGVsYXkgPSBwcmVmZXJzUmVkdWNlZCA/IDAgOiBjbG9zZUR1cmF0aW9uO1xuICAgIFxuICAgIC8vIFdhaXQgZm9yIEdTQVAgYW5pbWF0aW9uIHRvIGNvbXBsZXRlLCB0aGVuIGNhbGwgZmluaXNoQ2xvc2VcbiAgICAvLyBJTVBPUlRBTlQ6IFRoaXMgZHVyYXRpb24gTVVTVCBtYXRjaCBXZWJmbG93IElYMyBhbmltYXRpb24gZHVyYXRpb25cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGZpbmlzaENsb3NlKCk7XG4gICAgfSwgaGlkZURlbGF5KTtcbiAgICBcbiAgICAvLyBVbmxvY2sgc2Nyb2xsICh3aXRoIGRlbGF5IHRvIGNvb3JkaW5hdGUgd2l0aCBhbmltYXRpb24pXG4gICAgdW5sb2NrU2Nyb2xsKHsgXG4gICAgICBkZWxheU1zOiBwcmVmZXJzUmVkdWNlZCA/IDAgOiBjbG9zZUR1cmF0aW9uIFxuICAgIH0pO1xuICAgIFxuICAgIC8vIFJlc3RhcnQgc21vb3RoIHNjcm9sbCBpZiBhY3RpdmVcbiAgICBpZiAod2luZG93LkFwcD8uc21vb3RoU2Nyb2xsPy5zdGFydCkge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHdpbmRvdy5BcHAuc21vb3RoU2Nyb2xsLnN0YXJ0KCk7XG4gICAgICB9LCBoaWRlRGVsYXkpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaENsb3NlKCkge1xuICAgIGNvbnNvbGUubG9nKCdbTElHSFRCT1hdIFx1MjcxMyBDbG9zZSBhbmltYXRpb24gY29tcGxldGUnKTtcbiAgICBcbiAgICAvLyBVcGRhdGUgQVJJQVxuICAgIGxiLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgIFxuICAgIC8vIE1ha2UgcGFnZSBhY2Nlc3NpYmxlIGFnYWluXG4gICAgc2V0UGFnZUluZXJ0KGZhbHNlKTtcbiAgICBcbiAgICAvLyBDbGVhciBjb250ZW50XG4gICAgaWYgKHZpZGVvQXJlYSkgdmlkZW9BcmVhLmlubmVySFRNTCA9ICcnO1xuICAgIGlmIChhd2FyZHNDb250YWluZXIpIGF3YXJkc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICBpZiAoY2xpZW50RWwpIGNsaWVudEVsLnRleHRDb250ZW50ID0gJyc7XG4gICAgaWYgKHRpdGxlRWwpIHRpdGxlRWwudGV4dENvbnRlbnQgPSAnJztcbiAgICBpZiAodHJ1dGhFbCkgdHJ1dGhFbC50ZXh0Q29udGVudCA9ICcnO1xuICAgIGlmICh0cnV0aFdlbGxUb2xkRWwpIHRydXRoV2VsbFRvbGRFbC50ZXh0Q29udGVudCA9ICcnO1xuICAgIGlmIChkZXNjcmlwdGlvbkVsKSBkZXNjcmlwdGlvbkVsLnRleHRDb250ZW50ID0gJyc7XG4gICAgXG4gICAgLy8gRGVzdHJveSBvdmVybGF5IHNtb290aCBzY3JvbGwgaW5zdGFuY2VcbiAgICBpZiAob3ZlcmxheUxlbmlzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBvdmVybGF5TGVuaXMuZGVzdHJveSgpO1xuICAgICAgICBvdmVybGF5TGVuaXMgPSBudWxsO1xuICAgICAgICBjb25zb2xlLmxvZygnW0xJR0hUQk9YXSBcdTI3MTMgT3ZlcmxheSBzbW9vdGggc2Nyb2xsIGRlc3Ryb3llZCcpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignW0xJR0hUQk9YXSBFcnJvciBkZXN0cm95aW5nIG92ZXJsYXkgc2Nyb2xsOicsIGVycik7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIFJlc3RvcmUgZm9jdXMgdG8gZWxlbWVudCB0aGF0IG9wZW5lZCBsaWdodGJveFxuICAgIGlmIChsYXN0Rm9jdXMgJiYgZG9jdW1lbnQuYm9keS5jb250YWlucyhsYXN0Rm9jdXMpKSB7XG4gICAgICBsYXN0Rm9jdXMuZm9jdXMoKTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hhbmdlIHN0YXRlIHRvIElETEUgXHUyMTkyIHJlYWR5IHRvIG9wZW4gYWdhaW5cbiAgICBzZXRTdGF0ZShTVEFURS5JRExFKTtcbiAgICBcbiAgICBlbWl0KCdMSUdIVEJPWF9DTE9TRUQnLCBsYik7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gRVZFTlQgTElTVEVORVJTXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBcbiAgc2xpZGVzLmZvckVhY2goKHNsaWRlLCBpbmRleCkgPT4ge1xuICAgIC8vIE1vdW50IHByZXZpZXcgdmlkZW8gb24gdGhlIHNsaWRlXG4gICAgY29uc3QgcHJvamVjdElkID0gc2xpZGUuZGF0YXNldC5wcm9qZWN0O1xuICAgIGNvbnN0IHByb2plY3QgPSBnZXRQcm9qZWN0QnlJZChwcm9qZWN0SWQpO1xuICAgIGNvbnN0IHByZXZpZXdDb250YWluZXIgPSBzbGlkZS5xdWVyeVNlbGVjdG9yKCcuc2xpZGVfX3ByZXZpZXcnKTtcbiAgICBcbiAgICBpZiAocHJldmlld0NvbnRhaW5lciAmJiBwcm9qZWN0KSB7XG4gICAgICBpZiAoIXByb2plY3QudmltZW9QcmV2aWV3SWQgfHwgcHJvamVjdC52aW1lb1ByZXZpZXdJZCA9PT0gJzAwMDAwMDAwMCcpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgW0xJR0hUQk9YXSBcdTI3NEMgTWlzc2luZyBvciBpbnZhbGlkIHZpbWVvUHJldmlld0lkIGZvciBwcm9qZWN0IFwiJHtwcm9qZWN0SWR9XCJgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vdW50VmltZW8ocHJldmlld0NvbnRhaW5lciwgcHJvamVjdC52aW1lb1ByZXZpZXdJZCwge1xuICAgICAgICAgIGF1dG9wbGF5OiAxLFxuICAgICAgICAgIG11dGVkOiAxLFxuICAgICAgICAgIGF1dG9wYXVzZTogMCxcbiAgICAgICAgICBjb250cm9sczogMCxcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAxLFxuICAgICAgICAgIHBsYXlzaW5saW5lOiAxLFxuICAgICAgICAgIGxvb3A6IDEsXG4gICAgICAgICAgZG50OiAxXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBBZGQgY2xpY2sgaGFuZGxlclxuICAgIHNsaWRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBvcGVuRnJvbVNsaWRlKHNsaWRlKTtcbiAgICB9LCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xuICB9KTtcblxuICBpZiAoY2xvc2VCdG4pIHtcbiAgICBjbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gU1RBVEUuT1BFTikge1xuICAgICAgICBjb25zb2xlLmxvZygnW0xJR0hUQk9YXSBcdUQ4M0NcdURGQUYgQ2xvc2UgYnV0dG9uIGNsaWNrZWQnKTtcbiAgICAgICAgcmVxdWVzdENsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS53YXJuKCdbTElHSFRCT1hdIFx1MjZBMFx1RkUwRiAgI2Nsb3NlLWJ0biBub3QgZm91bmQgLSBvbmx5IEVzY2FwZSBrZXkgd2lsbCBjbG9zZScpO1xuICB9XG5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGUgPT4ge1xuICAgIGlmIChjdXJyZW50U3RhdGUgPT09IFNUQVRFLk9QRU4pIHtcbiAgICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tMSUdIVEJPWF0gXHVEODNDXHVERkFGIEVzY2FwZSBrZXkgcHJlc3NlZCcpO1xuICAgICAgICByZXF1ZXN0Q2xvc2UoKTtcbiAgICAgIH1cbiAgICAgIGlmIChlLmtleSA9PT0gJ1RhYicpIHtcbiAgICAgICAgdHJhcEZvY3VzKGUpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIFxuICBjb25zb2xlLmxvZygnW0xJR0hUQk9YXSBcdTI3MTMgSW5pdGlhbGl6ZWQgYW5kIHJlYWR5XFxuJyk7XG59XG4iLCAiLyoqXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogIE1jQ2FubiBXZWJzaXRlIFx1MjAxNCBXZWJmbG93IFNjcm9sbFRyaWdnZXIgQnJpZGdlXG4gKiAgUHVycG9zZTogVHJpZ2dlciBXZWJmbG93IElYIHZpYSBHU0FQIFNjcm9sbFRyaWdnZXJcbiAqICBEYXRlOiAyMDI1LTExLTA2XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmNvbnNvbGUubG9nKCdbV0VCRkxPV10gbW9kdWxlIGxvYWRlZCcpO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEVYUE9SVFNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdFdlYmZsb3dTY3JvbGxUcmlnZ2VycyhvcHRpb25zID0ge30pe1xuICBjb25zdCBzY3JvbGxlclNlbGVjdG9yID0gb3B0aW9ucy5zY3JvbGxlclNlbGVjdG9yIHx8ICcucGVyc3BlY3RpdmUtd3JhcHBlcic7XG4gIGNvbnN0IGhpZGVFdmVudE5hbWUgPSBvcHRpb25zLmhpZGVFdmVudE5hbWUgfHwgb3B0aW9ucy5zaHJpbmtFdmVudE5hbWUgfHwgJ2xvZ28taGlkZSc7XG4gIGNvbnN0IGFwcGVhckV2ZW50TmFtZSA9IG9wdGlvbnMuYXBwZWFyRXZlbnROYW1lIHx8IG9wdGlvbnMuZ3Jvd0V2ZW50TmFtZSB8fCAnbG9nby1hcHBlYXInO1xuICBjb25zdCBtYXJrZXJzID0gISFvcHRpb25zLm1hcmtlcnM7XG5cbiAgZnVuY3Rpb24gb25XaW5kb3dMb2FkKGNiKXtcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykgeyBzZXRUaW1lb3V0KGNiLCAwKTsgcmV0dXJuOyB9XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBjYiwgeyBvbmNlOiB0cnVlIH0pO1xuICB9XG5cbiAgb25XaW5kb3dMb2FkKGZ1bmN0aW9uKCl7XG4gICAgY29uc3QgV2ViZmxvdyA9IHdpbmRvdy5XZWJmbG93IHx8IFtdO1xuICAgIFxuICAgIFdlYmZsb3cucHVzaChmdW5jdGlvbigpe1xuICAgICAgY29uc3Qgd2ZJeCA9ICh3aW5kb3cuV2ViZmxvdyAmJiB3aW5kb3cuV2ViZmxvdy5yZXF1aXJlKSBcbiAgICAgICAgPyAod2luZG93LldlYmZsb3cucmVxdWlyZSgnaXgzJykgfHwgd2luZG93LldlYmZsb3cucmVxdWlyZSgnaXgyJykpXG4gICAgICAgIDogbnVsbDtcbiAgICAgIGNvbnN0IFNjcm9sbFRyaWdnZXIgPSB3aW5kb3cuU2Nyb2xsVHJpZ2dlcjtcbiAgICAgIFxuICAgICAgaWYgKCF3Zkl4IHx8ICFTY3JvbGxUcmlnZ2VyKSB7IFxuICAgICAgICBjb25zb2xlLndhcm4oJ1tXRUJGTE9XXSBcdTI3NEMgUmVxdWlyZWQgZGVwZW5kZW5jaWVzIG5vdCBmb3VuZDonLCB7IHdmSXg6ICEhd2ZJeCwgU2Nyb2xsVHJpZ2dlcjogISFTY3JvbGxUcmlnZ2VyIH0pO1xuICAgICAgICByZXR1cm47IFxuICAgICAgfVxuXG4gICAgICBjb25zdCBzY3JvbGxlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2Nyb2xsZXJTZWxlY3Rvcik7XG4gICAgICBpZiAoIXNjcm9sbGVyKSB7IFxuICAgICAgICBjb25zb2xlLndhcm4oJ1tXRUJGTE9XXSBcdTI3NEMgU2Nyb2xsZXIgZWxlbWVudCBub3QgZm91bmQ6Jywgc2Nyb2xsZXJTZWxlY3Rvcik7XG4gICAgICAgIHJldHVybjsgXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRyaXZlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbnRyby1zbGlkZScpO1xuICAgICAgaWYgKCFkcml2ZXIpIHsgXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tXRUJGTE9XXSBcdTI3NEMgRHJpdmVyIHNsaWRlICgjaW50cm8tc2xpZGUpIG5vdCBmb3VuZCcpO1xuICAgICAgICByZXR1cm47IFxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygnW1dFQkZMT1ddIFx1MjcxMyBTZXR1cCBjb21wbGV0ZTonLCB7IFxuICAgICAgICBzY3JvbGxlcjogISFzY3JvbGxlciwgXG4gICAgICAgIGRyaXZlcjogISFkcml2ZXIsXG4gICAgICAgIHdmSXg6ICEhd2ZJeCwgXG4gICAgICAgIFNjcm9sbFRyaWdnZXI6ICEhU2Nyb2xsVHJpZ2dlcixcbiAgICAgICAgaGlkZUV2ZW50OiBoaWRlRXZlbnROYW1lLFxuICAgICAgICBhcHBlYXJFdmVudDogYXBwZWFyRXZlbnROYW1lXG4gICAgICB9KTtcblxuICAgICAgLy8gQ3JpdGljYWw6IEFkZCBzY3JvbGwgZXZlbnQgbGlzdGVuZXIgdG8gY3VzdG9tIHNjcm9sbGVyXG4gICAgICBsZXQgc2Nyb2xsUkFGID0gbnVsbDtcbiAgICAgIGNvbnN0IGhhbmRsZVNjcm9sbCA9ICgpID0+IHtcbiAgICAgICAgaWYgKHNjcm9sbFJBRikgY2FuY2VsQW5pbWF0aW9uRnJhbWUoc2Nyb2xsUkFGKTtcbiAgICAgICAgc2Nyb2xsUkFGID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICBTY3JvbGxUcmlnZ2VyLnVwZGF0ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIHNjcm9sbGVyLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbCwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgICAgY29uc29sZS5sb2coJ1tXRUJGTE9XXSBcdTI3MTMgU2Nyb2xsIGxpc3RlbmVyIGF0dGFjaGVkIHRvOicsIHNjcm9sbGVyU2VsZWN0b3IpO1xuXG4gICAgICBsZXQgbG9nb1Zpc2libGUgPSBmYWxzZTtcblxuICAgICAgLy8gQ3JlYXRlIGZpcnN0IFNjcm9sbFRyaWdnZXIgZm9yIG9uRW50ZXIgKGxvZ28gYXBwZWFyKVxuICAgICAgY29uc3Qgc3QxID0gU2Nyb2xsVHJpZ2dlci5jcmVhdGUoe1xuICAgICAgICB0cmlnZ2VyOiBkcml2ZXIsXG4gICAgICAgIHNjcm9sbGVyOiBzY3JvbGxlcixcbiAgICAgICAgc3RhcnQ6ICdib3R0b20gMjAlJyxcbiAgICAgICAgbWFya2VyczogbWFya2VycyxcbiAgICAgICAgaW52YWxpZGF0ZU9uUmVmcmVzaDogdHJ1ZSxcbiAgICAgICAgXG4gICAgICAgIG9uRW50ZXI6ICgpID0+IHtcbiAgICAgICAgICBpZiAoIWxvZ29WaXNpYmxlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1dFQkZMT1ddIFx1RDgzQ1x1REZBRiBUcmlnZ2VyaW5nIGxvZ28gYXBwZWFyIGV2ZW50OicsIGFwcGVhckV2ZW50TmFtZSk7XG4gICAgICAgICAgICAgIHdmSXguZW1pdChhcHBlYXJFdmVudE5hbWUpO1xuICAgICAgICAgICAgICBsb2dvVmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICB9IGNhdGNoKGVycikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbV0VCRkxPV10gXHUyNzRDIEVycm9yIGVtaXR0aW5nIGFwcGVhcjonLCBlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIG9uVXBkYXRlOiAoc2VsZikgPT4ge1xuICAgICAgICAgIGlmIChtYXJrZXJzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW1dFQkZMT1ddIFNjcm9sbFRyaWdnZXIgdXBkYXRlOicsIHsgcHJvZ3Jlc3M6IHNlbGYucHJvZ3Jlc3MsIGRpcmVjdGlvbjogc2VsZi5kaXJlY3Rpb24gfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gQ3JlYXRlIHNlY29uZCBTY3JvbGxUcmlnZ2VyIGZvciBvbkxlYXZlQmFjayAobG9nbyBoaWRlKVxuICAgICAgY29uc3Qgc3QyID0gU2Nyb2xsVHJpZ2dlci5jcmVhdGUoe1xuICAgICAgICB0cmlnZ2VyOiBkcml2ZXIsXG4gICAgICAgIHNjcm9sbGVyOiBzY3JvbGxlcixcbiAgICAgICAgc3RhcnQ6ICdib3R0b20gMjAlJyxcbiAgICAgICAgbWFya2VyczogbWFya2VycyxcbiAgICAgICAgaW52YWxpZGF0ZU9uUmVmcmVzaDogdHJ1ZSxcbiAgICAgICAgXG4gICAgICAgIG9uTGVhdmVCYWNrOiAoKSA9PiB7XG4gICAgICAgICAgaWYgKGxvZ29WaXNpYmxlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1dFQkZMT1ddIFx1RDgzQ1x1REZBRiBUcmlnZ2VyaW5nIGxvZ28gaGlkZSBldmVudDonLCBoaWRlRXZlbnROYW1lKTtcbiAgICAgICAgICAgICAgd2ZJeC5lbWl0KGhpZGVFdmVudE5hbWUpO1xuICAgICAgICAgICAgICBsb2dvVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgfSBjYXRjaChlcnIpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW1dFQkZMT1ddIFx1Mjc0QyBFcnJvciBlbWl0dGluZyBoaWRlOicsIGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ1tXRUJGTE9XXSBcdTI3MTMgU2Nyb2xsVHJpZ2dlcnMgY3JlYXRlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgIFxuICAgICAgLy8gTXVsdGlwbGUgcmVmcmVzaCBhdHRlbXB0cyB0byBlbnN1cmUgbGF5b3V0IGlzIHN0YWJsZVxuICAgICAgY29uc3QgcmVmcmVzaFRpbWluZ3MgPSBbMCwgMTAwLCA1MDAsIDEwMDBdO1xuICAgICAgcmVmcmVzaFRpbWluZ3MuZm9yRWFjaChkZWxheSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIFNjcm9sbFRyaWdnZXIucmVmcmVzaCgpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBbV0VCRkxPV10gXHVEODNEXHVERDA0IFNjcm9sbFRyaWdnZXIgcmVmcmVzaGVkICgke2RlbGF5fW1zIGRlbGF5KWApO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gQWRkIHJlc2l6ZSBsaXN0ZW5lciB0byByZWZyZXNoIG9uIGxheW91dCBjaGFuZ2VzXG4gICAgICBjb25zdCByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoKSA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dChyZXNpemVPYnNlcnZlci5fdGltZW91dCk7XG4gICAgICAgIHJlc2l6ZU9ic2VydmVyLl90aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgU2Nyb2xsVHJpZ2dlci5yZWZyZXNoKCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tXRUJGTE9XXSBcdUQ4M0RcdUREMDQgU2Nyb2xsVHJpZ2dlciByZWZyZXNoZWQgKHJlc2l6ZSknKTtcbiAgICAgICAgfSwgMjUwKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKHNjcm9sbGVyKTtcbiAgICAgIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUoZHJpdmVyKTtcbiAgICAgIFxuICAgICAgLy8gQ2xlYW51cCBmdW5jdGlvbiBmb3IgcG90ZW50aWFsIGZ1dHVyZSB1c2VcbiAgICAgIHdpbmRvdy5BcHAgPSB3aW5kb3cuQXBwIHx8IHt9O1xuICAgICAgd2luZG93LkFwcC53ZWJmbG93U2Nyb2xsVHJpZ2dlciA9IHtcbiAgICAgICAgcmVmcmVzaDogKCkgPT4gU2Nyb2xsVHJpZ2dlci5yZWZyZXNoKCksXG4gICAgICAgIGNsZWFudXA6ICgpID0+IHtcbiAgICAgICAgICBzY3JvbGxlci5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoYW5kbGVTY3JvbGwpO1xuICAgICAgICAgIHJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICBzdDEua2lsbCgpO1xuICAgICAgICAgIHN0Mi5raWxsKCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tXRUJGTE9XXSBTY3JvbGxUcmlnZ2VyIGNsZWFuZWQgdXAnKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgfSk7XG59XG4iLCAiLyoqXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogIE1jQ2FubiBXZWJzaXRlIFx1MjAxNCBBcHAgRW50cnlcbiAqICBQdXJwb3NlOiBXaXJlIG1vZHVsZXMgYW5kIGV4cG9zZSBtaW5pbWFsIGZhY2FkZVxuICogIERhdGU6IDIwMjUtMTEtMDZcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHsgaW5pdFByZWxvYWRlciB9IGZyb20gJy4vbW9kdWxlcy9wcmVsb2FkZXIuanMnO1xuaW1wb3J0IHsgaW5pdEFjY29yZGlvbiB9IGZyb20gJy4vbW9kdWxlcy9hY2NvcmRpb24uanMnO1xuaW1wb3J0IHsgaW5pdExpZ2h0Ym94IH0gZnJvbSAnLi9tb2R1bGVzL2xpZ2h0Ym94LmpzJztcbmltcG9ydCB7IGluaXRXZWJmbG93U2Nyb2xsVHJpZ2dlcnMgfSBmcm9tICcuL21vZHVsZXMvd2ViZmxvdy1zY3JvbGx0cmlnZ2VyLmpzJztcbmltcG9ydCB7IGluaXRTbW9vdGhTY3JvbGwgfSBmcm9tICcuL21vZHVsZXMvc21vb3RoLXNjcm9sbC5qcyc7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSEVMUEVSU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmZ1bmN0aW9uIHBhdGNoVmltZW9BbGxvd1Rva2VucygpIHtcbiAgY29uc3QgdG9rZW5zID0gWydhdXRvcGxheScsICdmdWxsc2NyZWVuJywgJ3BpY3R1cmUtaW4tcGljdHVyZScsICdlbmNyeXB0ZWQtbWVkaWEnXTtcbiAgY29uc3Qgc2VsZWN0b3IgPSBbXG4gICAgJ2lmcmFtZVtzcmMqPVwidmltZW8uY29tXCJdJyxcbiAgICAnaWZyYW1lW3NyYyo9XCJwbGF5ZXIudmltZW8uY29tXCJdJ1xuICBdLmpvaW4oJywnKTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKS5mb3JFYWNoKGlmciA9PiB7XG4gICAgY29uc3QgY3VycmVudCA9IChpZnIuZ2V0QXR0cmlidXRlKCdhbGxvdycpIHx8ICcnKVxuICAgICAgLnNwbGl0KCc7JylcbiAgICAgIC5tYXAodG9rZW4gPT4gdG9rZW4udHJpbSgpKVxuICAgICAgLmZpbHRlcihCb29sZWFuKTtcbiAgICBjb25zdCB1cGRhdGVkID0gQXJyYXkuZnJvbShuZXcgU2V0KFsuLi5jdXJyZW50LCAuLi50b2tlbnNdKSkuam9pbignOyAnKTtcbiAgICBpZnIuc2V0QXR0cmlidXRlKCdhbGxvdycsIHVwZGF0ZWQpO1xuICB9KTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBJTklUSUFMSVpBVElPTlxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmZ1bmN0aW9uIGluaXQob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBsaWdodGJveFJvb3QgPSAnI2xpZ2h0Ym94JyxcbiAgICBsZXJwID0gMC4xLFxuICAgIHNuYXBMZXJwID0gMC4xNSxcbiAgICBzbW9vdGhTY3JvbGwgPSB7fSxcbiAgICBwcmVsb2FkZXIgPSB7fVxuICB9ID0gb3B0aW9ucztcblxuICBjb25zdCBwcmVsb2FkZXJDb25maWcgPSB7XG4gICAgc2VsZWN0b3I6ICcjcHJlbG9hZGVyJyxcbiAgICB2aWRlb1NlbGVjdG9yOiAndmlkZW9bZGF0YS13Zi1pZ25vcmVdLCB2aWRlb1thdXRvcGxheV0sIHZpZGVvW2RhdGEtYXV0b3BsYXldJyxcbiAgICB2aW1lb1ByZWxvYWQ6ICdwcmVmZXRjaCcsXG4gICAgdmltZW9CdWZmZXJMaW1pdDogNSxcbiAgICBtaW5Mb2FkVGltZTogMTAwMCxcbiAgICBwdWxzZUR1cmF0aW9uOiAzMDAwLFxuICAgIHB1bHNlT3BhY2l0eTogMC4yLFxuICAgIC4uLnByZWxvYWRlclxuICB9O1xuICBcbiAgaW5pdFByZWxvYWRlcihwcmVsb2FkZXJDb25maWcpO1xuXG4gIGluaXRTbW9vdGhTY3JvbGwoe1xuICAgIGxlcnAsXG4gICAgc25hcExlcnAsXG4gICAgLi4uc21vb3RoU2Nyb2xsXG4gIH0pO1xuXG4gIGluaXRBY2NvcmRpb24oeyBzZWxlY3RvcjogJy5hY2NvcmRlb24nIH0pO1xuICBcbiAgaW5pdExpZ2h0Ym94KHsgXG4gICAgcm9vdDogbGlnaHRib3hSb290LCBcbiAgICBvcGVuRHVyYXRpb246IDEwMDAsXG4gICAgY2xvc2VEdXJhdGlvbjogMTAwMFxuICB9KTtcblxuICAvLyBJbml0aWFsaXplIGxvZ28gYW5pbWF0aW9uIHZpYSBHU0FQIFNjcm9sbFRyaWdnZXJcbiAgdHJ5IHtcbiAgICBpbml0V2ViZmxvd1Njcm9sbFRyaWdnZXJzKHtcbiAgICAgIHNjcm9sbGVyU2VsZWN0b3I6ICcucGVyc3BlY3RpdmUtd3JhcHBlcicsXG4gICAgICBoaWRlRXZlbnROYW1lOiAnbG9nby1oaWRlJyxcbiAgICAgIGFwcGVhckV2ZW50TmFtZTogJ2xvZ28tYXBwZWFyJ1xuICAgIH0pO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBTaWxlbnQgZmFpbCAtIG5vIGxvZ28gYW5pbWF0aW9uIGlmIFNjcm9sbFRyaWdnZXIgdW5hdmFpbGFibGVcbiAgfVxufVxuXG53aW5kb3cuQXBwID0gd2luZG93LkFwcCB8fCB7fTtcbndpbmRvdy5BcHAuaW5pdCA9IGluaXQ7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQVVUTy1JTklUXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcbiAgY29uc29sZS5sb2coJ1xcblx1MjU1NFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1NycpO1xuICBjb25zb2xlLmxvZygnXHUyNTUxICAgICBNY0Nhbm4gV2Vic2l0ZSAtIEluaXRpYWxpemF0aW9uIFN0YXJ0aW5nICAgICAgICBcdTI1NTEnKTtcbiAgY29uc29sZS5sb2coJ1x1MjU1QVx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1RFxcbicpO1xuICBcbiAgdHJ5IHtcbiAgICBwYXRjaFZpbWVvQWxsb3dUb2tlbnMoKTtcbiAgICBpbml0KCk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1xcblx1MjU1NFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1NycpO1xuICAgIGNvbnNvbGUubG9nKCdcdTI1NTEgICAgIFx1MjcwNSBBbGwgU3lzdGVtcyBJbml0aWFsaXplZCBTdWNjZXNzZnVsbHkgICAgICAgICBcdTI1NTEnKTtcbiAgICBjb25zb2xlLmxvZygnXHUyNTVBXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTVEXFxuJyk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1tBUFBdIFx1Mjc0QyBJbml0aWFsaXphdGlvbiBlcnJvcjonLCBlcnIpO1xuICB9XG59KTtcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7OztBQUFBO0FBQUEsSUFDRSxxQkFBcUI7QUFBQSxNQUNuQixRQUFVO0FBQUEsTUFDVixPQUFTO0FBQUEsTUFDVCxPQUFTO0FBQUEsTUFDVCxlQUFpQjtBQUFBLE1BQ2pCLGFBQWU7QUFBQSxNQUNmLFFBQVU7QUFBQSxNQUNWLFNBQVc7QUFBQSxNQUNYLGdCQUFrQjtBQUFBLE1BQ2xCLFFBQVU7QUFBQSxRQUNSO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxNQUNGO0FBQUEsSUFDRjtB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SUFDTCxDQUFDO0FBRUQsa0JBQWMsRUFBRSxVQUFVLGFBQWEsQ0FBQztBQUV4QyxpQkFBYTtBQUFBLE1BQ1gsTUFBTTtBQUFBLE1BQ04sY0FBYztBQUFBLE1BQ2QsZUFBZTtBQUFBLElBQ2pCLENBQUM7QUFHRCxRQUFJO0FBQ0YsZ0NBQTBCO0FBQUEsUUFDeEIsa0JBQWtCO0FBQUEsUUFDbEIsZUFBZTtBQUFBLFFBQ2YsaUJBQWlCO0FBQUEsTUFDbkIsQ0FBQztBQUFBLElBQ0gsU0FBUyxLQUFLO0FBQUEsSUFFZDtBQUFBLEVBQ0Y7QUFFQSxTQUFPLE1BQU0sT0FBTyxPQUFPLENBQUM7QUFDNUIsU0FBTyxJQUFJLE9BQU87QUFNbEIsV0FBUyxpQkFBaUIsb0JBQW9CLE1BQU07QUFDbEQsWUFBUSxJQUFJLG9WQUE0RDtBQUN4RSxZQUFRLElBQUksbUVBQXlEO0FBQ3JFLFlBQVEsSUFBSSxvVkFBNEQ7QUFFeEUsUUFBSTtBQUNGLDRCQUFzQjtBQUN0QixXQUFLO0FBRUwsY0FBUSxJQUFJLG9WQUE0RDtBQUN4RSxjQUFRLElBQUksdUVBQXdEO0FBQ3BFLGNBQVEsSUFBSSxvVkFBNEQ7QUFBQSxJQUMxRSxTQUFTLEtBQUs7QUFDWixjQUFRLE1BQU0sc0NBQWlDLEdBQUc7QUFBQSxJQUNwRDtBQUFBLEVBQ0YsQ0FBQzsiLAogICJuYW1lcyI6IFsicHJvamVjdERhdGEiLCAid2ZJeCIsICJsZXJwIiwgIndyYXBwZXIiLCAiX2EiLCAid2ZJeCIsICJ2ZXJzaW9uIiwgInByb2plY3RJZCIsICJ3Zkl4IiwgIlNjcm9sbFRyaWdnZXIiLCAibGVycCJdCn0K
